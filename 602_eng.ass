[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:19.52,0:00:23.78,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:00:24.28,0:00:25.33,Default,,0,0,0,,Welcome to our session
Dialogue: 0,0:00:25.33,0:00:26.72,Default,,0,0,0,,introducing ARKit.
Dialogue: 0,0:00:27.10,0:00:27.81,Default,,0,0,0,,My name is Mike.
Dialogue: 0,0:00:27.92,0:00:29.53,Default,,0,0,0,,I'm an engineer from ARKit team.
Dialogue: 0,0:00:29.68,0:00:31.06,Default,,0,0,0,,And today I'm thrilled to talk
Dialogue: 0,0:00:31.06,0:00:32.36,Default,,0,0,0,,to you about the concepts as
Dialogue: 0,0:00:32.65,0:00:34.30,Default,,0,0,0,,well as the code that go into
Dialogue: 0,0:00:34.30,0:00:35.74,Default,,0,0,0,,creating your very own augmented
Dialogue: 0,0:00:35.74,0:00:37.64,Default,,0,0,0,,reality experience on iOS.
Dialogue: 0,0:00:38.34,0:00:40.34,Default,,0,0,0,,[ Cheering and Applause ]
Dialogue: 0,0:00:40.67,0:00:41.02,Default,,0,0,0,,Thank you.
Dialogue: 0,0:00:41.34,0:00:42.88,Default,,0,0,0,,I know many of you are eager to
Dialogue: 0,0:00:42.88,0:00:43.95,Default,,0,0,0,,get started with augmented
Dialogue: 0,0:00:43.95,0:00:44.34,Default,,0,0,0,,reality.
Dialogue: 0,0:00:44.34,0:00:46.17,Default,,0,0,0,,Let's show you just how easy it
Dialogue: 0,0:00:46.17,0:00:47.16,Default,,0,0,0,,is using ARKit.
Dialogue: 0,0:00:48.21,0:00:50.76,Default,,0,0,0,,But first, what is augmented
Dialogue: 0,0:00:50.76,0:00:51.24,Default,,0,0,0,,reality?
Dialogue: 0,0:00:52.06,0:00:53.62,Default,,0,0,0,,Augmented reality is creating
Dialogue: 0,0:00:53.62,0:00:54.82,Default,,0,0,0,,the illusion that virtual
Dialogue: 0,0:00:54.82,0:00:56.35,Default,,0,0,0,,objects are placed in a physical
Dialogue: 0,0:00:56.35,0:00:56.69,Default,,0,0,0,,world.
Dialogue: 0,0:00:57.10,0:00:58.71,Default,,0,0,0,,It's using your iPhone or your
Dialogue: 0,0:00:58.71,0:01:00.72,Default,,0,0,0,,iPad as a lens into a virtual
Dialogue: 0,0:01:00.72,0:01:02.12,Default,,0,0,0,,world based on what your camera
Dialogue: 0,0:01:02.12,0:01:02.42,Default,,0,0,0,,sees.
Dialogue: 0,0:01:03.38,0:01:04.45,Default,,0,0,0,,Let's take a look at some
Dialogue: 0,0:01:04.45,0:01:04.86,Default,,0,0,0,,examples.
Dialogue: 0,0:01:05.83,0:01:07.44,Default,,0,0,0,,We gave a group of developers
Dialogue: 0,0:01:07.50,0:01:08.86,Default,,0,0,0,,early access to ARKit.
Dialogue: 0,0:01:09.28,0:01:10.19,Default,,0,0,0,,And here's what they made.
Dialogue: 0,0:01:10.44,0:01:12.12,Default,,0,0,0,,This is a sneak peek at some
Dialogue: 0,0:01:12.12,0:01:13.27,Default,,0,0,0,,things you might see in the near
Dialogue: 0,0:01:13.27,0:01:14.00,Default,,0,0,0,,future.
Dialogue: 0,0:01:17.54,0:01:19.51,Default,,0,0,0,,Within, a company focused on
Dialogue: 0,0:01:19.51,0:01:20.68,Default,,0,0,0,,immersive storytelling,
Dialogue: 0,0:01:21.05,0:01:22.28,Default,,0,0,0,,tells the story of Goldilocks
Dialogue: 0,0:01:22.85,0:01:23.66,Default,,0,0,0,,using AR.
Dialogue: 0,0:01:26.19,0:01:27.65,Default,,0,0,0,,Transforming a bedroom into a
Dialogue: 0,0:01:27.75,0:01:29.43,Default,,0,0,0,,virtual storybook, they allow
Dialogue: 0,0:01:29.43,0:01:30.90,Default,,0,0,0,,you to progress a story by
Dialogue: 0,0:01:30.90,0:01:32.90,Default,,0,0,0,,reciting the text, but even more
Dialogue: 0,0:01:32.90,0:01:34.25,Default,,0,0,0,,importantly, they allow you to
Dialogue: 0,0:01:34.37,0:01:35.60,Default,,0,0,0,,explore the scene from any
Dialogue: 0,0:01:35.60,0:01:36.00,Default,,0,0,0,,angle.
Dialogue: 0,0:01:39.05,0:01:40.88,Default,,0,0,0,,This level of interactivity
Dialogue: 0,0:01:40.88,0:01:42.60,Default,,0,0,0,,really helps bring your virtual
Dialogue: 0,0:01:42.60,0:01:43.50,Default,,0,0,0,,scene alive.
Dialogue: 0,0:01:48.20,0:01:51.14,Default,,0,0,0,,Next, Ikea used ARKit in order
Dialogue: 0,0:01:51.14,0:01:52.32,Default,,0,0,0,,to redesign your living room.
Dialogue: 0,0:01:54.52,0:01:58.05,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:01:58.55,0:02:00.07,Default,,0,0,0,,By being able to place virtual
Dialogue: 0,0:02:00.07,0:02:01.40,Default,,0,0,0,,content next to physical
Dialogue: 0,0:02:01.40,0:02:03.20,Default,,0,0,0,,objects, you open up a world of
Dialogue: 0,0:02:03.20,0:02:05.37,Default,,0,0,0,,possibilities to your users.
Dialogue: 0,0:02:07.81,0:02:09.78,Default,,0,0,0,,And last, games.
Dialogue: 0,0:02:10.28,0:02:12.46,Default,,0,0,0,,Pokemon Go, an app that you've
Dialogue: 0,0:02:12.46,0:02:14.81,Default,,0,0,0,,probably already heard of, used
Dialogue: 0,0:02:14.81,0:02:16.29,Default,,0,0,0,,ARKit to take catching Pokemon
Dialogue: 0,0:02:16.52,0:02:17.54,Default,,0,0,0,,to the next level.
Dialogue: 0,0:02:18.91,0:02:20.49,Default,,0,0,0,,By being able to anchor your
Dialogue: 0,0:02:20.49,0:02:22.12,Default,,0,0,0,,virtual content in the real
Dialogue: 0,0:02:22.12,0:02:23.52,Default,,0,0,0,,world, you really allow for a
Dialogue: 0,0:02:23.52,0:02:25.38,Default,,0,0,0,,more immersive experience than
Dialogue: 0,0:02:25.38,0:02:26.28,Default,,0,0,0,,previously possible.
Dialogue: 0,0:02:26.81,0:02:28.63,Default,,0,0,0,,But it doesn't stop there.
Dialogue: 0,0:02:28.63,0:02:30.05,Default,,0,0,0,,There are a multitude of ways
Dialogue: 0,0:02:30.05,0:02:31.21,Default,,0,0,0,,that you can use augmented
Dialogue: 0,0:02:31.21,0:02:32.90,Default,,0,0,0,,reality to enhance your user
Dialogue: 0,0:02:32.90,0:02:33.52,Default,,0,0,0,,experience.
Dialogue: 0,0:02:34.24,0:02:35.11,Default,,0,0,0,,So let's see what goes into
Dialogue: 0,0:02:35.11,0:02:35.93,Default,,0,0,0,,that.
Dialogue: 0,0:02:38.76,0:02:40.45,Default,,0,0,0,,There's a large amount of domain
Dialogue: 0,0:02:40.45,0:02:41.56,Default,,0,0,0,,knowledge that goes into
Dialogue: 0,0:02:41.56,0:02:42.98,Default,,0,0,0,,creating augmented reality.
Dialogue: 0,0:02:43.46,0:02:44.90,Default,,0,0,0,,Everything from computer vision,
Dialogue: 0,0:02:45.15,0:02:46.94,Default,,0,0,0,,to sensor fusion, to talking to
Dialogue: 0,0:02:46.94,0:02:48.22,Default,,0,0,0,,hardware in order to get camera
Dialogue: 0,0:02:48.22,0:02:49.24,Default,,0,0,0,,calibrations and camera
Dialogue: 0,0:02:49.24,0:02:49.77,Default,,0,0,0,,intrinsics.
Dialogue: 0,0:02:50.44,0:02:51.52,Default,,0,0,0,,We wanted to make this all
Dialogue: 0,0:02:51.52,0:02:52.16,Default,,0,0,0,,easier for you.
Dialogue: 0,0:02:52.65,0:02:54.74,Default,,0,0,0,,So today we're introducing
Dialogue: 0,0:02:54.88,0:02:55.51,Default,,0,0,0,,ARKit.
Dialogue: 0,0:02:57.52,0:03:02.23,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:03:02.73,0:03:04.69,Default,,0,0,0,,ARKit is a mobile AR platform
Dialogue: 0,0:03:04.69,0:03:06.14,Default,,0,0,0,,for developing augmented reality
Dialogue: 0,0:03:06.14,0:03:07.58,Default,,0,0,0,,apps on iOS.
Dialogue: 0,0:03:07.90,0:03:09.70,Default,,0,0,0,,It is a high level API providing
Dialogue: 0,0:03:09.70,0:03:11.70,Default,,0,0,0,,a simple interface to a powerful
Dialogue: 0,0:03:11.70,0:03:12.33,Default,,0,0,0,,set of features.
Dialogue: 0,0:03:12.89,0:03:14.26,Default,,0,0,0,,But more importantly, it's
Dialogue: 0,0:03:14.26,0:03:15.63,Default,,0,0,0,,rolling out supporting hundreds
Dialogue: 0,0:03:15.63,0:03:17.33,Default,,0,0,0,,of millions of existing iOS
Dialogue: 0,0:03:17.33,0:03:17.79,Default,,0,0,0,,devices.
Dialogue: 0,0:03:18.49,0:03:19.60,Default,,0,0,0,,In order to get the full set of
Dialogue: 0,0:03:19.68,0:03:21.24,Default,,0,0,0,,features for ARKit, you're going
Dialogue: 0,0:03:21.38,0:03:22.80,Default,,0,0,0,,to want an A9 and up.
Dialogue: 0,0:03:22.97,0:03:24.80,Default,,0,0,0,,This is most iOS 11 devices,
Dialogue: 0,0:03:24.80,0:03:26.49,Default,,0,0,0,,including the iPhone 6S.
Dialogue: 0,0:03:28.15,0:03:28.74,Default,,0,0,0,,Now let's talk about the
Dialogue: 0,0:03:28.74,0:03:29.31,Default,,0,0,0,,features.
Dialogue: 0,0:03:29.90,0:03:31.34,Default,,0,0,0,,So what does ARKit provide?
Dialogue: 0,0:03:32.15,0:03:33.54,Default,,0,0,0,,ARKit can be broken up into
Dialogue: 0,0:03:33.68,0:03:35.52,Default,,0,0,0,,three distinct layers, the first
Dialogue: 0,0:03:35.52,0:03:37.01,Default,,0,0,0,,of which is tracking.
Dialogue: 0,0:03:38.48,0:03:39.68,Default,,0,0,0,,Tracking is the core
Dialogue: 0,0:03:39.68,0:03:40.95,Default,,0,0,0,,functionality of ARKit.
Dialogue: 0,0:03:40.95,0:03:42.85,Default,,0,0,0,,It is the ability to track your
Dialogue: 0,0:03:42.85,0:03:44.32,Default,,0,0,0,,device in real time.
Dialogue: 0,0:03:44.81,0:03:46.44,Default,,0,0,0,,With world tracking we provide
Dialogue: 0,0:03:46.44,0:03:47.64,Default,,0,0,0,,you the ability to get your
Dialogue: 0,0:03:47.64,0:03:49.49,Default,,0,0,0,,device's relative position in
Dialogue: 0,0:03:49.49,0:03:50.50,Default,,0,0,0,,the physical environment.
Dialogue: 0,0:03:51.14,0:03:53.24,Default,,0,0,0,,We use visual inertial odometry,
Dialogue: 0,0:03:53.60,0:03:55.22,Default,,0,0,0,,which is using camera images, as
Dialogue: 0,0:03:55.22,0:03:56.40,Default,,0,0,0,,well as motion data from your
Dialogue: 0,0:03:56.40,0:03:58.23,Default,,0,0,0,,device in order to get a precise
Dialogue: 0,0:03:58.23,0:03:59.90,Default,,0,0,0,,view of where your device is
Dialogue: 0,0:03:59.90,0:04:01.33,Default,,0,0,0,,located as well as how it is
Dialogue: 0,0:04:01.33,0:04:01.87,Default,,0,0,0,,oriented.
Dialogue: 0,0:04:02.91,0:04:03.77,Default,,0,0,0,,But also, more importantly,
Dialogue: 0,0:04:04.13,0:04:05.32,Default,,0,0,0,,there's no external setup
Dialogue: 0,0:04:05.32,0:04:07.07,Default,,0,0,0,,required, no pre-existing
Dialogue: 0,0:04:07.07,0:04:07.76,Default,,0,0,0,,knowledge about your
Dialogue: 0,0:04:07.76,0:04:09.12,Default,,0,0,0,,environment, as well as no
Dialogue: 0,0:04:09.12,0:04:10.20,Default,,0,0,0,,additional sensors that you
Dialogue: 0,0:04:10.20,0:04:11.53,Default,,0,0,0,,don't already have on your
Dialogue: 0,0:04:11.53,0:04:11.99,Default,,0,0,0,,device.
Dialogue: 0,0:04:13.37,0:04:15.39,Default,,0,0,0,,Next, building upon tracking we
Dialogue: 0,0:04:15.39,0:04:16.65,Default,,0,0,0,,provide scene understanding.
Dialogue: 0,0:04:19.39,0:04:20.61,Default,,0,0,0,,Scene understanding is the
Dialogue: 0,0:04:20.61,0:04:23.28,Default,,0,0,0,,ability to determine attributes
Dialogue: 0,0:04:23.28,0:04:24.32,Default,,0,0,0,,or properties about the
Dialogue: 0,0:04:24.32,0:04:25.66,Default,,0,0,0,,environment around your device.
Dialogue: 0,0:04:26.14,0:04:27.42,Default,,0,0,0,,It's providing things like plane
Dialogue: 0,0:04:27.42,0:04:27.85,Default,,0,0,0,,detection.
Dialogue: 0,0:04:28.48,0:04:29.59,Default,,0,0,0,,Plane detection is the ability
Dialogue: 0,0:04:29.59,0:04:31.56,Default,,0,0,0,,to determine surfaces or planes
Dialogue: 0,0:04:31.56,0:04:32.68,Default,,0,0,0,,in the physical environment.
Dialogue: 0,0:04:33.21,0:04:34.37,Default,,0,0,0,,This is things like the ground
Dialogue: 0,0:04:34.37,0:04:35.71,Default,,0,0,0,,floor or maybe a table.
Dialogue: 0,0:04:37.04,0:04:38.21,Default,,0,0,0,,In order to place your virtual
Dialogue: 0,0:04:38.21,0:04:39.58,Default,,0,0,0,,objects, we provide hit testing
Dialogue: 0,0:04:39.58,0:04:40.13,Default,,0,0,0,,functionality.
Dialogue: 0,0:04:40.73,0:04:41.65,Default,,0,0,0,,So this is getting an
Dialogue: 0,0:04:41.65,0:04:43.23,Default,,0,0,0,,intersection with the real world
Dialogue: 0,0:04:43.23,0:04:44.74,Default,,0,0,0,,topology so that you can place
Dialogue: 0,0:04:44.74,0:04:46.07,Default,,0,0,0,,your virtual object in the
Dialogue: 0,0:04:46.07,0:04:46.89,Default,,0,0,0,,physical world.
Dialogue: 0,0:04:47.62,0:04:49.66,Default,,0,0,0,,And last, scene understanding
Dialogue: 0,0:04:49.66,0:04:51.03,Default,,0,0,0,,provides light estimation.
Dialogue: 0,0:04:51.64,0:04:54.15,Default,,0,0,0,,So light estimation is used to
Dialogue: 0,0:04:54.15,0:04:56.18,Default,,0,0,0,,render or correctly light your
Dialogue: 0,0:04:56.18,0:04:58.01,Default,,0,0,0,,virtual geometry to match that
Dialogue: 0,0:04:58.01,0:04:59.02,Default,,0,0,0,,of the physical world.
Dialogue: 0,0:04:59.92,0:05:01.12,Default,,0,0,0,,Using all of these together we
Dialogue: 0,0:05:01.12,0:05:03.39,Default,,0,0,0,,can seamlessly integrate virtual
Dialogue: 0,0:05:03.39,0:05:05.05,Default,,0,0,0,,content into your physical
Dialogue: 0,0:05:05.21,0:05:05.79,Default,,0,0,0,,environment.
Dialogue: 0,0:05:06.59,0:05:08.33,Default,,0,0,0,,And so the last layer of ARKit
Dialogue: 0,0:05:08.59,0:05:09.18,Default,,0,0,0,,is rendering.
Dialogue: 0,0:05:11.26,0:05:13.02,Default,,0,0,0,,For rendering we provide easy
Dialogue: 0,0:05:13.02,0:05:14.43,Default,,0,0,0,,integration into any renderer.
Dialogue: 0,0:05:14.64,0:05:15.93,Default,,0,0,0,,We provide a constant stream of
Dialogue: 0,0:05:15.93,0:05:17.48,Default,,0,0,0,,camera images, tracking
Dialogue: 0,0:05:17.48,0:05:18.91,Default,,0,0,0,,information as well as scene
Dialogue: 0,0:05:18.91,0:05:20.35,Default,,0,0,0,,understanding that can be
Dialogue: 0,0:05:20.35,0:05:21.54,Default,,0,0,0,,inputted into any renderer.
Dialogue: 0,0:05:23.21,0:05:24.81,Default,,0,0,0,,For those of you using SceneKit
Dialogue: 0,0:05:24.81,0:05:26.72,Default,,0,0,0,,or SpriteKit, we provide custom
Dialogue: 0,0:05:26.72,0:05:28.42,Default,,0,0,0,,AR views, which implement most
Dialogue: 0,0:05:28.42,0:05:29.45,Default,,0,0,0,,of the rendering for you.
Dialogue: 0,0:05:29.74,0:05:30.83,Default,,0,0,0,,So it's really easy to get
Dialogue: 0,0:05:30.83,0:05:31.19,Default,,0,0,0,,started.
Dialogue: 0,0:05:32.25,0:05:33.25,Default,,0,0,0,,And for those of you doing
Dialogue: 0,0:05:33.25,0:05:34.44,Default,,0,0,0,,custom rendering, we provide a
Dialogue: 0,0:05:34.44,0:05:35.97,Default,,0,0,0,,metal template through Xcode,
Dialogue: 0,0:05:36.64,0:05:37.45,Default,,0,0,0,,which gets you started
Dialogue: 0,0:05:37.45,0:05:39.17,Default,,0,0,0,,integrating ARKit into your
Dialogue: 0,0:05:39.17,0:05:39.95,Default,,0,0,0,,custom renderer.
Dialogue: 0,0:05:39.95,0:05:43.99,Default,,0,0,0,,And one more thing, Unity and
Dialogue: 0,0:05:43.99,0:05:45.36,Default,,0,0,0,,UnReal will be supporting the
Dialogue: 0,0:05:45.36,0:05:47.13,Default,,0,0,0,,full set of features from ARKit.
Dialogue: 0,0:05:48.52,0:05:53.63,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:05:54.13,0:05:56.11,Default,,0,0,0,,So, are you guys ready?
Dialogue: 0,0:05:56.11,0:05:56.74,Default,,0,0,0,,Let's get started.
Dialogue: 0,0:05:57.43,0:05:59.37,Default,,0,0,0,,How do I use ARKit in my
Dialogue: 0,0:05:59.37,0:05:59.99,Default,,0,0,0,,application?
Dialogue: 0,0:06:01.22,0:06:02.35,Default,,0,0,0,,ARKit is a framework that
Dialogue: 0,0:06:02.35,0:06:03.78,Default,,0,0,0,,handles all of the processing
Dialogue: 0,0:06:04.00,0:06:05.27,Default,,0,0,0,,that goes into creating an
Dialogue: 0,0:06:05.27,0:06:06.78,Default,,0,0,0,,augmented reality experience.
Dialogue: 0,0:06:07.64,0:06:08.75,Default,,0,0,0,,With the renderer of my choice,
Dialogue: 0,0:06:09.12,0:06:11.63,Default,,0,0,0,,I can simply use ARKit to do the
Dialogue: 0,0:06:11.63,0:06:12.24,Default,,0,0,0,,processing.
Dialogue: 0,0:06:12.37,0:06:13.61,Default,,0,0,0,,And it will provide everything
Dialogue: 0,0:06:13.61,0:06:14.63,Default,,0,0,0,,that I need to render my
Dialogue: 0,0:06:14.63,0:06:15.84,Default,,0,0,0,,augmented reality scene.
Dialogue: 0,0:06:16.72,0:06:19.01,Default,,0,0,0,,In addition to processing, ARKit
Dialogue: 0,0:06:19.01,0:06:20.75,Default,,0,0,0,,also handles the capturing that
Dialogue: 0,0:06:20.75,0:06:22.78,Default,,0,0,0,,is done in order to do augmented
Dialogue: 0,0:06:22.78,0:06:23.12,Default,,0,0,0,,reality.
Dialogue: 0,0:06:23.22,0:06:25.25,Default,,0,0,0,,So using AVFoundation and Core
Dialogue: 0,0:06:25.25,0:06:27.16,Default,,0,0,0,,Motion under the hood, we
Dialogue: 0,0:06:27.43,0:06:29.31,Default,,0,0,0,,capture images as well as get
Dialogue: 0,0:06:29.75,0:06:31.11,Default,,0,0,0,,motion data from your device in
Dialogue: 0,0:06:31.11,0:06:32.66,Default,,0,0,0,,order to do tracking and provide
Dialogue: 0,0:06:32.66,0:06:33.73,Default,,0,0,0,,those camera images to your
Dialogue: 0,0:06:33.73,0:06:34.02,Default,,0,0,0,,renderer.
Dialogue: 0,0:06:34.57,0:06:36.79,Default,,0,0,0,,So now how do I use ARKit?
Dialogue: 0,0:06:37.58,0:06:39.40,Default,,0,0,0,,ARKit is a session-based API.
Dialogue: 0,0:06:39.90,0:06:40.81,Default,,0,0,0,,The first thing you need to do
Dialogue: 0,0:06:40.81,0:06:42.50,Default,,0,0,0,,to get started is simply create
Dialogue: 0,0:06:42.50,0:06:43.16,Default,,0,0,0,,an ARSession.
Dialogue: 0,0:06:44.12,0:06:45.41,Default,,0,0,0,,ARSession is the object that
Dialogue: 0,0:06:45.41,0:06:46.82,Default,,0,0,0,,controls all of the processing
Dialogue: 0,0:06:46.82,0:06:48.76,Default,,0,0,0,,that goes into creating your
Dialogue: 0,0:06:48.76,0:06:50.39,Default,,0,0,0,,augmented reality app.
Dialogue: 0,0:06:50.68,0:06:51.83,Default,,0,0,0,,But first I need to determine
Dialogue: 0,0:06:51.83,0:06:53.43,Default,,0,0,0,,what kind of tracking I want to
Dialogue: 0,0:06:53.52,0:06:55.63,Default,,0,0,0,,do for my augmented reality app.
Dialogue: 0,0:06:55.63,0:06:56.93,Default,,0,0,0,,So, to determine this we're
Dialogue: 0,0:06:56.93,0:06:58.47,Default,,0,0,0,,going to create an AR session
Dialogue: 0,0:06:58.47,0:06:59.14,Default,,0,0,0,,configuration.
Dialogue: 0,0:06:59.72,0:07:02.59,Default,,0,0,0,,AR session configuration, and
Dialogue: 0,0:07:02.59,0:07:04.01,Default,,0,0,0,,its subclasses determine what
Dialogue: 0,0:07:04.01,0:07:05.52,Default,,0,0,0,,tracking you want to run on your
Dialogue: 0,0:07:05.52,0:07:05.90,Default,,0,0,0,,session.
Dialogue: 0,0:07:06.86,0:07:07.96,Default,,0,0,0,,By enabling and disabling
Dialogue: 0,0:07:07.96,0:07:09.28,Default,,0,0,0,,properties, you can get
Dialogue: 0,0:07:09.28,0:07:10.09,Default,,0,0,0,,different kinds of scene
Dialogue: 0,0:07:10.09,0:07:11.37,Default,,0,0,0,,understanding and have your
Dialogue: 0,0:07:11.37,0:07:12.26,Default,,0,0,0,,ARSession do different
Dialogue: 0,0:07:12.26,0:07:12.76,Default,,0,0,0,,processing.
Dialogue: 0,0:07:13.83,0:07:15.79,Default,,0,0,0,,In order to run my session, I
Dialogue: 0,0:07:15.79,0:07:17.78,Default,,0,0,0,,simply call the Run method on
Dialogue: 0,0:07:17.87,0:07:18.95,Default,,0,0,0,,ARSession providing the
Dialogue: 0,0:07:18.95,0:07:20.27,Default,,0,0,0,,configuration I want to run.
Dialogue: 0,0:07:20.27,0:07:23.89,Default,,0,0,0,,And with that, processing
Dialogue: 0,0:07:23.89,0:07:24.81,Default,,0,0,0,,immediately starts.
Dialogue: 0,0:07:24.81,0:07:26.71,Default,,0,0,0,,And we also set up the capturing
Dialogue: 0,0:07:26.71,0:07:27.15,Default,,0,0,0,,underneath.
Dialogue: 0,0:07:27.29,0:07:28.52,Default,,0,0,0,,So under the hood you'll see
Dialogue: 0,0:07:28.52,0:07:30.16,Default,,0,0,0,,there's an AV capture session
Dialogue: 0,0:07:30.16,0:07:32.12,Default,,0,0,0,,and a CM motion manager that get
Dialogue: 0,0:07:32.12,0:07:32.89,Default,,0,0,0,,created for you.
Dialogue: 0,0:07:32.89,0:07:35.45,Default,,0,0,0,,We use these to get image data
Dialogue: 0,0:07:35.54,0:07:36.62,Default,,0,0,0,,as well as the motion data
Dialogue: 0,0:07:36.62,0:07:37.48,Default,,0,0,0,,that's going to be used for
Dialogue: 0,0:07:37.61,0:07:38.18,Default,,0,0,0,,tracking.
Dialogue: 0,0:07:38.23,0:07:39.39,Default,,0,0,0,,Once processing is done,
Dialogue: 0,0:07:39.72,0:07:41.79,Default,,0,0,0,,ARSession will output ARFrames.
Dialogue: 0,0:07:42.49,0:07:44.36,Default,,0,0,0,,So an ARFrame is a snapshot in
Dialogue: 0,0:07:44.36,0:07:46.15,Default,,0,0,0,,time, including all of the state
Dialogue: 0,0:07:46.15,0:07:47.37,Default,,0,0,0,,of your session, everything
Dialogue: 0,0:07:47.37,0:07:49.26,Default,,0,0,0,,needed to render your augmented
Dialogue: 0,0:07:49.26,0:07:49.82,Default,,0,0,0,,reality scene.
Dialogue: 0,0:07:51.02,0:07:52.95,Default,,0,0,0,,In order to access ARFrame, you
Dialogue: 0,0:07:52.95,0:07:54.89,Default,,0,0,0,,can simply call or pull the
Dialogue: 0,0:07:54.89,0:07:56.29,Default,,0,0,0,,current frame property from you
Dialogue: 0,0:07:56.29,0:07:56.82,Default,,0,0,0,,ARSession.
Dialogue: 0,0:07:57.52,0:07:58.59,Default,,0,0,0,,Or, you can set yourself as the
Dialogue: 0,0:07:58.59,0:08:00.26,Default,,0,0,0,,delegate to receive updates when
Dialogue: 0,0:08:00.26,0:08:01.73,Default,,0,0,0,,new ARFrames are available.
Dialogue: 0,0:08:01.73,0:08:04.95,Default,,0,0,0,,So let's take a closer look at
Dialogue: 0,0:08:04.95,0:08:05.94,Default,,0,0,0,,ARSessionConfiguration.
Dialogue: 0,0:08:09.52,0:08:10.84,Default,,0,0,0,,ARSession configuration
Dialogue: 0,0:08:10.84,0:08:12.13,Default,,0,0,0,,determines what kind of tracking
Dialogue: 0,0:08:12.29,0:08:13.26,Default,,0,0,0,,you want to run on your session.
Dialogue: 0,0:08:13.97,0:08:15.32,Default,,0,0,0,,So it provides different
Dialogue: 0,0:08:15.32,0:08:16.67,Default,,0,0,0,,configuration classes.
Dialogue: 0,0:08:17.61,0:08:18.41,Default,,0,0,0,,The base class,
Dialogue: 0,0:08:18.41,0:08:20.32,Default,,0,0,0,,ARSessionConfiguration, provides
Dialogue: 0,0:08:20.45,0:08:21.45,Default,,0,0,0,,three degrees of freedom
Dialogue: 0,0:08:21.45,0:08:22.83,Default,,0,0,0,,tracking, which is just the
Dialogue: 0,0:08:22.83,0:08:24.25,Default,,0,0,0,,orientation of your device.
Dialogue: 0,0:08:25.30,0:08:27.51,Default,,0,0,0,,Its subclass, ARWorldTracking
Dialogue: 0,0:08:27.51,0:08:28.90,Default,,0,0,0,,Session Configuration provides
Dialogue: 0,0:08:29.04,0:08:30.57,Default,,0,0,0,,six degrees of freedom tracking.
Dialogue: 0,0:08:30.82,0:08:32.28,Default,,0,0,0,,So this is using our core
Dialogue: 0,0:08:32.28,0:08:33.57,Default,,0,0,0,,functionality world tracking in
Dialogue: 0,0:08:33.81,0:08:34.76,Default,,0,0,0,,order to get not only your
Dialogue: 0,0:08:34.76,0:08:36.73,Default,,0,0,0,,device's orientation, but also a
Dialogue: 0,0:08:36.73,0:08:38.07,Default,,0,0,0,,relative position of your
Dialogue: 0,0:08:38.07,0:08:38.54,Default,,0,0,0,,device.
Dialogue: 0,0:08:39.39,0:08:40.36,Default,,0,0,0,,With this we also get
Dialogue: 0,0:08:40.36,0:08:41.57,Default,,0,0,0,,information about the scene.
Dialogue: 0,0:08:41.94,0:08:42.61,Default,,0,0,0,,So we provide scene
Dialogue: 0,0:08:42.61,0:08:44.32,Default,,0,0,0,,understanding like feature
Dialogue: 0,0:08:44.32,0:08:46.20,Default,,0,0,0,,points as well as physical
Dialogue: 0,0:08:46.20,0:08:48.23,Default,,0,0,0,,positions in your world.
Dialogue: 0,0:08:49.38,0:08:50.64,Default,,0,0,0,,In order to enable and disable
Dialogue: 0,0:08:50.64,0:08:52.01,Default,,0,0,0,,features, you simply set
Dialogue: 0,0:08:52.01,0:08:53.22,Default,,0,0,0,,properties on your session
Dialogue: 0,0:08:53.22,0:08:54.00,Default,,0,0,0,,configuration classes.
Dialogue: 0,0:08:58.20,0:09:00.37,Default,,0,0,0,,And session configurations also
Dialogue: 0,0:09:00.37,0:09:01.51,Default,,0,0,0,,provide availability.
Dialogue: 0,0:09:02.28,0:09:03.52,Default,,0,0,0,,So if you want to check if world
Dialogue: 0,0:09:03.52,0:09:04.59,Default,,0,0,0,,tracking is supported on your
Dialogue: 0,0:09:04.59,0:09:06.44,Default,,0,0,0,,device, you simply need to call
Dialogue: 0,0:09:06.72,0:09:08.32,Default,,0,0,0,,the class property isSupported
Dialogue: 0,0:09:08.32,0:09:09.73,Default,,0,0,0,,on ARWorldTracking Session
Dialogue: 0,0:09:09.73,0:09:10.31,Default,,0,0,0,,Configuration.
Dialogue: 0,0:09:11.19,0:09:12.65,Default,,0,0,0,,With this you can then use your
Dialogue: 0,0:09:12.65,0:09:13.46,Default,,0,0,0,,World Tracking Session
Dialogue: 0,0:09:13.46,0:09:15.05,Default,,0,0,0,,Configuration or fall back to
Dialogue: 0,0:09:15.05,0:09:16.58,Default,,0,0,0,,the base class, which will only
Dialogue: 0,0:09:16.58,0:09:17.59,Default,,0,0,0,,provide you with three degrees
Dialogue: 0,0:09:17.59,0:09:18.01,Default,,0,0,0,,of freedom.
Dialogue: 0,0:09:18.39,0:09:20.01,Default,,0,0,0,,It's important to note here that
Dialogue: 0,0:09:20.01,0:09:21.55,Default,,0,0,0,,because the base class doesn't
Dialogue: 0,0:09:21.55,0:09:22.66,Default,,0,0,0,,have any scene understanding
Dialogue: 0,0:09:22.99,0:09:24.26,Default,,0,0,0,,functionality like hit tests
Dialogue: 0,0:09:24.26,0:09:25.31,Default,,0,0,0,,won't be available on this
Dialogue: 0,0:09:25.31,0:09:25.64,Default,,0,0,0,,device.
Dialogue: 0,0:09:25.64,0:09:27.56,Default,,0,0,0,,So we're also going to provide a
Dialogue: 0,0:09:27.56,0:09:29.49,Default,,0,0,0,,UI required device capability
Dialogue: 0,0:09:29.49,0:09:30.89,Default,,0,0,0,,that you set in your app so that
Dialogue: 0,0:09:30.89,0:09:32.27,Default,,0,0,0,,your app only appears in the App
Dialogue: 0,0:09:32.27,0:09:33.80,Default,,0,0,0,,Store on devices that support
Dialogue: 0,0:09:33.80,0:09:34.54,Default,,0,0,0,,World Tracking.
Dialogue: 0,0:09:36.04,0:09:39.97,Default,,0,0,0,,Next, let's look at ARSession.
Dialogue: 0,0:09:39.97,0:09:41.59,Default,,0,0,0,,ARSession, again, is the class
Dialogue: 0,0:09:41.59,0:09:42.45,Default,,0,0,0,,that manages all of the
Dialogue: 0,0:09:42.45,0:09:44.05,Default,,0,0,0,,processing for your augmented
Dialogue: 0,0:09:44.05,0:09:45.29,Default,,0,0,0,,reality app.
Dialogue: 0,0:09:46.56,0:09:48.23,Default,,0,0,0,,In addition to calling Run with
Dialogue: 0,0:09:48.23,0:09:49.77,Default,,0,0,0,,a configuration, you can also
Dialogue: 0,0:09:49.77,0:09:50.51,Default,,0,0,0,,call Pause.
Dialogue: 0,0:09:51.43,0:09:52.37,Default,,0,0,0,,So Pause allows you to
Dialogue: 0,0:09:52.37,0:09:54.05,Default,,0,0,0,,temporarily stop all processing
Dialogue: 0,0:09:54.05,0:09:55.24,Default,,0,0,0,,happening on your session.
Dialogue: 0,0:09:55.37,0:09:56.46,Default,,0,0,0,,So if your view is no longer
Dialogue: 0,0:09:56.46,0:09:57.91,Default,,0,0,0,,visible, you may want to stop
Dialogue: 0,0:09:57.91,0:10:01.13,Default,,0,0,0,,processing to stop using CPU and
Dialogue: 0,0:10:01.13,0:10:02.44,Default,,0,0,0,,no tracking will occur during
Dialogue: 0,0:10:02.44,0:10:03.03,Default,,0,0,0,,this pause.
Dialogue: 0,0:10:03.27,0:10:05.29,Default,,0,0,0,,In order to resume tracking
Dialogue: 0,0:10:05.29,0:10:07.01,Default,,0,0,0,,after a pause, you can simply
Dialogue: 0,0:10:07.01,0:10:08.66,Default,,0,0,0,,call Run again with the stored
Dialogue: 0,0:10:08.66,0:10:09.89,Default,,0,0,0,,configuration on your session.
Dialogue: 0,0:10:11.38,0:10:12.58,Default,,0,0,0,,And last, you can call Run
Dialogue: 0,0:10:12.58,0:10:14.20,Default,,0,0,0,,multiple times in order to
Dialogue: 0,0:10:14.20,0:10:15.51,Default,,0,0,0,,transition between different
Dialogue: 0,0:10:15.51,0:10:16.17,Default,,0,0,0,,configurations.
Dialogue: 0,0:10:16.62,0:10:18.04,Default,,0,0,0,,So say I wanted to enable plane
Dialogue: 0,0:10:18.04,0:10:19.95,Default,,0,0,0,,detection, I can change my
Dialogue: 0,0:10:19.95,0:10:21.29,Default,,0,0,0,,configuration to enable plane
Dialogue: 0,0:10:21.29,0:10:23.15,Default,,0,0,0,,detection, call Run again on my
Dialogue: 0,0:10:23.15,0:10:23.54,Default,,0,0,0,,session.
Dialogue: 0,0:10:23.80,0:10:25.34,Default,,0,0,0,,My session will automatically
Dialogue: 0,0:10:25.34,0:10:27.18,Default,,0,0,0,,transition seamlessly between
Dialogue: 0,0:10:27.18,0:10:28.31,Default,,0,0,0,,one configuration and another
Dialogue: 0,0:10:28.52,0:10:29.82,Default,,0,0,0,,without dropping any camera
Dialogue: 0,0:10:29.82,0:10:30.14,Default,,0,0,0,,images.
Dialogue: 0,0:10:32.84,0:10:34.54,Default,,0,0,0,,So with the Run command we also
Dialogue: 0,0:10:34.54,0:10:36.38,Default,,0,0,0,,provide resetting of tracking.
Dialogue: 0,0:10:36.55,0:10:37.72,Default,,0,0,0,,So there's Run options that you
Dialogue: 0,0:10:37.72,0:10:39.45,Default,,0,0,0,,can provide on the Run command
Dialogue: 0,0:10:40.08,0:10:41.49,Default,,0,0,0,,in order to reset tracking.
Dialogue: 0,0:10:41.49,0:10:42.76,Default,,0,0,0,,It'll reinitialize all of the
Dialogue: 0,0:10:42.76,0:10:43.69,Default,,0,0,0,,tracking that's going on.
Dialogue: 0,0:10:43.90,0:10:44.86,Default,,0,0,0,,And your camera position will
Dialogue: 0,0:10:44.86,0:10:46.06,Default,,0,0,0,,start out again at 000.
Dialogue: 0,0:10:46.06,0:10:48.12,Default,,0,0,0,,So this is useful for your
Dialogue: 0,0:10:48.12,0:10:49.31,Default,,0,0,0,,application if you want to reset
Dialogue: 0,0:10:49.31,0:10:50.70,Default,,0,0,0,,it to some starting point.
Dialogue: 0,0:10:51.25,0:10:54.43,Default,,0,0,0,,So how do I make use of
Dialogue: 0,0:10:54.43,0:10:55.56,Default,,0,0,0,,ARSessions processing?
Dialogue: 0,0:10:56.26,0:10:57.29,Default,,0,0,0,,There's session updates
Dialogue: 0,0:10:57.29,0:10:58.63,Default,,0,0,0,,available by setting yourself as
Dialogue: 0,0:10:58.69,0:10:59.30,Default,,0,0,0,,the delegate.
Dialogue: 0,0:11:00.46,0:11:02.21,Default,,0,0,0,,So in order to get the last
Dialogue: 0,0:11:02.21,0:11:03.50,Default,,0,0,0,,frame that was processed, I
Dialogue: 0,0:11:03.58,0:11:04.80,Default,,0,0,0,,could implement session
Dialogue: 0,0:11:04.88,0:11:05.70,Default,,0,0,0,,didUpdate Frame.
Dialogue: 0,0:11:05.90,0:11:07.91,Default,,0,0,0,,And this will give me the latest
Dialogue: 0,0:11:07.91,0:11:08.14,Default,,0,0,0,,frame.
Dialogue: 0,0:11:08.36,0:11:09.73,Default,,0,0,0,,For error handling, you can also
Dialogue: 0,0:11:09.73,0:11:11.67,Default,,0,0,0,,implement things like session
Dialogue: 0,0:11:11.67,0:11:12.65,Default,,0,0,0,,DidFailWithError.
Dialogue: 0,0:11:12.65,0:11:13.66,Default,,0,0,0,,So this is in the case of the
Dialogue: 0,0:11:13.66,0:11:14.25,Default,,0,0,0,,fatal error.
Dialogue: 0,0:11:14.53,0:11:16.10,Default,,0,0,0,,Maybe you're running a device
Dialogue: 0,0:11:16.10,0:11:17.08,Default,,0,0,0,,that doesn't support World
Dialogue: 0,0:11:17.08,0:11:17.51,Default,,0,0,0,,Tracking.
Dialogue: 0,0:11:17.62,0:11:18.71,Default,,0,0,0,,You'll get an error like this.
Dialogue: 0,0:11:18.71,0:11:19.93,Default,,0,0,0,,And your session will be paused.
Dialogue: 0,0:11:21.27,0:11:22.47,Default,,0,0,0,,The other way to make use of
Dialogue: 0,0:11:22.47,0:11:25.03,Default,,0,0,0,,ARSessions processing is to pull
Dialogue: 0,0:11:25.03,0:11:26.18,Default,,0,0,0,,the current frame property.
Dialogue: 0,0:11:26.89,0:11:29.35,Default,,0,0,0,,So now, what does an ARFrame
Dialogue: 0,0:11:29.35,0:11:29.81,Default,,0,0,0,,contain?
Dialogue: 0,0:11:30.85,0:11:32.81,Default,,0,0,0,,Each ARFrame contains everything
Dialogue: 0,0:11:32.81,0:11:34.06,Default,,0,0,0,,you need to render your
Dialogue: 0,0:11:34.06,0:11:35.15,Default,,0,0,0,,augmented reality scene.
Dialogue: 0,0:11:35.15,0:11:37.69,Default,,0,0,0,,The first thing it provides is a
Dialogue: 0,0:11:37.69,0:11:38.25,Default,,0,0,0,,camera image.
Dialogue: 0,0:11:38.88,0:11:39.80,Default,,0,0,0,,So this is what you're going to
Dialogue: 0,0:11:39.80,0:11:41.59,Default,,0,0,0,,use to render the background of
Dialogue: 0,0:11:41.63,0:11:42.18,Default,,0,0,0,,your scene.
Dialogue: 0,0:11:43.64,0:11:44.83,Default,,0,0,0,,Next, it provides tracking
Dialogue: 0,0:11:44.83,0:11:47.23,Default,,0,0,0,,information, or my device's
Dialogue: 0,0:11:47.23,0:11:48.79,Default,,0,0,0,,orientation as well as location
Dialogue: 0,0:11:49.11,0:11:50.28,Default,,0,0,0,,and even tracking state.
Dialogue: 0,0:11:51.26,0:11:52.78,Default,,0,0,0,,And last, it provides scene
Dialogue: 0,0:11:52.78,0:11:53.32,Default,,0,0,0,,understanding.
Dialogue: 0,0:11:54.21,0:11:55.58,Default,,0,0,0,,So, information about the scene
Dialogue: 0,0:11:55.86,0:11:57.81,Default,,0,0,0,,like feature points, physical
Dialogue: 0,0:11:57.81,0:11:59.19,Default,,0,0,0,,locations in space as well as
Dialogue: 0,0:11:59.19,0:12:00.83,Default,,0,0,0,,light estimation, or a light
Dialogue: 0,0:12:01.60,0:12:01.83,Default,,0,0,0,,estimate.
Dialogue: 0,0:12:02.87,0:12:04.48,Default,,0,0,0,,So, physical locations in space,
Dialogue: 0,0:12:05.09,0:12:07.75,Default,,0,0,0,,the way that ARKit represents
Dialogue: 0,0:12:07.75,0:12:10.52,Default,,0,0,0,,these is by using ARFrames -- or
Dialogue: 0,0:12:10.52,0:12:11.55,Default,,0,0,0,,ARAnchors, sorry.
Dialogue: 0,0:12:12.18,0:12:14.28,Default,,0,0,0,,An ARAnchor is a relative or a
Dialogue: 0,0:12:14.28,0:12:15.75,Default,,0,0,0,,real-world position and
Dialogue: 0,0:12:15.75,0:12:17.80,Default,,0,0,0,,orientation in space.
Dialogue: 0,0:12:17.80,0:12:21.31,Default,,0,0,0,,ARAnchors can be added and
Dialogue: 0,0:12:21.31,0:12:22.75,Default,,0,0,0,,removed from your scene.
Dialogue: 0,0:12:23.17,0:12:24.56,Default,,0,0,0,,And they're used to basically
Dialogue: 0,0:12:24.56,0:12:27.57,Default,,0,0,0,,represent a virtual content
Dialogue: 0,0:12:27.57,0:12:28.67,Default,,0,0,0,,anchored to your physical
Dialogue: 0,0:12:28.67,0:12:29.08,Default,,0,0,0,,environment.
Dialogue: 0,0:12:29.83,0:12:31.15,Default,,0,0,0,,So, if you want to add a custom
Dialogue: 0,0:12:31.15,0:12:32.00,Default,,0,0,0,,anchor, you can do that by
Dialogue: 0,0:12:32.00,0:12:32.87,Default,,0,0,0,,adding it to your session.
Dialogue: 0,0:12:33.07,0:12:34.13,Default,,0,0,0,,It'll persist through the
Dialogue: 0,0:12:34.13,0:12:35.29,Default,,0,0,0,,lifetime of your session.
Dialogue: 0,0:12:36.03,0:12:37.74,Default,,0,0,0,,But an added thing is if you're
Dialogue: 0,0:12:37.74,0:12:38.58,Default,,0,0,0,,running things like plane
Dialogue: 0,0:12:38.58,0:12:40.24,Default,,0,0,0,,detection, ARAnchors will be
Dialogue: 0,0:12:40.24,0:12:41.42,Default,,0,0,0,,added automatically to your
Dialogue: 0,0:12:41.42,0:12:41.79,Default,,0,0,0,,session.
Dialogue: 0,0:12:42.42,0:12:43.75,Default,,0,0,0,,So, in order to respond to this,
Dialogue: 0,0:12:44.40,0:12:46.58,Default,,0,0,0,,you can get them as a full list
Dialogue: 0,0:12:46.58,0:12:47.80,Default,,0,0,0,,in your current ARFrame.
Dialogue: 0,0:12:48.17,0:12:49.09,Default,,0,0,0,,So that'll have all of the
Dialogue: 0,0:12:49.09,0:12:50.14,Default,,0,0,0,,anchors that your session is
Dialogue: 0,0:12:50.14,0:12:50.86,Default,,0,0,0,,currently tracking.
Dialogue: 0,0:12:51.36,0:12:53.07,Default,,0,0,0,,Or you can respond to delegate
Dialogue: 0,0:12:53.07,0:12:55.80,Default,,0,0,0,,methods like add, update, and
Dialogue: 0,0:12:55.80,0:12:57.21,Default,,0,0,0,,remove, which will notify you if
Dialogue: 0,0:12:57.21,0:12:59.06,Default,,0,0,0,,anchors were added, updated, or
Dialogue: 0,0:12:59.06,0:13:00.75,Default,,0,0,0,,removed from your session.
Dialogue: 0,0:13:01.21,0:13:04.28,Default,,0,0,0,,So that concludes the four main
Dialogue: 0,0:13:04.28,0:13:05.37,Default,,0,0,0,,classes that you're going to use
Dialogue: 0,0:13:05.37,0:13:06.55,Default,,0,0,0,,to create augmented reality
Dialogue: 0,0:13:06.55,0:13:07.15,Default,,0,0,0,,experience.
Dialogue: 0,0:13:07.25,0:13:10.68,Default,,0,0,0,,Now let's talk about tracking in
Dialogue: 0,0:13:10.68,0:13:11.16,Default,,0,0,0,,particular.
Dialogue: 0,0:13:13.32,0:13:15.64,Default,,0,0,0,,So, tracking is the ability to
Dialogue: 0,0:13:15.64,0:13:17.10,Default,,0,0,0,,determine a physical location in
Dialogue: 0,0:13:17.10,0:13:18.36,Default,,0,0,0,,space in real time.
Dialogue: 0,0:13:19.84,0:13:20.48,Default,,0,0,0,,This isn't easy.
Dialogue: 0,0:13:20.86,0:13:22.21,Default,,0,0,0,,So, but it's essential for
Dialogue: 0,0:13:22.21,0:13:25.02,Default,,0,0,0,,augmented reality to find your
Dialogue: 0,0:13:25.02,0:13:25.93,Default,,0,0,0,,device's position.
Dialogue: 0,0:13:25.93,0:13:27.25,Default,,0,0,0,,So not any position, but the
Dialogue: 0,0:13:27.25,0:13:28.46,Default,,0,0,0,,position of your device and the
Dialogue: 0,0:13:28.46,0:13:30.04,Default,,0,0,0,,orientation in order to render
Dialogue: 0,0:13:30.04,0:13:30.65,Default,,0,0,0,,things correctly.
Dialogue: 0,0:13:31.14,0:13:31.87,Default,,0,0,0,,So let's take a look at an
Dialogue: 0,0:13:31.87,0:13:32.20,Default,,0,0,0,,example.
Dialogue: 0,0:13:33.27,0:13:34.84,Default,,0,0,0,,Here I've placed a virtual chair
Dialogue: 0,0:13:34.84,0:13:36.65,Default,,0,0,0,,and a virtual table in a
Dialogue: 0,0:13:36.65,0:13:37.55,Default,,0,0,0,,physical environment.
Dialogue: 0,0:13:38.24,0:13:40.97,Default,,0,0,0,,You'll notice that if I pan
Dialogue: 0,0:13:40.97,0:13:43.03,Default,,0,0,0,,around it or reorient to my
Dialogue: 0,0:13:43.03,0:13:44.37,Default,,0,0,0,,device, that they'll stay fixed
Dialogue: 0,0:13:44.37,0:13:45.01,Default,,0,0,0,,in space.
Dialogue: 0,0:13:45.32,0:13:46.80,Default,,0,0,0,,But more importantly, as I walk
Dialogue: 0,0:13:46.80,0:13:48.58,Default,,0,0,0,,around the scene they also stay
Dialogue: 0,0:13:48.62,0:13:49.18,Default,,0,0,0,,fixed in space.
Dialogue: 0,0:13:50.06,0:13:51.60,Default,,0,0,0,,So this is because we're using,
Dialogue: 0,0:13:52.10,0:13:53.45,Default,,0,0,0,,constantly updating the
Dialogue: 0,0:13:53.45,0:13:55.01,Default,,0,0,0,,projection transform, or the
Dialogue: 0,0:13:55.01,0:13:55.90,Default,,0,0,0,,projection matrix that we're
Dialogue: 0,0:13:55.90,0:13:57.61,Default,,0,0,0,,using to render this virtual
Dialogue: 0,0:13:57.61,0:13:59.22,Default,,0,0,0,,content so that it appears
Dialogue: 0,0:13:59.22,0:14:00.97,Default,,0,0,0,,correct from any perspective.
Dialogue: 0,0:14:02.92,0:14:04.28,Default,,0,0,0,,So now how do we do this?
Dialogue: 0,0:14:05.70,0:14:07.28,Default,,0,0,0,,ARKit provides world tracking.
Dialogue: 0,0:14:07.28,0:14:09.21,Default,,0,0,0,,This is our technology that uses
Dialogue: 0,0:14:09.21,0:14:10.55,Default,,0,0,0,,visual inertial odometry.
Dialogue: 0,0:14:10.90,0:14:11.84,Default,,0,0,0,,It's your camera images.
Dialogue: 0,0:14:11.84,0:14:12.97,Default,,0,0,0,,It's the motion of your device.
Dialogue: 0,0:14:12.97,0:14:14.73,Default,,0,0,0,,And it provides to you a
Dialogue: 0,0:14:14.73,0:14:16.83,Default,,0,0,0,,rotation as well as a position
Dialogue: 0,0:14:17.03,0:14:18.54,Default,,0,0,0,,or relative position, of your
Dialogue: 0,0:14:18.54,0:14:18.99,Default,,0,0,0,,device.
Dialogue: 0,0:14:19.50,0:14:22.46,Default,,0,0,0,,But more importantly, it
Dialogue: 0,0:14:22.46,0:14:24.02,Default,,0,0,0,,provides real world scale.
Dialogue: 0,0:14:24.64,0:14:26.01,Default,,0,0,0,,So all your virtual content is
Dialogue: 0,0:14:26.01,0:14:27.42,Default,,0,0,0,,actually going to be to scale
Dialogue: 0,0:14:27.66,0:14:29.56,Default,,0,0,0,,rendered in your physical scene.
Dialogue: 0,0:14:30.20,0:14:32.95,Default,,0,0,0,,It also means that motion of
Dialogue: 0,0:14:32.95,0:14:34.35,Default,,0,0,0,,your device correlates to
Dialogue: 0,0:14:34.35,0:14:35.68,Default,,0,0,0,,physical distance traveled
Dialogue: 0,0:14:36.02,0:14:37.63,Default,,0,0,0,,measured in meters.
Dialogue: 0,0:14:40.52,0:14:42.04,Default,,0,0,0,,And all the positions given by
Dialogue: 0,0:14:42.04,0:14:43.59,Default,,0,0,0,,tracking are relative to the
Dialogue: 0,0:14:43.59,0:14:44.65,Default,,0,0,0,,starting position of your
Dialogue: 0,0:14:44.65,0:14:45.03,Default,,0,0,0,,session.
Dialogue: 0,0:14:46.90,0:14:48.48,Default,,0,0,0,,So one more function of how
Dialogue: 0,0:14:48.48,0:14:49.54,Default,,0,0,0,,World Tracking works.
Dialogue: 0,0:14:50.16,0:14:51.72,Default,,0,0,0,,We provide 3-D feature points.
Dialogue: 0,0:14:52.49,0:14:54.05,Default,,0,0,0,,So, here's a representation of
Dialogue: 0,0:14:54.44,0:14:55.42,Default,,0,0,0,,how World Tracking works.
Dialogue: 0,0:14:55.57,0:14:56.96,Default,,0,0,0,,It works by detecting features,
Dialogue: 0,0:14:56.96,0:14:58.00,Default,,0,0,0,,which are unique pieces of
Dialogue: 0,0:14:58.00,0:14:59.84,Default,,0,0,0,,information, in a camera image.
Dialogue: 0,0:15:00.62,0:15:01.49,Default,,0,0,0,,So you'll see the axes
Dialogue: 0,0:15:01.49,0:15:03.49,Default,,0,0,0,,represents my device's position
Dialogue: 0,0:15:03.49,0:15:04.24,Default,,0,0,0,,and orientation.
Dialogue: 0,0:15:04.38,0:15:05.80,Default,,0,0,0,,It's creating a path as I move
Dialogue: 0,0:15:05.80,0:15:06.37,Default,,0,0,0,,about my world.
Dialogue: 0,0:15:06.41,0:15:07.76,Default,,0,0,0,,But you also see all these dots
Dialogue: 0,0:15:07.76,0:15:08.04,Default,,0,0,0,,up here.
Dialogue: 0,0:15:08.41,0:15:09.94,Default,,0,0,0,,These represent 3-D feature
Dialogue: 0,0:15:09.94,0:15:11.23,Default,,0,0,0,,points that I've detected in my
Dialogue: 0,0:15:11.23,0:15:11.56,Default,,0,0,0,,scene.
Dialogue: 0,0:15:11.92,0:15:13.39,Default,,0,0,0,,I've been able to triangulate
Dialogue: 0,0:15:13.39,0:15:15.17,Default,,0,0,0,,them by moving about the scene
Dialogue: 0,0:15:15.54,0:15:17.21,Default,,0,0,0,,and then using these, matching
Dialogue: 0,0:15:17.21,0:15:19.28,Default,,0,0,0,,these features, you'll see that
Dialogue: 0,0:15:19.28,0:15:20.61,Default,,0,0,0,,I draw a line when I match an
Dialogue: 0,0:15:20.61,0:15:22.11,Default,,0,0,0,,existing feature that I've seen
Dialogue: 0,0:15:22.11,0:15:22.50,Default,,0,0,0,,before.
Dialogue: 0,0:15:22.94,0:15:24.17,Default,,0,0,0,,And using all of this
Dialogue: 0,0:15:24.17,0:15:25.62,Default,,0,0,0,,information and our motion data,
Dialogue: 0,0:15:26.08,0:15:27.80,Default,,0,0,0,,we're able to precisely provide
Dialogue: 0,0:15:28.97,0:15:30.62,Default,,0,0,0,,a device orientation and
Dialogue: 0,0:15:30.83,0:15:31.30,Default,,0,0,0,,location.
Dialogue: 0,0:15:31.89,0:15:33.67,Default,,0,0,0,,So that might look hard.
Dialogue: 0,0:15:33.67,0:15:35.64,Default,,0,0,0,,Let's look at the code on how we
Dialogue: 0,0:15:35.64,0:15:36.77,Default,,0,0,0,,run World Tracking.
Dialogue: 0,0:15:37.28,0:15:39.70,Default,,0,0,0,,First thing you need to do is
Dialogue: 0,0:15:39.70,0:15:40.98,Default,,0,0,0,,simply create an ARSession.
Dialogue: 0,0:15:40.98,0:15:42.27,Default,,0,0,0,,Because again, it's going to
Dialogue: 0,0:15:42.27,0:15:43.51,Default,,0,0,0,,manage all of the processing
Dialogue: 0,0:15:43.62,0:15:44.85,Default,,0,0,0,,that's going to happen for World
Dialogue: 0,0:15:44.85,0:15:45.20,Default,,0,0,0,,Tracking.
Dialogue: 0,0:15:46.02,0:15:47.31,Default,,0,0,0,,Next, you'll set yourself as the
Dialogue: 0,0:15:47.31,0:15:49.40,Default,,0,0,0,,delegate of the session so that
Dialogue: 0,0:15:49.40,0:15:50.70,Default,,0,0,0,,you can receive updates on when
Dialogue: 0,0:15:50.70,0:15:51.75,Default,,0,0,0,,new frames are available.
Dialogue: 0,0:15:53.15,0:15:54.31,Default,,0,0,0,,By creating a World Tracking
Dialogue: 0,0:15:54.31,0:15:55.17,Default,,0,0,0,,session configuration you're
Dialogue: 0,0:15:55.17,0:15:56.27,Default,,0,0,0,,saying, "I want to use World
Dialogue: 0,0:15:56.27,0:15:56.66,Default,,0,0,0,,Tracking.
Dialogue: 0,0:15:56.66,0:15:58.10,Default,,0,0,0,,I want my session to run this
Dialogue: 0,0:15:58.10,0:15:58.57,Default,,0,0,0,,processing."
Dialogue: 0,0:15:59.32,0:16:00.48,Default,,0,0,0,,Then by simply calling Run,
Dialogue: 0,0:16:00.92,0:16:01.96,Default,,0,0,0,,immediately processing will
Dialogue: 0,0:16:01.96,0:16:02.37,Default,,0,0,0,,happen.
Dialogue: 0,0:16:02.37,0:16:03.66,Default,,0,0,0,,Capturing will begin.
Dialogue: 0,0:16:04.32,0:16:05.64,Default,,0,0,0,,So, under the hood, our session
Dialogue: 0,0:16:05.92,0:16:08.27,Default,,0,0,0,,creates an AVCaptureSession --
Dialogue: 0,0:16:08.48,0:16:09.92,Default,,0,0,0,,sorry, as well as a
Dialogue: 0,0:16:10.00,0:16:12.14,Default,,0,0,0,,CMMotionManager in order to get
Dialogue: 0,0:16:12.14,0:16:13.44,Default,,0,0,0,,image and motion data.
Dialogue: 0,0:16:14.48,0:16:15.55,Default,,0,0,0,,We use the images to detect
Dialogue: 0,0:16:15.55,0:16:16.40,Default,,0,0,0,,features in the scene.
Dialogue: 0,0:16:16.98,0:16:18.34,Default,,0,0,0,,And we use the motion data at a
Dialogue: 0,0:16:18.50,0:16:19.51,Default,,0,0,0,,higher rate in order to
Dialogue: 0,0:16:19.51,0:16:21.05,Default,,0,0,0,,integrate it over time to get
Dialogue: 0,0:16:21.05,0:16:21.92,Default,,0,0,0,,your device's motion.
Dialogue: 0,0:16:23.08,0:16:24.89,Default,,0,0,0,,Using these together we're able
Dialogue: 0,0:16:24.89,0:16:26.57,Default,,0,0,0,,to use sensor fusion in order to
Dialogue: 0,0:16:26.57,0:16:27.85,Default,,0,0,0,,provide a precise pose.
Dialogue: 0,0:16:27.85,0:16:29.78,Default,,0,0,0,,So these are returned in
Dialogue: 0,0:16:29.78,0:16:30.34,Default,,0,0,0,,ARFrames.
Dialogue: 0,0:16:30.91,0:16:34.99,Default,,0,0,0,,Each ARFrame is going to include
Dialogue: 0,0:16:34.99,0:16:35.67,Default,,0,0,0,,an ARCamera.
Dialogue: 0,0:16:36.27,0:16:39.41,Default,,0,0,0,,So an ARCamera is the object
Dialogue: 0,0:16:39.41,0:16:40.88,Default,,0,0,0,,that represents a virtual
Dialogue: 0,0:16:40.88,0:16:41.14,Default,,0,0,0,,camera.
Dialogue: 0,0:16:41.14,0:16:42.11,Default,,0,0,0,,Or you can use it for a virtual
Dialogue: 0,0:16:42.11,0:16:42.39,Default,,0,0,0,,camera.
Dialogue: 0,0:16:42.55,0:16:43.83,Default,,0,0,0,,It represents your device's
Dialogue: 0,0:16:43.83,0:16:45.33,Default,,0,0,0,,orientation as well as location.
Dialogue: 0,0:16:45.82,0:16:47.20,Default,,0,0,0,,So it provides a transform.
Dialogue: 0,0:16:47.78,0:16:49.43,Default,,0,0,0,,Transform is a matrix or a
Dialogue: 0,0:16:49.43,0:16:51.22,Default,,0,0,0,,[inaudible] float 4 by 4 which
Dialogue: 0,0:16:51.22,0:16:52.96,Default,,0,0,0,,provides the orientation or the
Dialogue: 0,0:16:52.96,0:16:54.71,Default,,0,0,0,,rotation as well as translation
Dialogue: 0,0:16:55.14,0:16:56.58,Default,,0,0,0,,of your physical device from the
Dialogue: 0,0:16:56.58,0:16:57.84,Default,,0,0,0,,starting point of the session.
Dialogue: 0,0:16:59.03,0:17:00.16,Default,,0,0,0,,In addition to this we provide a
Dialogue: 0,0:17:00.16,0:17:02.03,Default,,0,0,0,,tracking state, which informs
Dialogue: 0,0:17:02.03,0:17:03.08,Default,,0,0,0,,you on how you can use the
Dialogue: 0,0:17:03.08,0:17:03.60,Default,,0,0,0,,transform.
Dialogue: 0,0:17:04.58,0:17:06.59,Default,,0,0,0,,And last, we provide camera
Dialogue: 0,0:17:06.59,0:17:07.28,Default,,0,0,0,,intrinsics.
Dialogue: 0,0:17:07.99,0:17:09.22,Default,,0,0,0,,So camera intrinsics are really
Dialogue: 0,0:17:09.22,0:17:10.81,Default,,0,0,0,,important that we get them each
Dialogue: 0,0:17:10.81,0:17:12.48,Default,,0,0,0,,frame because it matches that of
Dialogue: 0,0:17:12.48,0:17:13.72,Default,,0,0,0,,the physical camera on your
Dialogue: 0,0:17:13.72,0:17:14.15,Default,,0,0,0,,device.
Dialogue: 0,0:17:14.73,0:17:15.93,Default,,0,0,0,,This information like focal
Dialogue: 0,0:17:15.93,0:17:17.10,Default,,0,0,0,,length and principal point,
Dialogue: 0,0:17:17.36,0:17:18.44,Default,,0,0,0,,which are used to find a
Dialogue: 0,0:17:18.44,0:17:19.23,Default,,0,0,0,,projection matrix.
Dialogue: 0,0:17:20.10,0:17:21.88,Default,,0,0,0,,The projection matrix is also a
Dialogue: 0,0:17:21.88,0:17:23.10,Default,,0,0,0,,convenience method on ARCamera.
Dialogue: 0,0:17:23.10,0:17:24.89,Default,,0,0,0,,So you can easily use that to
Dialogue: 0,0:17:24.89,0:17:26.41,Default,,0,0,0,,render your virtual geometry.
Dialogue: 0,0:17:26.95,0:17:30.52,Default,,0,0,0,,So with that, that is tracking
Dialogue: 0,0:17:30.52,0:17:31.42,Default,,0,0,0,,that ARKit provides.
Dialogue: 0,0:17:31.53,0:17:32.33,Default,,0,0,0,,Let's go ahead and look at a
Dialogue: 0,0:17:32.33,0:17:34.04,Default,,0,0,0,,demo using World Tracking and
Dialogue: 0,0:17:34.04,0:17:35.14,Default,,0,0,0,,create your first ARKit
Dialogue: 0,0:17:35.14,0:17:35.78,Default,,0,0,0,,application.
Dialogue: 0,0:17:36.52,0:17:42.12,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:17:42.62,0:17:43.51,Default,,0,0,0,,So, the first thing that you
Dialogue: 0,0:17:43.51,0:17:45.51,Default,,0,0,0,,notice when you open new Xcode 9
Dialogue: 0,0:17:45.79,0:17:47.05,Default,,0,0,0,,is that there's a new template
Dialogue: 0,0:17:47.05,0:17:48.59,Default,,0,0,0,,available for creating augmented
Dialogue: 0,0:17:48.59,0:17:49.30,Default,,0,0,0,,reality apps.
Dialogue: 0,0:17:49.30,0:17:50.53,Default,,0,0,0,,So let's go ahead and select
Dialogue: 0,0:17:50.53,0:17:51.15,Default,,0,0,0,,that.
Dialogue: 0,0:17:51.33,0:17:52.60,Default,,0,0,0,,I'm going to create an augmented
Dialogue: 0,0:17:52.60,0:17:53.36,Default,,0,0,0,,reality app.
Dialogue: 0,0:17:53.36,0:17:55.25,Default,,0,0,0,,Hit Next. After giving my
Dialogue: 0,0:17:55.25,0:17:57.82,Default,,0,0,0,,project a name like MyARApp, I
Dialogue: 0,0:17:58.42,0:17:59.67,Default,,0,0,0,,can choose between the language,
Dialogue: 0,0:18:00.39,0:18:01.19,Default,,0,0,0,,which here I have the option
Dialogue: 0,0:18:01.19,0:18:02.46,Default,,0,0,0,,between Swift as well as
Dialogue: 0,0:18:02.46,0:18:04.63,Default,,0,0,0,,ObjectiveC as well as the
Dialogue: 0,0:18:04.63,0:18:05.58,Default,,0,0,0,,content technology.
Dialogue: 0,0:18:05.78,0:18:07.54,Default,,0,0,0,,So the content technology is
Dialogue: 0,0:18:07.54,0:18:08.69,Default,,0,0,0,,what you're going to use to
Dialogue: 0,0:18:08.69,0:18:10.13,Default,,0,0,0,,render your augmented reality
Dialogue: 0,0:18:10.13,0:18:10.26,Default,,0,0,0,,scene.
Dialogue: 0,0:18:10.26,0:18:11.88,Default,,0,0,0,,You have the option between
Dialogue: 0,0:18:11.88,0:18:14.02,Default,,0,0,0,,SceneKit, SpriteKit as well as
Dialogue: 0,0:18:14.02,0:18:14.29,Default,,0,0,0,,Metal.
Dialogue: 0,0:18:14.34,0:18:16.37,Default,,0,0,0,,I'm going to use SceneKit for
Dialogue: 0,0:18:16.37,0:18:16.94,Default,,0,0,0,,this example.
Dialogue: 0,0:18:17.39,0:18:20.15,Default,,0,0,0,,So after hitting Next and
Dialogue: 0,0:18:20.15,0:18:21.55,Default,,0,0,0,,creating my workspace, it looks
Dialogue: 0,0:18:21.55,0:18:22.29,Default,,0,0,0,,something like this.
Dialogue: 0,0:18:23.22,0:18:24.29,Default,,0,0,0,,Here I have a view controller
Dialogue: 0,0:18:24.36,0:18:25.53,Default,,0,0,0,,that I've created.
Dialogue: 0,0:18:25.72,0:18:26.65,Default,,0,0,0,,You'll see that it has an
Dialogue: 0,0:18:26.65,0:18:27.50,Default,,0,0,0,,ARSCNView.
Dialogue: 0,0:18:28.07,0:18:31.20,Default,,0,0,0,,So this ARSCNView is a custom AR
Dialogue: 0,0:18:31.20,0:18:32.47,Default,,0,0,0,,subclass that implements all the
Dialogue: 0,0:18:32.47,0:18:33.70,Default,,0,0,0,,rendering -- or most of the
Dialogue: 0,0:18:33.70,0:18:34.39,Default,,0,0,0,,rendering for me.
Dialogue: 0,0:18:35.10,0:18:36.43,Default,,0,0,0,,So it'll handle updating my
Dialogue: 0,0:18:36.43,0:18:38.05,Default,,0,0,0,,virtual camera based on the
Dialogue: 0,0:18:38.05,0:18:39.51,Default,,0,0,0,,ARFrames that get returned to
Dialogue: 0,0:18:39.51,0:18:39.58,Default,,0,0,0,,it.
Dialogue: 0,0:18:40.12,0:18:42.37,Default,,0,0,0,,As a property of ARSCNView, or
Dialogue: 0,0:18:42.37,0:18:44.54,Default,,0,0,0,,my sceneView, it has a session.
Dialogue: 0,0:18:45.28,0:18:47.68,Default,,0,0,0,,So you see that my sceneView, I
Dialogue: 0,0:18:47.68,0:18:49.12,Default,,0,0,0,,set a scene, which is going to
Dialogue: 0,0:18:49.12,0:18:50.38,Default,,0,0,0,,be a ship that's translated a
Dialogue: 0,0:18:50.38,0:18:51.76,Default,,0,0,0,,little bit in front of the world
Dialogue: 0,0:18:51.76,0:18:53.66,Default,,0,0,0,,origin along the z-axis.
Dialogue: 0,0:18:54.10,0:18:55.60,Default,,0,0,0,,And then the most important part
Dialogue: 0,0:18:55.60,0:18:57.37,Default,,0,0,0,,is I'm accessing the session --
Dialogue: 0,0:18:57.96,0:19:00.44,Default,,0,0,0,,I'm accessing the session and
Dialogue: 0,0:19:00.44,0:19:01.99,Default,,0,0,0,,calling Run with a World
Dialogue: 0,0:19:01.99,0:19:03.40,Default,,0,0,0,,Tracking session configuration.
Dialogue: 0,0:19:03.91,0:19:05.16,Default,,0,0,0,,So this will run World Tracking.
Dialogue: 0,0:19:05.16,0:19:06.46,Default,,0,0,0,,And automatically the view will
Dialogue: 0,0:19:06.46,0:19:07.68,Default,,0,0,0,,handle updating my virtual
Dialogue: 0,0:19:07.68,0:19:08.65,Default,,0,0,0,,camera for me.
Dialogue: 0,0:19:09.77,0:19:10.59,Default,,0,0,0,,So let's go ahead and give that
Dialogue: 0,0:19:10.59,0:19:10.96,Default,,0,0,0,,a try.
Dialogue: 0,0:19:11.36,0:19:12.81,Default,,0,0,0,,Maybe I'm going to change our
Dialogue: 0,0:19:12.81,0:19:15.09,Default,,0,0,0,,standard ship to use arship.
Dialogue: 0,0:19:16.94,0:19:19.93,Default,,0,0,0,,So let's run this on the device.
Dialogue: 0,0:19:25.34,0:19:26.53,Default,,0,0,0,,So after installing, the first
Dialogue: 0,0:19:26.53,0:19:27.86,Default,,0,0,0,,thing that you'll notice is that
Dialogue: 0,0:19:27.86,0:19:28.85,Default,,0,0,0,,it's going to ask for camera
Dialogue: 0,0:19:28.85,0:19:29.18,Default,,0,0,0,,permission.
Dialogue: 0,0:19:29.55,0:19:30.63,Default,,0,0,0,,This is a required to use
Dialogue: 0,0:19:30.63,0:19:32.01,Default,,0,0,0,,tracking as well as render the
Dialogue: 0,0:19:32.01,0:19:32.93,Default,,0,0,0,,backdrop of your scene.
Dialogue: 0,0:19:33.80,0:19:34.79,Default,,0,0,0,,Next, as you'll see, I get a
Dialogue: 0,0:19:34.79,0:19:35.31,Default,,0,0,0,,camera feed.
Dialogue: 0,0:19:35.31,0:19:36.71,Default,,0,0,0,,And right in front of me there's
Dialogue: 0,0:19:36.71,0:19:37.18,Default,,0,0,0,,a spaceship.
Dialogue: 0,0:19:37.92,0:19:39.24,Default,,0,0,0,,You'll see as I change the
Dialogue: 0,0:19:39.24,0:19:40.52,Default,,0,0,0,,orientation of my device, it
Dialogue: 0,0:19:40.52,0:19:42.00,Default,,0,0,0,,stays fixed in space.
Dialogue: 0,0:19:42.63,0:19:44.24,Default,,0,0,0,,But more importantly, as I move
Dialogue: 0,0:19:44.24,0:19:46.70,Default,,0,0,0,,about the spaceship, you'll see
Dialogue: 0,0:19:46.70,0:19:48.20,Default,,0,0,0,,that it actually is anchored in
Dialogue: 0,0:19:48.20,0:19:49.04,Default,,0,0,0,,the physical world.
Dialogue: 0,0:19:49.69,0:19:51.48,Default,,0,0,0,,So this is using both my
Dialogue: 0,0:19:51.48,0:19:52.86,Default,,0,0,0,,device's orientation as well as
Dialogue: 0,0:19:52.86,0:19:54.56,Default,,0,0,0,,a relative position to update a
Dialogue: 0,0:19:54.56,0:19:57.59,Default,,0,0,0,,virtual camera and look at the
Dialogue: 0,0:19:57.59,0:19:58.23,Default,,0,0,0,,spaceship.
Dialogue: 0,0:19:59.02,0:20:00.33,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:20:00.33,0:20:00.86,Default,,0,0,0,,Thank you.
Dialogue: 0,0:20:02.52,0:20:06.70,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:20:07.20,0:20:08.57,Default,,0,0,0,,So, if that's not interesting
Dialogue: 0,0:20:08.57,0:20:09.76,Default,,0,0,0,,enough for you, maybe we want to
Dialogue: 0,0:20:09.76,0:20:10.95,Default,,0,0,0,,add something to the scene every
Dialogue: 0,0:20:10.95,0:20:11.88,Default,,0,0,0,,time we tap the screen.
Dialogue: 0,0:20:12.55,0:20:13.21,Default,,0,0,0,,Let's try that out.
Dialogue: 0,0:20:13.21,0:20:14.49,Default,,0,0,0,,Let's try adding something to
Dialogue: 0,0:20:14.49,0:20:15.00,Default,,0,0,0,,this example.
Dialogue: 0,0:20:15.00,0:20:18.43,Default,,0,0,0,,So as I said, I want to add
Dialogue: 0,0:20:18.75,0:20:20.04,Default,,0,0,0,,geometry to the scene every time
Dialogue: 0,0:20:20.04,0:20:20.96,Default,,0,0,0,,I tap the screen.
Dialogue: 0,0:20:21.70,0:20:22.63,Default,,0,0,0,,First thing I need to do to do
Dialogue: 0,0:20:22.63,0:20:25.27,Default,,0,0,0,,that is add a tap gesture
Dialogue: 0,0:20:25.27,0:20:25.80,Default,,0,0,0,,recognizer.
Dialogue: 0,0:20:26.02,0:20:28.77,Default,,0,0,0,,So after adding that to my scene
Dialogue: 0,0:20:28.81,0:20:30.77,Default,,0,0,0,,view, every time I call the
Dialogue: 0,0:20:30.77,0:20:32.77,Default,,0,0,0,,handle tap method, or every time
Dialogue: 0,0:20:32.77,0:20:33.95,Default,,0,0,0,,I tap the screen, the handle tap
Dialogue: 0,0:20:33.95,0:20:34.82,Default,,0,0,0,,method will get called.
Dialogue: 0,0:20:35.70,0:20:39.42,Default,,0,0,0,,So let's implement that.
Dialogue: 0,0:20:39.56,0:20:40.55,Default,,0,0,0,,So, if I want to create some
Dialogue: 0,0:20:40.55,0:20:41.90,Default,,0,0,0,,geometry, let's say I'm going to
Dialogue: 0,0:20:41.90,0:20:43.71,Default,,0,0,0,,create a plane or an image
Dialogue: 0,0:20:43.71,0:20:43.95,Default,,0,0,0,,plane.
Dialogue: 0,0:20:44.55,0:20:47.89,Default,,0,0,0,,So the first thing I do here is
Dialogue: 0,0:20:47.89,0:20:49.35,Default,,0,0,0,,create an SCNPlane with a width
Dialogue: 0,0:20:49.35,0:20:49.68,Default,,0,0,0,,and height.
Dialogue: 0,0:20:49.68,0:20:51.68,Default,,0,0,0,,But then, the tricky part, I'm
Dialogue: 0,0:20:51.68,0:20:52.74,Default,,0,0,0,,actually going to set the
Dialogue: 0,0:20:52.80,0:20:54.82,Default,,0,0,0,,contents -- or the material, to
Dialogue: 0,0:20:54.82,0:20:57.02,Default,,0,0,0,,be a snapshot of my view.
Dialogue: 0,0:20:57.02,0:20:59.80,Default,,0,0,0,,So what do you think this is
Dialogue: 0,0:20:59.80,0:21:00.83,Default,,0,0,0,,going to be?
Dialogue: 0,0:21:00.99,0:21:02.08,Default,,0,0,0,,Well, this actually going to
Dialogue: 0,0:21:02.08,0:21:03.29,Default,,0,0,0,,take a snapshot or a rendering
Dialogue: 0,0:21:03.29,0:21:04.75,Default,,0,0,0,,of my view including the
Dialogue: 0,0:21:04.92,0:21:07.31,Default,,0,0,0,,backdrop camera image as well as
Dialogue: 0,0:21:07.31,0:21:08.61,Default,,0,0,0,,the virtual geometry that I've
Dialogue: 0,0:21:08.71,0:21:09.45,Default,,0,0,0,,placed in front of it.
Dialogue: 0,0:21:10.14,0:21:11.42,Default,,0,0,0,,I'm setting my lighting model to
Dialogue: 0,0:21:11.42,0:21:12.89,Default,,0,0,0,,constant so that the light
Dialogue: 0,0:21:12.89,0:21:14.27,Default,,0,0,0,,estimate provided by ARKit
Dialogue: 0,0:21:14.52,0:21:15.45,Default,,0,0,0,,doesn't get applied to this
Dialogue: 0,0:21:15.45,0:21:16.75,Default,,0,0,0,,camera image because it's
Dialogue: 0,0:21:16.75,0:21:17.65,Default,,0,0,0,,already going to match the
Dialogue: 0,0:21:17.65,0:21:18.33,Default,,0,0,0,,environment.
Dialogue: 0,0:21:20.15,0:21:21.35,Default,,0,0,0,,Next, I need to add this to the
Dialogue: 0,0:21:21.35,0:21:21.70,Default,,0,0,0,,scene.
Dialogue: 0,0:21:22.13,0:21:22.95,Default,,0,0,0,,So in order to do that, I'm
Dialogue: 0,0:21:22.95,0:21:24.93,Default,,0,0,0,,going to create a plane node.
Dialogue: 0,0:21:28.12,0:21:29.78,Default,,0,0,0,,So, after creating an SCNode
Dialogue: 0,0:21:29.78,0:21:31.69,Default,,0,0,0,,that encapsulates this geometry,
Dialogue: 0,0:21:31.69,0:21:32.58,Default,,0,0,0,,I add it to the scene.
Dialogue: 0,0:21:33.31,0:21:34.57,Default,,0,0,0,,So already here, every time I
Dialogue: 0,0:21:34.57,0:21:35.77,Default,,0,0,0,,tap the screen, it's going to
Dialogue: 0,0:21:35.77,0:21:37.30,Default,,0,0,0,,add an image plane to my scene.
Dialogue: 0,0:21:37.30,0:21:38.66,Default,,0,0,0,,But the problem is it's always
Dialogue: 0,0:21:38.66,0:21:39.81,Default,,0,0,0,,going to be at 000.
Dialogue: 0,0:21:40.55,0:21:41.34,Default,,0,0,0,,So how do I make this more
Dialogue: 0,0:21:41.34,0:21:41.76,Default,,0,0,0,,interesting?
Dialogue: 0,0:21:42.55,0:21:44.76,Default,,0,0,0,,Well, we have provided to us a
Dialogue: 0,0:21:44.76,0:21:46.26,Default,,0,0,0,,current frame, which contains an
Dialogue: 0,0:21:46.26,0:21:46.68,Default,,0,0,0,,AR Camera.
Dialogue: 0,0:21:47.81,0:21:49.32,Default,,0,0,0,,Which I could probably use the
Dialogue: 0,0:21:49.75,0:21:51.39,Default,,0,0,0,,camera's transform in order to
Dialogue: 0,0:21:51.39,0:21:52.45,Default,,0,0,0,,update the plane node's
Dialogue: 0,0:21:52.45,0:21:54.31,Default,,0,0,0,,transform so that the plane node
Dialogue: 0,0:21:55.00,0:21:56.44,Default,,0,0,0,,is where my camera currently is
Dialogue: 0,0:21:56.44,0:21:57.23,Default,,0,0,0,,located in space.
Dialogue: 0,0:21:58.45,0:21:59.55,Default,,0,0,0,,To do that, I'm going to first
Dialogue: 0,0:21:59.55,0:22:01.30,Default,,0,0,0,,get the current frame from my
Dialogue: 0,0:22:01.30,0:22:02.21,Default,,0,0,0,,SceneView session.
Dialogue: 0,0:22:04.12,0:22:05.07,Default,,0,0,0,,Next, I'm going to update the
Dialogue: 0,0:22:05.15,0:22:06.10,Default,,0,0,0,,plane node's transform
Dialogue: 0,0:22:08.30,0:22:10.16,Default,,0,0,0,,in order to use the transform of
Dialogue: 0,0:22:10.22,0:22:11.00,Default,,0,0,0,,my camera.
Dialogue: 0,0:22:15.08,0:22:16.35,Default,,0,0,0,,So here you'll notice the first
Dialogue: 0,0:22:16.35,0:22:17.61,Default,,0,0,0,,thing I do I actually create the
Dialogue: 0,0:22:17.61,0:22:18.55,Default,,0,0,0,,translation matrix.
Dialogue: 0,0:22:19.04,0:22:20.10,Default,,0,0,0,,Because I don't want to put the
Dialogue: 0,0:22:20.10,0:22:20.97,Default,,0,0,0,,image plane right where the
Dialogue: 0,0:22:20.97,0:22:22.41,Default,,0,0,0,,camera's located and obstruct my
Dialogue: 0,0:22:22.41,0:22:23.59,Default,,0,0,0,,view, I want to place it in
Dialogue: 0,0:22:23.59,0:22:24.30,Default,,0,0,0,,front of the camera.
Dialogue: 0,0:22:24.80,0:22:25.72,Default,,0,0,0,,So for this I'm going to use the
Dialogue: 0,0:22:25.72,0:22:27.58,Default,,0,0,0,,negative z-axis as a
Dialogue: 0,0:22:27.58,0:22:28.29,Default,,0,0,0,,translation.
Dialogue: 0,0:22:29.28,0:22:30.69,Default,,0,0,0,,You'll also see that in order to
Dialogue: 0,0:22:30.69,0:22:32.46,Default,,0,0,0,,get some scale, everything is in
Dialogue: 0,0:22:32.46,0:22:32.83,Default,,0,0,0,,meters.
Dialogue: 0,0:22:32.83,0:22:34.64,Default,,0,0,0,,So I'm going to use .1 to
Dialogue: 0,0:22:34.64,0:22:36.30,Default,,0,0,0,,represent 10 centimeters in
Dialogue: 0,0:22:36.30,0:22:37.43,Default,,0,0,0,,front of my camera.
Dialogue: 0,0:22:37.96,0:22:39.13,Default,,0,0,0,,By multiplying this together
Dialogue: 0,0:22:39.28,0:22:41.04,Default,,0,0,0,,with my camera's transform and
Dialogue: 0,0:22:41.04,0:22:42.75,Default,,0,0,0,,applying this to my plane node,
Dialogue: 0,0:22:43.29,0:22:44.45,Default,,0,0,0,,this will be an image plane
Dialogue: 0,0:22:44.82,0:22:46.21,Default,,0,0,0,,located 10 centimeters in front
Dialogue: 0,0:22:46.21,0:22:46.62,Default,,0,0,0,,of the camera.
Dialogue: 0,0:22:47.84,0:22:48.94,Default,,0,0,0,,So let's try this out and see
Dialogue: 0,0:22:48.94,0:22:50.00,Default,,0,0,0,,what it looks like.
Dialogue: 0,0:22:58.42,0:23:00.05,Default,,0,0,0,,So, as you see here again, I
Dialogue: 0,0:23:00.05,0:23:01.88,Default,,0,0,0,,have the camera scene running.
Dialogue: 0,0:23:01.88,0:23:03.67,Default,,0,0,0,,And I have my spaceship floating
Dialogue: 0,0:23:03.67,0:23:04.16,Default,,0,0,0,,in space.
Dialogue: 0,0:23:06.46,0:23:07.94,Default,,0,0,0,,Now, if I tap the screen maybe
Dialogue: 0,0:23:08.01,0:23:10.49,Default,,0,0,0,,here, here and here, you'll see
Dialogue: 0,0:23:10.49,0:23:12.09,Default,,0,0,0,,that it leaves a snapshot or an
Dialogue: 0,0:23:12.09,0:23:13.54,Default,,0,0,0,,image floating in space where I
Dialogue: 0,0:23:13.54,0:23:13.98,Default,,0,0,0,,took it.
Dialogue: 0,0:23:14.52,0:23:21.85,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:23:22.35,0:23:23.28,Default,,0,0,0,,This shows just one of the
Dialogue: 0,0:23:23.35,0:23:24.72,Default,,0,0,0,,possibilities that you can use
Dialogue: 0,0:23:24.83,0:23:25.47,Default,,0,0,0,,ARKit for.
Dialogue: 0,0:23:25.56,0:23:27.50,Default,,0,0,0,,And it really makes for a cool
Dialogue: 0,0:23:27.66,0:23:28.36,Default,,0,0,0,,experience.
Dialogue: 0,0:23:28.75,0:23:31.00,Default,,0,0,0,,Thank you.
Dialogue: 0,0:23:31.00,0:23:32.14,Default,,0,0,0,,And that's using ARKit.
Dialogue: 0,0:23:33.52,0:23:40.71,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:23:41.21,0:23:43.03,Default,,0,0,0,,So, now that you've seen a demo
Dialogue: 0,0:23:43.03,0:23:44.75,Default,,0,0,0,,using ARKit's tracking, let's
Dialogue: 0,0:23:44.75,0:23:45.92,Default,,0,0,0,,talk about getting the best
Dialogue: 0,0:23:45.92,0:23:47.09,Default,,0,0,0,,quality from your tracking
Dialogue: 0,0:23:47.09,0:23:47.55,Default,,0,0,0,,results.
Dialogue: 0,0:23:49.02,0:23:50.39,Default,,0,0,0,,First thing to note is that
Dialogue: 0,0:23:50.39,0:23:51.96,Default,,0,0,0,,tracking relies on uninterrupted
Dialogue: 0,0:23:51.96,0:23:52.49,Default,,0,0,0,,sensor data.
Dialogue: 0,0:23:52.84,0:23:54.26,Default,,0,0,0,,This just means if camera images
Dialogue: 0,0:23:54.26,0:23:55.47,Default,,0,0,0,,are no longer being provided to
Dialogue: 0,0:23:55.47,0:23:57.05,Default,,0,0,0,,your session, tracking will
Dialogue: 0,0:23:57.05,0:23:57.40,Default,,0,0,0,,stop.
Dialogue: 0,0:23:57.78,0:24:00.62,Default,,0,0,0,,We'll be unable to track.
Dialogue: 0,0:24:00.62,0:24:02.12,Default,,0,0,0,,Next, tracking works best in
Dialogue: 0,0:24:02.12,0:24:03.39,Default,,0,0,0,,well-textured environments.
Dialogue: 0,0:24:04.06,0:24:05.49,Default,,0,0,0,,This means we need enough visual
Dialogue: 0,0:24:05.49,0:24:07.03,Default,,0,0,0,,complexity in order to find
Dialogue: 0,0:24:07.03,0:24:08.25,Default,,0,0,0,,features from your camera
Dialogue: 0,0:24:08.25,0:24:08.56,Default,,0,0,0,,images.
Dialogue: 0,0:24:09.24,0:24:11.04,Default,,0,0,0,,So if I'm facing a white wall or
Dialogue: 0,0:24:11.04,0:24:11.98,Default,,0,0,0,,if there's not enough light in
Dialogue: 0,0:24:11.98,0:24:13.37,Default,,0,0,0,,the room, I will be unable to
Dialogue: 0,0:24:13.41,0:24:14.62,Default,,0,0,0,,find features.
Dialogue: 0,0:24:14.88,0:24:15.97,Default,,0,0,0,,And tracking will be limited.
Dialogue: 0,0:24:16.36,0:24:19.06,Default,,0,0,0,,Next, tracking also works best
Dialogue: 0,0:24:19.06,0:24:20.03,Default,,0,0,0,,in static scenes.
Dialogue: 0,0:24:20.42,0:24:21.56,Default,,0,0,0,,So if too much of what my camera
Dialogue: 0,0:24:21.56,0:24:23.68,Default,,0,0,0,,sees is moving, visual data
Dialogue: 0,0:24:23.68,0:24:25.09,Default,,0,0,0,,won't correspond to motion data,
Dialogue: 0,0:24:25.43,0:24:27.06,Default,,0,0,0,,which may result in drift, which
Dialogue: 0,0:24:27.06,0:24:28.51,Default,,0,0,0,,is also a limited tracking
Dialogue: 0,0:24:28.51,0:24:28.83,Default,,0,0,0,,state.
Dialogue: 0,0:24:29.80,0:24:31.58,Default,,0,0,0,,So to help with these, ARCamera
Dialogue: 0,0:24:31.68,0:24:33.72,Default,,0,0,0,,provides a tracking state
Dialogue: 0,0:24:33.77,0:24:34.16,Default,,0,0,0,,property.
Dialogue: 0,0:24:35.79,0:24:37.12,Default,,0,0,0,,Tracking state has three
Dialogue: 0,0:24:37.12,0:24:39.41,Default,,0,0,0,,possible values: Not Available,
Dialogue: 0,0:24:39.99,0:24:41.23,Default,,0,0,0,,Normal, and Limited.
Dialogue: 0,0:24:42.04,0:24:42.92,Default,,0,0,0,,When you first start your
Dialogue: 0,0:24:42.92,0:24:44.89,Default,,0,0,0,,session, it begins in Not
Dialogue: 0,0:24:44.89,0:24:45.31,Default,,0,0,0,,Available.
Dialogue: 0,0:24:45.83,0:24:46.55,Default,,0,0,0,,This just means that your
Dialogue: 0,0:24:46.55,0:24:48.02,Default,,0,0,0,,camera's transform has not yet
Dialogue: 0,0:24:48.02,0:24:49.62,Default,,0,0,0,,been populated and is the
Dialogue: 0,0:24:49.62,0:24:50.47,Default,,0,0,0,,identity matrix.
Dialogue: 0,0:24:51.90,0:24:53.45,Default,,0,0,0,,Soon after, once we find our
Dialogue: 0,0:24:53.45,0:24:55.08,Default,,0,0,0,,first tracking pose, the state
Dialogue: 0,0:24:55.08,0:24:56.33,Default,,0,0,0,,will change from Not Available
Dialogue: 0,0:24:56.87,0:24:57.29,Default,,0,0,0,,to Normal.
Dialogue: 0,0:24:58.23,0:24:59.38,Default,,0,0,0,,This signifies that you can now
Dialogue: 0,0:24:59.38,0:25:00.96,Default,,0,0,0,,use your camera's transform.
Dialogue: 0,0:25:01.34,0:25:04.60,Default,,0,0,0,,If at any later point after this
Dialogue: 0,0:25:04.73,0:25:05.90,Default,,0,0,0,,tracing becomes limited,
Dialogue: 0,0:25:06.07,0:25:07.38,Default,,0,0,0,,tracking state will change from
Dialogue: 0,0:25:07.38,0:25:09.79,Default,,0,0,0,,Normal to Limited, and also
Dialogue: 0,0:25:09.79,0:25:10.58,Default,,0,0,0,,provide a reason.
Dialogue: 0,0:25:11.09,0:25:12.11,Default,,0,0,0,,So, the reason in this case,
Dialogue: 0,0:25:12.11,0:25:13.36,Default,,0,0,0,,because I'm facing a white wall
Dialogue: 0,0:25:13.36,0:25:14.79,Default,,0,0,0,,or there's not enough light, is
Dialogue: 0,0:25:14.84,0:25:15.90,Default,,0,0,0,,Insufficient Features.
Dialogue: 0,0:25:15.90,0:25:18.78,Default,,0,0,0,,It's helpful to notify your
Dialogue: 0,0:25:18.78,0:25:19.93,Default,,0,0,0,,users when this happens.
Dialogue: 0,0:25:20.16,0:25:21.82,Default,,0,0,0,,So, to do that, we're providing
Dialogue: 0,0:25:22.47,0:25:23.74,Default,,0,0,0,,a session delegate method that
Dialogue: 0,0:25:23.74,0:25:24.28,Default,,0,0,0,,you can implement:
Dialogue: 0,0:25:24.73,0:25:26.13,Default,,0,0,0,,cameraDidChangeTrackingState.
Dialogue: 0,0:25:26.96,0:25:28.00,Default,,0,0,0,,So when this happens, you can
Dialogue: 0,0:25:28.00,0:25:29.69,Default,,0,0,0,,get the tracking state, if it's
Dialogue: 0,0:25:29.69,0:25:31.30,Default,,0,0,0,,limited, as well as the reason.
Dialogue: 0,0:25:32.44,0:25:33.72,Default,,0,0,0,,And from this you'll notify your
Dialogue: 0,0:25:33.72,0:25:34.09,Default,,0,0,0,,users.
Dialogue: 0,0:25:34.13,0:25:35.22,Default,,0,0,0,,Because they're the only ones
Dialogue: 0,0:25:35.27,0:25:36.68,Default,,0,0,0,,that can actually fix the
Dialogue: 0,0:25:36.68,0:25:38.32,Default,,0,0,0,,tracking situation by either
Dialogue: 0,0:25:38.32,0:25:40.00,Default,,0,0,0,,turning the lights up or not
Dialogue: 0,0:25:40.00,0:25:40.84,Default,,0,0,0,,facing a white wall.
Dialogue: 0,0:25:41.38,0:25:46.01,Default,,0,0,0,,The other part is if sensor data
Dialogue: 0,0:25:46.01,0:25:46.86,Default,,0,0,0,,becomes unavailable.
Dialogue: 0,0:25:47.90,0:25:49.25,Default,,0,0,0,,So, for this, we handle this by
Dialogue: 0,0:25:49.25,0:25:50.29,Default,,0,0,0,,session interruptions.
Dialogue: 0,0:25:51.45,0:25:52.71,Default,,0,0,0,,So, if your camera input is
Dialogue: 0,0:25:52.71,0:25:54.40,Default,,0,0,0,,unavailable due to -- the main
Dialogue: 0,0:25:54.40,0:25:55.42,Default,,0,0,0,,reasons being your app gets
Dialogue: 0,0:25:55.42,0:25:56.91,Default,,0,0,0,,backgrounded or maybe you're
Dialogue: 0,0:25:56.91,0:25:59.15,Default,,0,0,0,,doing multitasking on an iPad,
Dialogue: 0,0:25:59.15,0:26:00.58,Default,,0,0,0,,camera images also won't be
Dialogue: 0,0:26:00.58,0:26:01.51,Default,,0,0,0,,provided to your session.
Dialogue: 0,0:26:02.23,0:26:03.38,Default,,0,0,0,,In this case tracking will
Dialogue: 0,0:26:03.38,0:26:05.46,Default,,0,0,0,,become unavailable or stopped
Dialogue: 0,0:26:05.59,0:26:06.85,Default,,0,0,0,,and your session will be
Dialogue: 0,0:26:06.85,0:26:07.37,Default,,0,0,0,,interrupted.
Dialogue: 0,0:26:07.74,0:26:09.01,Default,,0,0,0,,So, to deal with this, we also
Dialogue: 0,0:26:09.01,0:26:11.00,Default,,0,0,0,,provide delegate methods to make
Dialogue: 0,0:26:11.00,0:26:11.66,Default,,0,0,0,,it really easy.
Dialogue: 0,0:26:12.67,0:26:15.09,Default,,0,0,0,,Here it's a good idea to present
Dialogue: 0,0:26:15.09,0:26:16.23,Default,,0,0,0,,an overlay or maybe blur your
Dialogue: 0,0:26:16.23,0:26:17.70,Default,,0,0,0,,screen to signify to the user
Dialogue: 0,0:26:18.02,0:26:18.88,Default,,0,0,0,,that your experience is
Dialogue: 0,0:26:18.88,0:26:20.63,Default,,0,0,0,,currently paused and no tracking
Dialogue: 0,0:26:20.63,0:26:21.17,Default,,0,0,0,,is occurring.
Dialogue: 0,0:26:22.06,0:26:23.64,Default,,0,0,0,,During an interruption, it's
Dialogue: 0,0:26:23.64,0:26:26.01,Default,,0,0,0,,also important to note that
Dialogue: 0,0:26:26.16,0:26:27.00,Default,,0,0,0,,because no tracking is
Dialogue: 0,0:26:27.00,0:26:28.70,Default,,0,0,0,,happening, the relative position
Dialogue: 0,0:26:28.70,0:26:29.66,Default,,0,0,0,,of your device won't be
Dialogue: 0,0:26:29.66,0:26:30.08,Default,,0,0,0,,available.
Dialogue: 0,0:26:30.70,0:26:32.41,Default,,0,0,0,,So if you had anchors or
Dialogue: 0,0:26:32.41,0:26:33.87,Default,,0,0,0,,physical locations in the scene,
Dialogue: 0,0:26:34.29,0:26:35.81,Default,,0,0,0,,they may no longer be aligned if
Dialogue: 0,0:26:35.81,0:26:36.97,Default,,0,0,0,,there was movement during this
Dialogue: 0,0:26:36.97,0:26:37.49,Default,,0,0,0,,interruption.
Dialogue: 0,0:26:38.70,0:26:39.92,Default,,0,0,0,,So for this, you may want to
Dialogue: 0,0:26:40.10,0:26:41.05,Default,,0,0,0,,optionally restart your
Dialogue: 0,0:26:41.05,0:26:42.41,Default,,0,0,0,,experience when you come back
Dialogue: 0,0:26:42.41,0:26:43.10,Default,,0,0,0,,from an interruption.
Dialogue: 0,0:26:43.10,0:26:47.03,Default,,0,0,0,,And so that's tracking.
Dialogue: 0,0:26:47.03,0:26:49.40,Default,,0,0,0,,Let's go ahead and hand it over
Dialogue: 0,0:26:49.40,0:26:50.59,Default,,0,0,0,,to Stefan to talk about scene
Dialogue: 0,0:26:50.59,0:26:51.09,Default,,0,0,0,,understanding.
Dialogue: 0,0:26:51.09,0:26:51.48,Default,,0,0,0,,Thank you.
Dialogue: 0,0:26:52.52,0:26:57.40,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:26:57.90,0:26:58.35,Default,,0,0,0,,>> Thank you, Mike.
Dialogue: 0,0:26:59.70,0:27:00.73,Default,,0,0,0,,Good afternoon everyone.
Dialogue: 0,0:27:01.32,0:27:02.46,Default,,0,0,0,,My name is Stefan Misslinger.
Dialogue: 0,0:27:02.64,0:27:03.97,Default,,0,0,0,,I'm an engineer on the ARKit
Dialogue: 0,0:27:03.97,0:27:04.32,Default,,0,0,0,,team.
Dialogue: 0,0:27:04.73,0:27:05.72,Default,,0,0,0,,And next we're going to talk
Dialogue: 0,0:27:05.72,0:27:06.86,Default,,0,0,0,,about scene understanding.
Dialogue: 0,0:27:07.25,0:27:08.48,Default,,0,0,0,,So the goal of scene
Dialogue: 0,0:27:08.48,0:27:09.78,Default,,0,0,0,,understanding is to find out
Dialogue: 0,0:27:09.83,0:27:11.59,Default,,0,0,0,,more about our environment in
Dialogue: 0,0:27:11.59,0:27:13.20,Default,,0,0,0,,order to place virtual objects
Dialogue: 0,0:27:13.28,0:27:14.35,Default,,0,0,0,,into this environment.
Dialogue: 0,0:27:15.12,0:27:16.69,Default,,0,0,0,,This includes information like
Dialogue: 0,0:27:16.75,0:27:18.19,Default,,0,0,0,,the 3-D topology of our
Dialogue: 0,0:27:18.19,0:27:19.81,Default,,0,0,0,,environment as well as the
Dialogue: 0,0:27:19.81,0:27:21.71,Default,,0,0,0,,lighting situation in order to
Dialogue: 0,0:27:22.02,0:27:24.26,Default,,0,0,0,,realistically place an object
Dialogue: 0,0:27:24.26,0:27:24.47,Default,,0,0,0,,there.
Dialogue: 0,0:27:24.54,0:27:27.65,Default,,0,0,0,,Let's look at an example of this
Dialogue: 0,0:27:27.65,0:27:28.24,Default,,0,0,0,,table here.
Dialogue: 0,0:27:29.18,0:27:30.63,Default,,0,0,0,,If you want to place an object,
Dialogue: 0,0:27:30.73,0:27:32.09,Default,,0,0,0,,a virtual object, onto this
Dialogue: 0,0:27:32.09,0:27:33.50,Default,,0,0,0,,table, the first thing we need
Dialogue: 0,0:27:33.50,0:27:35.01,Default,,0,0,0,,to know is that there is a
Dialogue: 0,0:27:35.01,0:27:36.37,Default,,0,0,0,,surface on which we can place
Dialogue: 0,0:27:36.37,0:27:36.77,Default,,0,0,0,,something.
Dialogue: 0,0:27:37.52,0:27:39.39,Default,,0,0,0,,And this is done by using plane
Dialogue: 0,0:27:39.39,0:27:39.85,Default,,0,0,0,,detection.
Dialogue: 0,0:27:41.36,0:27:43.63,Default,,0,0,0,,Second, we need to figure out a
Dialogue: 0,0:27:43.63,0:27:46.24,Default,,0,0,0,,3-D coordinate on which we place
Dialogue: 0,0:27:46.24,0:27:47.15,Default,,0,0,0,,our virtual object.
Dialogue: 0,0:27:47.73,0:27:49.30,Default,,0,0,0,,In order to find this we are
Dialogue: 0,0:27:49.30,0:27:50.43,Default,,0,0,0,,using hit-testing.
Dialogue: 0,0:27:51.01,0:27:52.74,Default,,0,0,0,,This involves sending a ray from
Dialogue: 0,0:27:52.74,0:27:54.56,Default,,0,0,0,,our device and intersecting it
Dialogue: 0,0:27:54.56,0:27:55.78,Default,,0,0,0,,with the real world in order to
Dialogue: 0,0:27:55.78,0:27:56.85,Default,,0,0,0,,find this coordinate.
Dialogue: 0,0:27:57.32,0:28:01.29,Default,,0,0,0,,And third, in order to place
Dialogue: 0,0:28:01.51,0:28:03.41,Default,,0,0,0,,this object in a realistic way
Dialogue: 0,0:28:03.76,0:28:06.08,Default,,0,0,0,,we need a light estimation to
Dialogue: 0,0:28:06.08,0:28:07.42,Default,,0,0,0,,match the lighting of our
Dialogue: 0,0:28:07.42,0:28:07.99,Default,,0,0,0,,environment.
Dialogue: 0,0:28:08.90,0:28:10.11,Default,,0,0,0,,Let's have a look at each one of
Dialogue: 0,0:28:10.11,0:28:11.89,Default,,0,0,0,,those three things starting with
Dialogue: 0,0:28:11.89,0:28:12.58,Default,,0,0,0,,plane detection.
Dialogue: 0,0:28:13.07,0:28:15.81,Default,,0,0,0,,So, plane detection provides you
Dialogue: 0,0:28:15.81,0:28:17.56,Default,,0,0,0,,with horizontal planes with
Dialogue: 0,0:28:17.56,0:28:18.64,Default,,0,0,0,,respect to gravity.
Dialogue: 0,0:28:19.53,0:28:20.82,Default,,0,0,0,,This includes planes like the
Dialogue: 0,0:28:20.82,0:28:22.41,Default,,0,0,0,,ground plane as well as any
Dialogue: 0,0:28:22.41,0:28:25.15,Default,,0,0,0,,parallel planes like tables.
Dialogue: 0,0:28:25.59,0:28:28.54,Default,,0,0,0,,ARKit does this by aggregating
Dialogue: 0,0:28:28.54,0:28:30.36,Default,,0,0,0,,information over multiple frames
Dialogue: 0,0:28:30.88,0:28:32.12,Default,,0,0,0,,so it runs in the background.
Dialogue: 0,0:28:32.67,0:28:34.35,Default,,0,0,0,,And as the user moves their
Dialogue: 0,0:28:34.35,0:28:35.75,Default,,0,0,0,,device around the scene, it
Dialogue: 0,0:28:35.75,0:28:37.34,Default,,0,0,0,,learns more about this plane.
Dialogue: 0,0:28:38.82,0:28:42.22,Default,,0,0,0,,This also allows us to retrieve
Dialogue: 0,0:28:42.22,0:28:44.01,Default,,0,0,0,,an aligned extent of this plane,
Dialogue: 0,0:28:44.11,0:28:45.77,Default,,0,0,0,,which means that we're fitting a
Dialogue: 0,0:28:45.77,0:28:47.72,Default,,0,0,0,,rectangle around all detected
Dialogue: 0,0:28:47.84,0:28:50.17,Default,,0,0,0,,parts of this plane and align it
Dialogue: 0,0:28:50.24,0:28:51.33,Default,,0,0,0,,with the major extent.
Dialogue: 0,0:28:51.61,0:28:54.05,Default,,0,0,0,,So this gives you an idea of the
Dialogue: 0,0:28:54.05,0:28:55.89,Default,,0,0,0,,major orientation of a physical
Dialogue: 0,0:28:55.92,0:28:56.22,Default,,0,0,0,,plane.
Dialogue: 0,0:28:58.10,0:28:59.94,Default,,0,0,0,,Furthermore, if there are
Dialogue: 0,0:28:59.94,0:29:01.63,Default,,0,0,0,,multiple virtual planes detected
Dialogue: 0,0:29:01.63,0:29:02.90,Default,,0,0,0,,for the same physical plane,
Dialogue: 0,0:29:02.96,0:29:04.63,Default,,0,0,0,,ARKit will handle merging those
Dialogue: 0,0:29:04.63,0:29:05.04,Default,,0,0,0,,together.
Dialogue: 0,0:29:06.28,0:29:08.36,Default,,0,0,0,,Then the combined plane will
Dialogue: 0,0:29:08.36,0:29:11.46,Default,,0,0,0,,grow to the extent of both
Dialogue: 0,0:29:11.46,0:29:13.44,Default,,0,0,0,,planes, hence the newer plane
Dialogue: 0,0:29:13.44,0:29:14.31,Default,,0,0,0,,will be removed from the
Dialogue: 0,0:29:14.31,0:29:14.69,Default,,0,0,0,,session.
Dialogue: 0,0:29:15.23,0:29:17.15,Default,,0,0,0,,Let's have a look at how it's
Dialogue: 0,0:29:17.15,0:29:17.95,Default,,0,0,0,,used as in code.
Dialogue: 0,0:29:19.94,0:29:21.99,Default,,0,0,0,,The first thing you want to do
Dialogue: 0,0:29:22.17,0:29:23.63,Default,,0,0,0,,is create an ARWorldTracking
Dialogue: 0,0:29:23.63,0:29:24.68,Default,,0,0,0,,session configuration.
Dialogue: 0,0:29:25.67,0:29:26.64,Default,,0,0,0,,And plane detection is a
Dialogue: 0,0:29:26.64,0:29:28.22,Default,,0,0,0,,property you can set on an
Dialogue: 0,0:29:28.22,0:29:29.48,Default,,0,0,0,,ARWorldTracking session
Dialogue: 0,0:29:29.48,0:29:30.21,Default,,0,0,0,,configuration.
Dialogue: 0,0:29:30.58,0:29:32.00,Default,,0,0,0,,So, to enable plane detection,
Dialogue: 0,0:29:32.40,0:29:33.72,Default,,0,0,0,,you simple set the plane
Dialogue: 0,0:29:33.72,0:29:34.88,Default,,0,0,0,,detection property to
Dialogue: 0,0:29:34.88,0:29:35.50,Default,,0,0,0,,Horizontal.
Dialogue: 0,0:29:36.75,0:29:38.51,Default,,0,0,0,,After that, you pass the
Dialogue: 0,0:29:38.51,0:29:40.11,Default,,0,0,0,,configuration back to the
Dialogue: 0,0:29:40.17,0:29:41.34,Default,,0,0,0,,ARSession by calling the Run
Dialogue: 0,0:29:41.34,0:29:41.76,Default,,0,0,0,,method.
Dialogue: 0,0:29:42.10,0:29:43.64,Default,,0,0,0,,And it will start detecting
Dialogue: 0,0:29:43.64,0:29:44.84,Default,,0,0,0,,planes in your environment.
Dialogue: 0,0:29:47.18,0:29:48.69,Default,,0,0,0,,If you want to turn off plane
Dialogue: 0,0:29:48.69,0:29:52.00,Default,,0,0,0,,detection, we simply set the
Dialogue: 0,0:29:52.00,0:29:53.31,Default,,0,0,0,,plane detection property to
Dialogue: 0,0:29:53.31,0:29:53.67,Default,,0,0,0,,None.
Dialogue: 0,0:29:54.18,0:29:56.41,Default,,0,0,0,,And then call the Run method on
Dialogue: 0,0:29:56.47,0:29:57.27,Default,,0,0,0,,ARSession again.
Dialogue: 0,0:29:58.08,0:29:59.59,Default,,0,0,0,,Any previously detected planes
Dialogue: 0,0:29:59.75,0:30:01.12,Default,,0,0,0,,in the session will remain.
Dialogue: 0,0:30:01.31,0:30:03.67,Default,,0,0,0,,That means they will be still
Dialogue: 0,0:30:03.67,0:30:06.23,Default,,0,0,0,,present in our ARFrames anchors.
Dialogue: 0,0:30:07.92,0:30:10.23,Default,,0,0,0,,So whenever a new plane has been
Dialogue: 0,0:30:10.23,0:30:12.31,Default,,0,0,0,,detected, they will be surfaced
Dialogue: 0,0:30:12.31,0:30:13.76,Default,,0,0,0,,to you as ARPlaneAnchors.
Dialogue: 0,0:30:15.05,0:30:17.16,Default,,0,0,0,,An ARPlaneAnchor is a subclass
Dialogue: 0,0:30:17.16,0:30:18.87,Default,,0,0,0,,of an ARAnchor, which means it
Dialogue: 0,0:30:18.87,0:30:20.64,Default,,0,0,0,,represents a real-world position
Dialogue: 0,0:30:20.64,0:30:21.48,Default,,0,0,0,,and orientation.
Dialogue: 0,0:30:23.20,0:30:24.77,Default,,0,0,0,,Whenever a new anchor is being
Dialogue: 0,0:30:24.77,0:30:26.65,Default,,0,0,0,,detected you will receive a
Dialogue: 0,0:30:26.65,0:30:28.60,Default,,0,0,0,,delegate call session didAdd
Dialogue: 0,0:30:28.60,0:30:29.06,Default,,0,0,0,,anchor.
Dialogue: 0,0:30:29.72,0:30:31.06,Default,,0,0,0,,And you can use that, for
Dialogue: 0,0:30:31.06,0:30:32.26,Default,,0,0,0,,example, to visualize your
Dialogue: 0,0:30:32.26,0:30:32.61,Default,,0,0,0,,plane.
Dialogue: 0,0:30:34.06,0:30:35.43,Default,,0,0,0,,The extent of the plane will be
Dialogue: 0,0:30:35.43,0:30:40.06,Default,,0,0,0,,surfaced to you as the extent,
Dialogue: 0,0:30:40.06,0:30:41.79,Default,,0,0,0,,which is in respect to a center
Dialogue: 0,0:30:41.79,0:30:42.37,Default,,0,0,0,,property.
Dialogue: 0,0:30:42.97,0:30:46.26,Default,,0,0,0,,So as the user moves the device
Dialogue: 0,0:30:46.26,0:30:47.89,Default,,0,0,0,,around the scene, we'll learn
Dialogue: 0,0:30:47.89,0:30:49.27,Default,,0,0,0,,more about this plane and can
Dialogue: 0,0:30:49.27,0:30:50.19,Default,,0,0,0,,update its extent.
Dialogue: 0,0:30:50.19,0:30:53.68,Default,,0,0,0,,When this happens you will
Dialogue: 0,0:30:53.68,0:30:55.32,Default,,0,0,0,,receive a delegate session
Dialogue: 0,0:30:55.32,0:30:57.32,Default,,0,0,0,,didUpdate frame -- or didUpdate
Dialogue: 0,0:30:57.32,0:30:57.68,Default,,0,0,0,,anchor.
Dialogue: 0,0:30:58.80,0:31:00.73,Default,,0,0,0,,And you can use that to update
Dialogue: 0,0:31:00.73,0:31:01.56,Default,,0,0,0,,your visualization.
Dialogue: 0,0:31:02.57,0:31:04.10,Default,,0,0,0,,Notice how the center property
Dialogue: 0,0:31:04.10,0:31:06.31,Default,,0,0,0,,actually moved because the plane
Dialogue: 0,0:31:06.31,0:31:07.66,Default,,0,0,0,,grew more into one direction
Dialogue: 0,0:31:07.66,0:31:08.13,Default,,0,0,0,,than another.
Dialogue: 0,0:31:11.02,0:31:13.16,Default,,0,0,0,,Whenever an anchor is being
Dialogue: 0,0:31:13.16,0:31:14.64,Default,,0,0,0,,removed from the session, you
Dialogue: 0,0:31:14.64,0:31:16.08,Default,,0,0,0,,will receive a delegate called
Dialogue: 0,0:31:16.08,0:31:17.49,Default,,0,0,0,,session didRemove anchor.
Dialogue: 0,0:31:18.57,0:31:21.22,Default,,0,0,0,,This can happen if ARKits merges
Dialogue: 0,0:31:21.36,0:31:22.99,Default,,0,0,0,,planes together and removes one
Dialogue: 0,0:31:22.99,0:31:23.91,Default,,0,0,0,,of them as a result.
Dialogue: 0,0:31:24.65,0:31:26.88,Default,,0,0,0,,In that case, you will receive a
Dialogue: 0,0:31:26.88,0:31:28.62,Default,,0,0,0,,delegate call session didRemove
Dialogue: 0,0:31:28.62,0:31:30.18,Default,,0,0,0,,anchor, and you can update your
Dialogue: 0,0:31:30.18,0:31:31.41,Default,,0,0,0,,visualization accordingly.
Dialogue: 0,0:31:31.99,0:31:35.29,Default,,0,0,0,,So now that we have an idea of
Dialogue: 0,0:31:35.36,0:31:36.63,Default,,0,0,0,,where there are planes in our
Dialogue: 0,0:31:36.63,0:31:38.07,Default,,0,0,0,,environment, let's have a look
Dialogue: 0,0:31:38.07,0:31:39.22,Default,,0,0,0,,at how to actually place
Dialogue: 0,0:31:39.28,0:31:40.12,Default,,0,0,0,,something into this.
Dialogue: 0,0:31:40.54,0:31:42.22,Default,,0,0,0,,And for this we provide
Dialogue: 0,0:31:42.28,0:31:42.88,Default,,0,0,0,,hit-testing.
Dialogue: 0,0:31:43.43,0:31:47.17,Default,,0,0,0,,So hit-testing involves sending
Dialogue: 0,0:31:47.17,0:31:48.41,Default,,0,0,0,,or intersecting a ray
Dialogue: 0,0:31:48.41,0:31:49.91,Default,,0,0,0,,originating from your device
Dialogue: 0,0:31:49.91,0:31:52.02,Default,,0,0,0,,with the real world and finding
Dialogue: 0,0:31:52.02,0:31:52.93,Default,,0,0,0,,the intersection point.
Dialogue: 0,0:31:55.32,0:31:56.93,Default,,0,0,0,,ARKit uses all the scene
Dialogue: 0,0:31:56.93,0:31:58.68,Default,,0,0,0,,information available, which
Dialogue: 0,0:31:58.68,0:32:01.01,Default,,0,0,0,,includes any detected planes as
Dialogue: 0,0:32:01.01,0:32:02.48,Default,,0,0,0,,well as the 3-D feature points
Dialogue: 0,0:32:02.55,0:32:04.85,Default,,0,0,0,,that ARWorldTracking is using to
Dialogue: 0,0:32:04.97,0:32:06.06,Default,,0,0,0,,figure out its position.
Dialogue: 0,0:32:06.52,0:32:10.93,Default,,0,0,0,,ARKit will then intersect our
Dialogue: 0,0:32:10.93,0:32:15.60,Default,,0,0,0,,ray with all information that is
Dialogue: 0,0:32:15.60,0:32:17.56,Default,,0,0,0,,available and return all
Dialogue: 0,0:32:17.56,0:32:19.20,Default,,0,0,0,,intersection points as an array
Dialogue: 0,0:32:19.20,0:32:21.62,Default,,0,0,0,,which is sorted by distance.
Dialogue: 0,0:32:22.23,0:32:23.68,Default,,0,0,0,,So the first entry in this array
Dialogue: 0,0:32:23.68,0:32:25.12,Default,,0,0,0,,will be the closest intersection
Dialogue: 0,0:32:25.12,0:32:25.65,Default,,0,0,0,,to the camera.
Dialogue: 0,0:32:25.74,0:32:30.27,Default,,0,0,0,,And there are different ways on
Dialogue: 0,0:32:30.63,0:32:31.80,Default,,0,0,0,,how you can perform this
Dialogue: 0,0:32:31.80,0:32:32.46,Default,,0,0,0,,intersection.
Dialogue: 0,0:32:32.98,0:32:35.34,Default,,0,0,0,,And you can define this by
Dialogue: 0,0:32:35.54,0:32:37.29,Default,,0,0,0,,providing a hit-test type.
Dialogue: 0,0:32:38.28,0:32:39.82,Default,,0,0,0,,So there are four ways on how to
Dialogue: 0,0:32:39.82,0:32:40.68,Default,,0,0,0,,do this.
Dialogue: 0,0:32:40.68,0:32:43.58,Default,,0,0,0,,Let's have a look.
Dialogue: 0,0:32:43.58,0:32:44.44,Default,,0,0,0,,If you are running plane
Dialogue: 0,0:32:44.44,0:32:46.45,Default,,0,0,0,,detection and ARKit has detected
Dialogue: 0,0:32:46.45,0:32:48.50,Default,,0,0,0,,a plane in our environment, we
Dialogue: 0,0:32:48.50,0:32:50.75,Default,,0,0,0,,can make use of that.
Dialogue: 0,0:32:51.54,0:32:53.38,Default,,0,0,0,,And here you have the choice of
Dialogue: 0,0:32:53.38,0:32:55.30,Default,,0,0,0,,using the extent of the plane or
Dialogue: 0,0:32:55.30,0:32:55.89,Default,,0,0,0,,ignoring it.
Dialogue: 0,0:32:56.95,0:32:59.68,Default,,0,0,0,,So if you want your user to be
Dialogue: 0,0:33:00.25,0:33:03.92,Default,,0,0,0,,able to move an object just on a
Dialogue: 0,0:33:03.92,0:33:05.62,Default,,0,0,0,,plane, you can take the extent
Dialogue: 0,0:33:05.62,0:33:07.37,Default,,0,0,0,,into account, which will mean
Dialogue: 0,0:33:07.37,0:33:09.84,Default,,0,0,0,,that if a ray intersects within
Dialogue: 0,0:33:09.84,0:33:11.32,Default,,0,0,0,,its extent, it will provide you
Dialogue: 0,0:33:11.32,0:33:12.22,Default,,0,0,0,,with an intersection.
Dialogue: 0,0:33:12.94,0:33:14.77,Default,,0,0,0,,If the ray hits outside of this,
Dialogue: 0,0:33:15.21,0:33:16.01,Default,,0,0,0,,it will not give you an
Dialogue: 0,0:33:16.01,0:33:16.59,Default,,0,0,0,,intersection.
Dialogue: 0,0:33:17.16,0:33:21.02,Default,,0,0,0,,In the case of, for example,
Dialogue: 0,0:33:21.02,0:33:23.30,Default,,0,0,0,,moving furniture around, or when
Dialogue: 0,0:33:23.30,0:33:24.84,Default,,0,0,0,,you only have detected a small
Dialogue: 0,0:33:24.84,0:33:26.67,Default,,0,0,0,,part of the ground plane, we can
Dialogue: 0,0:33:26.67,0:33:28.39,Default,,0,0,0,,choose to ignore this extent and
Dialogue: 0,0:33:28.39,0:33:29.90,Default,,0,0,0,,treat an existing plane as
Dialogue: 0,0:33:29.90,0:33:30.74,Default,,0,0,0,,infinite plane.
Dialogue: 0,0:33:31.92,0:33:33.14,Default,,0,0,0,,In that case you will always
Dialogue: 0,0:33:33.14,0:33:34.26,Default,,0,0,0,,receive an intersection.
Dialogue: 0,0:33:34.73,0:33:37.68,Default,,0,0,0,,And you can just use a patch of
Dialogue: 0,0:33:37.68,0:33:39.64,Default,,0,0,0,,the real world, but let your
Dialogue: 0,0:33:39.64,0:33:43.89,Default,,0,0,0,,users move an object along this
Dialogue: 0,0:33:45.30,0:33:45.44,Default,,0,0,0,,plane.
Dialogue: 0,0:33:45.61,0:33:46.63,Default,,0,0,0,,If you're not running plane
Dialogue: 0,0:33:46.63,0:33:47.97,Default,,0,0,0,,detection or we have not
Dialogue: 0,0:33:47.97,0:33:50.91,Default,,0,0,0,,detected any planes yet, we can
Dialogue: 0,0:33:50.91,0:33:52.85,Default,,0,0,0,,also estimate a plane based on
Dialogue: 0,0:33:52.85,0:33:54.13,Default,,0,0,0,,the 3-D feature points that we
Dialogue: 0,0:33:54.13,0:33:54.79,Default,,0,0,0,,have available.
Dialogue: 0,0:33:56.28,0:33:57.89,Default,,0,0,0,,In that case, ARKit will look
Dialogue: 0,0:33:57.89,0:33:59.61,Default,,0,0,0,,for coplanar points in our
Dialogue: 0,0:33:59.61,0:34:01.37,Default,,0,0,0,,environment and fit a plane into
Dialogue: 0,0:34:01.37,0:34:01.60,Default,,0,0,0,,that.
Dialogue: 0,0:34:02.75,0:34:04.07,Default,,0,0,0,,And after that it will return
Dialogue: 0,0:34:04.07,0:34:05.10,Default,,0,0,0,,you with the intersection of
Dialogue: 0,0:34:05.10,0:34:05.60,Default,,0,0,0,,this plane.
Dialogue: 0,0:34:06.16,0:34:09.74,Default,,0,0,0,,In case you want to place
Dialogue: 0,0:34:09.74,0:34:10.91,Default,,0,0,0,,something on a very small
Dialogue: 0,0:34:10.91,0:34:12.86,Default,,0,0,0,,surface, which does not form a
Dialogue: 0,0:34:12.86,0:34:14.33,Default,,0,0,0,,plane, or you have a very
Dialogue: 0,0:34:14.41,0:34:16.30,Default,,0,0,0,,irregular environment, you can
Dialogue: 0,0:34:16.30,0:34:17.59,Default,,0,0,0,,also choose to intersect with
Dialogue: 0,0:34:17.59,0:34:18.91,Default,,0,0,0,,the feature points directly.
Dialogue: 0,0:34:20.80,0:34:22.73,Default,,0,0,0,,This means that we will find an
Dialogue: 0,0:34:22.73,0:34:24.50,Default,,0,0,0,,intersection along our ray,
Dialogue: 0,0:34:24.72,0:34:26.08,Default,,0,0,0,,which is closest to an existing
Dialogue: 0,0:34:26.08,0:34:27.69,Default,,0,0,0,,feature point, and return this
Dialogue: 0,0:34:27.87,0:34:28.74,Default,,0,0,0,,as the result.
Dialogue: 0,0:34:29.25,0:34:31.57,Default,,0,0,0,,Let's have a look at how this is
Dialogue: 0,0:34:31.80,0:34:32.39,Default,,0,0,0,,done in code.
Dialogue: 0,0:34:32.93,0:34:36.07,Default,,0,0,0,,So the first thing we need to do
Dialogue: 0,0:34:36.42,0:34:37.94,Default,,0,0,0,,is define our ray.
Dialogue: 0,0:34:38.73,0:34:41.54,Default,,0,0,0,,And it intersects on our device.
Dialogue: 0,0:34:42.12,0:34:45.29,Default,,0,0,0,,You provide this as a CG point,
Dialogue: 0,0:34:45.29,0:34:46.59,Default,,0,0,0,,which is represented in
Dialogue: 0,0:34:46.59,0:34:47.74,Default,,0,0,0,,normalized image space
Dialogue: 0,0:34:47.74,0:34:48.35,Default,,0,0,0,,coordinates.
Dialogue: 0,0:34:48.44,0:34:50.17,Default,,0,0,0,,This means the top left of our
Dialogue: 0,0:34:50.17,0:34:51.87,Default,,0,0,0,,image is 0, 0, whereas the
Dialogue: 0,0:34:51.87,0:34:53.33,Default,,0,0,0,,bottom right is 1, 1.
Dialogue: 0,0:34:53.95,0:34:57.62,Default,,0,0,0,,So if we want to send a ray or
Dialogue: 0,0:34:58.02,0:34:59.07,Default,,0,0,0,,find an intersection in the
Dialogue: 0,0:34:59.15,0:35:00.71,Default,,0,0,0,,center of our screen, we would
Dialogue: 0,0:35:00.71,0:35:04.42,Default,,0,0,0,,define as CG points with 0.5 for
Dialogue: 0,0:35:04.42,0:35:05.03,Default,,0,0,0,,x and y.
Dialogue: 0,0:35:05.53,0:35:07.56,Default,,0,0,0,,If you're using SceneKit or
Dialogue: 0,0:35:07.56,0:35:08.85,Default,,0,0,0,,SpriteKit, we're providing a
Dialogue: 0,0:35:08.85,0:35:10.98,Default,,0,0,0,,custom overlay that you can
Dialogue: 0,0:35:10.98,0:35:15.45,Default,,0,0,0,,simply pass a CG point in a few
Dialogue: 0,0:35:15.45,0:35:16.26,Default,,0,0,0,,coordinates.
Dialogue: 0,0:35:16.26,0:35:18.80,Default,,0,0,0,,So you can use the result of a
Dialogue: 0,0:35:18.80,0:35:22.36,Default,,0,0,0,,UI tap over touch gesture as
Dialogue: 0,0:35:22.36,0:35:23.62,Default,,0,0,0,,inputs to define this ray.
Dialogue: 0,0:35:24.13,0:35:27.21,Default,,0,0,0,,So let's pass this point onto
Dialogue: 0,0:35:27.21,0:35:29.49,Default,,0,0,0,,the hit-test method and define
Dialogue: 0,0:35:29.83,0:35:31.12,Default,,0,0,0,,the hit-test types that we want
Dialogue: 0,0:35:31.12,0:35:31.57,Default,,0,0,0,,to use.
Dialogue: 0,0:35:31.79,0:35:33.29,Default,,0,0,0,,In this case we're using exiting
Dialogue: 0,0:35:33.29,0:35:34.46,Default,,0,0,0,,planes, which means it will
Dialogue: 0,0:35:34.46,0:35:36.44,Default,,0,0,0,,intersect with any existing
Dialogue: 0,0:35:36.44,0:35:37.82,Default,,0,0,0,,planes that ARKit has already
Dialogue: 0,0:35:37.82,0:35:39.92,Default,,0,0,0,,detected, as well as estimated
Dialogue: 0,0:35:39.92,0:35:40.85,Default,,0,0,0,,horizontal planes.
Dialogue: 0,0:35:41.13,0:35:42.47,Default,,0,0,0,,So this can be used as a
Dialogue: 0,0:35:42.47,0:35:44.47,Default,,0,0,0,,fallback case in case there are
Dialogue: 0,0:35:44.47,0:35:46.22,Default,,0,0,0,,no planes detected yet.
Dialogue: 0,0:35:46.81,0:35:50.09,Default,,0,0,0,,After that, ARKit will return an
Dialogue: 0,0:35:50.09,0:35:53.80,Default,,0,0,0,,array of results.
Dialogue: 0,0:35:53.80,0:35:55.64,Default,,0,0,0,,And you can access the first
Dialogue: 0,0:35:55.64,0:35:56.68,Default,,0,0,0,,result, which will be the
Dialogue: 0,0:35:56.68,0:35:58.64,Default,,0,0,0,,closest intersection to your
Dialogue: 0,0:35:58.64,0:35:58.98,Default,,0,0,0,,camera.
Dialogue: 0,0:36:01.86,0:36:03.74,Default,,0,0,0,,The intersection points is
Dialogue: 0,0:36:03.74,0:36:05.19,Default,,0,0,0,,contained in the worldTransform
Dialogue: 0,0:36:05.19,0:36:07.10,Default,,0,0,0,,property of our hit-test result.
Dialogue: 0,0:36:07.59,0:36:09.17,Default,,0,0,0,,And we can create a new ARAnchor
Dialogue: 0,0:36:09.17,0:36:11.28,Default,,0,0,0,,based on this result and pass it
Dialogue: 0,0:36:11.28,0:36:12.94,Default,,0,0,0,,back to the session because we
Dialogue: 0,0:36:12.94,0:36:14.57,Default,,0,0,0,,want to keep track of it.
Dialogue: 0,0:36:16.10,0:36:18.13,Default,,0,0,0,,So if we take this code and
Dialogue: 0,0:36:18.13,0:36:20.63,Default,,0,0,0,,would apply it to the scene here
Dialogue: 0,0:36:20.92,0:36:21.98,Default,,0,0,0,,where we point our phone at a
Dialogue: 0,0:36:21.98,0:36:25.05,Default,,0,0,0,,table, it would return us the
Dialogue: 0,0:36:25.05,0:36:26.73,Default,,0,0,0,,intersection points on this
Dialogue: 0,0:36:26.73,0:36:28.05,Default,,0,0,0,,table in the center of the
Dialogue: 0,0:36:28.05,0:36:28.46,Default,,0,0,0,,screen.
Dialogue: 0,0:36:28.69,0:36:30.84,Default,,0,0,0,,And we can place a virtual cup
Dialogue: 0,0:36:30.84,0:36:31.82,Default,,0,0,0,,at this location.
Dialogue: 0,0:36:33.82,0:36:35.87,Default,,0,0,0,,By default, your rendering
Dialogue: 0,0:36:35.87,0:36:37.05,Default,,0,0,0,,engine will assume that your
Dialogue: 0,0:36:37.05,0:36:38.60,Default,,0,0,0,,background image is perfectly
Dialogue: 0,0:36:38.60,0:36:38.81,Default,,0,0,0,,lit.
Dialogue: 0,0:36:39.23,0:36:41.53,Default,,0,0,0,,So your augmentation looks like
Dialogue: 0,0:36:41.53,0:36:42.50,Default,,0,0,0,,it really belongs there.
Dialogue: 0,0:36:43.23,0:36:44.60,Default,,0,0,0,,However, if you're in a darker
Dialogue: 0,0:36:44.60,0:36:47.40,Default,,0,0,0,,environment, then your camera
Dialogue: 0,0:36:47.40,0:36:49.13,Default,,0,0,0,,image is darker, and it means
Dialogue: 0,0:36:49.29,0:36:50.73,Default,,0,0,0,,that your augmentation will look
Dialogue: 0,0:36:50.73,0:36:52.11,Default,,0,0,0,,out of place and it appears to
Dialogue: 0,0:36:52.11,0:36:52.41,Default,,0,0,0,,glow.
Dialogue: 0,0:36:53.02,0:36:56.51,Default,,0,0,0,,In order to fix this, we need to
Dialogue: 0,0:36:56.51,0:36:57.96,Default,,0,0,0,,adjust the relative brightness
Dialogue: 0,0:36:58.43,0:37:00.53,Default,,0,0,0,,of our virtual object.
Dialogue: 0,0:37:00.70,0:37:03.90,Default,,0,0,0,,And for this, we are providing
Dialogue: 0,0:37:03.90,0:37:04.65,Default,,0,0,0,,light estimation.
Dialogue: 0,0:37:05.22,0:37:09.52,Default,,0,0,0,,So light estimation operates on
Dialogue: 0,0:37:09.52,0:37:10.55,Default,,0,0,0,,our camera image.
Dialogue: 0,0:37:10.93,0:37:12.16,Default,,0,0,0,,And it uses its exposure
Dialogue: 0,0:37:12.16,0:37:13.94,Default,,0,0,0,,information to determine the
Dialogue: 0,0:37:13.94,0:37:15.65,Default,,0,0,0,,relative brightness of it.
Dialogue: 0,0:37:16.44,0:37:18.05,Default,,0,0,0,,For a well-lit image, this
Dialogue: 0,0:37:18.05,0:37:19.56,Default,,0,0,0,,defaults to 1000 lumen.
Dialogue: 0,0:37:20.10,0:37:21.73,Default,,0,0,0,,For a brighter environment, you
Dialogue: 0,0:37:21.73,0:37:23.15,Default,,0,0,0,,will get a higher value.
Dialogue: 0,0:37:23.15,0:37:24.54,Default,,0,0,0,,For a darker environment, a
Dialogue: 0,0:37:24.54,0:37:25.57,Default,,0,0,0,,lower value.
Dialogue: 0,0:37:26.64,0:37:27.98,Default,,0,0,0,,You can also assign this value
Dialogue: 0,0:37:27.98,0:37:30.85,Default,,0,0,0,,directly to an SEN light as its
Dialogue: 0,0:37:30.85,0:37:32.27,Default,,0,0,0,,ambient intensity property.
Dialogue: 0,0:37:32.87,0:37:34.27,Default,,0,0,0,,Hence, if you're using
Dialogue: 0,0:37:34.27,0:37:35.66,Default,,0,0,0,,physically-based lighting, it
Dialogue: 0,0:37:35.66,0:37:36.66,Default,,0,0,0,,will automatically take
Dialogue: 0,0:37:36.66,0:37:39.28,Default,,0,0,0,,advantage of this.
Dialogue: 0,0:37:39.49,0:37:40.80,Default,,0,0,0,,Light estimation is enabled by
Dialogue: 0,0:37:40.80,0:37:41.42,Default,,0,0,0,,default.
Dialogue: 0,0:37:41.42,0:37:43.75,Default,,0,0,0,,And you can configure this by
Dialogue: 0,0:37:43.75,0:37:44.31,Default,,0,0,0,,setting the
Dialogue: 0,0:37:44.31,0:37:47.18,Default,,0,0,0,,isLightEstimationEnabled
Dialogue: 0,0:37:47.18,0:37:48.74,Default,,0,0,0,,property on an ARSession
Dialogue: 0,0:37:48.74,0:37:49.46,Default,,0,0,0,,configuration.
Dialogue: 0,0:37:50.43,0:37:51.95,Default,,0,0,0,,The results of light estimation
Dialogue: 0,0:37:52.57,0:37:54.26,Default,,0,0,0,,are provided to you in the Light
Dialogue: 0,0:37:54.26,0:37:56.04,Default,,0,0,0,,Estimate property on the ARFrame
Dialogue: 0,0:37:56.37,0:37:59.04,Default,,0,0,0,,as its ambient intensity value.
Dialogue: 0,0:37:59.69,0:38:03.29,Default,,0,0,0,,So with that, let's dive into a
Dialogue: 0,0:38:03.29,0:38:04.89,Default,,0,0,0,,demo and look how we're using
Dialogue: 0,0:38:04.89,0:38:06.33,Default,,0,0,0,,scene understanding with ARKit.
Dialogue: 0,0:38:07.52,0:38:16.64,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:38:17.14,0:38:18.52,Default,,0,0,0,,So the application that I'm
Dialogue: 0,0:38:18.52,0:38:20.84,Default,,0,0,0,,going to show you is the ARKit
Dialogue: 0,0:38:20.90,0:38:21.83,Default,,0,0,0,,Sample application.
Dialogue: 0,0:38:22.14,0:38:22.98,Default,,0,0,0,,Which means you can also
Dialogue: 0,0:38:22.98,0:38:25.19,Default,,0,0,0,,download it from our developer
Dialogue: 0,0:38:25.19,0:38:25.65,Default,,0,0,0,,website.
Dialogue: 0,0:38:27.08,0:38:29.16,Default,,0,0,0,,It's used to place objects into
Dialogue: 0,0:38:29.16,0:38:29.87,Default,,0,0,0,,our environment.
Dialogue: 0,0:38:30.39,0:38:31.58,Default,,0,0,0,,And it's using scene
Dialogue: 0,0:38:31.58,0:38:33.37,Default,,0,0,0,,understanding in order to do
Dialogue: 0,0:38:33.37,0:38:33.58,Default,,0,0,0,,that.
Dialogue: 0,0:38:33.96,0:38:36.69,Default,,0,0,0,,So, let's bring it right up
Dialogue: 0,0:38:37.68,0:38:37.78,Default,,0,0,0,,here.
Dialogue: 0,0:38:37.99,0:38:39.62,Default,,0,0,0,,And if I move it around here,
Dialogue: 0,0:38:40.00,0:38:41.97,Default,,0,0,0,,what you see in front of me is
Dialogue: 0,0:38:42.97,0:38:44.38,Default,,0,0,0,,our focus square.
Dialogue: 0,0:38:44.68,0:38:46.90,Default,,0,0,0,,And we're placing this by doing
Dialogue: 0,0:38:46.90,0:38:48.62,Default,,0,0,0,,hit-testing in the center of our
Dialogue: 0,0:38:48.62,0:38:51.37,Default,,0,0,0,,scene and finding on placing the
Dialogue: 0,0:38:51.37,0:38:52.63,Default,,0,0,0,,object at its intersection
Dialogue: 0,0:38:52.63,0:38:52.95,Default,,0,0,0,,point.
Dialogue: 0,0:38:53.78,0:38:55.54,Default,,0,0,0,,So if I move this along our
Dialogue: 0,0:38:55.54,0:38:57.28,Default,,0,0,0,,table, you see that it basically
Dialogue: 0,0:38:57.28,0:38:58.56,Default,,0,0,0,,slides along this table.
Dialogue: 0,0:39:00.05,0:39:02.74,Default,,0,0,0,,It's also using plane detection
Dialogue: 0,0:39:02.81,0:39:03.62,Default,,0,0,0,,in parallel.
Dialogue: 0,0:39:03.62,0:39:05.40,Default,,0,0,0,,And we can visualize this to see
Dialogue: 0,0:39:05.40,0:39:06.09,Default,,0,0,0,,what's going on.
Dialogue: 0,0:39:06.36,0:39:08.33,Default,,0,0,0,,So let's bring up our Debug menu
Dialogue: 0,0:39:08.33,0:39:10.61,Default,,0,0,0,,here and activate the second
Dialogue: 0,0:39:10.61,0:39:11.97,Default,,0,0,0,,option here, which is Debug
Dialogue: 0,0:39:11.97,0:39:12.85,Default,,0,0,0,,Visualizations.
Dialogue: 0,0:39:13.74,0:39:14.31,Default,,0,0,0,,Let's close it.
Dialogue: 0,0:39:15.38,0:39:16.42,Default,,0,0,0,,And what you see here is the
Dialogue: 0,0:39:16.42,0:39:17.65,Default,,0,0,0,,plane that it has detected.
Dialogue: 0,0:39:18.36,0:39:21.99,Default,,0,0,0,,To give you a better idea, let's
Dialogue: 0,0:39:21.99,0:39:27.02,Default,,0,0,0,,restart this and see how it
Dialogue: 0,0:39:27.02,0:39:27.85,Default,,0,0,0,,finds new planes.
Dialogue: 0,0:39:27.85,0:39:29.27,Default,,0,0,0,,So if I'm moving it around here,
Dialogue: 0,0:39:29.55,0:39:30.72,Default,,0,0,0,,you see it has detected a new
Dialogue: 0,0:39:30.72,0:39:31.06,Default,,0,0,0,,plane.
Dialogue: 0,0:39:32.11,0:39:33.04,Default,,0,0,0,,Let's quickly point it at
Dialogue: 0,0:39:33.04,0:39:34.52,Default,,0,0,0,,another part of this table, and
Dialogue: 0,0:39:34.52,0:39:35.97,Default,,0,0,0,,it has found another plane.
Dialogue: 0,0:39:36.60,0:39:38.30,Default,,0,0,0,,And if I'm moving this along
Dialogue: 0,0:39:38.30,0:39:41.71,Default,,0,0,0,,this table, it eventually merges
Dialogue: 0,0:39:41.82,0:39:42.74,Default,,0,0,0,,both of them together.
Dialogue: 0,0:39:42.88,0:39:43.95,Default,,0,0,0,,And it figured out that there's
Dialogue: 0,0:39:43.98,0:39:45.40,Default,,0,0,0,,just one plane there.
Dialogue: 0,0:39:47.52,0:39:53.86,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:39:54.36,0:39:56.01,Default,,0,0,0,,So next, let's place some actual
Dialogue: 0,0:39:56.01,0:39:56.76,Default,,0,0,0,,objects here.
Dialogue: 0,0:39:59.26,0:40:01.08,Default,,0,0,0,,My daughter asked to bring some
Dialogue: 0,0:40:01.08,0:40:02.75,Default,,0,0,0,,flowers to the presentation.
Dialogue: 0,0:40:02.75,0:40:03.98,Default,,0,0,0,,And I don't want to disappoint
Dialogue: 0,0:40:03.98,0:40:04.17,Default,,0,0,0,,her.
Dialogue: 0,0:40:05.04,0:40:07.20,Default,,0,0,0,,So, let's make this more
Dialogue: 0,0:40:07.20,0:40:09.21,Default,,0,0,0,,romantic here and place a nice
Dialogue: 0,0:40:09.21,0:40:09.45,Default,,0,0,0,,vase.
Dialogue: 0,0:40:10.03,0:40:13.29,Default,,0,0,0,,In that case, we again hit-test
Dialogue: 0,0:40:13.48,0:40:15.13,Default,,0,0,0,,against the center of our screen
Dialogue: 0,0:40:15.78,0:40:17.12,Default,,0,0,0,,and find the intersection the
Dialogue: 0,0:40:17.12,0:40:21.44,Default,,0,0,0,,point to place the object.
Dialogue: 0,0:40:21.60,0:40:23.00,Default,,0,0,0,,One important aspect here is
Dialogue: 0,0:40:23.57,0:40:25.36,Default,,0,0,0,,that this vase actually appears
Dialogue: 0,0:40:25.36,0:40:26.49,Default,,0,0,0,,in real-world scale.
Dialogue: 0,0:40:26.73,0:40:28.16,Default,,0,0,0,,And this is possible due to two
Dialogue: 0,0:40:28.16,0:40:28.49,Default,,0,0,0,,things.
Dialogue: 0,0:40:29.45,0:40:31.14,Default,,0,0,0,,One is that WorldTracking
Dialogue: 0,0:40:31.14,0:40:34.65,Default,,0,0,0,,provides us with the pose to
Dialogue: 0,0:40:34.85,0:40:35.35,Default,,0,0,0,,scale.
Dialogue: 0,0:40:35.40,0:40:38.01,Default,,0,0,0,,And the second thing is that our
Dialogue: 0,0:40:38.01,0:40:39.86,Default,,0,0,0,,3-D model is actually modeled in
Dialogue: 0,0:40:39.86,0:40:41.57,Default,,0,0,0,,3-D in real-world coordinates.
Dialogue: 0,0:40:41.75,0:40:43.17,Default,,0,0,0,,So this is really important if
Dialogue: 0,0:40:43.17,0:40:44.76,Default,,0,0,0,,you're creating content for
Dialogue: 0,0:40:44.76,0:40:46.60,Default,,0,0,0,,augmented reality that you take
Dialogue: 0,0:40:46.60,0:40:49.14,Default,,0,0,0,,this into account that this vase
Dialogue: 0,0:40:49.14,0:40:51.76,Default,,0,0,0,,should not appear as high as
Dialogue: 0,0:40:51.76,0:40:53.04,Default,,0,0,0,,building or too small.
Dialogue: 0,0:40:53.46,0:40:57.37,Default,,0,0,0,,So let's go ahead and place a
Dialogue: 0,0:40:57.37,0:40:59.91,Default,,0,0,0,,more interactive object, which
Dialogue: 0,0:40:59.91,0:41:01.10,Default,,0,0,0,,is my chameleon friend here.
Dialogue: 0,0:41:02.20,0:41:04.20,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:41:04.38,0:41:07.10,Default,,0,0,0,,And one nice thing -- thank you
Dialogue: 0,0:41:07.81,0:41:08.86,Default,,0,0,0,,-- and one nice thing is that
Dialogue: 0,0:41:09.62,0:41:11.11,Default,,0,0,0,,you always know the position of
Dialogue: 0,0:41:11.11,0:41:14.55,Default,,0,0,0,,the user when you're running
Dialogue: 0,0:41:14.55,0:41:15.25,Default,,0,0,0,,WorldTracking.
Dialogue: 0,0:41:15.69,0:41:17.44,Default,,0,0,0,,So you can have your virtual
Dialogue: 0,0:41:17.44,0:41:19.49,Default,,0,0,0,,content interact with the user
Dialogue: 0,0:41:19.81,0:41:21.64,Default,,0,0,0,,in the real world.
Dialogue: 0,0:41:23.52,0:41:29.09,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:41:29.59,0:41:32.51,Default,,0,0,0,,So, if I move over here, it
Dialogue: 0,0:41:32.79,0:41:35.41,Default,,0,0,0,,might eventually turn to me, if
Dialogue: 0,0:41:35.41,0:41:36.09,Default,,0,0,0,,he's not scared.
Dialogue: 0,0:41:36.31,0:41:37.97,Default,,0,0,0,,Yeah, there we go.
Dialogue: 0,0:41:38.52,0:41:43.55,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:41:44.05,0:41:45.30,Default,,0,0,0,,And if I get even closer he
Dialogue: 0,0:41:45.30,0:41:46.49,Default,,0,0,0,,might react in even different
Dialogue: 0,0:41:46.49,0:41:46.69,Default,,0,0,0,,ways.
Dialogue: 0,0:41:47.62,0:41:48.07,Default,,0,0,0,,Let's see.
Dialogue: 0,0:41:48.53,0:41:49.61,Default,,0,0,0,,It's a bit -- oh!
Dialogue: 0,0:41:49.61,0:41:52.53,Default,,0,0,0,,There we go.
Dialogue: 0,0:41:53.86,0:41:54.95,Default,,0,0,0,,Another thing that chameleons
Dialogue: 0,0:41:54.95,0:41:56.98,Default,,0,0,0,,can do is change their color.
Dialogue: 0,0:41:57.16,0:42:00.97,Default,,0,0,0,,And if I tap him, he adjusts the
Dialogue: 0,0:42:00.97,0:42:01.33,Default,,0,0,0,,color.
Dialogue: 0,0:42:03.56,0:42:05.93,Default,,0,0,0,,So let's give it a green.
Dialogue: 0,0:42:07.98,0:42:09.24,Default,,0,0,0,,And one nice feature that we put
Dialogue: 0,0:42:09.24,0:42:12.00,Default,,0,0,0,,in here is I can move him along
Dialogue: 0,0:42:12.00,0:42:15.08,Default,,0,0,0,,the table, and he will adapt to
Dialogue: 0,0:42:15.08,0:42:16.64,Default,,0,0,0,,the background color of the
Dialogue: 0,0:42:16.64,0:42:18.08,Default,,0,0,0,,table in order to blend in
Dialogue: 0,0:42:18.08,0:42:18.53,Default,,0,0,0,,nicely.
Dialogue: 0,0:42:19.52,0:42:28.55,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:42:29.05,0:42:30.61,Default,,0,0,0,,So this is our sample
Dialogue: 0,0:42:30.61,0:42:31.21,Default,,0,0,0,,application.
Dialogue: 0,0:42:31.58,0:42:32.91,Default,,0,0,0,,You can download it from the
Dialogue: 0,0:42:32.91,0:42:35.22,Default,,0,0,0,,website and put in your own
Dialogue: 0,0:42:35.22,0:42:37.42,Default,,0,0,0,,contents and play around with
Dialogue: 0,0:42:38.02,0:42:39.69,Default,,0,0,0,,it, basically.
Dialogue: 0,0:42:39.69,0:42:41.82,Default,,0,0,0,,So next, we're going to have a
Dialogue: 0,0:42:41.82,0:42:43.92,Default,,0,0,0,,look at rendering with ARKit.
Dialogue: 0,0:42:47.50,0:42:49.52,Default,,0,0,0,,Rendering brings tracking and
Dialogue: 0,0:42:49.57,0:42:51.08,Default,,0,0,0,,scene understanding together
Dialogue: 0,0:42:51.27,0:42:52.05,Default,,0,0,0,,with your content.
Dialogue: 0,0:42:52.95,0:42:54.16,Default,,0,0,0,,And in order to render with
Dialogue: 0,0:42:54.16,0:42:56.02,Default,,0,0,0,,ARKit, you need to process all
Dialogue: 0,0:42:56.02,0:42:57.66,Default,,0,0,0,,the information that we provide
Dialogue: 0,0:42:57.66,0:42:58.70,Default,,0,0,0,,you in an ARFrame.
Dialogue: 0,0:42:59.83,0:43:01.62,Default,,0,0,0,,For those of you using SceneKit
Dialogue: 0,0:43:01.62,0:43:03.69,Default,,0,0,0,,and SpriteKit, we have already
Dialogue: 0,0:43:03.87,0:43:05.57,Default,,0,0,0,,created customized views that
Dialogue: 0,0:43:05.57,0:43:07.15,Default,,0,0,0,,take care of rending ARFrames
Dialogue: 0,0:43:07.19,0:43:07.57,Default,,0,0,0,,for you.
Dialogue: 0,0:43:08.17,0:43:11.69,Default,,0,0,0,,If you're using Metal, and want
Dialogue: 0,0:43:11.69,0:43:13.06,Default,,0,0,0,,to create your own rendering
Dialogue: 0,0:43:13.06,0:43:15.23,Default,,0,0,0,,engine or integrate ARKit into
Dialogue: 0,0:43:15.23,0:43:16.62,Default,,0,0,0,,your existing rendering engine,
Dialogue: 0,0:43:17.00,0:43:19.26,Default,,0,0,0,,we're providing a template that
Dialogue: 0,0:43:19.36,0:43:20.60,Default,,0,0,0,,gives you an idea of how to do
Dialogue: 0,0:43:20.60,0:43:22.19,Default,,0,0,0,,this and provides a good
Dialogue: 0,0:43:22.19,0:43:22.87,Default,,0,0,0,,starting point.
Dialogue: 0,0:43:23.97,0:43:25.27,Default,,0,0,0,,Let's have a look at each one of
Dialogue: 0,0:43:25.27,0:43:27.63,Default,,0,0,0,,those, starting with SceneKit.
Dialogue: 0,0:43:28.34,0:43:30.14,Default,,0,0,0,,For SceneKit we're providing an
Dialogue: 0,0:43:30.14,0:43:31.95,Default,,0,0,0,,ARSCNView, which is a subclass
Dialogue: 0,0:43:31.95,0:43:33.17,Default,,0,0,0,,of an SCNView.
Dialogue: 0,0:43:34.38,0:43:36.22,Default,,0,0,0,,It contains an ARSession that it
Dialogue: 0,0:43:36.22,0:43:38.15,Default,,0,0,0,,uses to update its rendering.
Dialogue: 0,0:43:39.04,0:43:40.25,Default,,0,0,0,,So this includes drawing the
Dialogue: 0,0:43:40.25,0:43:41.53,Default,,0,0,0,,camera image in the background,
Dialogue: 0,0:43:42.65,0:43:44.50,Default,,0,0,0,,taking into account the rotation
Dialogue: 0,0:43:44.50,0:43:46.47,Default,,0,0,0,,of the device as well as any
Dialogue: 0,0:43:46.47,0:43:47.04,Default,,0,0,0,,[inaudible] changes.
Dialogue: 0,0:43:47.49,0:43:51.95,Default,,0,0,0,,Next, it updates an SCNCamera
Dialogue: 0,0:43:51.95,0:43:53.60,Default,,0,0,0,,based on the tracking transforms
Dialogue: 0,0:43:53.60,0:43:55.20,Default,,0,0,0,,that we provide in an ARCamera.
Dialogue: 0,0:43:55.79,0:43:58.71,Default,,0,0,0,,So your scene stays intact and
Dialogue: 0,0:43:58.85,0:44:00.39,Default,,0,0,0,,ARKit simply controls an
Dialogue: 0,0:44:00.52,0:44:02.10,Default,,0,0,0,,SCNCamera by moving it around
Dialogue: 0,0:44:02.10,0:44:03.43,Default,,0,0,0,,the scene the way you move
Dialogue: 0,0:44:03.43,0:44:05.43,Default,,0,0,0,,around your device in the real
Dialogue: 0,0:44:05.98,0:44:06.11,Default,,0,0,0,,world.
Dialogue: 0,0:44:07.08,0:44:08.19,Default,,0,0,0,,If you're using Light
Dialogue: 0,0:44:08.19,0:44:09.68,Default,,0,0,0,,Estimation, we automatically
Dialogue: 0,0:44:09.68,0:44:12.79,Default,,0,0,0,,place an SCN light probe into
Dialogue: 0,0:44:12.79,0:44:15.94,Default,,0,0,0,,your scene so if you use objects
Dialogue: 0,0:44:15.94,0:44:17.61,Default,,0,0,0,,with physically-based lighting
Dialogue: 0,0:44:17.77,0:44:20.11,Default,,0,0,0,,enabled you can already take
Dialogue: 0,0:44:20.11,0:44:21.50,Default,,0,0,0,,advantage or automatically take
Dialogue: 0,0:44:21.50,0:44:23.01,Default,,0,0,0,,advantage of Light Estimation.
Dialogue: 0,0:44:23.55,0:44:28.28,Default,,0,0,0,,And one thing that ARCNView does
Dialogue: 0,0:44:28.62,0:44:32.63,Default,,0,0,0,,is map SCNNotes to ARAnchors so
Dialogue: 0,0:44:32.63,0:44:33.97,Default,,0,0,0,,you don't actually need to
Dialogue: 0,0:44:33.97,0:44:35.54,Default,,0,0,0,,interface with ARAnchors
Dialogue: 0,0:44:35.58,0:44:37.53,Default,,0,0,0,,directly, but can continue to
Dialogue: 0,0:44:37.53,0:44:38.69,Default,,0,0,0,,use SCNNotes.
Dialogue: 0,0:44:39.62,0:44:40.65,Default,,0,0,0,,This means whenever a new
Dialogue: 0,0:44:40.65,0:44:42.03,Default,,0,0,0,,ARAnchor is being added to the
Dialogue: 0,0:44:42.03,0:44:44.69,Default,,0,0,0,,session, ARSCNView will create a
Dialogue: 0,0:44:44.69,0:44:45.34,Default,,0,0,0,,node for you.
Dialogue: 0,0:44:45.99,0:44:47.95,Default,,0,0,0,,And every time we update the
Dialogue: 0,0:44:47.95,0:44:50.34,Default,,0,0,0,,ARAnchor, like its transform, we
Dialogue: 0,0:44:50.34,0:44:51.82,Default,,0,0,0,,update the nodes transform
Dialogue: 0,0:44:51.82,0:44:52.44,Default,,0,0,0,,automatically.
Dialogue: 0,0:44:52.98,0:44:56.37,Default,,0,0,0,,And this is handled through the
Dialogue: 0,0:44:56.37,0:44:57.52,Default,,0,0,0,,ARSCNView delegate.
Dialogue: 0,0:45:00.12,0:45:02.23,Default,,0,0,0,,So every time we add a new
Dialogue: 0,0:45:02.50,0:45:06.03,Default,,0,0,0,,anchor to the session, ARSCNView
Dialogue: 0,0:45:06.03,0:45:08.12,Default,,0,0,0,,will create a new SCNNode for
Dialogue: 0,0:45:08.12,0:45:08.29,Default,,0,0,0,,you.
Dialogue: 0,0:45:09.22,0:45:10.37,Default,,0,0,0,,If you want to provide your own
Dialogue: 0,0:45:10.37,0:45:12.28,Default,,0,0,0,,nodes, you can implement
Dialogue: 0,0:45:12.63,0:45:14.40,Default,,0,0,0,,renderer nodeFor anchor and
Dialogue: 0,0:45:14.40,0:45:15.69,Default,,0,0,0,,return to your custom node for
Dialogue: 0,0:45:15.69,0:45:15.99,Default,,0,0,0,,this.
Dialogue: 0,0:45:16.67,0:45:18.90,Default,,0,0,0,,After this, the SCNNode will be
Dialogue: 0,0:45:19.21,0:45:21.35,Default,,0,0,0,,added to the scene graph.
Dialogue: 0,0:45:21.98,0:45:23.32,Default,,0,0,0,,And you will receive another
Dialogue: 0,0:45:23.32,0:45:25.62,Default,,0,0,0,,delegate call renderer didAdd
Dialogue: 0,0:45:25.70,0:45:26.51,Default,,0,0,0,,node for anchor.
Dialogue: 0,0:45:27.06,0:45:29.80,Default,,0,0,0,,The same holds true for whenever
Dialogue: 0,0:45:29.80,0:45:33.08,Default,,0,0,0,,a node is being updated.
Dialogue: 0,0:45:34.28,0:45:37.10,Default,,0,0,0,,So in that case, DSCNNodes
Dialogue: 0,0:45:37.10,0:45:38.50,Default,,0,0,0,,transform will be automatically
Dialogue: 0,0:45:38.50,0:45:40.07,Default,,0,0,0,,updated with the ARAnchors
Dialogue: 0,0:45:40.07,0:45:41.91,Default,,0,0,0,,transform and you will receive
Dialogue: 0,0:45:41.97,0:45:44.25,Default,,0,0,0,,two callbacks when this happens.
Dialogue: 0,0:45:44.81,0:45:46.33,Default,,0,0,0,,One before we update its
Dialogue: 0,0:45:46.33,0:45:48.83,Default,,0,0,0,,transform, and another one after
Dialogue: 0,0:45:48.83,0:45:49.92,Default,,0,0,0,,we update the transform.
Dialogue: 0,0:45:52.30,0:45:54.19,Default,,0,0,0,,Whenever an ARAnchor is being
Dialogue: 0,0:45:54.19,0:45:56.85,Default,,0,0,0,,removed from the session, we
Dialogue: 0,0:45:56.85,0:45:57.94,Default,,0,0,0,,automatically remove the
Dialogue: 0,0:45:57.94,0:45:59.49,Default,,0,0,0,,corresponding SCNNode from the
Dialogue: 0,0:45:59.49,0:46:01.19,Default,,0,0,0,,scene graph and provide you with
Dialogue: 0,0:46:01.19,0:46:03.01,Default,,0,0,0,,the callback renderer didRemove
Dialogue: 0,0:46:03.06,0:46:03.95,Default,,0,0,0,,node for anchor.
Dialogue: 0,0:46:04.45,0:46:07.84,Default,,0,0,0,,So this is SceneKit with ARKit.
Dialogue: 0,0:46:08.73,0:46:10.87,Default,,0,0,0,,Next, let's have a look at
Dialogue: 0,0:46:12.74,0:46:13.01,Default,,0,0,0,,SpriteKit.
Dialogue: 0,0:46:13.01,0:46:14.54,Default,,0,0,0,,For SpriteKit we're providing an
Dialogue: 0,0:46:14.54,0:46:16.73,Default,,0,0,0,,ARSKview, which is a subclass of
Dialogue: 0,0:46:16.73,0:46:17.27,Default,,0,0,0,,SKView.
Dialogue: 0,0:46:18.43,0:46:20.32,Default,,0,0,0,,It contains an ARSession, which
Dialogue: 0,0:46:20.32,0:46:22.90,Default,,0,0,0,,it uses to update its rendering.
Dialogue: 0,0:46:23.11,0:46:24.60,Default,,0,0,0,,This includes drawing the camera
Dialogue: 0,0:46:24.60,0:46:27.20,Default,,0,0,0,,image in the background, and in
Dialogue: 0,0:46:27.20,0:46:29.48,Default,,0,0,0,,this case, mapping SKNodes to
Dialogue: 0,0:46:29.48,0:46:30.11,Default,,0,0,0,,ARAnchors.
Dialogue: 0,0:46:30.64,0:46:31.86,Default,,0,0,0,,So it provides a very similar
Dialogue: 0,0:46:31.86,0:46:33.18,Default,,0,0,0,,set of delegate methods to
Dialogue: 0,0:46:33.18,0:46:34.91,Default,,0,0,0,,SceneKit, which it can use.
Dialogue: 0,0:46:36.07,0:46:37.37,Default,,0,0,0,,One major difference is that
Dialogue: 0,0:46:37.44,0:46:39.00,Default,,0,0,0,,SpriteKit is a 2-D rendering
Dialogue: 0,0:46:39.00,0:46:39.36,Default,,0,0,0,,engine.
Dialogue: 0,0:46:39.70,0:46:41.03,Default,,0,0,0,,So that means we cannot simply
Dialogue: 0,0:46:41.03,0:46:43.04,Default,,0,0,0,,update a camera that is being
Dialogue: 0,0:46:43.12,0:46:43.51,Default,,0,0,0,,moved around.
Dialogue: 0,0:46:44.29,0:46:46.71,Default,,0,0,0,,So what ARKit does here is
Dialogue: 0,0:46:47.00,0:46:49.28,Default,,0,0,0,,project our ARAnchor's positions
Dialogue: 0,0:46:49.96,0:46:52.45,Default,,0,0,0,,into the SpriteKit view.
Dialogue: 0,0:46:53.04,0:46:54.62,Default,,0,0,0,,And then render the Sprites as
Dialogue: 0,0:46:54.68,0:46:56.75,Default,,0,0,0,,billboards at these locations,
Dialogue: 0,0:46:56.75,0:46:57.96,Default,,0,0,0,,at the projected locations.
Dialogue: 0,0:46:58.71,0:47:00.19,Default,,0,0,0,,This means that the Sprites will
Dialogue: 0,0:47:00.19,0:47:04.04,Default,,0,0,0,,always be facing the camera.
Dialogue: 0,0:47:04.04,0:47:05.51,Default,,0,0,0,,If you want to learn more about
Dialogue: 0,0:47:05.51,0:47:06.96,Default,,0,0,0,,this, there a session from the
Dialogue: 0,0:47:06.96,0:47:09.15,Default,,0,0,0,,SpriteKit team, "Going beyond
Dialogue: 0,0:47:09.15,0:47:11.29,Default,,0,0,0,,2-D in SpriteKit" which will
Dialogue: 0,0:47:11.29,0:47:13.32,Default,,0,0,0,,focus on how to integrate ARKit
Dialogue: 0,0:47:13.45,0:47:14.09,Default,,0,0,0,,with SpriteKit.
Dialogue: 0,0:47:14.69,0:47:19.40,Default,,0,0,0,,And next, let's have a look at
Dialogue: 0,0:47:19.40,0:47:20.88,Default,,0,0,0,,custom rendering with ARKit
Dialogue: 0,0:47:21.11,0:47:21.67,Default,,0,0,0,,using Metal.
Dialogue: 0,0:47:23.14,0:47:24.45,Default,,0,0,0,,There are four things that you
Dialogue: 0,0:47:24.45,0:47:26.13,Default,,0,0,0,,need to do in order to render
Dialogue: 0,0:47:26.33,0:47:27.46,Default,,0,0,0,,with ARKit.
Dialogue: 0,0:47:28.57,0:47:29.90,Default,,0,0,0,,The first is draw the camera
Dialogue: 0,0:47:29.90,0:47:30.92,Default,,0,0,0,,image in the background.
Dialogue: 0,0:47:31.81,0:47:34.31,Default,,0,0,0,,You usually create a texture for
Dialogue: 0,0:47:34.31,0:47:35.43,Default,,0,0,0,,this and draw it in a
Dialogue: 0,0:47:35.43,0:47:35.91,Default,,0,0,0,,background.
Dialogue: 0,0:47:37.18,0:47:39.06,Default,,0,0,0,,The next thing is to update our
Dialogue: 0,0:47:39.06,0:47:40.90,Default,,0,0,0,,virtual camera based on our
Dialogue: 0,0:47:40.90,0:47:41.40,Default,,0,0,0,,ARCamera.
Dialogue: 0,0:47:42.31,0:47:44.04,Default,,0,0,0,,This contains setting the view
Dialogue: 0,0:47:44.04,0:47:45.62,Default,,0,0,0,,matrix as well as the projection
Dialogue: 0,0:47:45.62,0:47:46.15,Default,,0,0,0,,matrix.
Dialogue: 0,0:47:48.30,0:47:50.25,Default,,0,0,0,,Third item is to update the
Dialogue: 0,0:47:50.25,0:47:52.79,Default,,0,0,0,,lighting situation or the light
Dialogue: 0,0:47:52.79,0:47:54.25,Default,,0,0,0,,in your scene based on our light
Dialogue: 0,0:47:54.25,0:47:54.71,Default,,0,0,0,,estimate.
Dialogue: 0,0:47:55.99,0:47:57.41,Default,,0,0,0,,And finally, if you have placed
Dialogue: 0,0:47:57.54,0:47:59.23,Default,,0,0,0,,geometry based on scene
Dialogue: 0,0:47:59.23,0:48:01.94,Default,,0,0,0,,understanding, then you would
Dialogue: 0,0:48:01.94,0:48:04.09,Default,,0,0,0,,use the ARAnchors in order to
Dialogue: 0,0:48:04.28,0:48:06.60,Default,,0,0,0,,set the transforms correctly.
Dialogue: 0,0:48:07.82,0:48:09.30,Default,,0,0,0,,All this information is
Dialogue: 0,0:48:09.30,0:48:10.62,Default,,0,0,0,,contained in an ARFrame.
Dialogue: 0,0:48:11.15,0:48:12.49,Default,,0,0,0,,And you have two ways of how to
Dialogue: 0,0:48:12.49,0:48:13.59,Default,,0,0,0,,access this ARFrame.
Dialogue: 0,0:48:14.14,0:48:17.58,Default,,0,0,0,,One is by polling the current
Dialogue: 0,0:48:17.58,0:48:19.03,Default,,0,0,0,,frame property on ARSession.
Dialogue: 0,0:48:20.00,0:48:21.40,Default,,0,0,0,,So, if you have your own render
Dialogue: 0,0:48:21.40,0:48:24.13,Default,,0,0,0,,loop you would use -- well, you
Dialogue: 0,0:48:24.13,0:48:25.65,Default,,0,0,0,,could use this method to access
Dialogue: 0,0:48:25.65,0:48:26.34,Default,,0,0,0,,the current frame.
Dialogue: 0,0:48:27.04,0:48:28.32,Default,,0,0,0,,And then you should also take
Dialogue: 0,0:48:28.32,0:48:30.73,Default,,0,0,0,,advantage of the timestamp
Dialogue: 0,0:48:30.73,0:48:32.80,Default,,0,0,0,,property on ARFrame in order to
Dialogue: 0,0:48:32.80,0:48:34.33,Default,,0,0,0,,avoid rendering the same frame
Dialogue: 0,0:48:34.33,0:48:35.06,Default,,0,0,0,,multiple times.
Dialogue: 0,0:48:35.64,0:48:38.46,Default,,0,0,0,,An alternative is to use our
Dialogue: 0,0:48:38.46,0:48:40.54,Default,,0,0,0,,Session Delegate, which provides
Dialogue: 0,0:48:40.54,0:48:42.61,Default,,0,0,0,,you with session didUpdate frame
Dialogue: 0,0:48:42.68,0:48:43.97,Default,,0,0,0,,every time a new frame has been
Dialogue: 0,0:48:43.97,0:48:44.57,Default,,0,0,0,,calculated.
Dialogue: 0,0:48:45.11,0:48:47.81,Default,,0,0,0,,In that case, you can just
Dialogue: 0,0:48:47.81,0:48:49.41,Default,,0,0,0,,simply take it and then update
Dialogue: 0,0:48:49.41,0:48:49.96,Default,,0,0,0,,your rendering.
Dialogue: 0,0:48:51.01,0:48:52.81,Default,,0,0,0,,By default, this is called on
Dialogue: 0,0:48:52.81,0:48:53.78,Default,,0,0,0,,the main [inaudible], but you
Dialogue: 0,0:48:53.78,0:48:54.88,Default,,0,0,0,,can also provide your own
Dialogue: 0,0:48:54.88,0:48:56.37,Default,,0,0,0,,dispatch queue, which we will
Dialogue: 0,0:48:56.37,0:48:58.83,Default,,0,0,0,,use to call this method.
Dialogue: 0,0:48:58.83,0:49:02.85,Default,,0,0,0,,So let's look into what Update
Dialogue: 0,0:49:02.85,0:49:04.86,Default,,0,0,0,,Rendering contains.
Dialogue: 0,0:49:05.51,0:49:08.62,Default,,0,0,0,,So the first thing is to draw
Dialogue: 0,0:49:08.62,0:49:09.47,Default,,0,0,0,,the camera image in the
Dialogue: 0,0:49:09.47,0:49:10.02,Default,,0,0,0,,background.
Dialogue: 0,0:49:10.56,0:49:12.05,Default,,0,0,0,,And you can access the captured
Dialogue: 0,0:49:12.11,0:49:13.77,Default,,0,0,0,,image property on an ARFrame,
Dialogue: 0,0:49:14.17,0:49:15.50,Default,,0,0,0,,which is the CV Pixel Buffer.
Dialogue: 0,0:49:16.80,0:49:18.55,Default,,0,0,0,,You can generate Metal texture
Dialogue: 0,0:49:18.80,0:49:20.13,Default,,0,0,0,,based on this Pixel Buffer and
Dialogue: 0,0:49:20.46,0:49:22.25,Default,,0,0,0,,then draw in a quad in the
Dialogue: 0,0:49:22.25,0:49:22.76,Default,,0,0,0,,background.
Dialogue: 0,0:49:23.31,0:49:26.77,Default,,0,0,0,,Note that this is a Pixel Buffer
Dialogue: 0,0:49:26.77,0:49:28.72,Default,,0,0,0,,that is vended to us through AV
Dialogue: 0,0:49:28.72,0:49:30.16,Default,,0,0,0,,Foundation, so you should not
Dialogue: 0,0:49:30.19,0:49:33.14,Default,,0,0,0,,hold on to too many of those
Dialogue: 0,0:49:33.20,0:49:34.76,Default,,0,0,0,,frames for too long, otherwise
Dialogue: 0,0:49:34.76,0:49:36.15,Default,,0,0,0,,you will stop receiving updates.
Dialogue: 0,0:49:36.76,0:49:40.61,Default,,0,0,0,,The next item is to update our
Dialogue: 0,0:49:40.61,0:49:42.27,Default,,0,0,0,,virtual camera based on our
Dialogue: 0,0:49:42.27,0:49:42.80,Default,,0,0,0,,ARCamera.
Dialogue: 0,0:49:43.38,0:49:45.13,Default,,0,0,0,,For this we have to determine
Dialogue: 0,0:49:45.13,0:49:46.73,Default,,0,0,0,,the view matrix as well as the
Dialogue: 0,0:49:46.73,0:49:47.73,Default,,0,0,0,,protection matrix.
Dialogue: 0,0:49:49.07,0:49:50.88,Default,,0,0,0,,The view matrix is simply the
Dialogue: 0,0:49:50.88,0:49:52.62,Default,,0,0,0,,inverse of our camera transform.
Dialogue: 0,0:49:53.89,0:49:55.27,Default,,0,0,0,,And in order to generate the
Dialogue: 0,0:49:55.27,0:49:56.54,Default,,0,0,0,,projection matrix, we are
Dialogue: 0,0:49:56.54,0:49:57.85,Default,,0,0,0,,offering you a convenience
Dialogue: 0,0:49:57.85,0:49:59.67,Default,,0,0,0,,method on the ARCamera, which
Dialogue: 0,0:49:59.67,0:50:00.73,Default,,0,0,0,,provides you with a projection
Dialogue: 0,0:50:00.73,0:50:01.20,Default,,0,0,0,,matrix.
Dialogue: 0,0:50:03.66,0:50:05.01,Default,,0,0,0,,The third step would be to
Dialogue: 0,0:50:05.01,0:50:05.97,Default,,0,0,0,,update the lighting.
Dialogue: 0,0:50:06.55,0:50:08.98,Default,,0,0,0,,So for this, simply access the
Dialogue: 0,0:50:08.98,0:50:10.82,Default,,0,0,0,,Light Estimate property and use
Dialogue: 0,0:50:10.82,0:50:12.45,Default,,0,0,0,,its ambient intensity in order
Dialogue: 0,0:50:12.45,0:50:15.43,Default,,0,0,0,,to update your lighting model.
Dialogue: 0,0:50:16.08,0:50:18.90,Default,,0,0,0,,And finally would be to iterate
Dialogue: 0,0:50:19.16,0:50:20.69,Default,,0,0,0,,over the anchors and its 3-D
Dialogue: 0,0:50:20.69,0:50:22.23,Default,,0,0,0,,locations in order to update the
Dialogue: 0,0:50:22.23,0:50:23.71,Default,,0,0,0,,transform of the geometries.
Dialogue: 0,0:50:24.18,0:50:25.36,Default,,0,0,0,,So any anchor that you have
Dialogue: 0,0:50:25.53,0:50:27.85,Default,,0,0,0,,added manually to the session or
Dialogue: 0,0:50:27.93,0:50:28.99,Default,,0,0,0,,any anchor that has been
Dialogue: 0,0:50:28.99,0:50:30.60,Default,,0,0,0,,detected or that has been added
Dialogue: 0,0:50:30.77,0:50:33.28,Default,,0,0,0,,to plane detection will be part
Dialogue: 0,0:50:33.28,0:50:34.40,Default,,0,0,0,,of these frame anchors.
Dialogue: 0,0:50:37.16,0:50:40.25,Default,,0,0,0,,Then are a few things to note
Dialogue: 0,0:50:40.25,0:50:41.64,Default,,0,0,0,,when rendering based on a camera
Dialogue: 0,0:50:41.64,0:50:42.03,Default,,0,0,0,,image.
Dialogue: 0,0:50:42.98,0:50:44.37,Default,,0,0,0,,We want to have a look at those.
Dialogue: 0,0:50:45.49,0:50:47.92,Default,,0,0,0,,So one thing is that the
Dialogue: 0,0:50:47.92,0:50:49.74,Default,,0,0,0,,captured image that is contained
Dialogue: 0,0:50:49.74,0:50:51.71,Default,,0,0,0,,in an ARFrame is always provided
Dialogue: 0,0:50:51.71,0:50:52.96,Default,,0,0,0,,in the same orientation.
Dialogue: 0,0:50:53.78,0:50:55.32,Default,,0,0,0,,However, if you rotate your
Dialogue: 0,0:50:55.35,0:50:57.57,Default,,0,0,0,,physical device, it might not
Dialogue: 0,0:50:57.57,0:50:59.76,Default,,0,0,0,,line up with your user interface
Dialogue: 0,0:50:59.76,0:51:00.38,Default,,0,0,0,,orientation.
Dialogue: 0,0:51:00.68,0:51:02.06,Default,,0,0,0,,And a transform needs to be
Dialogue: 0,0:51:02.06,0:51:04.95,Default,,0,0,0,,applied in order to render this
Dialogue: 0,0:51:06.24,0:51:06.56,Default,,0,0,0,,correctly.
Dialogue: 0,0:51:06.56,0:51:08.17,Default,,0,0,0,,Another thing is that the aspect
Dialogue: 0,0:51:08.17,0:51:09.73,Default,,0,0,0,,ratio of the camera image might
Dialogue: 0,0:51:09.77,0:51:11.50,Default,,0,0,0,,not necessarily line up with
Dialogue: 0,0:51:11.53,0:51:12.16,Default,,0,0,0,,your device.
Dialogue: 0,0:51:13.11,0:51:14.26,Default,,0,0,0,,And this means that we have to
Dialogue: 0,0:51:14.26,0:51:15.71,Default,,0,0,0,,take this into account in order
Dialogue: 0,0:51:15.71,0:51:18.36,Default,,0,0,0,,to properly render our camera
Dialogue: 0,0:51:18.41,0:51:19.48,Default,,0,0,0,,image in the screen.
Dialogue: 0,0:51:20.07,0:51:22.63,Default,,0,0,0,,To fix this or to make this
Dialogue: 0,0:51:22.63,0:51:24.21,Default,,0,0,0,,easier for you, we're providing
Dialogue: 0,0:51:24.21,0:51:25.13,Default,,0,0,0,,you with helper methods.
Dialogue: 0,0:51:25.13,0:51:28.93,Default,,0,0,0,,So there's one method on
Dialogue: 0,0:51:28.93,0:51:31.13,Default,,0,0,0,,ARFrame, which is the Display
Dialogue: 0,0:51:31.13,0:51:31.74,Default,,0,0,0,,Transform.
Dialogue: 0,0:51:32.65,0:51:34.29,Default,,0,0,0,,The Display Transform transforms
Dialogue: 0,0:51:34.29,0:51:35.64,Default,,0,0,0,,from frame space into view
Dialogue: 0,0:51:35.64,0:51:36.13,Default,,0,0,0,,space.
Dialogue: 0,0:51:36.75,0:51:38.43,Default,,0,0,0,,And you simply provide it with
Dialogue: 0,0:51:38.60,0:51:40.98,Default,,0,0,0,,your view port size as well as
Dialogue: 0,0:51:40.98,0:51:43.12,Default,,0,0,0,,your interface orientation, and
Dialogue: 0,0:51:43.12,0:51:44.10,Default,,0,0,0,,you will get an according
Dialogue: 0,0:51:44.10,0:51:44.66,Default,,0,0,0,,transform.
Dialogue: 0,0:51:45.46,0:51:46.78,Default,,0,0,0,,In our Metal example, we are
Dialogue: 0,0:51:46.78,0:51:47.97,Default,,0,0,0,,using the inverse of this
Dialogue: 0,0:51:47.97,0:51:49.95,Default,,0,0,0,,transform to adjust the texture
Dialogue: 0,0:51:49.95,0:51:51.02,Default,,0,0,0,,coordinates of our camera
Dialogue: 0,0:51:51.02,0:51:51.51,Default,,0,0,0,,background.
Dialogue: 0,0:51:52.08,0:51:55.28,Default,,0,0,0,,And to go with this is the
Dialogue: 0,0:51:55.28,0:51:58.04,Default,,0,0,0,,projection matrix variance that
Dialogue: 0,0:51:58.04,0:51:59.28,Default,,0,0,0,,takes into account the user
Dialogue: 0,0:51:59.28,0:52:00.84,Default,,0,0,0,,interface orientation as well as
Dialogue: 0,0:52:00.84,0:52:01.72,Default,,0,0,0,,the view port size.
Dialogue: 0,0:52:02.23,0:52:03.75,Default,,0,0,0,,So you pass those along with
Dialogue: 0,0:52:03.75,0:52:05.36,Default,,0,0,0,,clipping planes limits and you
Dialogue: 0,0:52:05.36,0:52:07.60,Default,,0,0,0,,can use this projection matrix
Dialogue: 0,0:52:07.66,0:52:10.59,Default,,0,0,0,,in order to correctly draw your
Dialogue: 0,0:52:10.59,0:52:12.27,Default,,0,0,0,,virtual content on top of the
Dialogue: 0,0:52:12.27,0:52:12.92,Default,,0,0,0,,camera image.
Dialogue: 0,0:52:13.49,0:52:17.75,Default,,0,0,0,,So this is ARKit.
Dialogue: 0,0:52:18.68,0:52:21.23,Default,,0,0,0,,To summarize, ARKit is a high
Dialogue: 0,0:52:21.34,0:52:23.92,Default,,0,0,0,,level API designed for creating
Dialogue: 0,0:52:23.92,0:52:25.54,Default,,0,0,0,,augmented reality applications
Dialogue: 0,0:52:25.54,0:52:26.35,Default,,0,0,0,,on iOS.
Dialogue: 0,0:52:26.90,0:52:29.06,Default,,0,0,0,,We provide you with World
Dialogue: 0,0:52:29.06,0:52:30.80,Default,,0,0,0,,Tracking, which gives you the
Dialogue: 0,0:52:30.80,0:52:32.67,Default,,0,0,0,,relative position of your device
Dialogue: 0,0:52:33.16,0:52:34.04,Default,,0,0,0,,to a starting point.
Dialogue: 0,0:52:35.77,0:52:37.38,Default,,0,0,0,,In order to place objects into
Dialogue: 0,0:52:37.38,0:52:38.92,Default,,0,0,0,,the real world, we provide you
Dialogue: 0,0:52:38.92,0:52:39.96,Default,,0,0,0,,with Scene Understanding.
Dialogue: 0,0:52:41.31,0:52:42.81,Default,,0,0,0,,Scene Understanding provides you
Dialogue: 0,0:52:42.81,0:52:44.56,Default,,0,0,0,,with Plane Detection as well as
Dialogue: 0,0:52:44.56,0:52:46.24,Default,,0,0,0,,the ability to hit-test the real
Dialogue: 0,0:52:46.24,0:52:47.62,Default,,0,0,0,,world in order to find 3-D
Dialogue: 0,0:52:47.62,0:52:49.23,Default,,0,0,0,,coordinates and place objects
Dialogue: 0,0:52:49.23,0:52:49.39,Default,,0,0,0,,there.
Dialogue: 0,0:52:50.69,0:52:51.89,Default,,0,0,0,,And in order to improve the
Dialogue: 0,0:52:51.89,0:52:53.89,Default,,0,0,0,,realism of our augmented
Dialogue: 0,0:52:53.89,0:52:55.03,Default,,0,0,0,,content, we're providing you
Dialogue: 0,0:52:55.03,0:52:56.79,Default,,0,0,0,,with a light estimate based on
Dialogue: 0,0:52:56.79,0:52:57.54,Default,,0,0,0,,the camera image.
Dialogue: 0,0:52:58.10,0:53:00.86,Default,,0,0,0,,We provide custom integration
Dialogue: 0,0:53:00.86,0:53:03.13,Default,,0,0,0,,into SceneKit and SpriteKit as
Dialogue: 0,0:53:03.13,0:53:05.14,Default,,0,0,0,,well as a template for Metal if
Dialogue: 0,0:53:05.14,0:53:06.02,Default,,0,0,0,,you want to get started
Dialogue: 0,0:53:06.27,0:53:08.41,Default,,0,0,0,,integrating ARKit into your own
Dialogue: 0,0:53:08.41,0:53:09.06,Default,,0,0,0,,rendering engine.
Dialogue: 0,0:53:09.62,0:53:13.02,Default,,0,0,0,,You can find more information on
Dialogue: 0,0:53:13.02,0:53:14.46,Default,,0,0,0,,the website of our talk here.
Dialogue: 0,0:53:14.93,0:53:17.35,Default,,0,0,0,,And there are a couple of
Dialogue: 0,0:53:17.35,0:53:18.98,Default,,0,0,0,,related sessions from the
Dialogue: 0,0:53:18.98,0:53:20.66,Default,,0,0,0,,SceneKit team who will also have
Dialogue: 0,0:53:20.66,0:53:21.99,Default,,0,0,0,,a look at how to use dynamic
Dialogue: 0,0:53:21.99,0:53:24.22,Default,,0,0,0,,shadows with ARKit and Sprite
Dialogue: 0,0:53:24.22,0:53:26.24,Default,,0,0,0,,and SceneKit as well as a
Dialogue: 0,0:53:26.24,0:53:27.68,Default,,0,0,0,,session from the SpriteKit team
Dialogue: 0,0:53:27.89,0:53:31.35,Default,,0,0,0,,who will focus on using ARKit
Dialogue: 0,0:53:31.43,0:53:32.59,Default,,0,0,0,,with SpriteKit.
Dialogue: 0,0:53:33.19,0:53:34.83,Default,,0,0,0,,So, we're really excited of
Dialogue: 0,0:53:34.87,0:53:35.95,Default,,0,0,0,,bringing this out into your
Dialogue: 0,0:53:35.95,0:53:36.31,Default,,0,0,0,,hands.
Dialogue: 0,0:53:36.60,0:53:38.84,Default,,0,0,0,,And we are looking forward to
Dialogue: 0,0:53:38.84,0:53:40.19,Default,,0,0,0,,see the first applications that
Dialogue: 0,0:53:40.19,0:53:41.04,Default,,0,0,0,,you're going to build with it.
Dialogue: 0,0:53:41.62,0:53:42.83,Default,,0,0,0,,So please go ahead and download
Dialogue: 0,0:53:42.98,0:53:44.13,Default,,0,0,0,,the sample code, the sample
Dialogue: 0,0:53:44.13,0:53:45.53,Default,,0,0,0,,application from our website.
Dialogue: 0,0:53:45.91,0:53:48.01,Default,,0,0,0,,Put your own content into it and
Dialogue: 0,0:53:48.13,0:53:49.30,Default,,0,0,0,,show it around.
Dialogue: 0,0:53:49.60,0:53:51.34,Default,,0,0,0,,And be happy.
Dialogue: 0,0:53:51.84,0:53:53.10,Default,,0,0,0,,Thank you.
Dialogue: 0,0:53:54.52,0:54:00.30,Default,,0,0,0,,[ Applause ]
