[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:22.52,0:00:28.84,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:00:29.34,0:00:30.52,Default,,0,0,0,,>> Good afternoon, ladies and
Dialogue: 0,0:00:30.52,0:00:31.22,Default,,0,0,0,,gentleman.
Dialogue: 0,0:00:31.46,0:00:32.52,Default,,0,0,0,,I hope you're having a good
Dialogue: 0,0:00:32.78,0:00:34.26,Default,,0,0,0,,Apple Developer Conference so
Dialogue: 0,0:00:34.26,0:00:34.89,Default,,0,0,0,,far.
Dialogue: 0,0:00:35.39,0:00:37.13,Default,,0,0,0,,My name is Stuart Cheshire and
Dialogue: 0,0:00:37.13,0:00:37.97,Default,,0,0,0,,we're going to be talking about
Dialogue: 0,0:00:37.97,0:00:38.59,Default,,0,0,0,,networking.
Dialogue: 0,0:00:40.62,0:00:41.63,Default,,0,0,0,,We have a lot of material to
Dialogue: 0,0:00:41.63,0:00:43.40,Default,,0,0,0,,cover so let's get right to it.
Dialogue: 0,0:00:44.13,0:00:45.90,Default,,0,0,0,,This is going to be a two-part
Dialogue: 0,0:00:45.90,0:00:46.34,Default,,0,0,0,,session.
Dialogue: 0,0:00:47.20,0:00:49.72,Default,,0,0,0,,In part 1, I'm going to give you
Dialogue: 0,0:00:49.72,0:00:52.14,Default,,0,0,0,,some status updates about
Dialogue: 0,0:00:52.25,0:00:53.81,Default,,0,0,0,,technologies that have been in
Dialogue: 0,0:00:53.81,0:00:54.91,Default,,0,0,0,,the works for many years.
Dialogue: 0,0:00:55.85,0:00:57.76,Default,,0,0,0,,Explicit congestion notification
Dialogue: 0,0:00:58.25,0:01:00.02,Default,,0,0,0,,is a new way to manage flows
Dialogue: 0,0:01:00.02,0:01:01.75,Default,,0,0,0,,through the internet without the
Dialogue: 0,0:01:01.75,0:01:04.64,Default,,0,0,0,,cost of packet loss, and IPv6,
Dialogue: 0,0:01:04.64,0:01:07.84,Default,,0,0,0,,as I'm sure you're all aware, is
Dialogue: 0,0:01:07.84,0:01:10.08,Default,,0,0,0,,the emerging protocol for the
Dialogue: 0,0:01:10.08,0:01:10.48,Default,,0,0,0,,internet.
Dialogue: 0,0:01:11.65,0:01:12.85,Default,,0,0,0,,We're going to tell you about
Dialogue: 0,0:01:12.99,0:01:15.34,Default,,0,0,0,,some changes in the networking
Dialogue: 0,0:01:15.34,0:01:17.48,Default,,0,0,0,,stack on iOS and some new
Dialogue: 0,0:01:17.48,0:01:18.96,Default,,0,0,0,,facilities that are now
Dialogue: 0,0:01:18.96,0:01:20.96,Default,,0,0,0,,available in network extension.
Dialogue: 0,0:01:20.96,0:01:23.76,Default,,0,0,0,,And then finally, we're going to
Dialogue: 0,0:01:23.76,0:01:25.37,Default,,0,0,0,,give you some very exciting news
Dialogue: 0,0:01:25.68,0:01:27.78,Default,,0,0,0,,about multipath protocols.
Dialogue: 0,0:01:28.35,0:01:30.19,Default,,0,0,0,,The iPhones that we all have are
Dialogue: 0,0:01:30.19,0:01:32.36,Default,,0,0,0,,inherently multi-path devices.
Dialogue: 0,0:01:32.43,0:01:33.75,Default,,0,0,0,,They have multiple radios in
Dialogue: 0,0:01:33.75,0:01:35.28,Default,,0,0,0,,them, and for the most part
Dialogue: 0,0:01:35.28,0:01:37.69,Default,,0,0,0,,today we only use one radio at a
Dialogue: 0,0:01:37.69,0:01:38.02,Default,,0,0,0,,time.
Dialogue: 0,0:01:38.97,0:01:40.45,Default,,0,0,0,,It's time we started having
Dialogue: 0,0:01:40.86,0:01:42.39,Default,,0,0,0,,multipath protocols for our
Dialogue: 0,0:01:42.39,0:01:43.44,Default,,0,0,0,,multipath devices.
Dialogue: 0,0:01:46.24,0:01:48.82,Default,,0,0,0,,After the break, in part 2 we're
Dialogue: 0,0:01:48.82,0:01:50.36,Default,,0,0,0,,going to talk about some new
Dialogue: 0,0:01:50.36,0:01:52.69,Default,,0,0,0,,advances in the URL session,
Dialogue: 0,0:01:52.80,0:01:54.18,Default,,0,0,0,,family of APIs.
Dialogue: 0,0:01:54.60,0:01:56.99,Default,,0,0,0,,We're going to give some tips
Dialogue: 0,0:01:57.09,0:01:58.82,Default,,0,0,0,,and guidance for best practices
Dialogue: 0,0:01:59.68,0:02:00.60,Default,,0,0,0,,and we're going to give you some
Dialogue: 0,0:02:00.60,0:02:02.79,Default,,0,0,0,,news updates on upcoming
Dialogue: 0,0:02:02.79,0:02:04.05,Default,,0,0,0,,developments on the horizon.
Dialogue: 0,0:02:06.02,0:02:07.35,Default,,0,0,0,,So let's start with ECN,
Dialogue: 0,0:02:08.21,0:02:09.31,Default,,0,0,0,,Explicit Congestion
Dialogue: 0,0:02:09.31,0:02:10.09,Default,,0,0,0,,Notification.
Dialogue: 0,0:02:12.62,0:02:14.03,Default,,0,0,0,,You sometimes hear people talk
Dialogue: 0,0:02:14.03,0:02:15.69,Default,,0,0,0,,about a network being congested
Dialogue: 0,0:02:16.36,0:02:18.58,Default,,0,0,0,,as if that's a bad thing, but
Dialogue: 0,0:02:18.94,0:02:20.79,Default,,0,0,0,,the job for transport protocol
Dialogue: 0,0:02:21.12,0:02:22.70,Default,,0,0,0,,is to send as much data as it
Dialogue: 0,0:02:22.70,0:02:24.56,Default,,0,0,0,,can through the network, and the
Dialogue: 0,0:02:24.56,0:02:26.95,Default,,0,0,0,,way it does that is by sending
Dialogue: 0,0:02:26.95,0:02:28.65,Default,,0,0,0,,faster and faster and faster
Dialogue: 0,0:02:28.97,0:02:30.40,Default,,0,0,0,,until it's sending too fast.
Dialogue: 0,0:02:30.78,0:02:32.47,Default,,0,0,0,,In a sense, it's testing the
Dialogue: 0,0:02:32.47,0:02:33.62,Default,,0,0,0,,network to destruction.
Dialogue: 0,0:02:35.72,0:02:37.57,Default,,0,0,0,,So if the networks are
Dialogue: 0,0:02:37.57,0:02:39.16,Default,,0,0,0,,programmed correctly it should
Dialogue: 0,0:02:39.16,0:02:39.84,Default,,0,0,0,,be congested.
Dialogue: 0,0:02:40.95,0:02:43.01,Default,,0,0,0,,On any path between two devices
Dialogue: 0,0:02:43.37,0:02:44.99,Default,,0,0,0,,there will be one link that has
Dialogue: 0,0:02:45.04,0:02:46.12,Default,,0,0,0,,the lowest throughput, the
Dialogue: 0,0:02:46.12,0:02:47.42,Default,,0,0,0,,lowest capacity, and that's the
Dialogue: 0,0:02:47.42,0:02:48.28,Default,,0,0,0,,bottleneck link.
Dialogue: 0,0:02:48.91,0:02:50.79,Default,,0,0,0,,And the job of the transport
Dialogue: 0,0:02:50.79,0:02:53.23,Default,,0,0,0,,protocol is to work out its
Dialogue: 0,0:02:53.23,0:02:54.56,Default,,0,0,0,,share of the bottleneck link.
Dialogue: 0,0:02:55.21,0:02:56.30,Default,,0,0,0,,If you're sending twelve
Dialogue: 0,0:02:56.30,0:02:58.71,Default,,0,0,0,,megabits into a ten megabit
Dialogue: 0,0:02:58.71,0:03:00.84,Default,,0,0,0,,link, inevitably something has
Dialogue: 0,0:03:00.84,0:03:01.66,Default,,0,0,0,,got to go wrong.
Dialogue: 0,0:03:02.11,0:03:03.38,Default,,0,0,0,,For a short time, the package
Dialogue: 0,0:03:03.38,0:03:05.15,Default,,0,0,0,,can be buffered in memory but
Dialogue: 0,0:03:05.15,0:03:06.27,Default,,0,0,0,,when the device runs out of
Dialogue: 0,0:03:06.27,0:03:07.70,Default,,0,0,0,,memory, it has no choice but to
Dialogue: 0,0:03:07.70,0:03:08.43,Default,,0,0,0,,lose packets.
Dialogue: 0,0:03:09.21,0:03:11.15,Default,,0,0,0,,And when it loses packets, that
Dialogue: 0,0:03:11.15,0:03:12.85,Default,,0,0,0,,is a clue to the sender that it
Dialogue: 0,0:03:12.85,0:03:14.22,Default,,0,0,0,,was going too fast and it should
Dialogue: 0,0:03:14.22,0:03:14.90,Default,,0,0,0,,slow down a bit.
Dialogue: 0,0:03:16.09,0:03:18.28,Default,,0,0,0,,The problem is that losing
Dialogue: 0,0:03:18.28,0:03:20.61,Default,,0,0,0,,packets is a very expensive way
Dialogue: 0,0:03:20.61,0:03:21.77,Default,,0,0,0,,of communicating that
Dialogue: 0,0:03:21.77,0:03:22.90,Default,,0,0,0,,information to the sender.
Dialogue: 0,0:03:23.92,0:03:26.10,Default,,0,0,0,,It took battery power to send
Dialogue: 0,0:03:26.10,0:03:27.22,Default,,0,0,0,,those packets if they're coming
Dialogue: 0,0:03:27.22,0:03:28.32,Default,,0,0,0,,from a wireless device.
Dialogue: 0,0:03:28.96,0:03:31.12,Default,,0,0,0,,It used wireless spectrum, a
Dialogue: 0,0:03:31.12,0:03:32.47,Default,,0,0,0,,network capacity, to send those
Dialogue: 0,0:03:32.47,0:03:33.01,Default,,0,0,0,,packets.
Dialogue: 0,0:03:33.87,0:03:36.10,Default,,0,0,0,,And when you drop them, they
Dialogue: 0,0:03:36.10,0:03:37.29,Default,,0,0,0,,have to be retransmitted.
Dialogue: 0,0:03:37.94,0:03:40.32,Default,,0,0,0,,Now, those packet losses and
Dialogue: 0,0:03:40.32,0:03:42.14,Default,,0,0,0,,retransmissions are invisible to
Dialogue: 0,0:03:42.14,0:03:44.04,Default,,0,0,0,,your application because TCP or
Dialogue: 0,0:03:44.04,0:03:45.20,Default,,0,0,0,,the transport protocol just
Dialogue: 0,0:03:45.20,0:03:46.57,Default,,0,0,0,,handles it.
Dialogue: 0,0:03:47.44,0:03:48.68,Default,,0,0,0,,Or I should say almost
Dialogue: 0,0:03:48.68,0:03:49.26,Default,,0,0,0,,invisible.
Dialogue: 0,0:03:49.99,0:03:51.58,Default,,0,0,0,,The loss is invisible but the
Dialogue: 0,0:03:51.58,0:03:52.92,Default,,0,0,0,,delay it causes is not.
Dialogue: 0,0:03:54.40,0:03:55.85,Default,,0,0,0,,Your application will end up
Dialogue: 0,0:03:55.85,0:03:57.59,Default,,0,0,0,,waiting for that retransmitted
Dialogue: 0,0:03:57.59,0:04:00.40,Default,,0,0,0,,data to arrive, and that causes
Dialogue: 0,0:04:00.69,0:04:02.33,Default,,0,0,0,,a slower, more sluggish, user
Dialogue: 0,0:04:02.33,0:04:02.98,Default,,0,0,0,,experience.
Dialogue: 0,0:04:04.11,0:04:05.26,Default,,0,0,0,,With explicit congestion
Dialogue: 0,0:04:05.26,0:04:07.21,Default,,0,0,0,,notification, when the
Dialogue: 0,0:04:07.21,0:04:09.97,Default,,0,0,0,,bottleneck gateway notices that
Dialogue: 0,0:04:09.97,0:04:12.07,Default,,0,0,0,,a queue is starting to form, it
Dialogue: 0,0:04:12.07,0:04:13.61,Default,,0,0,0,,doesn't wait until it runs out
Dialogue: 0,0:04:13.61,0:04:16.05,Default,,0,0,0,,of memory, it sets a bit in the
Dialogue: 0,0:04:16.13,0:04:17.60,Default,,0,0,0,,IP packet header saying
Dialogue: 0,0:04:17.60,0:04:19.82,Default,,0,0,0,,congestion experienced, and that
Dialogue: 0,0:04:19.82,0:04:21.84,Default,,0,0,0,,serves as a hint to the sender
Dialogue: 0,0:04:22.13,0:04:24.22,Default,,0,0,0,,to slow down a bit, and that
Dialogue: 0,0:04:24.22,0:04:25.95,Default,,0,0,0,,lets the network adjust the
Dialogue: 0,0:04:25.95,0:04:28.46,Default,,0,0,0,,senders rate without the cost of
Dialogue: 0,0:04:28.46,0:04:29.17,Default,,0,0,0,,losing data.
Dialogue: 0,0:04:30.44,0:04:31.86,Default,,0,0,0,,One of the side of effects of
Dialogue: 0,0:04:32.11,0:04:34.08,Default,,0,0,0,,ECN is it also encourages
Dialogue: 0,0:04:34.11,0:04:36.06,Default,,0,0,0,,deployment of smarter queuing
Dialogue: 0,0:04:36.06,0:04:37.61,Default,,0,0,0,,algorithms in the network, which
Dialogue: 0,0:04:37.61,0:04:38.63,Default,,0,0,0,,is also a good thing.
Dialogue: 0,0:04:39.57,0:04:42.32,Default,,0,0,0,,If you have a very simple-minded
Dialogue: 0,0:04:42.42,0:04:44.87,Default,,0,0,0,,device with a single shared
Dialogue: 0,0:04:44.87,0:04:47.22,Default,,0,0,0,,first-in, first-out queue that
Dialogue: 0,0:04:47.47,0:04:48.60,Default,,0,0,0,,fills up the queue until it runs
Dialogue: 0,0:04:48.60,0:04:49.30,Default,,0,0,0,,out of memory.
Dialogue: 0,0:04:49.90,0:04:51.80,Default,,0,0,0,,When the next packet arrives it
Dialogue: 0,0:04:51.80,0:04:52.58,Default,,0,0,0,,has little choice.
Dialogue: 0,0:04:52.58,0:04:53.57,Default,,0,0,0,,It has to lose data.
Dialogue: 0,0:04:54.28,0:04:56.81,Default,,0,0,0,,So you can't really use ECN with
Dialogue: 0,0:04:56.81,0:04:57.96,Default,,0,0,0,,a dumb 5-0 queue.
Dialogue: 0,0:04:58.66,0:05:00.03,Default,,0,0,0,,You have to have smart queueing,
Dialogue: 0,0:05:00.56,0:05:01.74,Default,,0,0,0,,and those intelligent queue
Dialogue: 0,0:05:01.74,0:05:03.73,Default,,0,0,0,,algorithms that keep the queues
Dialogue: 0,0:05:03.78,0:05:06.80,Default,,0,0,0,,short and signal congestion
Dialogue: 0,0:05:06.80,0:05:08.28,Default,,0,0,0,,before it becomes very bad,
Dialogue: 0,0:05:08.77,0:05:10.54,Default,,0,0,0,,that's what helps keep delays in
Dialogue: 0,0:05:10.54,0:05:13.40,Default,,0,0,0,,the network minimized and
Dialogue: 0,0:05:13.40,0:05:14.45,Default,,0,0,0,,eliminate buffer bloat.
Dialogue: 0,0:05:19.05,0:05:20.60,Default,,0,0,0,,There are three participants
Dialogue: 0,0:05:20.60,0:05:22.62,Default,,0,0,0,,that have to cooperate to make
Dialogue: 0,0:05:23.22,0:05:26.40,Default,,0,0,0,,ECN work, the clients, the
Dialogue: 0,0:05:26.40,0:05:28.11,Default,,0,0,0,,servers, and the network itself.
Dialogue: 0,0:05:29.97,0:05:31.69,Default,,0,0,0,,I'm very happy to tell you that
Dialogue: 0,0:05:31.85,0:05:33.81,Default,,0,0,0,,in our latest survey of the
Dialogue: 0,0:05:33.81,0:05:35.51,Default,,0,0,0,,Alexa top million websites,
Dialogue: 0,0:05:35.87,0:05:37.52,Default,,0,0,0,,almost three-quarters of them
Dialogue: 0,0:05:37.52,0:05:38.81,Default,,0,0,0,,already support ECN.
Dialogue: 0,0:05:39.79,0:05:41.65,Default,,0,0,0,,Now for the most part, this was
Dialogue: 0,0:05:41.65,0:05:42.84,Default,,0,0,0,,not because the website
Dialogue: 0,0:05:42.84,0:05:44.32,Default,,0,0,0,,administrator made a conscious
Dialogue: 0,0:05:44.35,0:05:46.63,Default,,0,0,0,,decision to support ECN, it's
Dialogue: 0,0:05:46.63,0:05:48.17,Default,,0,0,0,,simply because it's part of the
Dialogue: 0,0:05:48.17,0:05:50.06,Default,,0,0,0,,default Linux kernel, so they
Dialogue: 0,0:05:50.06,0:05:50.78,Default,,0,0,0,,get it for free.
Dialogue: 0,0:05:51.51,0:05:53.76,Default,,0,0,0,,But the good news is almost
Dialogue: 0,0:05:53.76,0:05:55.27,Default,,0,0,0,,three-quarters of the Alexa top
Dialogue: 0,0:05:55.27,0:05:57.15,Default,,0,0,0,,million websites already support
Dialogue: 0,0:05:57.15,0:05:58.46,Default,,0,0,0,,ECN, so that's the servers taken
Dialogue: 0,0:05:58.46,0:05:58.86,Default,,0,0,0,,care of.
Dialogue: 0,0:06:00.59,0:06:02.98,Default,,0,0,0,,On the client side, we have been
Dialogue: 0,0:06:02.98,0:06:04.65,Default,,0,0,0,,experimenting at Apple.
Dialogue: 0,0:06:05.57,0:06:09.06,Default,,0,0,0,,In iOS 10.3, for all eligible
Dialogue: 0,0:06:09.06,0:06:11.39,Default,,0,0,0,,TCP connections on Wi-Fi,
Dialogue: 0,0:06:11.39,0:06:13.22,Default,,0,0,0,,Ethernet and selected mobile
Dialogue: 0,0:06:13.22,0:06:16.09,Default,,0,0,0,,carriers, we toss a coin and
Dialogue: 0,0:06:16.09,0:06:18.29,Default,,0,0,0,,half of the TCP connections will
Dialogue: 0,0:06:18.42,0:06:18.99,Default,,0,0,0,,request ECN.
Dialogue: 0,0:06:20.26,0:06:21.98,Default,,0,0,0,,We did this to gauge whether the
Dialogue: 0,0:06:21.98,0:06:23.72,Default,,0,0,0,,internet was safe for ECN.
Dialogue: 0,0:06:24.15,0:06:26.07,Default,,0,0,0,,Five years ago, this experiment
Dialogue: 0,0:06:26.07,0:06:27.18,Default,,0,0,0,,would probably have produced
Dialogue: 0,0:06:27.18,0:06:28.00,Default,,0,0,0,,different results.
Dialogue: 0,0:06:28.00,0:06:29.66,Default,,0,0,0,,There were old firewalls and
Dialogue: 0,0:06:29.66,0:06:31.30,Default,,0,0,0,,middle boxes that might have got
Dialogue: 0,0:06:31.30,0:06:32.94,Default,,0,0,0,,confused by the ECN bits.
Dialogue: 0,0:06:33.84,0:06:36.15,Default,,0,0,0,,The good news is we did this
Dialogue: 0,0:06:36.15,0:06:38.45,Default,,0,0,0,,experiment on a massive scale
Dialogue: 0,0:06:38.61,0:06:41.97,Default,,0,0,0,,worldwide and we didn't hear any
Dialogue: 0,0:06:41.97,0:06:43.00,Default,,0,0,0,,news, we didn't hear any
Dialogue: 0,0:06:43.00,0:06:44.12,Default,,0,0,0,,customer complaints that the
Dialogue: 0,0:06:44.12,0:06:45.23,Default,,0,0,0,,internet was broken.
Dialogue: 0,0:06:45.72,0:06:48.35,Default,,0,0,0,,In the AWD metrics that gathered
Dialogue: 0,0:06:48.35,0:06:51.65,Default,,0,0,0,,ourselves to monitor how the
Dialogue: 0,0:06:51.65,0:06:53.71,Default,,0,0,0,,devices were performing, we saw
Dialogue: 0,0:06:53.71,0:06:55.76,Default,,0,0,0,,no discernable difference in
Dialogue: 0,0:06:56.14,0:06:57.84,Default,,0,0,0,,packet loss, retransmission,
Dialogue: 0,0:06:57.84,0:06:59.15,Default,,0,0,0,,reordering, any of the other
Dialogue: 0,0:06:59.15,0:07:00.58,Default,,0,0,0,,metrics that we care about.
Dialogue: 0,0:07:00.99,0:07:03.03,Default,,0,0,0,,So it would appear that the
Dialogue: 0,0:07:03.03,0:07:04.91,Default,,0,0,0,,internet is now safe for ECN.
Dialogue: 0,0:07:06.00,0:07:08.02,Default,,0,0,0,,Now we were not expecting to see
Dialogue: 0,0:07:08.35,0:07:10.90,Default,,0,0,0,,any actual congestion marking
Dialogue: 0,0:07:11.16,0:07:12.64,Default,,0,0,0,,happening because until the
Dialogue: 0,0:07:12.67,0:07:13.92,Default,,0,0,0,,clients and servers are doing
Dialogue: 0,0:07:13.92,0:07:15.65,Default,,0,0,0,,ECN, there's an awful lot of
Dialogue: 0,0:07:15.65,0:07:17.43,Default,,0,0,0,,incentive for the network
Dialogue: 0,0:07:17.43,0:07:18.75,Default,,0,0,0,,operators to start deploying it.
Dialogue: 0,0:07:19.41,0:07:21.84,Default,,0,0,0,,And indeed, we saw very little
Dialogue: 0,0:07:22.49,0:07:24.88,Default,,0,0,0,,congestion marking in most of
Dialogue: 0,0:07:24.88,0:07:25.39,Default,,0,0,0,,the world.
Dialogue: 0,0:07:25.47,0:07:27.61,Default,,0,0,0,,But then we looked a bit further
Dialogue: 0,0:07:28.31,0:07:31.96,Default,,0,0,0,,and we saw in Mexico of all the
Dialogue: 0,0:07:31.96,0:07:34.98,Default,,0,0,0,,device reports we collected 3%
Dialogue: 0,0:07:34.98,0:07:36.43,Default,,0,0,0,,of them had seen at least one
Dialogue: 0,0:07:36.80,0:07:38.49,Default,,0,0,0,,congestion experience mark on a
Dialogue: 0,0:07:38.49,0:07:38.94,Default,,0,0,0,,packet.
Dialogue: 0,0:07:39.92,0:07:41.32,Default,,0,0,0,,In France it was 6%.
Dialogue: 0,0:07:42.11,0:07:43.94,Default,,0,0,0,,In Argentina it was 30%.
Dialogue: 0,0:07:44.79,0:07:45.95,Default,,0,0,0,,I'm not sure what they're doing
Dialogue: 0,0:07:45.95,0:07:47.18,Default,,0,0,0,,in Argentina, but it would
Dialogue: 0,0:07:47.25,0:07:48.77,Default,,0,0,0,,appear that they've already
Dialogue: 0,0:07:48.77,0:07:50.36,Default,,0,0,0,,started deploying ECN, and if
Dialogue: 0,0:07:50.36,0:07:52.06,Default,,0,0,0,,that's true keep up the good
Dialogue: 0,0:07:52.06,0:07:52.84,Default,,0,0,0,,work Argentina.
Dialogue: 0,0:07:52.84,0:07:53.60,Default,,0,0,0,,That's fantastic.
Dialogue: 0,0:07:54.28,0:07:57.89,Default,,0,0,0,,So to summarize, servers are
Dialogue: 0,0:07:57.89,0:08:00.53,Default,,0,0,0,,supporting ECN, clients are
Dialogue: 0,0:08:00.53,0:08:03.12,Default,,0,0,0,,supporting ECN, and in iOS 11
Dialogue: 0,0:08:03.12,0:08:04.19,Default,,0,0,0,,now that we've determined it's
Dialogue: 0,0:08:04.19,0:08:06.47,Default,,0,0,0,,safe, 100% of eligible
Dialogue: 0,0:08:07.42,0:08:09.09,Default,,0,0,0,,connections will be using ECN,
Dialogue: 0,0:08:09.31,0:08:11.46,Default,,0,0,0,,on Wi-Fi, Ethernet, and selected
Dialogue: 0,0:08:11.46,0:08:12.03,Default,,0,0,0,,carriers.
Dialogue: 0,0:08:12.20,0:08:14.83,Default,,0,0,0,,If you work for a carrier and
Dialogue: 0,0:08:14.83,0:08:16.03,Default,,0,0,0,,you're not in this program,
Dialogue: 0,0:08:16.30,0:08:18.96,Default,,0,0,0,,contact your carrier relations
Dialogue: 0,0:08:18.96,0:08:21.51,Default,,0,0,0,,person at Apple and they can get
Dialogue: 0,0:08:21.51,0:08:22.93,Default,,0,0,0,,you signed into this program to
Dialogue: 0,0:08:22.93,0:08:24.51,Default,,0,0,0,,support ECN on your networks
Dialogue: 0,0:08:24.51,0:08:24.75,Default,,0,0,0,,too.
Dialogue: 0,0:08:25.49,0:08:27.00,Default,,0,0,0,,So now the stage is set.
Dialogue: 0,0:08:27.20,0:08:28.14,Default,,0,0,0,,The clients are doing it.
Dialogue: 0,0:08:28.35,0:08:29.48,Default,,0,0,0,,The servers are doing it.
Dialogue: 0,0:08:29.94,0:08:32.37,Default,,0,0,0,,Any ISP or network operator in
Dialogue: 0,0:08:32.37,0:08:35.35,Default,,0,0,0,,the world can deploy ECN and see
Dialogue: 0,0:08:35.35,0:08:36.93,Default,,0,0,0,,immediate user experience
Dialogue: 0,0:08:36.97,0:08:38.44,Default,,0,0,0,,benefits for their users.
Dialogue: 0,0:08:39.66,0:08:41.37,Default,,0,0,0,,One common misunderstanding
Dialogue: 0,0:08:41.37,0:08:43.39,Default,,0,0,0,,about ECN is that it has to be
Dialogue: 0,0:08:43.39,0:08:45.54,Default,,0,0,0,,supported end to end on the
Dialogue: 0,0:08:45.54,0:08:46.99,Default,,0,0,0,,entire path across the internet,
Dialogue: 0,0:08:47.25,0:08:48.13,Default,,0,0,0,,and that's not true.
Dialogue: 0,0:08:48.84,0:08:50.84,Default,,0,0,0,,There is only one place that
Dialogue: 0,0:08:50.84,0:08:53.45,Default,,0,0,0,,needs to support ECN for you to
Dialogue: 0,0:08:53.45,0:08:54.15,Default,,0,0,0,,get the benefit.
Dialogue: 0,0:08:56.29,0:08:58.01,Default,,0,0,0,,As I said, on any path between
Dialogue: 0,0:08:58.01,0:08:59.58,Default,,0,0,0,,two devices there is generally
Dialogue: 0,0:08:59.58,0:09:01.65,Default,,0,0,0,,one link which is the bottleneck
Dialogue: 0,0:09:01.65,0:09:04.57,Default,,0,0,0,,link, and for most of you at
Dialogue: 0,0:09:04.57,0:09:06.14,Default,,0,0,0,,home with your residential
Dialogue: 0,0:09:06.14,0:09:07.28,Default,,0,0,0,,internet connections that
Dialogue: 0,0:09:07.53,0:09:09.73,Default,,0,0,0,,bottleneck link is an artificial
Dialogue: 0,0:09:09.73,0:09:10.05,Default,,0,0,0,,one.
Dialogue: 0,0:09:10.52,0:09:11.87,Default,,0,0,0,,You may have paid for 10
Dialogue: 0,0:09:11.87,0:09:14.05,Default,,0,0,0,,megabits or 20 megabits or 50
Dialogue: 0,0:09:14.05,0:09:16.53,Default,,0,0,0,,megabits of service and the way
Dialogue: 0,0:09:16.56,0:09:18.96,Default,,0,0,0,,your ISP provides that service
Dialogue: 0,0:09:19.29,0:09:20.75,Default,,0,0,0,,is they artificially throttle
Dialogue: 0,0:09:20.75,0:09:21.92,Default,,0,0,0,,your data to the rate you've
Dialogue: 0,0:09:21.98,0:09:22.54,Default,,0,0,0,,paid for.
Dialogue: 0,0:09:23.07,0:09:25.08,Default,,0,0,0,,So the one queue on your path
Dialogue: 0,0:09:25.08,0:09:27.03,Default,,0,0,0,,for almost all connections is
Dialogue: 0,0:09:27.03,0:09:29.48,Default,,0,0,0,,the one that exists at your
Dialogue: 0,0:09:29.48,0:09:31.73,Default,,0,0,0,,ISP's headend equipment where
Dialogue: 0,0:09:31.83,0:09:33.52,Default,,0,0,0,,they are artificially throttling
Dialogue: 0,0:09:33.52,0:09:34.13,Default,,0,0,0,,your data.
Dialogue: 0,0:09:34.54,0:09:35.87,Default,,0,0,0,,That is the only place on the
Dialogue: 0,0:09:35.87,0:09:37.71,Default,,0,0,0,,path that needs to mark
Dialogue: 0,0:09:37.71,0:09:39.30,Default,,0,0,0,,congestion by setting the bit
Dialogue: 0,0:09:39.36,0:09:40.55,Default,,0,0,0,,instead of by discarding the
Dialogue: 0,0:09:40.55,0:09:43.27,Default,,0,0,0,,packet, and your customers get
Dialogue: 0,0:09:43.27,0:09:45.05,Default,,0,0,0,,the benefit of a faster more
Dialogue: 0,0:09:45.05,0:09:45.88,Default,,0,0,0,,responsive internet.
Dialogue: 0,0:09:46.55,0:09:48.53,Default,,0,0,0,,So with that, I would like to
Dialogue: 0,0:09:48.53,0:09:49.88,Default,,0,0,0,,invite my colleague, David
Dialogue: 0,0:09:49.88,0:09:51.43,Default,,0,0,0,,Schinazzi, to come up on stage
Dialogue: 0,0:09:51.74,0:09:52.78,Default,,0,0,0,,and give you some more news
Dialogue: 0,0:09:52.78,0:09:53.26,Default,,0,0,0,,updates.
Dialogue: 0,0:09:54.52,0:09:59.55,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:10:00.05,0:10:00.98,Default,,0,0,0,,>> Good afternoon, everyone.
Dialogue: 0,0:10:01.68,0:10:03.61,Default,,0,0,0,,My name is David Schinazzi, I'm
Dialogue: 0,0:10:03.61,0:10:04.87,Default,,0,0,0,,a core networking engineer here
Dialogue: 0,0:10:04.87,0:10:06.31,Default,,0,0,0,,at Apple, and I'm going to start
Dialogue: 0,0:10:06.31,0:10:08.50,Default,,0,0,0,,off by talking about IPv6,
Dialogue: 0,0:10:08.75,0:10:10.04,Default,,0,0,0,,giving you a status update.
Dialogue: 0,0:10:11.16,0:10:13.35,Default,,0,0,0,,And especially if you're writing
Dialogue: 0,0:10:13.35,0:10:14.53,Default,,0,0,0,,apps that use the internet
Dialogue: 0,0:10:14.53,0:10:16.12,Default,,0,0,0,,today, well you actually really
Dialogue: 0,0:10:16.12,0:10:16.44,Default,,0,0,0,,care.
Dialogue: 0,0:10:18.04,0:10:20.18,Default,,0,0,0,,So as some of you might know,
Dialogue: 0,0:10:20.74,0:10:21.92,Default,,0,0,0,,yesterday was the 5th
Dialogue: 0,0:10:21.92,0:10:23.89,Default,,0,0,0,,anniversary of World IPv6
Dialogue: 0,0:10:24.00,0:10:24.49,Default,,0,0,0,,launch.
Dialogue: 0,0:10:25.43,0:10:28.22,Default,,0,0,0,,So five years ago yesterday many
Dialogue: 0,0:10:28.22,0:10:30.35,Default,,0,0,0,,content provider across the
Dialogue: 0,0:10:30.35,0:10:31.90,Default,,0,0,0,,internet got together and
Dialogue: 0,0:10:31.90,0:10:32.69,Default,,0,0,0,,enabled IPv6.
Dialogue: 0,0:10:32.78,0:10:35.35,Default,,0,0,0,,And it worked well so they kept
Dialogue: 0,0:10:35.35,0:10:37.20,Default,,0,0,0,,it on, but what's happened
Dialogue: 0,0:10:37.20,0:10:38.11,Default,,0,0,0,,since?
Dialogue: 0,0:10:38.31,0:10:40.38,Default,,0,0,0,,This is a graph of the client
Dialogue: 0,0:10:40.38,0:10:42.78,Default,,0,0,0,,device adoption over the years.
Dialogue: 0,0:10:42.84,0:10:45.15,Default,,0,0,0,,At the time less than 1% of
Dialogue: 0,0:10:45.15,0:10:46.71,Default,,0,0,0,,devices supported IPv6.
Dialogue: 0,0:10:47.05,0:10:48.51,Default,,0,0,0,,Now we're almost at 20%.
Dialogue: 0,0:10:49.31,0:10:51.08,Default,,0,0,0,,And a really important point is
Dialogue: 0,0:10:51.08,0:10:52.89,Default,,0,0,0,,that if you're writing apps for
Dialogue: 0,0:10:52.89,0:10:54.69,Default,,0,0,0,,Apple devices, on the markets
Dialogue: 0,0:10:54.69,0:10:55.95,Default,,0,0,0,,where we see most Apple devices
Dialogue: 0,0:10:55.95,0:10:56.94,Default,,0,0,0,,these numbers are generally
Dialogue: 0,0:10:56.94,0:10:57.40,Default,,0,0,0,,higher.
Dialogue: 0,0:10:58.36,0:10:59.42,Default,,0,0,0,,Especially in the case of
Dialogue: 0,0:10:59.42,0:11:03.00,Default,,0,0,0,,cellular, almost all carriers
Dialogue: 0,0:11:03.00,0:11:04.59,Default,,0,0,0,,that we work with now deploy
Dialogue: 0,0:11:04.59,0:11:06.20,Default,,0,0,0,,dual stack, meaning that they
Dialogue: 0,0:11:06.20,0:11:08.42,Default,,0,0,0,,offer both IPv4 and IPv6.
Dialogue: 0,0:11:08.54,0:11:11.72,Default,,0,0,0,,And the great news is, it works
Dialogue: 0,0:11:11.72,0:11:11.96,Default,,0,0,0,,better.
Dialogue: 0,0:11:12.69,0:11:14.16,Default,,0,0,0,,So we've actually measured this
Dialogue: 0,0:11:14.31,0:11:15.11,Default,,0,0,0,,based on a lot of the
Dialogue: 0,0:11:15.11,0:11:16.48,Default,,0,0,0,,connections our devices make.
Dialogue: 0,0:11:16.98,0:11:19.21,Default,,0,0,0,,The HTP request load in 15 to
Dialogue: 0,0:11:19.21,0:11:22.01,Default,,0,0,0,,30% faster, which means that if
Dialogue: 0,0:11:22.01,0:11:23.17,Default,,0,0,0,,you actually have two apps side
Dialogue: 0,0:11:23.17,0:11:24.84,Default,,0,0,0,,by side, you will notice the
Dialogue: 0,0:11:24.84,0:11:25.53,Default,,0,0,0,,difference.
Dialogue: 0,0:11:25.63,0:11:27.29,Default,,0,0,0,,Your customers will see a
Dialogue: 0,0:11:27.29,0:11:27.95,Default,,0,0,0,,difference.
Dialogue: 0,0:11:28.79,0:11:29.93,Default,,0,0,0,,So if you don't know if your
Dialogue: 0,0:11:29.93,0:11:31.78,Default,,0,0,0,,server supports IPv6 today,
Dialogue: 0,0:11:32.37,0:11:34.36,Default,,0,0,0,,definitely check, contact your
Dialogue: 0,0:11:34.36,0:11:35.73,Default,,0,0,0,,server team and make sure they
Dialogue: 0,0:11:35.73,0:11:36.38,Default,,0,0,0,,support IPv6.
Dialogue: 0,0:11:36.38,0:11:38.22,Default,,0,0,0,,You can't afford to let this
Dialogue: 0,0:11:38.22,0:11:39.37,Default,,0,0,0,,performance wane on the table.
Dialogue: 0,0:11:41.27,0:11:42.54,Default,,0,0,0,,Another important trend that I
Dialogue: 0,0:11:42.54,0:11:44.00,Default,,0,0,0,,like to talk about is NAT64.
Dialogue: 0,0:11:44.00,0:11:46.54,Default,,0,0,0,,So we started talking about this
Dialogue: 0,0:11:46.54,0:11:48.98,Default,,0,0,0,,at WWDC two years ago, and then
Dialogue: 0,0:11:48.98,0:11:49.92,Default,,0,0,0,,we made it an app store
Dialogue: 0,0:11:49.92,0:11:52.32,Default,,0,0,0,,requirement last year but now
Dialogue: 0,0:11:52.32,0:11:52.79,Default,,0,0,0,,it's here.
Dialogue: 0,0:11:52.85,0:11:54.68,Default,,0,0,0,,It's in production for several
Dialogue: 0,0:11:54.68,0:11:56.93,Default,,0,0,0,,months now on a major carrier in
Dialogue: 0,0:11:56.93,0:12:00.34,Default,,0,0,0,,the U.S., every single device is
Dialogue: 0,0:12:00.61,0:12:01.21,Default,,0,0,0,,v6 only.
Dialogue: 0,0:12:01.73,0:12:03.31,Default,,0,0,0,,They don't have an IPv4 address,
Dialogue: 0,0:12:03.35,0:12:05.46,Default,,0,0,0,,they can only talk using IPv6.
Dialogue: 0,0:12:06.26,0:12:07.49,Default,,0,0,0,,So that doesn't mean that you
Dialogue: 0,0:12:07.49,0:12:08.90,Default,,0,0,0,,can't talk to v4 servers.
Dialogue: 0,0:12:08.90,0:12:10.43,Default,,0,0,0,,Thanks to a box on the network
Dialogue: 0,0:12:10.75,0:12:13.43,Default,,0,0,0,,called the NAT64, devices can
Dialogue: 0,0:12:13.43,0:12:14.85,Default,,0,0,0,,still connect to those servers,
Dialogue: 0,0:12:14.95,0:12:16.05,Default,,0,0,0,,however, you're not getting the
Dialogue: 0,0:12:16.05,0:12:17.23,Default,,0,0,0,,performance benefits that we're
Dialogue: 0,0:12:17.23,0:12:18.36,Default,,0,0,0,,talking about by using v6
Dialogue: 0,0:12:18.36,0:12:19.34,Default,,0,0,0,,natively.
Dialogue: 0,0:12:20.61,0:12:21.97,Default,,0,0,0,,However, what's really important
Dialogue: 0,0:12:21.97,0:12:24.00,Default,,0,0,0,,is that the app needs to make
Dialogue: 0,0:12:24.00,0:12:25.08,Default,,0,0,0,,sure it supports IPv6.
Dialogue: 0,0:12:25.21,0:12:27.10,Default,,0,0,0,,If it tries to connect to IPv4,
Dialogue: 0,0:12:27.10,0:12:28.16,Default,,0,0,0,,that will not work.
Dialogue: 0,0:12:29.13,0:12:30.16,Default,,0,0,0,,So how do you do that?
Dialogue: 0,0:12:30.55,0:12:31.38,Default,,0,0,0,,It's very simple.
Dialogue: 0,0:12:31.98,0:12:33.76,Default,,0,0,0,,If you use our higher level API
Dialogue: 0,0:12:34.01,0:12:35.79,Default,,0,0,0,,such as URLSession CFNetwork,
Dialogue: 0,0:12:36.18,0:12:37.54,Default,,0,0,0,,the system libraries do all the
Dialogue: 0,0:12:37.54,0:12:38.60,Default,,0,0,0,,heavy lifting for you.
Dialogue: 0,0:12:38.97,0:12:39.98,Default,,0,0,0,,You don't need to worry about
Dialogue: 0,0:12:40.01,0:12:42.14,Default,,0,0,0,,IPv4, IPv6, any of that.
Dialogue: 0,0:12:42.14,0:12:43.15,Default,,0,0,0,,It just works.
Dialogue: 0,0:12:43.56,0:12:45.54,Default,,0,0,0,,What you really want to avoid is
Dialogue: 0,0:12:45.54,0:12:47.94,Default,,0,0,0,,using Legacy IPv4 on the APIs,
Dialogue: 0,0:12:48.47,0:12:50.05,Default,,0,0,0,,directly typing in an IPv4
Dialogue: 0,0:12:50.05,0:12:53.15,Default,,0,0,0,,address into your app, or using
Dialogue: 0,0:12:53.15,0:12:54.16,Default,,0,0,0,,preflight checks.
Dialogue: 0,0:12:54.85,0:12:57.35,Default,,0,0,0,,For example, if you check if the
Dialogue: 0,0:12:57.35,0:12:59.04,Default,,0,0,0,,device is IPv4 address before
Dialogue: 0,0:12:59.04,0:13:00.37,Default,,0,0,0,,making connection, that won't
Dialogue: 0,0:13:00.37,0:13:00.94,Default,,0,0,0,,work anymore.
Dialogue: 0,0:13:03.49,0:13:05.35,Default,,0,0,0,,And why -- another reason why
Dialogue: 0,0:13:05.35,0:13:06.32,Default,,0,0,0,,you should really care is that
Dialogue: 0,0:13:06.32,0:13:07.92,Default,,0,0,0,,this is an app review
Dialogue: 0,0:13:07.92,0:13:08.95,Default,,0,0,0,,enforcement.
Dialogue: 0,0:13:08.95,0:13:10.50,Default,,0,0,0,,It's required for any app,
Dialogue: 0,0:13:10.86,0:13:12.83,Default,,0,0,0,,either new or an update, to get
Dialogue: 0,0:13:12.83,0:13:13.55,Default,,0,0,0,,on the app store.
Dialogue: 0,0:13:14.08,0:13:16.04,Default,,0,0,0,,Every one of them is tested on
Dialogue: 0,0:13:16.27,0:13:18.67,Default,,0,0,0,,an IPv6 only NAT64 network, and
Dialogue: 0,0:13:18.67,0:13:20.26,Default,,0,0,0,,if it doesn't work you will not
Dialogue: 0,0:13:20.26,0:13:21.24,Default,,0,0,0,,make it onto the store.
Dialogue: 0,0:13:21.89,0:13:23.20,Default,,0,0,0,,However, I really want to
Dialogue: 0,0:13:23.20,0:13:24.78,Default,,0,0,0,,congratulate all you developers
Dialogue: 0,0:13:24.78,0:13:26.68,Default,,0,0,0,,because you've fixed all of your
Dialogue: 0,0:13:26.68,0:13:28.25,Default,,0,0,0,,apps and we now almost never
Dialogue: 0,0:13:28.25,0:13:29.20,Default,,0,0,0,,have to reject anything.
Dialogue: 0,0:13:29.60,0:13:30.36,Default,,0,0,0,,So great job there.
Dialogue: 0,0:13:32.08,0:13:34.07,Default,,0,0,0,,If you want more tips on how to
Dialogue: 0,0:13:34.07,0:13:34.99,Default,,0,0,0,,really make sure everything
Dialogue: 0,0:13:34.99,0:13:37.13,Default,,0,0,0,,works, there is a great section
Dialogue: 0,0:13:37.13,0:13:38.68,Default,,0,0,0,,on the developer website called
Dialogue: 0,0:13:38.68,0:13:40.70,Default,,0,0,0,,supporting IPv6 DNS64/NAT64
Dialogue: 0,0:13:40.70,0:13:41.47,Default,,0,0,0,,networks.
Dialogue: 0,0:13:41.63,0:13:42.90,Default,,0,0,0,,Feel free to also join us in the
Dialogue: 0,0:13:42.90,0:13:45.20,Default,,0,0,0,,labs tomorrow and Friday with
Dialogue: 0,0:13:45.20,0:13:45.85,Default,,0,0,0,,any questions.
Dialogue: 0,0:13:49.05,0:13:50.63,Default,,0,0,0,,Now I'd like to switch gears and
Dialogue: 0,0:13:50.63,0:13:52.43,Default,,0,0,0,,talk about networking on the
Dialogue: 0,0:13:52.43,0:13:54.65,Default,,0,0,0,,device itself, and introduce
Dialogue: 0,0:13:54.65,0:13:55.95,Default,,0,0,0,,something this year that we're
Dialogue: 0,0:13:55.95,0:13:57.42,Default,,0,0,0,,calling user space networking.
Dialogue: 0,0:13:58.65,0:14:00.60,Default,,0,0,0,,You're probably familiar with
Dialogue: 0,0:14:00.67,0:14:01.83,Default,,0,0,0,,the traditional model of a
Dialogue: 0,0:14:01.83,0:14:04.40,Default,,0,0,0,,networking stack where a lot of
Dialogue: 0,0:14:04.40,0:14:05.81,Default,,0,0,0,,the hard work is done inside the
Dialogue: 0,0:14:05.84,0:14:06.30,Default,,0,0,0,,kernel.
Dialogue: 0,0:14:06.44,0:14:08.80,Default,,0,0,0,,So protocol such as Wi-Fi, IP,
Dialogue: 0,0:14:08.80,0:14:10.49,Default,,0,0,0,,TCP are all handled inside the
Dialogue: 0,0:14:10.49,0:14:10.93,Default,,0,0,0,,kernel.
Dialogue: 0,0:14:11.54,0:14:12.80,Default,,0,0,0,,Then there's a boundary called
Dialogue: 0,0:14:12.90,0:14:14.87,Default,,0,0,0,,the BSD socket API, and
Dialogue: 0,0:14:15.26,0:14:16.49,Default,,0,0,0,,everything else is handled
Dialogue: 0,0:14:16.49,0:14:17.13,Default,,0,0,0,,inside the app.
Dialogue: 0,0:14:17.85,0:14:18.91,Default,,0,0,0,,And by that I mean inside the
Dialogue: 0,0:14:18.91,0:14:20.01,Default,,0,0,0,,app process, not necessarily
Dialogue: 0,0:14:20.01,0:14:20.85,Default,,0,0,0,,inside your code.
Dialogue: 0,0:14:21.19,0:14:22.38,Default,,0,0,0,,It could be inside system
Dialogue: 0,0:14:22.38,0:14:24.20,Default,,0,0,0,,libraries, but protocols like
Dialogue: 0,0:14:24.20,0:14:26.10,Default,,0,0,0,,HTP and TLS are handled inside
Dialogue: 0,0:14:26.10,0:14:27.05,Default,,0,0,0,,that process.
Dialogue: 0,0:14:27.46,0:14:29.46,Default,,0,0,0,,What we're introducing for the
Dialogue: 0,0:14:29.46,0:14:31.70,Default,,0,0,0,,first time with iOS 11 is we're
Dialogue: 0,0:14:31.70,0:14:33.46,Default,,0,0,0,,unifying everything inside the
Dialogue: 0,0:14:33.46,0:14:33.73,Default,,0,0,0,,app.
Dialogue: 0,0:14:34.39,0:14:36.22,Default,,0,0,0,,And what this means is that the
Dialogue: 0,0:14:36.22,0:14:37.83,Default,,0,0,0,,protocols can interact much
Dialogue: 0,0:14:37.83,0:14:40.08,Default,,0,0,0,,tighter and everything is more
Dialogue: 0,0:14:40.12,0:14:40.70,Default,,0,0,0,,performant.
Dialogue: 0,0:14:40.76,0:14:42.79,Default,,0,0,0,,We've actually noticed great CPU
Dialogue: 0,0:14:42.79,0:14:44.83,Default,,0,0,0,,usage reductions which allows
Dialogue: 0,0:14:44.83,0:14:46.20,Default,,0,0,0,,you to spend more time on
Dialogue: 0,0:14:46.20,0:14:48.12,Default,,0,0,0,,animations, but also at the end
Dialogue: 0,0:14:48.12,0:14:49.15,Default,,0,0,0,,of the day users have more
Dialogue: 0,0:14:49.15,0:14:49.97,Default,,0,0,0,,battery life.
Dialogue: 0,0:14:51.76,0:14:53.08,Default,,0,0,0,,One point to note is that you
Dialogue: 0,0:14:53.08,0:14:54.81,Default,,0,0,0,,will only be able to get this if
Dialogue: 0,0:14:54.81,0:14:56.01,Default,,0,0,0,,you're using a high level IPI
Dialogue: 0,0:14:56.01,0:14:57.21,Default,,0,0,0,,such as URLSession.
Dialogue: 0,0:14:57.76,0:14:59.23,Default,,0,0,0,,You will not get these benefits
Dialogue: 0,0:14:59.23,0:15:00.25,Default,,0,0,0,,if you're still using like a
Dialogue: 0,0:15:00.25,0:15:01.56,Default,,0,0,0,,CBSD sockets.
Dialogue: 0,0:15:02.16,0:15:04.24,Default,,0,0,0,,And another point that I would
Dialogue: 0,0:15:04.24,0:15:06.00,Default,,0,0,0,,like to make about this is that
Dialogue: 0,0:15:06.00,0:15:08.20,Default,,0,0,0,,Network Kernel Extensions, which
Dialogue: 0,0:15:08.20,0:15:10.30,Default,,0,0,0,,rely on these legacy BSD sockets
Dialogue: 0,0:15:10.30,0:15:12.41,Default,,0,0,0,,inside the kernel, will soon be
Dialogue: 0,0:15:12.41,0:15:13.10,Default,,0,0,0,,deprecated.
Dialogue: 0,0:15:13.47,0:15:15.52,Default,,0,0,0,,So if you're using those, please
Dialogue: 0,0:15:15.52,0:15:17.67,Default,,0,0,0,,start right now transitioning to
Dialogue: 0,0:15:17.67,0:15:19.20,Default,,0,0,0,,the network extension framework
Dialogue: 0,0:15:19.60,0:15:20.72,Default,,0,0,0,,and come talk to us if you have
Dialogue: 0,0:15:20.72,0:15:22.02,Default,,0,0,0,,any questions about this.
Dialogue: 0,0:15:23.46,0:15:24.33,Default,,0,0,0,,Speaking of the network
Dialogue: 0,0:15:24.33,0:15:26.73,Default,,0,0,0,,extension framework, I'd like to
Dialogue: 0,0:15:26.73,0:15:29.12,Default,,0,0,0,,introduce two new APIs this year
Dialogue: 0,0:15:29.55,0:15:31.13,Default,,0,0,0,,regarding Wi-Fi configuration
Dialogue: 0,0:15:31.13,0:15:32.37,Default,,0,0,0,,and extending DNS.
Dialogue: 0,0:15:32.98,0:15:35.42,Default,,0,0,0,,So the new framework was
Dialogue: 0,0:15:35.42,0:15:37.54,Default,,0,0,0,,introduced two years ago and was
Dialogue: 0,0:15:37.54,0:15:39.23,Default,,0,0,0,,built with four main temples,
Dialogue: 0,0:15:39.98,0:15:42.74,Default,,0,0,0,,NEVPNManager allows you to
Dialogue: 0,0:15:43.66,0:15:45.36,Default,,0,0,0,,configure the VPN stack on the
Dialogue: 0,0:15:45.36,0:15:45.92,Default,,0,0,0,,device.
Dialogue: 0,0:15:46.45,0:15:48.34,Default,,0,0,0,,NETunnelProvider allow you to
Dialogue: 0,0:15:48.34,0:15:49.71,Default,,0,0,0,,build your own customer VPN
Dialogue: 0,0:15:49.82,0:15:50.44,Default,,0,0,0,,protocols.
Dialogue: 0,0:15:51.08,0:15:52.81,Default,,0,0,0,,NEHotspotHelper allow you to
Dialogue: 0,0:15:53.17,0:15:54.93,Default,,0,0,0,,customize how your device
Dialogue: 0,0:15:55.46,0:15:57.74,Default,,0,0,0,,authenticates to Wi-Fi hotspots.
Dialogue: 0,0:15:58.31,0:16:00.10,Default,,0,0,0,,And finally, NEFilterProvider
Dialogue: 0,0:16:00.10,0:16:01.79,Default,,0,0,0,,allows you to build a secure
Dialogue: 0,0:16:01.90,0:16:03.25,Default,,0,0,0,,on-device content filter.
Dialogue: 0,0:16:03.92,0:16:05.43,Default,,0,0,0,,I won't go into more details on
Dialogue: 0,0:16:05.43,0:16:07.37,Default,,0,0,0,,these four parts of the API,
Dialogue: 0,0:16:07.37,0:16:09.54,Default,,0,0,0,,however there's a great WWDC
Dialogue: 0,0:16:09.54,0:16:11.54,Default,,0,0,0,,session from two years ago that
Dialogue: 0,0:16:11.59,0:16:12.91,Default,,0,0,0,,goes into more detail.
Dialogue: 0,0:16:13.96,0:16:16.35,Default,,0,0,0,,So let's dive into any hotspot
Dialogue: 0,0:16:16.35,0:16:17.11,Default,,0,0,0,,configuration.
Dialogue: 0,0:16:18.40,0:16:20.62,Default,,0,0,0,,You may have had this experience
Dialogue: 0,0:16:20.62,0:16:22.36,Default,,0,0,0,,before where you bought a really
Dialogue: 0,0:16:22.36,0:16:24.33,Default,,0,0,0,,nice smart camera.
Dialogue: 0,0:16:24.74,0:16:26.30,Default,,0,0,0,,You take it out of the box and
Dialogue: 0,0:16:26.30,0:16:27.75,Default,,0,0,0,,it tells you, oh join this Wi-Fi
Dialogue: 0,0:16:27.75,0:16:30.49,Default,,0,0,0,,network on your iPhone to be
Dialogue: 0,0:16:30.49,0:16:32.26,Default,,0,0,0,,able to configure the app.
Dialogue: 0,0:16:32.26,0:16:33.73,Default,,0,0,0,,And so in the app it tells you,
Dialogue: 0,0:16:33.73,0:16:35.20,Default,,0,0,0,,oh go to settings, Wi-Fi, type
Dialogue: 0,0:16:35.20,0:16:36.98,Default,,0,0,0,,it in, and that's pretty
Dialogue: 0,0:16:36.98,0:16:37.72,Default,,0,0,0,,cumbersome.
Dialogue: 0,0:16:37.72,0:16:38.98,Default,,0,0,0,,The user could mistype the
Dialogue: 0,0:16:38.98,0:16:39.60,Default,,0,0,0,,password.
Dialogue: 0,0:16:39.60,0:16:40.76,Default,,0,0,0,,They could also not remember
Dialogue: 0,0:16:40.76,0:16:42.02,Default,,0,0,0,,where the settings app is.
Dialogue: 0,0:16:42.41,0:16:43.69,Default,,0,0,0,,And we had a lot of requests
Dialogue: 0,0:16:43.69,0:16:45.19,Default,,0,0,0,,from developers for a better
Dialogue: 0,0:16:45.19,0:16:46.19,Default,,0,0,0,,solution for this.
Dialogue: 0,0:16:46.90,0:16:48.67,Default,,0,0,0,,And what we've added is this
Dialogue: 0,0:16:48.67,0:16:50.50,Default,,0,0,0,,simple API that allows you to do
Dialogue: 0,0:16:50.50,0:16:52.95,Default,,0,0,0,,everything from the app.
Dialogue: 0,0:16:53.52,0:16:57.68,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:16:58.18,0:16:59.79,Default,,0,0,0,,Now the user never has to leave
Dialogue: 0,0:16:59.79,0:17:01.08,Default,,0,0,0,,the app anymore, they just get a
Dialogue: 0,0:17:01.08,0:17:02.63,Default,,0,0,0,,prompt to make sure they will
Dialogue: 0,0:17:02.68,0:17:03.89,Default,,0,0,0,,actually want to do this.
Dialogue: 0,0:17:04.17,0:17:05.53,Default,,0,0,0,,They click join, they associate
Dialogue: 0,0:17:05.53,0:17:06.08,Default,,0,0,0,,to the Wi-Fi.
Dialogue: 0,0:17:06.08,0:17:07.26,Default,,0,0,0,,Simple as that.
Dialogue: 0,0:17:07.62,0:17:10.19,Default,,0,0,0,,You can even set up this API to
Dialogue: 0,0:17:10.19,0:17:10.93,Default,,0,0,0,,be temporary.
Dialogue: 0,0:17:10.93,0:17:13.33,Default,,0,0,0,,So if you're building a
Dialogue: 0,0:17:13.33,0:17:14.55,Default,,0,0,0,,configuration app for a smart
Dialogue: 0,0:17:14.55,0:17:16.40,Default,,0,0,0,,device, you only really want to
Dialogue: 0,0:17:16.40,0:17:18.18,Default,,0,0,0,,be connected to that Wi-Fi if
Dialogue: 0,0:17:18.18,0:17:19.15,Default,,0,0,0,,you're inside the app.
Dialogue: 0,0:17:19.15,0:17:20.64,Default,,0,0,0,,So if the user decides to leave
Dialogue: 0,0:17:20.64,0:17:21.70,Default,,0,0,0,,your app and go do something
Dialogue: 0,0:17:21.70,0:17:23.03,Default,,0,0,0,,else, the device will
Dialogue: 0,0:17:23.03,0:17:24.66,Default,,0,0,0,,automatically disassociate from
Dialogue: 0,0:17:24.66,0:17:27.13,Default,,0,0,0,,Wi-Fi and join -- rejoin their
Dialogue: 0,0:17:27.13,0:17:28.26,Default,,0,0,0,,other Wi-Fi networks.
Dialogue: 0,0:17:28.96,0:17:31.10,Default,,0,0,0,,You can also use this API for
Dialogue: 0,0:17:31.26,0:17:32.70,Default,,0,0,0,,the traditional sense of using
Dialogue: 0,0:17:32.70,0:17:33.13,Default,,0,0,0,,Wi-Fi.
Dialogue: 0,0:17:33.13,0:17:34.20,Default,,0,0,0,,For example, if you're building
Dialogue: 0,0:17:34.20,0:17:36.45,Default,,0,0,0,,an app for chain of cafes and
Dialogue: 0,0:17:36.45,0:17:37.34,Default,,0,0,0,,would like your users to
Dialogue: 0,0:17:37.34,0:17:38.66,Default,,0,0,0,,automatically join the Wi-Fi in
Dialogue: 0,0:17:38.66,0:17:39.50,Default,,0,0,0,,these cafes.
Dialogue: 0,0:17:40.24,0:17:41.79,Default,,0,0,0,,And of course, the CPI supports
Dialogue: 0,0:17:41.79,0:17:43.94,Default,,0,0,0,,all the modes of authentication
Dialogue: 0,0:17:43.94,0:17:46.04,Default,,0,0,0,,that our Wi-Fi stack supports
Dialogue: 0,0:17:46.74,0:17:46.86,Default,,0,0,0,,today.
Dialogue: 0,0:17:47.35,0:17:48.57,Default,,0,0,0,,To show you just how easy this
Dialogue: 0,0:17:48.57,0:17:50.88,Default,,0,0,0,,is, here's a little code sample
Dialogue: 0,0:17:50.88,0:17:52.51,Default,,0,0,0,,for these two examples.
Dialogue: 0,0:17:52.51,0:17:53.86,Default,,0,0,0,,So if you want to configure a
Dialogue: 0,0:17:53.86,0:17:55.59,Default,,0,0,0,,camera, just create a
Dialogue: 0,0:17:55.59,0:17:57.36,Default,,0,0,0,,configuration with the name of
Dialogue: 0,0:17:57.36,0:17:58.62,Default,,0,0,0,,the Wi-Fi and the password.
Dialogue: 0,0:17:59.43,0:18:01.14,Default,,0,0,0,,Set the join one's property to
Dialogue: 0,0:18:01.14,0:18:02.28,Default,,0,0,0,,indicate that you want to
Dialogue: 0,0:18:02.28,0:18:04.40,Default,,0,0,0,,dissociate when the device --
Dialogue: 0,0:18:04.61,0:18:07.24,Default,,0,0,0,,when the user leaves your app,
Dialogue: 0,0:18:07.24,0:18:07.84,Default,,0,0,0,,and just apply the
Dialogue: 0,0:18:07.84,0:18:08.59,Default,,0,0,0,,configuration.
Dialogue: 0,0:18:09.61,0:18:11.65,Default,,0,0,0,,Then check the result value for
Dialogue: 0,0:18:11.65,0:18:12.23,Default,,0,0,0,,success.
Dialogue: 0,0:18:12.73,0:18:14.12,Default,,0,0,0,,In the cafÃ© use case which is
Dialogue: 0,0:18:14.12,0:18:15.52,Default,,0,0,0,,even simpler, just create a
Dialogue: 0,0:18:15.52,0:18:17.95,Default,,0,0,0,,configuration, apply it and
Dialogue: 0,0:18:18.05,0:18:18.36,Default,,0,0,0,,you're done.
Dialogue: 0,0:18:20.52,0:18:21.96,Default,,0,0,0,,Now I'd like to talk about any
Dialogue: 0,0:18:21.96,0:18:23.21,Default,,0,0,0,,DNS proxy provider.
Dialogue: 0,0:18:24.65,0:18:26.72,Default,,0,0,0,,The CPL let's you customize how
Dialogue: 0,0:18:27.83,0:18:29.67,Default,,0,0,0,,the iPhone or other iOS device
Dialogue: 0,0:18:29.67,0:18:33.67,Default,,0,0,0,,interacts with DNS, so this API
Dialogue: 0,0:18:33.85,0:18:35.33,Default,,0,0,0,,allows you to, in its simplest
Dialogue: 0,0:18:35.33,0:18:36.99,Default,,0,0,0,,mode, simply redirect all the
Dialogue: 0,0:18:37.05,0:18:39.11,Default,,0,0,0,,inquiries to a resolver that you
Dialogue: 0,0:18:39.11,0:18:39.49,Default,,0,0,0,,own.
Dialogue: 0,0:18:39.96,0:18:41.50,Default,,0,0,0,,For example, if that resolver
Dialogue: 0,0:18:41.50,0:18:43.76,Default,,0,0,0,,has better features, or you can
Dialogue: 0,0:18:43.76,0:18:44.70,Default,,0,0,0,,even use this to get the
Dialogue: 0,0:18:44.70,0:18:46.58,Default,,0,0,0,,individual DNS queries and send
Dialogue: 0,0:18:46.58,0:18:49.28,Default,,0,0,0,,them over a custom protocol such
Dialogue: 0,0:18:49.45,0:18:53.01,Default,,0,0,0,,as DNS over TLS or DNS over GTP.
Dialogue: 0,0:18:53.80,0:18:55.86,Default,,0,0,0,,So that was an update on network
Dialogue: 0,0:18:55.86,0:18:57.00,Default,,0,0,0,,extension this year.
Dialogue: 0,0:18:57.45,0:18:59.46,Default,,0,0,0,,As a quick reminder, this is a
Dialogue: 0,0:18:59.46,0:19:02.37,Default,,0,0,0,,very powerful API so it requires
Dialogue: 0,0:19:02.44,0:19:03.61,Default,,0,0,0,,X-code capabilities and
Dialogue: 0,0:19:03.61,0:19:05.69,Default,,0,0,0,,entitlements, and also user
Dialogue: 0,0:19:05.69,0:19:07.27,Default,,0,0,0,,consent for everything it does.
Dialogue: 0,0:19:08.18,0:19:10.29,Default,,0,0,0,,Now I would like to invite
Dialogue: 0,0:19:10.29,0:19:11.59,Default,,0,0,0,,Christoph Paasch on the stage to
Dialogue: 0,0:19:11.59,0:19:13.06,Default,,0,0,0,,talk about multipath devices.
Dialogue: 0,0:19:14.52,0:19:16.71,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:19:17.21,0:19:17.83,Default,,0,0,0,,>> Thank you, David.
Dialogue: 0,0:19:18.83,0:19:19.72,Default,,0,0,0,,Hello, everybody.
Dialogue: 0,0:19:20.69,0:19:22.02,Default,,0,0,0,,My name is Christoph Paasch.
Dialogue: 0,0:19:22.08,0:19:23.45,Default,,0,0,0,,I'm a networking engineer at
Dialogue: 0,0:19:23.53,0:19:25.51,Default,,0,0,0,,Apple, and I will show you the
Dialogue: 0,0:19:25.51,0:19:27.77,Default,,0,0,0,,new technologies we have in iOS
Dialogue: 0,0:19:27.77,0:19:29.16,Default,,0,0,0,,11 that will improve the
Dialogue: 0,0:19:29.16,0:19:31.19,Default,,0,0,0,,networking of your applications
Dialogue: 0,0:19:31.48,0:19:32.41,Default,,0,0,0,,on mobile devices.
Dialogue: 0,0:19:35.31,0:19:37.39,Default,,0,0,0,,So, you have all experienced it.
Dialogue: 0,0:19:38.10,0:19:39.50,Default,,0,0,0,,You are using your application
Dialogue: 0,0:19:39.74,0:19:41.29,Default,,0,0,0,,and your application is
Dialogue: 0,0:19:41.29,0:19:43.28,Default,,0,0,0,,downloading something from the
Dialogue: 0,0:19:43.28,0:19:45.47,Default,,0,0,0,,internet, and while you're using
Dialogue: 0,0:19:45.47,0:19:47.04,Default,,0,0,0,,it, you are walking out of your
Dialogue: 0,0:19:47.04,0:19:47.39,Default,,0,0,0,,home.
Dialogue: 0,0:19:48.25,0:19:49.33,Default,,0,0,0,,Now as you're walking out of
Dialogue: 0,0:19:49.33,0:19:51.06,Default,,0,0,0,,your home, you're also walking
Dialogue: 0,0:19:51.11,0:19:52.61,Default,,0,0,0,,farther away from your Wi-Fi
Dialogue: 0,0:19:52.61,0:19:54.73,Default,,0,0,0,,access point, which basically
Dialogue: 0,0:19:54.73,0:19:56.71,Default,,0,0,0,,means the connection that you
Dialogue: 0,0:19:56.71,0:19:58.50,Default,,0,0,0,,have created on Wi-Fi is getting
Dialogue: 0,0:19:58.50,0:20:00.66,Default,,0,0,0,,slower and slower, and
Dialogue: 0,0:20:00.66,0:20:03.69,Default,,0,0,0,,ultimately your application is
Dialogue: 0,0:20:03.69,0:20:05.24,Default,,0,0,0,,actually getting slower as well
Dialogue: 0,0:20:05.24,0:20:06.42,Default,,0,0,0,,because it cannot download the
Dialogue: 0,0:20:06.42,0:20:07.56,Default,,0,0,0,,content from the internet.
Dialogue: 0,0:20:08.81,0:20:10.16,Default,,0,0,0,,And it will only be able to
Dialogue: 0,0:20:10.16,0:20:12.08,Default,,0,0,0,,continue again when you have
Dialogue: 0,0:20:12.08,0:20:13.98,Default,,0,0,0,,then created a new connection
Dialogue: 0,0:20:14.25,0:20:16.03,Default,,0,0,0,,over to cellular link.
Dialogue: 0,0:20:17.19,0:20:19.10,Default,,0,0,0,,Now, the reason why this happens
Dialogue: 0,0:20:19.21,0:20:21.14,Default,,0,0,0,,is because the protocols that I
Dialogue: 0,0:20:21.14,0:20:23.27,Default,,0,0,0,,use today have been specified
Dialogue: 0,0:20:23.31,0:20:24.93,Default,,0,0,0,,several decades ago and they
Dialogue: 0,0:20:24.93,0:20:26.45,Default,,0,0,0,,have not been designed with
Dialogue: 0,0:20:26.45,0:20:28.30,Default,,0,0,0,,mobile devices in mind.
Dialogue: 0,0:20:29.64,0:20:32.00,Default,,0,0,0,,Now at Apple, we are aware of
Dialogue: 0,0:20:32.05,0:20:33.82,Default,,0,0,0,,this problem since several years
Dialogue: 0,0:20:33.82,0:20:36.25,Default,,0,0,0,,now, and we have technologies in
Dialogue: 0,0:20:36.37,0:20:38.50,Default,,0,0,0,,iOS that try to address exactly
Dialogue: 0,0:20:38.50,0:20:39.32,Default,,0,0,0,,this scenario.
Dialogue: 0,0:20:40.09,0:20:42.21,Default,,0,0,0,,We have Wi-Fi assist since iOS
Dialogue: 0,0:20:42.21,0:20:44.94,Default,,0,0,0,,9, and now in iOS 11 we are
Dialogue: 0,0:20:44.94,0:20:46.25,Default,,0,0,0,,pushing this even farther.
Dialogue: 0,0:20:47.31,0:20:48.57,Default,,0,0,0,,We are introducing a new
Dialogue: 0,0:20:48.57,0:20:50.50,Default,,0,0,0,,multipath transport protocol
Dialogue: 0,0:20:50.77,0:20:52.41,Default,,0,0,0,,that is called Multipath TCP,
Dialogue: 0,0:20:52.41,0:20:54.67,Default,,0,0,0,,and we will open it as a public
Dialogue: 0,0:20:54.67,0:20:56.44,Default,,0,0,0,,API in iOS 11.
Dialogue: 0,0:20:58.52,0:21:00.91,Default,,0,0,0,,Now, let's take a step back
Dialogue: 0,0:21:00.91,0:21:04.38,Default,,0,0,0,,first and let's take a look at
Dialogue: 0,0:21:04.38,0:21:05.60,Default,,0,0,0,,what are the scenarios that we
Dialogue: 0,0:21:05.60,0:21:08.50,Default,,0,0,0,,are trying to address here.
Dialogue: 0,0:21:08.61,0:21:10.47,Default,,0,0,0,,So when your phone is connected
Dialogue: 0,0:21:10.47,0:21:12.69,Default,,0,0,0,,to a good Wi-Fi network, what
Dialogue: 0,0:21:12.69,0:21:13.86,Default,,0,0,0,,will happen is you create a
Dialogue: 0,0:21:13.86,0:21:15.09,Default,,0,0,0,,connection and you will only
Dialogue: 0,0:21:15.09,0:21:17.34,Default,,0,0,0,,download from the Wi-Fi network.
Dialogue: 0,0:21:18.36,0:21:20.42,Default,,0,0,0,,Now as your user is walking out
Dialogue: 0,0:21:20.42,0:21:22.20,Default,,0,0,0,,of the Wi-Fi, walking away from
Dialogue: 0,0:21:22.20,0:21:24.17,Default,,0,0,0,,it, what happens is the signal
Dialogue: 0,0:21:24.17,0:21:25.49,Default,,0,0,0,,strength will get lower and
Dialogue: 0,0:21:25.49,0:21:27.11,Default,,0,0,0,,lower, and the connection will
Dialogue: 0,0:21:27.11,0:21:28.85,Default,,0,0,0,,get slower and ultimately it
Dialogue: 0,0:21:28.85,0:21:29.86,Default,,0,0,0,,completely stops.
Dialogue: 0,0:21:31.42,0:21:32.95,Default,,0,0,0,,What happens then is you will
Dialogue: 0,0:21:32.95,0:21:34.95,Default,,0,0,0,,need to -- if you want to keep
Dialogue: 0,0:21:34.95,0:21:36.84,Default,,0,0,0,,on downloading your data, you
Dialogue: 0,0:21:36.84,0:21:37.81,Default,,0,0,0,,will need to create a new
Dialogue: 0,0:21:37.81,0:21:39.56,Default,,0,0,0,,connection on the cellular link
Dialogue: 0,0:21:39.56,0:21:41.26,Default,,0,0,0,,and from that moment on you are
Dialogue: 0,0:21:41.26,0:21:42.49,Default,,0,0,0,,good to go again and your
Dialogue: 0,0:21:42.49,0:21:44.74,Default,,0,0,0,,application responds again to
Dialogue: 0,0:21:44.74,0:21:45.88,Default,,0,0,0,,the data that is coming from the
Dialogue: 0,0:21:45.88,0:21:46.21,Default,,0,0,0,,server.
Dialogue: 0,0:21:47.47,0:21:49.04,Default,,0,0,0,,If you want to handle this kind
Dialogue: 0,0:21:49.04,0:21:50.34,Default,,0,0,0,,of scenario, inside your
Dialogue: 0,0:21:50.34,0:21:52.19,Default,,0,0,0,,application at the application
Dialogue: 0,0:21:52.19,0:21:53.79,Default,,0,0,0,,layer, there are quite a few
Dialogue: 0,0:21:53.79,0:21:55.37,Default,,0,0,0,,things that you need to do.
Dialogue: 0,0:21:55.66,0:21:58.01,Default,,0,0,0,,First, you will need to record
Dialogue: 0,0:21:58.01,0:21:59.32,Default,,0,0,0,,everything that you are doing
Dialogue: 0,0:21:59.36,0:22:01.11,Default,,0,0,0,,because you never know when
Dialogue: 0,0:22:01.11,0:22:04.56,Default,,0,0,0,,Wi-Fi is going to drop out so
Dialogue: 0,0:22:04.56,0:22:05.75,Default,,0,0,0,,you will need to remember what
Dialogue: 0,0:22:05.75,0:22:06.86,Default,,0,0,0,,you have been doing and what
Dialogue: 0,0:22:06.86,0:22:08.24,Default,,0,0,0,,were the request that are in
Dialogue: 0,0:22:08.24,0:22:08.62,Default,,0,0,0,,flight.
Dialogue: 0,0:22:09.81,0:22:12.95,Default,,0,0,0,,Second, you will need a way to
Dialogue: 0,0:22:13.05,0:22:15.19,Default,,0,0,0,,detect that Wi-Fi is getting
Dialogue: 0,0:22:15.19,0:22:16.84,Default,,0,0,0,,worse, so you need to somehow
Dialogue: 0,0:22:16.84,0:22:18.21,Default,,0,0,0,,monitor the progress of the
Dialogue: 0,0:22:18.21,0:22:19.23,Default,,0,0,0,,Wi-Fi connection.
Dialogue: 0,0:22:20.50,0:22:22.41,Default,,0,0,0,,Now, once you have finally
Dialogue: 0,0:22:22.41,0:22:24.21,Default,,0,0,0,,detected that Wi-Fi, it's no
Dialogue: 0,0:22:24.21,0:22:26.44,Default,,0,0,0,,longer available and can no
Dialogue: 0,0:22:26.44,0:22:27.77,Default,,0,0,0,,longer deliver the service that
Dialogue: 0,0:22:27.77,0:22:29.27,Default,,0,0,0,,you need, you will need to
Dialogue: 0,0:22:29.27,0:22:30.51,Default,,0,0,0,,create a new connection over
Dialogue: 0,0:22:30.51,0:22:30.99,Default,,0,0,0,,cellular.
Dialogue: 0,0:22:31.15,0:22:32.78,Default,,0,0,0,,That means you need to do a DSN
Dialogue: 0,0:22:32.96,0:22:36.15,Default,,0,0,0,,handshake, a TCP handshake, and
Dialogue: 0,0:22:36.15,0:22:37.14,Default,,0,0,0,,a TLS handshake.
Dialogue: 0,0:22:37.73,0:22:39.60,Default,,0,0,0,,And only after all those steps
Dialogue: 0,0:22:39.95,0:22:41.68,Default,,0,0,0,,you can finally send your
Dialogue: 0,0:22:41.68,0:22:44.37,Default,,0,0,0,,request over the cellular
Dialogue: 0,0:22:44.37,0:22:46.17,Default,,0,0,0,,interface and your application
Dialogue: 0,0:22:46.17,0:22:47.32,Default,,0,0,0,,can make progress again.
Dialogue: 0,0:22:48.79,0:22:49.95,Default,,0,0,0,,Doing this at the application
Dialogue: 0,0:22:49.95,0:22:52.53,Default,,0,0,0,,layer is very cumbersome and
Dialogue: 0,0:22:52.84,0:22:54.17,Default,,0,0,0,,that's one of those scenarios
Dialogue: 0,0:22:54.21,0:22:55.93,Default,,0,0,0,,that we want to address.
Dialogue: 0,0:22:57.74,0:22:59.19,Default,,0,0,0,,Let's take a look at another
Dialogue: 0,0:22:59.19,0:22:59.78,Default,,0,0,0,,scenario.
Dialogue: 0,0:22:59.97,0:23:01.62,Default,,0,0,0,,It's basically when you're in a
Dialogue: 0,0:23:01.62,0:23:03.24,Default,,0,0,0,,very poor Wi-Fi scenario.
Dialogue: 0,0:23:03.76,0:23:05.86,Default,,0,0,0,,For example, you're sitting in a
Dialogue: 0,0:23:06.00,0:23:07.23,Default,,0,0,0,,cafÃ© and you're connecting to
Dialogue: 0,0:23:07.23,0:23:08.18,Default,,0,0,0,,the public hotspot.
Dialogue: 0,0:23:09.13,0:23:10.59,Default,,0,0,0,,Now, usually this hotspot
Dialogue: 0,0:23:10.88,0:23:12.39,Default,,0,0,0,,probably works very well,
Dialogue: 0,0:23:13.07,0:23:14.99,Default,,0,0,0,,however, sometimes there is some
Dialogue: 0,0:23:14.99,0:23:16.41,Default,,0,0,0,,other users also in this cafÃ©
Dialogue: 0,0:23:16.41,0:23:17.88,Default,,0,0,0,,and maybe one of them is
Dialogue: 0,0:23:17.88,0:23:19.23,Default,,0,0,0,,downloading a huge file.
Dialogue: 0,0:23:20.09,0:23:23.13,Default,,0,0,0,,And because very often there's a
Dialogue: 0,0:23:23.13,0:23:24.65,Default,,0,0,0,,lack of smart queue management
Dialogue: 0,0:23:24.65,0:23:27.12,Default,,0,0,0,,in the network, this download of
Dialogue: 0,0:23:27.12,0:23:28.75,Default,,0,0,0,,this huge file will create a
Dialogue: 0,0:23:28.75,0:23:30.09,Default,,0,0,0,,large chunk of buffer bloat
Dialogue: 0,0:23:30.09,0:23:32.08,Default,,0,0,0,,inside the network, and this
Dialogue: 0,0:23:32.08,0:23:35.06,Default,,0,0,0,,buffer bloat is making all other
Dialogue: 0,0:23:35.06,0:23:36.80,Default,,0,0,0,,internet connections also very
Dialogue: 0,0:23:36.80,0:23:37.18,Default,,0,0,0,,slow.
Dialogue: 0,0:23:37.78,0:23:39.80,Default,,0,0,0,,And so it means basically your
Dialogue: 0,0:23:39.80,0:23:42.34,Default,,0,0,0,,application will no more be able
Dialogue: 0,0:23:42.34,0:23:43.78,Default,,0,0,0,,to download the traffic from the
Dialogue: 0,0:23:43.78,0:23:45.64,Default,,0,0,0,,data, from the internet.
Dialogue: 0,0:23:47.27,0:23:48.50,Default,,0,0,0,,If you want to address such kind
Dialogue: 0,0:23:48.50,0:23:49.57,Default,,0,0,0,,of scenarios inside your
Dialogue: 0,0:23:49.57,0:23:51.60,Default,,0,0,0,,application, you would want to
Dialogue: 0,0:23:51.60,0:23:53.23,Default,,0,0,0,,basically create a connection on
Dialogue: 0,0:23:53.23,0:23:55.77,Default,,0,0,0,,Wi-Fi and on cell, and as soon
Dialogue: 0,0:23:55.77,0:23:57.51,Default,,0,0,0,,as you realize that Wi-Fi is no
Dialogue: 0,0:23:57.51,0:23:59.60,Default,,0,0,0,,more good enough because the
Dialogue: 0,0:23:59.60,0:24:01.19,Default,,0,0,0,,delay is just getting too high,
Dialogue: 0,0:24:01.63,0:24:02.80,Default,,0,0,0,,you want to send a little bit of
Dialogue: 0,0:24:02.80,0:24:04.90,Default,,0,0,0,,data over to cellular network so
Dialogue: 0,0:24:04.90,0:24:06.31,Default,,0,0,0,,that you can make progress
Dialogue: 0,0:24:06.31,0:24:06.66,Default,,0,0,0,,again.
Dialogue: 0,0:24:07.26,0:24:08.94,Default,,0,0,0,,And as soon as Wi-Fi is getting
Dialogue: 0,0:24:08.94,0:24:10.48,Default,,0,0,0,,better again, you want to switch
Dialogue: 0,0:24:10.48,0:24:11.87,Default,,0,0,0,,all your traffic back to Wi-Fi.
Dialogue: 0,0:24:12.85,0:24:14.14,Default,,0,0,0,,Doing this at the application
Dialogue: 0,0:24:14.14,0:24:15.31,Default,,0,0,0,,layer would be extremely
Dialogue: 0,0:24:15.31,0:24:15.83,Default,,0,0,0,,difficult.
Dialogue: 0,0:24:18.75,0:24:22.33,Default,,0,0,0,,So, this brings me to Wi-Fi
Dialogue: 0,0:24:22.33,0:24:24.63,Default,,0,0,0,,Assist, which is a technology
Dialogue: 0,0:24:24.63,0:24:27.07,Default,,0,0,0,,that we since iOS 9 and that
Dialogue: 0,0:24:27.27,0:24:29.38,Default,,0,0,0,,tries to address these kind of
Dialogue: 0,0:24:29.38,0:24:30.00,Default,,0,0,0,,scenarios.
Dialogue: 0,0:24:32.61,0:24:34.90,Default,,0,0,0,,Wi-Fi Assist is triggered
Dialogue: 0,0:24:34.90,0:24:36.56,Default,,0,0,0,,whenever we are in a marginal
Dialogue: 0,0:24:36.56,0:24:38.75,Default,,0,0,0,,Wi-Fi scenario, which means the
Dialogue: 0,0:24:38.75,0:24:40.54,Default,,0,0,0,,signal strength of Wi-Fi is very
Dialogue: 0,0:24:40.54,0:24:40.81,Default,,0,0,0,,low.
Dialogue: 0,0:24:41.53,0:24:44.19,Default,,0,0,0,,And whenever the phone and iOS
Dialogue: 0,0:24:44.19,0:24:46.82,Default,,0,0,0,,is detecting this, what happens
Dialogue: 0,0:24:46.82,0:24:49.13,Default,,0,0,0,,is we will play a fittest wins
Dialogue: 0,0:24:49.13,0:24:50.95,Default,,0,0,0,,out contest which between Wi-Fi
Dialogue: 0,0:24:50.95,0:24:51.61,Default,,0,0,0,,and cell.
Dialogue: 0,0:24:53.45,0:24:55.10,Default,,0,0,0,,So when you are creating a new
Dialogue: 0,0:24:55.10,0:24:56.66,Default,,0,0,0,,connection, we will first
Dialogue: 0,0:24:56.66,0:24:58.49,Default,,0,0,0,,attempt to create disconnection
Dialogue: 0,0:24:58.49,0:24:59.09,Default,,0,0,0,,on Wi-Fi.
Dialogue: 0,0:25:00.41,0:25:02.57,Default,,0,0,0,,And shortly after that where if
Dialogue: 0,0:25:02.57,0:25:03.67,Default,,0,0,0,,this connection hasn't been
Dialogue: 0,0:25:03.67,0:25:05.83,Default,,0,0,0,,established, we will go on and
Dialogue: 0,0:25:05.83,0:25:08.28,Default,,0,0,0,,create a connection over cell so
Dialogue: 0,0:25:08.28,0:25:10.29,Default,,0,0,0,,that way we are able-- if
Dialogue: 0,0:25:10.40,0:25:13.00,Default,,0,0,0,,cellular data wins, we will
Dialogue: 0,0:25:13.10,0:25:15.30,Default,,0,0,0,,start using the cellular link.
Dialogue: 0,0:25:16.39,0:25:20.00,Default,,0,0,0,,So this will include a little
Dialogue: 0,0:25:20.00,0:25:21.84,Default,,0,0,0,,bit of cellular data usage and
Dialogue: 0,0:25:21.84,0:25:24.40,Default,,0,0,0,,so as part of Wi-Fi Assist we
Dialogue: 0,0:25:24.40,0:25:25.85,Default,,0,0,0,,are limiting the amount of data
Dialogue: 0,0:25:26.18,0:25:28.26,Default,,0,0,0,,that your application could use
Dialogue: 0,0:25:28.29,0:25:29.77,Default,,0,0,0,,as part of this scenario.
Dialogue: 0,0:25:30.24,0:25:31.74,Default,,0,0,0,,We have had great success with
Dialogue: 0,0:25:31.74,0:25:33.57,Default,,0,0,0,,using Wi-Fi Assist, because it
Dialogue: 0,0:25:33.57,0:25:34.73,Default,,0,0,0,,is able to establish a
Dialogue: 0,0:25:34.73,0:25:36.58,Default,,0,0,0,,connection even if Wi-Fi is not
Dialogue: 0,0:25:36.62,0:25:37.06,Default,,0,0,0,,good enough.
Dialogue: 0,0:25:38.27,0:25:40.01,Default,,0,0,0,,And we have seen a great
Dialogue: 0,0:25:40.01,0:25:41.87,Default,,0,0,0,,reduction in the terms of the
Dialogue: 0,0:25:41.87,0:25:43.13,Default,,0,0,0,,number of data stalls.
Dialogue: 0,0:25:43.45,0:25:45.44,Default,,0,0,0,,If your application is using the
Dialogue: 0,0:25:45.44,0:25:47.57,Default,,0,0,0,,URLSession API, you will get
Dialogue: 0,0:25:47.57,0:25:48.79,Default,,0,0,0,,Wi-Fi Assist for free.
Dialogue: 0,0:25:49.48,0:25:51.20,Default,,0,0,0,,It is just going to work.
Dialogue: 0,0:25:51.20,0:25:53.44,Default,,0,0,0,,You don't need to do any changes
Dialogue: 0,0:25:53.44,0:25:54.04,Default,,0,0,0,,in your API.
Dialogue: 0,0:25:54.04,0:25:56.19,Default,,0,0,0,,You don't need to do any changes
Dialogue: 0,0:25:56.26,0:25:58.24,Default,,0,0,0,,inside the servers, it just
Dialogue: 0,0:25:58.24,0:25:58.71,Default,,0,0,0,,works.
Dialogue: 0,0:26:01.05,0:26:03.24,Default,,0,0,0,,Now the thing with Wi-Fi Assist
Dialogue: 0,0:26:03.24,0:26:04.87,Default,,0,0,0,,is that it does this at flow
Dialogue: 0,0:26:04.87,0:26:05.84,Default,,0,0,0,,creation time.
Dialogue: 0,0:26:06.65,0:26:08.58,Default,,0,0,0,,And as I explained earlier, once
Dialogue: 0,0:26:08.58,0:26:10.79,Default,,0,0,0,,a flow is established it will
Dialogue: 0,0:26:10.79,0:26:12.13,Default,,0,0,0,,stick to this interface.
Dialogue: 0,0:26:12.49,0:26:16.13,Default,,0,0,0,,So if Wi-Fi Assist was used and
Dialogue: 0,0:26:16.48,0:26:17.81,Default,,0,0,0,,for some reason the Wi-Fi
Dialogue: 0,0:26:17.81,0:26:19.90,Default,,0,0,0,,interface won the race, this
Dialogue: 0,0:26:19.90,0:26:21.16,Default,,0,0,0,,flow that has been established
Dialogue: 0,0:26:21.16,0:26:23.34,Default,,0,0,0,,on a Wi-Fi interface is going to
Dialogue: 0,0:26:23.34,0:26:23.98,Default,,0,0,0,,stay there.
Dialogue: 0,0:26:24.50,0:26:26.17,Default,,0,0,0,,So even if Wi-Fi afterwards is
Dialogue: 0,0:26:26.17,0:26:28.58,Default,,0,0,0,,getting worse, this flow is
Dialogue: 0,0:26:28.58,0:26:30.10,Default,,0,0,0,,going to get slower and slower
Dialogue: 0,0:26:30.10,0:26:31.45,Default,,0,0,0,,and it will eventually stall.
Dialogue: 0,0:26:33.28,0:26:36.69,Default,,0,0,0,,So, the only way to address this
Dialogue: 0,0:26:36.75,0:26:40.10,Default,,0,0,0,,problem is by creating new
Dialogue: 0,0:26:40.10,0:26:42.13,Default,,0,0,0,,protocol that is understood by
Dialogue: 0,0:26:42.13,0:26:44.25,Default,,0,0,0,,the client and the server.
Dialogue: 0,0:26:45.43,0:26:47.35,Default,,0,0,0,,And this brings me to Multipath
Dialogue: 0,0:26:47.35,0:26:47.71,Default,,0,0,0,,TCP.
Dialogue: 0,0:26:49.60,0:26:52.17,Default,,0,0,0,,Multipath TCP is the protocol
Dialogue: 0,0:26:52.17,0:26:53.37,Default,,0,0,0,,that has been designed
Dialogue: 0,0:26:53.63,0:26:56.45,Default,,0,0,0,,specifically for mobile devices.
Dialogue: 0,0:26:59.02,0:27:01.19,Default,,0,0,0,,Multipath TCP is specified by
Dialogue: 0,0:27:01.19,0:27:04.93,Default,,0,0,0,,the IETF as a standard, and it
Dialogue: 0,0:27:05.00,0:27:07.14,Default,,0,0,0,,provides the exact same service
Dialogue: 0,0:27:07.14,0:27:08.92,Default,,0,0,0,,as TCP, which means it is a
Dialogue: 0,0:27:08.92,0:27:11.27,Default,,0,0,0,,reliable byte stream service.
Dialogue: 0,0:27:11.90,0:27:14.10,Default,,0,0,0,,So if you are using HTP, if you
Dialogue: 0,0:27:14.10,0:27:16.60,Default,,0,0,0,,are using TLS, HTTPS, Multipath
Dialogue: 0,0:27:17.12,0:27:19.85,Default,,0,0,0,,TCP can be used just for that.
Dialogue: 0,0:27:20.71,0:27:22.85,Default,,0,0,0,,Additionally, it is built on top
Dialogue: 0,0:27:22.85,0:27:26.22,Default,,0,0,0,,of TCP, so it benefits from the
Dialogue: 0,0:27:26.22,0:27:27.65,Default,,0,0,0,,years and years of experience
Dialogue: 0,0:27:27.65,0:27:29.09,Default,,0,0,0,,that we have with developing
Dialogue: 0,0:27:29.09,0:27:29.49,Default,,0,0,0,,TCP.
Dialogue: 0,0:27:30.63,0:27:32.02,Default,,0,0,0,,And it benefits from the
Dialogue: 0,0:27:32.02,0:27:33.66,Default,,0,0,0,,reliability and from the
Dialogue: 0,0:27:33.66,0:27:35.58,Default,,0,0,0,,congestion control that TCP is
Dialogue: 0,0:27:35.58,0:27:36.15,Default,,0,0,0,,providing.
Dialogue: 0,0:27:37.44,0:27:39.60,Default,,0,0,0,,What it does on top of TCP is
Dialogue: 0,0:27:39.60,0:27:41.25,Default,,0,0,0,,that it provides a way to
Dialogue: 0,0:27:41.25,0:27:42.93,Default,,0,0,0,,seamlessly move traffic from the
Dialogue: 0,0:27:42.93,0:27:44.97,Default,,0,0,0,,Wi-Fi interface over to the
Dialogue: 0,0:27:44.97,0:27:46.86,Default,,0,0,0,,cellular interface whenever it
Dialogue: 0,0:27:46.86,0:27:48.38,Default,,0,0,0,,realizes that Wi-Fi is not good
Dialogue: 0,0:27:48.38,0:27:50.32,Default,,0,0,0,,enough, and it also allows to
Dialogue: 0,0:27:50.32,0:27:52.33,Default,,0,0,0,,move the traffic back again so
Dialogue: 0,0:27:52.33,0:27:53.98,Default,,0,0,0,,that your application is not
Dialogue: 0,0:27:54.24,0:27:55.82,Default,,0,0,0,,consuming cellular data.
Dialogue: 0,0:27:56.71,0:27:59.47,Default,,0,0,0,,It is also able to choose the
Dialogue: 0,0:27:59.47,0:28:01.25,Default,,0,0,0,,best interface if you have a
Dialogue: 0,0:28:01.25,0:28:02.91,Default,,0,0,0,,latency-sensitive and
Dialogue: 0,0:28:02.91,0:28:03.83,Default,,0,0,0,,interactive flow.
Dialogue: 0,0:28:07.23,0:28:09.25,Default,,0,0,0,,So, let's dive a little bit
Dialogue: 0,0:28:09.25,0:28:10.90,Default,,0,0,0,,deeper into Multipath TCP.
Dialogue: 0,0:28:10.90,0:28:13.27,Default,,0,0,0,,If you are building your
Dialogue: 0,0:28:13.27,0:28:14.84,Default,,0,0,0,,application on top of the
Dialogue: 0,0:28:14.84,0:28:18.51,Default,,0,0,0,,URLSession API, Multipath TCP
Dialogue: 0,0:28:18.97,0:28:20.20,Default,,0,0,0,,sits just below this.
Dialogue: 0,0:28:20.98,0:28:23.35,Default,,0,0,0,,So as you'll layer, you don't
Dialogue: 0,0:28:23.35,0:28:24.81,Default,,0,0,0,,really need to worry about those
Dialogue: 0,0:28:24.81,0:28:25.87,Default,,0,0,0,,different interfaces.
Dialogue: 0,0:28:27.57,0:28:28.98,Default,,0,0,0,,Now what happens is, when you
Dialogue: 0,0:28:28.98,0:28:31.47,Default,,0,0,0,,are sending data, you're sending
Dialogue: 0,0:28:31.47,0:28:33.15,Default,,0,0,0,,something through the URLSession
Dialogue: 0,0:28:33.15,0:28:35.79,Default,,0,0,0,,API, this data will go through
Dialogue: 0,0:28:35.79,0:28:37.78,Default,,0,0,0,,your URLSession over the MPTCP
Dialogue: 0,0:28:37.78,0:28:40.04,Default,,0,0,0,,stack, and the MPTCP stack is in
Dialogue: 0,0:28:40.04,0:28:41.49,Default,,0,0,0,,charge of scheduling this
Dialogue: 0,0:28:41.54,0:28:43.44,Default,,0,0,0,,traffic over either Wi-Fi or the
Dialogue: 0,0:28:43.44,0:28:44.79,Default,,0,0,0,,cellular link.
Dialogue: 0,0:28:45.94,0:28:47.85,Default,,0,0,0,,Now how does it do this
Dialogue: 0,0:28:47.85,0:28:50.10,Default,,0,0,0,,scheduling over Wi-Fi and Cell,
Dialogue: 0,0:28:50.56,0:28:52.14,Default,,0,0,0,,well it does this by creating
Dialogue: 0,0:28:52.14,0:28:54.32,Default,,0,0,0,,the so-called TCP Subflows.
Dialogue: 0,0:28:55.34,0:28:57.75,Default,,0,0,0,,Those TCP subflows, one for each
Dialogue: 0,0:28:57.75,0:28:59.09,Default,,0,0,0,,interface are actually
Dialogue: 0,0:28:59.22,0:29:00.94,Default,,0,0,0,,full-fledged TCP connections,
Dialogue: 0,0:29:01.82,0:29:03.93,Default,,0,0,0,,and MPTCP is in charge of making
Dialogue: 0,0:29:03.93,0:29:05.67,Default,,0,0,0,,sure that the data gets sent
Dialogue: 0,0:29:05.67,0:29:07.44,Default,,0,0,0,,over either of them.
Dialogue: 0,0:29:08.53,0:29:10.49,Default,,0,0,0,,It is also in charge of creating
Dialogue: 0,0:29:10.49,0:29:11.93,Default,,0,0,0,,and destroying those TCP
Dialogue: 0,0:29:11.93,0:29:12.46,Default,,0,0,0,,subflows.
Dialogue: 0,0:29:12.84,0:29:15.32,Default,,0,0,0,,So again, at your layer on top
Dialogue: 0,0:29:15.32,0:29:17.54,Default,,0,0,0,,of your URLSession, you are not
Dialogue: 0,0:29:17.59,0:29:19.55,Default,,0,0,0,,even aware of those subflows.
Dialogue: 0,0:29:20.08,0:29:22.43,Default,,0,0,0,,MPTCP decides when to create
Dialogue: 0,0:29:22.43,0:29:24.29,Default,,0,0,0,,those subflows and when to
Dialogue: 0,0:29:24.29,0:29:25.24,Default,,0,0,0,,destroy them again.
Dialogue: 0,0:29:26.26,0:29:29.29,Default,,0,0,0,,Now, Multipath TCP is actually
Dialogue: 0,0:29:29.29,0:29:30.17,Default,,0,0,0,,not that new.
Dialogue: 0,0:29:30.95,0:29:32.41,Default,,0,0,0,,We have been using it since
Dialogue: 0,0:29:32.41,0:29:34.44,Default,,0,0,0,,several years now at Apple in
Dialogue: 0,0:29:34.54,0:29:37.47,Default,,0,0,0,,iOS, and we are using since iOS
Dialogue: 0,0:29:37.47,0:29:38.57,Default,,0,0,0,,7 for Siri.
Dialogue: 0,0:29:39.58,0:29:42.04,Default,,0,0,0,,Now, Siri is a very particular
Dialogue: 0,0:29:42.04,0:29:42.71,Default,,0,0,0,,application.
Dialogue: 0,0:29:43.76,0:29:45.78,Default,,0,0,0,,Many people, when they are using
Dialogue: 0,0:29:45.78,0:29:47.22,Default,,0,0,0,,it, they are actually walking
Dialogue: 0,0:29:47.22,0:29:49.22,Default,,0,0,0,,out of their home because, for
Dialogue: 0,0:29:49.22,0:29:50.42,Default,,0,0,0,,example, while walking out of
Dialogue: 0,0:29:50.42,0:29:52.43,Default,,0,0,0,,their home they are asking Siri
Dialogue: 0,0:29:52.93,0:29:54.33,Default,,0,0,0,,to send a message to a friend,
Dialogue: 0,0:29:54.33,0:29:54.90,Default,,0,0,0,,for example.
Dialogue: 0,0:29:55.73,0:29:57.96,Default,,0,0,0,,And so Siri is very often in
Dialogue: 0,0:29:57.96,0:29:59.41,Default,,0,0,0,,this scenerio where Wi-Fi is
Dialogue: 0,0:29:59.41,0:30:00.74,Default,,0,0,0,,getting worse and worse and
Dialogue: 0,0:30:00.74,0:30:02.59,Default,,0,0,0,,ultimately the connection drops.
Dialogue: 0,0:30:03.73,0:30:04.53,Default,,0,0,0,,Now the thing is, this
Dialogue: 0,0:30:04.53,0:30:06.82,Default,,0,0,0,,connection that Siri created to
Dialogue: 0,0:30:06.82,0:30:08.64,Default,,0,0,0,,send the data to the server and
Dialogue: 0,0:30:08.64,0:30:11.38,Default,,0,0,0,,get a response back, this data,
Dialogue: 0,0:30:11.38,0:30:12.79,Default,,0,0,0,,this connection, is very
Dialogue: 0,0:30:12.79,0:30:14.56,Default,,0,0,0,,critical because if this
Dialogue: 0,0:30:14.56,0:30:16.71,Default,,0,0,0,,connection breaks, the response
Dialogue: 0,0:30:16.71,0:30:17.85,Default,,0,0,0,,is not going to come back.
Dialogue: 0,0:30:19.05,0:30:20.55,Default,,0,0,0,,And so it's also very time
Dialogue: 0,0:30:20.55,0:30:22.41,Default,,0,0,0,,sensitive because the user is
Dialogue: 0,0:30:22.41,0:30:24.05,Default,,0,0,0,,often literally looking at the
Dialogue: 0,0:30:24.05,0:30:25.31,Default,,0,0,0,,phone and waiting for the
Dialogue: 0,0:30:25.31,0:30:26.06,Default,,0,0,0,,response.
Dialogue: 0,0:30:26.72,0:30:29.00,Default,,0,0,0,,And it's also a very low volume
Dialogue: 0,0:30:29.00,0:30:29.56,Default,,0,0,0,,connection.
Dialogue: 0,0:30:30.15,0:30:31.49,Default,,0,0,0,,There's not much data being
Dialogue: 0,0:30:31.49,0:30:31.87,Default,,0,0,0,,sent.
Dialogue: 0,0:30:32.40,0:30:33.88,Default,,0,0,0,,So even if we incur -- send a
Dialogue: 0,0:30:33.88,0:30:35.75,Default,,0,0,0,,little bit of data over the
Dialogue: 0,0:30:35.75,0:30:37.74,Default,,0,0,0,,cellular link, it is not going
Dialogue: 0,0:30:37.74,0:30:39.93,Default,,0,0,0,,to be a lot of data, only a few
Dialogue: 0,0:30:39.93,0:30:40.64,Default,,0,0,0,,kilobytes.
Dialogue: 0,0:30:43.49,0:30:45.57,Default,,0,0,0,,Now, because of all those free
Dialogue: 0,0:30:45.57,0:30:47.25,Default,,0,0,0,,characteristics, the way we are
Dialogue: 0,0:30:47.25,0:30:49.27,Default,,0,0,0,,using a Multipath TCP for Siri
Dialogue: 0,0:30:49.86,0:30:52.17,Default,,0,0,0,,is in such a way that whenever a
Dialogue: 0,0:30:52.17,0:30:54.83,Default,,0,0,0,,user uses Siri, we create a
Dialogue: 0,0:30:54.83,0:30:57.73,Default,,0,0,0,,subflow over Wi-Fi and a TCP
Dialogue: 0,0:30:57.73,0:30:59.85,Default,,0,0,0,,subflow over the cellular link.
Dialogue: 0,0:31:00.92,0:31:02.54,Default,,0,0,0,,And we make those subflows ready
Dialogue: 0,0:31:02.54,0:31:04.69,Default,,0,0,0,,to send the data right away so
Dialogue: 0,0:31:04.69,0:31:06.96,Default,,0,0,0,,that we get a very low latency
Dialogue: 0,0:31:06.96,0:31:07.70,Default,,0,0,0,,response.
Dialogue: 0,0:31:08.51,0:31:09.80,Default,,0,0,0,,When we are scheduling traffic
Dialogue: 0,0:31:09.80,0:31:11.71,Default,,0,0,0,,we will prefer the Wi-Fi link,
Dialogue: 0,0:31:12.39,0:31:13.57,Default,,0,0,0,,but if we realize that the
Dialogue: 0,0:31:13.57,0:31:15.61,Default,,0,0,0,,latency on the Wi-Fi link is too
Dialogue: 0,0:31:15.61,0:31:17.68,Default,,0,0,0,,high to get a quick response
Dialogue: 0,0:31:17.68,0:31:21.48,Default,,0,0,0,,back, then we do not hesitate to
Dialogue: 0,0:31:21.48,0:31:23.11,Default,,0,0,0,,send traffic over the cellular
Dialogue: 0,0:31:23.68,0:31:23.81,Default,,0,0,0,,link.
Dialogue: 0,0:31:25.46,0:31:27.74,Default,,0,0,0,,Now, during all of this for
Dialogue: 0,0:31:27.74,0:31:30.12,Default,,0,0,0,,Multipath TCP we have seen great
Dialogue: 0,0:31:30.16,0:31:31.37,Default,,0,0,0,,success.
Dialogue: 0,0:31:32.53,0:31:34.53,Default,,0,0,0,,In one particular metric which
Dialogue: 0,0:31:34.53,0:31:36.53,Default,,0,0,0,,we call the time to first word,
Dialogue: 0,0:31:37.02,0:31:38.65,Default,,0,0,0,,which means the time it takes
Dialogue: 0,0:31:38.65,0:31:40.35,Default,,0,0,0,,until the user sees the first
Dialogue: 0,0:31:40.35,0:31:42.14,Default,,0,0,0,,spoken word appear on the
Dialogue: 0,0:31:42.14,0:31:44.91,Default,,0,0,0,,screen, this metric has been
Dialogue: 0,0:31:44.91,0:31:46.94,Default,,0,0,0,,reduced into worse-case scenario
Dialogue: 0,0:31:47.03,0:31:49.02,Default,,0,0,0,,which means when Wi-Fi was very
Dialogue: 0,0:31:49.02,0:31:51.62,Default,,0,0,0,,bad, which we call like the 95th
Dialogue: 0,0:31:51.62,0:31:55.28,Default,,0,0,0,,percentile, this metric has been
Dialogue: 0,0:31:55.28,0:31:56.96,Default,,0,0,0,,improved by 20%.
Dialogue: 0,0:31:57.30,0:31:58.45,Default,,0,0,0,,So in terms of latency
Dialogue: 0,0:31:58.45,0:32:00.29,Default,,0,0,0,,reduction, we were able to bring
Dialogue: 0,0:32:00.29,0:32:02.02,Default,,0,0,0,,down the latency thanks, to
Dialogue: 0,0:32:02.02,0:32:03.04,Default,,0,0,0,,Multipath TCP.
Dialogue: 0,0:32:04.80,0:32:07.72,Default,,0,0,0,,And also as users are typically
Dialogue: 0,0:32:07.84,0:32:10.62,Default,,0,0,0,,walking out of the Wi-Fi zone
Dialogue: 0,0:32:10.62,0:32:13.36,Default,,0,0,0,,when using Siri, we have reduced
Dialogue: 0,0:32:13.36,0:32:14.90,Default,,0,0,0,,the amount of network failures,
Dialogue: 0,0:32:15.23,0:32:16.77,Default,,0,0,0,,and we have reduced it by 5
Dialogue: 0,0:32:16.82,0:32:18.85,Default,,0,0,0,,times compared to when normal
Dialogue: 0,0:32:18.85,0:32:19.92,Default,,0,0,0,,TCP was used.
Dialogue: 0,0:32:21.10,0:32:24.29,Default,,0,0,0,,So, we have seen great success
Dialogue: 0,0:32:24.35,0:32:28.88,Default,,0,0,0,,with Siri and we also received a
Dialogue: 0,0:32:28.88,0:32:30.83,Default,,0,0,0,,lot requests from new developers
Dialogue: 0,0:32:31.26,0:32:32.98,Default,,0,0,0,,that we should open up the API
Dialogue: 0,0:32:32.98,0:32:34.70,Default,,0,0,0,,for Multipath TCP.
Dialogue: 0,0:32:35.85,0:32:38.98,Default,,0,0,0,,Now, in iOS 11 we are making
Dialogue: 0,0:32:38.98,0:32:40.85,Default,,0,0,0,,this step and we are opening up
Dialogue: 0,0:32:40.85,0:32:43.41,Default,,0,0,0,,the API for you to start using
Dialogue: 0,0:32:44.28,0:32:44.35,Default,,0,0,0,,it.
Dialogue: 0,0:32:45.52,0:32:49.50,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:32:52.05,0:32:54.14,Default,,0,0,0,,So in order to start using the
Dialogue: 0,0:32:54.14,0:32:56.93,Default,,0,0,0,,API, there are three things that
Dialogue: 0,0:32:56.93,0:32:59.00,Default,,0,0,0,,I will have to talk to you about
Dialogue: 0,0:32:59.00,0:33:00.56,Default,,0,0,0,,it, and I would come to each of
Dialogue: 0,0:33:00.60,0:33:01.36,Default,,0,0,0,,them in a minute.
Dialogue: 0,0:33:02.07,0:33:04.22,Default,,0,0,0,,First of all, because it's a new
Dialogue: 0,0:33:04.22,0:33:06.41,Default,,0,0,0,,protocol we will need service
Dialogue: 0,0:33:06.41,0:33:06.87,Default,,0,0,0,,support.
Dialogue: 0,0:33:08.05,0:33:08.98,Default,,0,0,0,,Once you have the service
Dialogue: 0,0:33:08.98,0:33:10.90,Default,,0,0,0,,support you can start to choose
Dialogue: 0,0:33:11.08,0:33:13.05,Default,,0,0,0,,which of your connections would
Dialogue: 0,0:33:13.05,0:33:14.54,Default,,0,0,0,,benefit from MPTCP.
Dialogue: 0,0:33:15.76,0:33:17.50,Default,,0,0,0,,And then once we've chosen the
Dialogue: 0,0:33:17.50,0:33:19.37,Default,,0,0,0,,connections, you can then as a
Dialogue: 0,0:33:19.37,0:33:21.83,Default,,0,0,0,,third step start opting into the
Dialogue: 0,0:33:21.83,0:33:23.60,Default,,0,0,0,,URLSession API.
Dialogue: 0,0:33:24.20,0:33:26.59,Default,,0,0,0,,So let's start with the server
Dialogue: 0,0:33:26.59,0:33:28.69,Default,,0,0,0,,support for Multipath TCP.
Dialogue: 0,0:33:29.69,0:33:33.70,Default,,0,0,0,,Now, it is a very new protocol
Dialogue: 0,0:33:34.55,0:33:36.86,Default,,0,0,0,,and so by default most server
Dialogue: 0,0:33:36.86,0:33:38.80,Default,,0,0,0,,infrastructures do not support
Dialogue: 0,0:33:38.80,0:33:40.47,Default,,0,0,0,,Multipath TCP.
Dialogue: 0,0:33:41.14,0:33:43.49,Default,,0,0,0,,This means that you will need to
Dialogue: 0,0:33:43.75,0:33:45.42,Default,,0,0,0,,update or change your server
Dialogue: 0,0:33:45.42,0:33:47.80,Default,,0,0,0,,infrastructure to start
Dialogue: 0,0:33:47.80,0:33:49.26,Default,,0,0,0,,supporting Multipath TCP.
Dialogue: 0,0:33:50.02,0:33:51.67,Default,,0,0,0,,However, there is good news.
Dialogue: 0,0:33:51.75,0:33:54.36,Default,,0,0,0,,If you are using one of the many
Dialogue: 0,0:33:54.36,0:33:55.70,Default,,0,0,0,,load balances from one of the
Dialogue: 0,0:33:55.70,0:33:58.35,Default,,0,0,0,,famous venders, there's a very
Dialogue: 0,0:33:58.35,0:34:00.04,Default,,0,0,0,,high chance that this vender
Dialogue: 0,0:34:00.04,0:34:01.95,Default,,0,0,0,,already supports Multipath TCP.
Dialogue: 0,0:34:02.99,0:34:06.01,Default,,0,0,0,,So ask your server team, ask
Dialogue: 0,0:34:06.01,0:34:07.61,Default,,0,0,0,,them to check the manual of the
Dialogue: 0,0:34:07.61,0:34:08.62,Default,,0,0,0,,load balancer that they are
Dialogue: 0,0:34:08.62,0:34:09.10,Default,,0,0,0,,using.
Dialogue: 0,0:34:09.34,0:34:11.19,Default,,0,0,0,,Maybe ask the vender if they
Dialogue: 0,0:34:11.19,0:34:13.78,Default,,0,0,0,,support Multipath TCP, and if
Dialogue: 0,0:34:13.78,0:34:17.06,Default,,0,0,0,,they do all you have to do is
Dialogue: 0,0:34:17.06,0:34:18.13,Default,,0,0,0,,you enable it in the
Dialogue: 0,0:34:18.13,0:34:19.75,Default,,0,0,0,,configuration of your servers,
Dialogue: 0,0:34:20.11,0:34:21.70,Default,,0,0,0,,and from that moment on you're
Dialogue: 0,0:34:21.70,0:34:23.53,Default,,0,0,0,,good to go to start using
Dialogue: 0,0:34:23.53,0:34:25.11,Default,,0,0,0,,Multipath TCP.
Dialogue: 0,0:34:26.20,0:34:28.82,Default,,0,0,0,,If, however, you are using Linux
Dialogue: 0,0:34:29.05,0:34:30.67,Default,,0,0,0,,on your server infrastructure,
Dialogue: 0,0:34:31.62,0:34:33.04,Default,,0,0,0,,the mainstream Linux kernel
Dialogue: 0,0:34:33.04,0:34:34.69,Default,,0,0,0,,doesn't yet support Multipath
Dialogue: 0,0:34:34.69,0:34:37.20,Default,,0,0,0,,TCP, however there's the new
Dialogue: 0,0:34:37.20,0:34:38.98,Default,,0,0,0,,Linux kernel which is available
Dialogue: 0,0:34:38.98,0:34:41.09,Default,,0,0,0,,at this website that you can
Dialogue: 0,0:34:41.09,0:34:43.81,Default,,0,0,0,,install and that will be able to
Dialogue: 0,0:34:43.81,0:34:45.67,Default,,0,0,0,,provide Multipath TCP to your
Dialogue: 0,0:34:45.67,0:34:46.76,Default,,0,0,0,,server infrastructure.
Dialogue: 0,0:34:48.04,0:34:50.20,Default,,0,0,0,,On this website, you will find
Dialogue: 0,0:34:50.20,0:34:52.13,Default,,0,0,0,,AWS and instructions for Google
Dialogue: 0,0:34:52.13,0:34:54.89,Default,,0,0,0,,Compute Engine to install
Dialogue: 0,0:34:54.89,0:34:57.13,Default,,0,0,0,,Multipath TCP.
Dialogue: 0,0:34:57.35,0:34:59.63,Default,,0,0,0,,And we are also working together
Dialogue: 0,0:34:59.63,0:35:01.37,Default,,0,0,0,,with the open source community
Dialogue: 0,0:35:01.66,0:35:04.15,Default,,0,0,0,,of this new Linux kernel to
Dialogue: 0,0:35:04.15,0:35:04.89,Default,,0,0,0,,maintain it.
Dialogue: 0,0:35:05.07,0:35:08.07,Default,,0,0,0,,And also we are working with the
Dialogue: 0,0:35:08.07,0:35:10.12,Default,,0,0,0,,open source community to make
Dialogue: 0,0:35:10.12,0:35:12.44,Default,,0,0,0,,this Multipath TCP code
Dialogue: 0,0:35:12.44,0:35:14.03,Default,,0,0,0,,available in the mainstream
Dialogue: 0,0:35:14.03,0:35:15.54,Default,,0,0,0,,kernel, so that all the
Dialogue: 0,0:35:15.54,0:35:17.14,Default,,0,0,0,,distributions, all the Linux
Dialogue: 0,0:35:17.14,0:35:18.96,Default,,0,0,0,,distributions are getting it by
Dialogue: 0,0:35:18.96,0:35:19.49,Default,,0,0,0,,default.
Dialogue: 0,0:35:21.44,0:35:22.61,Default,,0,0,0,,Now if you have your server
Dialogue: 0,0:35:22.61,0:35:23.68,Default,,0,0,0,,infrastructure and you have a
Dialogue: 0,0:35:23.68,0:35:25.52,Default,,0,0,0,,bunch of backend servers that
Dialogue: 0,0:35:25.52,0:35:26.57,Default,,0,0,0,,are sitting behind the load
Dialogue: 0,0:35:26.57,0:35:28.41,Default,,0,0,0,,balancer, a Linux load balancer,
Dialogue: 0,0:35:29.04,0:35:31.18,Default,,0,0,0,,all what you'll need to do in
Dialogue: 0,0:35:31.18,0:35:32.96,Default,,0,0,0,,your server infrastructure to
Dialogue: 0,0:35:32.96,0:35:34.79,Default,,0,0,0,,get Multipath TCP in this
Dialogue: 0,0:35:34.79,0:35:37.44,Default,,0,0,0,,environment, is that you update
Dialogue: 0,0:35:38.22,0:35:39.86,Default,,0,0,0,,the Linux kernel on this load
Dialogue: 0,0:35:39.86,0:35:42.65,Default,,0,0,0,,balancer, you put an HTTP proxy
Dialogue: 0,0:35:42.65,0:35:44.88,Default,,0,0,0,,on top of it like HAProxy or
Dialogue: 0,0:35:44.88,0:35:47.34,Default,,0,0,0,,nginx, and from that moment on
Dialogue: 0,0:35:47.58,0:35:49.00,Default,,0,0,0,,you're good to go and you can
Dialogue: 0,0:35:49.00,0:35:50.55,Default,,0,0,0,,start using Multipath TCP.
Dialogue: 0,0:35:52.04,0:35:54.92,Default,,0,0,0,,So at the end of this week when
Dialogue: 0,0:35:54.92,0:35:56.41,Default,,0,0,0,,you go back to your companies,
Dialogue: 0,0:35:56.95,0:35:58.52,Default,,0,0,0,,go and talk to your server team
Dialogue: 0,0:35:58.72,0:35:59.94,Default,,0,0,0,,and tell them to get the
Dialogue: 0,0:35:59.94,0:36:01.78,Default,,0,0,0,,infrastructure ready for
Dialogue: 0,0:36:01.78,0:36:04.54,Default,,0,0,0,,Multipath TCP.
Dialogue: 0,0:36:05.30,0:36:07.57,Default,,0,0,0,,So, once you have your server
Dialogue: 0,0:36:07.57,0:36:11.14,Default,,0,0,0,,infrastructure ready to go, then
Dialogue: 0,0:36:11.14,0:36:12.20,Default,,0,0,0,,you can start looking at the
Dialogue: 0,0:36:12.20,0:36:13.65,Default,,0,0,0,,connections that you have inside
Dialogue: 0,0:36:13.65,0:36:16.04,Default,,0,0,0,,your applications and which one
Dialogue: 0,0:36:16.04,0:36:17.77,Default,,0,0,0,,would benefit the most from
Dialogue: 0,0:36:17.77,0:36:18.84,Default,,0,0,0,,Multipath TCP.
Dialogue: 0,0:36:19.93,0:36:22.14,Default,,0,0,0,,We are exposing the Multipath
Dialogue: 0,0:36:22.14,0:36:24.86,Default,,0,0,0,,TCP service type which is
Dialogue: 0,0:36:24.86,0:36:26.74,Default,,0,0,0,,providing two types of different
Dialogue: 0,0:36:26.74,0:36:28.65,Default,,0,0,0,,services using MPTCP.
Dialogue: 0,0:36:29.28,0:36:31.44,Default,,0,0,0,,The first one is the handover
Dialogue: 0,0:36:31.44,0:36:33.25,Default,,0,0,0,,mode which provides a high
Dialogue: 0,0:36:33.25,0:36:35.49,Default,,0,0,0,,reliability for your long length
Dialogue: 0,0:36:35.53,0:36:36.31,Default,,0,0,0,,connections.
Dialogue: 0,0:36:37.68,0:36:39.89,Default,,0,0,0,,The second is the interactive
Dialogue: 0,0:36:39.94,0:36:41.89,Default,,0,0,0,,mode, the mode that we are using
Dialogue: 0,0:36:41.89,0:36:42.46,Default,,0,0,0,,for Siri.
Dialogue: 0,0:36:43.39,0:36:44.79,Default,,0,0,0,,And this one provides a low
Dialogue: 0,0:36:44.79,0:36:46.43,Default,,0,0,0,,latency response for your
Dialogue: 0,0:36:46.55,0:36:48.15,Default,,0,0,0,,interactive and latency
Dialogue: 0,0:36:48.15,0:36:49.21,Default,,0,0,0,,sensitive connections.
Dialogue: 0,0:36:50.94,0:36:53.79,Default,,0,0,0,,So let's start with the handover
Dialogue: 0,0:36:54.33,0:36:54.43,Default,,0,0,0,,mode.
Dialogue: 0,0:36:55.02,0:36:57.22,Default,,0,0,0,,The handover mode is able to
Dialogue: 0,0:36:57.22,0:36:59.79,Default,,0,0,0,,move traffic from Wi-Fi to cell
Dialogue: 0,0:37:00.08,0:37:02.68,Default,,0,0,0,,and from cell back to Wi-Fi.
Dialogue: 0,0:37:03.76,0:37:06.95,Default,,0,0,0,,Whenever you are in a network
Dialogue: 0,0:37:06.95,0:37:08.87,Default,,0,0,0,,that has good Wi-Fi coverage and
Dialogue: 0,0:37:08.87,0:37:10.44,Default,,0,0,0,,to choose to opt into the
Dialogue: 0,0:37:10.44,0:37:12.50,Default,,0,0,0,,handover mode, what will happen
Dialogue: 0,0:37:12.50,0:37:13.89,Default,,0,0,0,,is you will create a connection
Dialogue: 0,0:37:14.06,0:37:16.01,Default,,0,0,0,,only on the Wi-Fi link and we
Dialogue: 0,0:37:16.01,0:37:17.96,Default,,0,0,0,,will only be using the Wi-Fi
Dialogue: 0,0:37:17.96,0:37:20.03,Default,,0,0,0,,link, no cellular data usage at
Dialogue: 0,0:37:20.03,0:37:20.25,Default,,0,0,0,,all.
Dialogue: 0,0:37:21.71,0:37:23.63,Default,,0,0,0,,If however now the user is
Dialogue: 0,0:37:23.63,0:37:25.14,Default,,0,0,0,,walking out of the Wi-Fi zone
Dialogue: 0,0:37:25.40,0:37:26.87,Default,,0,0,0,,and the Wi-Fi signal is getting
Dialogue: 0,0:37:26.87,0:37:29.81,Default,,0,0,0,,worse, when we realize that this
Dialogue: 0,0:37:29.81,0:37:32.15,Default,,0,0,0,,is happening, we will bring up
Dialogue: 0,0:37:32.55,0:37:35.80,Default,,0,0,0,,the cellular link and we will
Dialogue: 0,0:37:35.80,0:37:37.73,Default,,0,0,0,,create a TCP subflow on the
Dialogue: 0,0:37:37.80,0:37:39.97,Default,,0,0,0,,cellular interface, so from that
Dialogue: 0,0:37:39.97,0:37:42.12,Default,,0,0,0,,moment on your application will
Dialogue: 0,0:37:42.12,0:37:43.64,Default,,0,0,0,,be using the cellular data.
Dialogue: 0,0:37:45.19,0:37:47.05,Default,,0,0,0,,If now the user is walking back
Dialogue: 0,0:37:47.05,0:37:49.41,Default,,0,0,0,,into good Wi-Fi, what happens is
Dialogue: 0,0:37:49.49,0:37:51.25,Default,,0,0,0,,we will tear down the cellular
Dialogue: 0,0:37:51.25,0:37:53.37,Default,,0,0,0,,link again and move all traffic
Dialogue: 0,0:37:53.84,0:37:55.15,Default,,0,0,0,,back onto the Wi-Fi link.
Dialogue: 0,0:37:56.17,0:37:57.99,Default,,0,0,0,,This allows us to basically
Dialogue: 0,0:37:58.37,0:38:00.36,Default,,0,0,0,,minimize the cellular data usage
Dialogue: 0,0:38:00.42,0:38:02.84,Default,,0,0,0,,at all cost.
Dialogue: 0,0:38:03.03,0:38:05.00,Default,,0,0,0,,We encourage you to use it for
Dialogue: 0,0:38:05.00,0:38:07.06,Default,,0,0,0,,your persistent and long length
Dialogue: 0,0:38:07.06,0:38:07.68,Default,,0,0,0,,connections.
Dialogue: 0,0:38:08.50,0:38:10.23,Default,,0,0,0,,Those kind of connections which
Dialogue: 0,0:38:10.40,0:38:12.51,Default,,0,0,0,,you cannot easily restart or
Dialogue: 0,0:38:12.51,0:38:13.59,Default,,0,0,0,,restart from the beginning,
Dialogue: 0,0:38:14.67,0:38:15.94,Default,,0,0,0,,those connections would benefit
Dialogue: 0,0:38:15.94,0:38:17.27,Default,,0,0,0,,the most from the handover mode.
Dialogue: 0,0:38:19.03,0:38:22.04,Default,,0,0,0,,Now, as I mentioned, Multipath
Dialogue: 0,0:38:22.04,0:38:24.62,Default,,0,0,0,,TCP is being part of Wi-Fi
Dialogue: 0,0:38:24.62,0:38:27.21,Default,,0,0,0,,Assist, and in Wi-Fi Assist we
Dialogue: 0,0:38:27.21,0:38:30.12,Default,,0,0,0,,have limits that try to limit
Dialogue: 0,0:38:30.15,0:38:31.59,Default,,0,0,0,,the amount of data that we are
Dialogue: 0,0:38:31.59,0:38:32.89,Default,,0,0,0,,sending on the cellular link.
Dialogue: 0,0:38:34.12,0:38:38.61,Default,,0,0,0,,So we encourage you to use the
Dialogue: 0,0:38:38.61,0:38:40.83,Default,,0,0,0,,handover mode only for low
Dialogue: 0,0:38:40.83,0:38:41.83,Default,,0,0,0,,volume connections,
Dialogue: 0,0:38:43.09,0:38:44.51,Default,,0,0,0,,because if you hit the Wi-Fi
Dialogue: 0,0:38:44.51,0:38:46.16,Default,,0,0,0,,Assist limit we will stop using
Dialogue: 0,0:38:46.16,0:38:47.69,Default,,0,0,0,,the cellular link because we
Dialogue: 0,0:38:47.69,0:38:49.51,Default,,0,0,0,,don't want your application to
Dialogue: 0,0:38:49.51,0:38:50.84,Default,,0,0,0,,show up as the one that is
Dialogue: 0,0:38:50.84,0:38:52.09,Default,,0,0,0,,consuming the most cellular
Dialogue: 0,0:38:52.09,0:38:55.39,Default,,0,0,0,,data, so be mindful when you are
Dialogue: 0,0:38:55.39,0:38:57.13,Default,,0,0,0,,choosing the handover mode for
Dialogue: 0,0:38:57.13,0:38:57.89,Default,,0,0,0,,your connections.
Dialogue: 0,0:38:58.49,0:39:00.11,Default,,0,0,0,,Don't use it for your bulk data
Dialogue: 0,0:39:00.11,0:39:01.53,Default,,0,0,0,,transfer where you are
Dialogue: 0,0:39:01.53,0:39:03.75,Default,,0,0,0,,downloading gigabytes and
Dialogue: 0,0:39:03.75,0:39:04.67,Default,,0,0,0,,gigabytes of data.
Dialogue: 0,0:39:05.23,0:39:07.94,Default,,0,0,0,,And the handover mode is
Dialogue: 0,0:39:07.94,0:39:09.86,Default,,0,0,0,,available right away in the
Dialogue: 0,0:39:09.86,0:39:11.45,Default,,0,0,0,,first beta that you are getting
Dialogue: 0,0:39:12.46,0:39:13.09,Default,,0,0,0,,since Monday.
Dialogue: 0,0:39:14.02,0:39:15.25,Default,,0,0,0,,Now, let's get on to the
Dialogue: 0,0:39:15.25,0:39:17.78,Default,,0,0,0,,interactive mode, the mode that
Dialogue: 0,0:39:17.78,0:39:19.53,Default,,0,0,0,,is trying to reduce the latency
Dialogue: 0,0:39:19.53,0:39:21.23,Default,,0,0,0,,for your latency sensitive and
Dialogue: 0,0:39:21.23,0:39:22.37,Default,,0,0,0,,anti-active connections.
Dialogue: 0,0:39:24.82,0:39:26.30,Default,,0,0,0,,Whenever you're using the
Dialogue: 0,0:39:26.30,0:39:27.54,Default,,0,0,0,,interactive mode, we will bring
Dialogue: 0,0:39:27.54,0:39:29.55,Default,,0,0,0,,up both Wi-Fi and cell right
Dialogue: 0,0:39:29.55,0:39:31.67,Default,,0,0,0,,away, even if Wi-Fi is in a good
Dialogue: 0,0:39:31.67,0:39:33.74,Default,,0,0,0,,state, because we want to
Dialogue: 0,0:39:33.74,0:39:35.10,Default,,0,0,0,,schedule the traffic in such a
Dialogue: 0,0:39:35.10,0:39:38.25,Default,,0,0,0,,way so that we are reducing the
Dialogue: 0,0:39:38.25,0:39:38.82,Default,,0,0,0,,latency.
Dialogue: 0,0:39:39.44,0:39:41.30,Default,,0,0,0,,We will still prefer the Wi-Fi
Dialogue: 0,0:39:41.30,0:39:43.16,Default,,0,0,0,,interface, but as soon as we
Dialogue: 0,0:39:43.16,0:39:44.55,Default,,0,0,0,,realize Wi-Fi is not good
Dialogue: 0,0:39:44.55,0:39:47.28,Default,,0,0,0,,enough, we will not hesitate to
Dialogue: 0,0:39:47.28,0:39:48.57,Default,,0,0,0,,start sending data on the
Dialogue: 0,0:39:48.57,0:39:49.25,Default,,0,0,0,,cellular link.
Dialogue: 0,0:39:50.50,0:39:54.03,Default,,0,0,0,,So use it for your very
Dialogue: 0,0:39:54.03,0:39:56.01,Default,,0,0,0,,interactive latency sensitive
Dialogue: 0,0:39:56.01,0:39:58.12,Default,,0,0,0,,flows, the kinds of flows that
Dialogue: 0,0:39:58.12,0:39:59.39,Default,,0,0,0,,are not transmitting a lot of
Dialogue: 0,0:39:59.39,0:40:01.39,Default,,0,0,0,,data, again, because we have the
Dialogue: 0,0:40:01.39,0:40:03.29,Default,,0,0,0,,Wi-Fi Assist limit that we are
Dialogue: 0,0:40:03.29,0:40:05.39,Default,,0,0,0,,applying and so if your flows
Dialogue: 0,0:40:05.39,0:40:06.93,Default,,0,0,0,,are hitting this limit we will
Dialogue: 0,0:40:06.93,0:40:09.11,Default,,0,0,0,,stop using the cellular link.
Dialogue: 0,0:40:10.22,0:40:12.40,Default,,0,0,0,,Multipath TCP will try to reduce
Dialogue: 0,0:40:12.40,0:40:14.23,Default,,0,0,0,,latency as much as it can for
Dialogue: 0,0:40:14.23,0:40:15.34,Default,,0,0,0,,those kind of connections.
Dialogue: 0,0:40:15.82,0:40:17.95,Default,,0,0,0,,It will incur some cellular data
Dialogue: 0,0:40:17.95,0:40:20.11,Default,,0,0,0,,costs, and we will be giving
Dialogue: 0,0:40:20.11,0:40:22.08,Default,,0,0,0,,this to you in an upcoming Beta
Dialogue: 0,0:40:22.08,0:40:24.66,Default,,0,0,0,,release for you to start using
Dialogue: 0,0:40:24.66,0:40:24.78,Default,,0,0,0,,it.
Dialogue: 0,0:40:27.25,0:40:29.71,Default,,0,0,0,,So now we have the server
Dialogue: 0,0:40:29.71,0:40:32.60,Default,,0,0,0,,infrastructure, we have chosen
Dialogue: 0,0:40:32.60,0:40:33.92,Default,,0,0,0,,which connections would benefit
Dialogue: 0,0:40:33.92,0:40:35.60,Default,,0,0,0,,from the handover mode, which
Dialogue: 0,0:40:35.60,0:40:37.17,Default,,0,0,0,,connections would benefit from
Dialogue: 0,0:40:37.17,0:40:38.15,Default,,0,0,0,,the interactive mode.
Dialogue: 0,0:40:39.68,0:40:41.35,Default,,0,0,0,,Now you can start using the
Dialogue: 0,0:40:41.35,0:40:42.75,Default,,0,0,0,,URLSession configuration
Dialogue: 0,0:40:42.75,0:40:44.81,Default,,0,0,0,,property to opt in your
Dialogue: 0,0:40:44.81,0:40:45.93,Default,,0,0,0,,connections to this API.
Dialogue: 0,0:40:47.46,0:40:49.31,Default,,0,0,0,,And we are exposing it in a very
Dialogue: 0,0:40:49.31,0:40:49.96,Default,,0,0,0,,simple way.
Dialogue: 0,0:40:50.26,0:40:52.14,Default,,0,0,0,,All what you need to do is you
Dialogue: 0,0:40:52.14,0:40:54.07,Default,,0,0,0,,need to set the Multipath
Dialogue: 0,0:40:54.07,0:40:56.31,Default,,0,0,0,,service type in your URLSession
Dialogue: 0,0:40:56.31,0:40:57.38,Default,,0,0,0,,configuration property.
Dialogue: 0,0:40:58.12,0:40:59.05,Default,,0,0,0,,You can choose between the
Dialogue: 0,0:40:59.05,0:41:01.11,Default,,0,0,0,,handover mode or the interactive
Dialogue: 0,0:41:01.16,0:41:03.14,Default,,0,0,0,,mode, and from that point on
Dialogue: 0,0:41:03.34,0:41:04.21,Default,,0,0,0,,you're good to go.
Dialogue: 0,0:41:04.39,0:41:06.89,Default,,0,0,0,,Your connections will try to use
Dialogue: 0,0:41:06.89,0:41:08.64,Default,,0,0,0,,Multipath TCP and they will
Dialogue: 0,0:41:09.09,0:41:10.98,Default,,0,0,0,,benefit from it.
Dialogue: 0,0:41:12.23,0:41:14.07,Default,,0,0,0,,Now in order to use it, you will
Dialogue: 0,0:41:14.07,0:41:15.77,Default,,0,0,0,,need to add the capability
Dialogue: 0,0:41:15.77,0:41:20.11,Default,,0,0,0,,Multipath in X-code so that you
Dialogue: 0,0:41:20.11,0:41:21.44,Default,,0,0,0,,can start using it.
Dialogue: 0,0:41:22.04,0:41:26.74,Default,,0,0,0,,Now, this brings me to one last
Dialogue: 0,0:41:26.74,0:41:28.32,Default,,0,0,0,,thing that I need to talk about
Dialogue: 0,0:41:29.00,0:41:30.14,Default,,0,0,0,,and this is the Aggregation
Dialogue: 0,0:41:30.14,0:41:30.37,Default,,0,0,0,,Mode.
Dialogue: 0,0:41:32.75,0:41:35.01,Default,,0,0,0,,Now, imagine you're connected to
Dialogue: 0,0:41:35.01,0:41:36.91,Default,,0,0,0,,Wi-Fi and it's providing you one
Dialogue: 0,0:41:36.91,0:41:38.86,Default,,0,0,0,,megabyte per second in terms of
Dialogue: 0,0:41:38.86,0:41:39.36,Default,,0,0,0,,throughput.
Dialogue: 0,0:41:40.49,0:41:41.37,Default,,0,0,0,,On the other side you have
Dialogue: 0,0:41:41.47,0:41:43.24,Default,,0,0,0,,cellular and it is also giving
Dialogue: 0,0:41:43.24,0:41:44.71,Default,,0,0,0,,you one megabyte per second of
Dialogue: 0,0:41:44.71,0:41:45.17,Default,,0,0,0,,throughput.
Dialogue: 0,0:41:46.18,0:41:47.11,Default,,0,0,0,,Wouldn't it be good if you can
Dialogue: 0,0:41:47.11,0:41:49.00,Default,,0,0,0,,combine both together into one
Dialogue: 0,0:41:49.00,0:41:50.64,Default,,0,0,0,,big link that gives you two
Dialogue: 0,0:41:50.64,0:41:51.71,Default,,0,0,0,,megabytes per seconds?
Dialogue: 0,0:41:52.99,0:41:54.86,Default,,0,0,0,,Multipath TCP is providing
Dialogue: 0,0:41:54.86,0:41:55.74,Default,,0,0,0,,exactly this.
Dialogue: 0,0:41:56.54,0:41:58.01,Default,,0,0,0,,It allows for aggregate the
Dialogue: 0,0:41:58.01,0:41:59.67,Default,,0,0,0,,capacities of multiple links
Dialogue: 0,0:41:59.89,0:42:01.87,Default,,0,0,0,,into one byte connection.
Dialogue: 0,0:42:04.66,0:42:08.54,Default,,0,0,0,,So this Aggregation Mode is
Dialogue: 0,0:42:08.54,0:42:10.17,Default,,0,0,0,,available to you for
Dialogue: 0,0:42:10.17,0:42:11.15,Default,,0,0,0,,experimentation.
Dialogue: 0,0:42:11.85,0:42:13.36,Default,,0,0,0,,And why is it experimentation?
Dialogue: 0,0:42:14.04,0:42:15.93,Default,,0,0,0,,Well, if we are aggregating the
Dialogue: 0,0:42:15.93,0:42:17.50,Default,,0,0,0,,capacities of both links
Dialogue: 0,0:42:17.50,0:42:19.65,Default,,0,0,0,,together, we are consuming quite
Dialogue: 0,0:42:19.65,0:42:21.29,Default,,0,0,0,,a little bit of cellular data.
Dialogue: 0,0:42:21.92,0:42:25.13,Default,,0,0,0,,So we want you to think about
Dialogue: 0,0:42:25.73,0:42:27.49,Default,,0,0,0,,what kind of connections do you
Dialogue: 0,0:42:27.49,0:42:29.42,Default,,0,0,0,,have in your application that
Dialogue: 0,0:42:29.42,0:42:31.06,Default,,0,0,0,,would benefit from a little bit
Dialogue: 0,0:42:31.13,0:42:34.18,Default,,0,0,0,,higher throughput, at the cost
Dialogue: 0,0:42:34.18,0:42:35.65,Default,,0,0,0,,of cellular data usage?
Dialogue: 0,0:42:37.62,0:42:38.64,Default,,0,0,0,,If you want to use the
Dialogue: 0,0:42:38.64,0:42:40.38,Default,,0,0,0,,Aggregation Mode, what you need
Dialogue: 0,0:42:40.38,0:42:42.37,Default,,0,0,0,,to do is you go into developer
Dialogue: 0,0:42:42.37,0:42:43.79,Default,,0,0,0,,settings on your phones, you
Dialogue: 0,0:42:43.79,0:42:46.45,Default,,0,0,0,,flip the switch to enable the
Dialogue: 0,0:42:46.45,0:42:48.37,Default,,0,0,0,,aggregation mode, and from that
Dialogue: 0,0:42:48.37,0:42:50.04,Default,,0,0,0,,moment on you can start
Dialogue: 0,0:42:50.04,0:42:51.66,Default,,0,0,0,,experimenting with the
Dialogue: 0,0:42:51.66,0:42:53.36,Default,,0,0,0,,aggregation URLSession
Dialogue: 0,0:42:53.36,0:42:54.49,Default,,0,0,0,,configuration property.
Dialogue: 0,0:42:56.59,0:42:58.58,Default,,0,0,0,,This mode on customer devices,
Dialogue: 0,0:42:58.58,0:42:59.82,Default,,0,0,0,,it will not be available.
Dialogue: 0,0:43:01.88,0:43:04.28,Default,,0,0,0,,So you can start experimenting
Dialogue: 0,0:43:04.28,0:43:05.64,Default,,0,0,0,,with the Aggregation Mode in an
Dialogue: 0,0:43:05.64,0:43:08.76,Default,,0,0,0,,upcoming Beta release.
Dialogue: 0,0:43:08.87,0:43:11.18,Default,,0,0,0,,So, let's recap.
Dialogue: 0,0:43:13.39,0:43:16.23,Default,,0,0,0,,In iOS we are very well aware of
Dialogue: 0,0:43:16.23,0:43:18.56,Default,,0,0,0,,this problem of using multiple
Dialogue: 0,0:43:18.56,0:43:20.34,Default,,0,0,0,,interfaces on mobile devices.
Dialogue: 0,0:43:21.84,0:43:24.08,Default,,0,0,0,,We have Wi-Fi Assist since iOS
Dialogue: 0,0:43:24.08,0:43:27.61,Default,,0,0,0,,9, and we see a great benefit in
Dialogue: 0,0:43:27.61,0:43:28.92,Default,,0,0,0,,using Wi-Fi Assist.
Dialogue: 0,0:43:30.06,0:43:32.08,Default,,0,0,0,,Now in iOS 11, we are pushing
Dialogue: 0,0:43:32.08,0:43:32.96,Default,,0,0,0,,this even farther.
Dialogue: 0,0:43:33.34,0:43:34.94,Default,,0,0,0,,We are adding Multipath
Dialogue: 0,0:43:34.94,0:43:37.19,Default,,0,0,0,,protocols into Wi-Fi Assist.
Dialogue: 0,0:43:38.15,0:43:39.92,Default,,0,0,0,,And this protocol Multipath TCP
Dialogue: 0,0:43:39.92,0:43:42.48,Default,,0,0,0,,is open as a public API in iOS
Dialogue: 0,0:43:42.48,0:43:42.90,Default,,0,0,0,,11.
Dialogue: 0,0:43:43.51,0:43:45.14,Default,,0,0,0,,You can use it for the handover
Dialogue: 0,0:43:45.14,0:43:47.19,Default,,0,0,0,,mode or for the Interactive Mode
Dialogue: 0,0:43:48.05,0:43:51.20,Default,,0,0,0,,to improve your user experience
Dialogue: 0,0:43:51.20,0:43:52.48,Default,,0,0,0,,inside your applications.
Dialogue: 0,0:43:54.44,0:43:58.18,Default,,0,0,0,,So with this, you will now have
Dialogue: 0,0:43:58.28,0:43:59.06,Default,,0,0,0,,a little break.
Dialogue: 0,0:43:59.44,0:44:01.30,Default,,0,0,0,,This was the first part of the
Dialogue: 0,0:44:01.30,0:44:02.28,Default,,0,0,0,,networking session.
Dialogue: 0,0:44:03.08,0:44:04.54,Default,,0,0,0,,After the break, you will get
Dialogue: 0,0:44:04.54,0:44:06.40,Default,,0,0,0,,the second part.
Dialogue: 0,0:44:06.40,0:44:08.62,Default,,0,0,0,,In this second part we will
Dialogue: 0,0:44:08.62,0:44:11.10,Default,,0,0,0,,talking about new exciting APIs
Dialogue: 0,0:44:11.10,0:44:13.28,Default,,0,0,0,,at URLSession layer that will
Dialogue: 0,0:44:13.28,0:44:14.95,Default,,0,0,0,,improve the networking for your
Dialogue: 0,0:44:14.95,0:44:15.61,Default,,0,0,0,,applications.
Dialogue: 0,0:44:16.47,0:44:16.84,Default,,0,0,0,,Thank you.
Dialogue: 0,0:44:17.52,0:44:21.50,Default,,0,0,0,,[ Applause ]
