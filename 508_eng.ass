[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:23.52,0:00:27.16,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:00:28.28,0:00:29.17,Default,,0,0,0,,>> I'm happy -- my name is
Dialogue: 0,0:00:29.17,0:00:29.58,Default,,0,0,0,,Etienne.
Dialogue: 0,0:00:29.58,0:00:30.97,Default,,0,0,0,,And I'm happy to be here today
Dialogue: 0,0:00:31.18,0:00:33.55,Default,,0,0,0,,to show you how you can use
Dialogue: 0,0:00:33.59,0:00:35.17,Default,,0,0,0,,depth to apply new kind of
Dialogue: 0,0:00:35.23,0:00:36.70,Default,,0,0,0,,effects to your images.
Dialogue: 0,0:00:38.67,0:00:40.87,Default,,0,0,0,,First, we're going to see what
Dialogue: 0,0:00:40.94,0:00:42.75,Default,,0,0,0,,depth is and what it looks like.
Dialogue: 0,0:00:43.33,0:00:44.94,Default,,0,0,0,,Then we're going to see how to
Dialogue: 0,0:00:44.94,0:00:46.54,Default,,0,0,0,,load it and read it from our
Dialogue: 0,0:00:46.54,0:00:47.17,Default,,0,0,0,,image files.
Dialogue: 0,0:00:48.36,0:00:49.83,Default,,0,0,0,,And then we're going to show you
Dialogue: 0,0:00:50.16,0:00:52.55,Default,,0,0,0,,several examples of effects you
Dialogue: 0,0:00:52.55,0:00:53.87,Default,,0,0,0,,can achieve with depth.
Dialogue: 0,0:00:54.49,0:00:56.46,Default,,0,0,0,,And we'll conclude with how to
Dialogue: 0,0:00:56.46,0:00:57.29,Default,,0,0,0,,save depth data.
Dialogue: 0,0:00:58.61,0:00:59.01,Default,,0,0,0,,All right.
Dialogue: 0,0:00:59.27,0:00:59.97,Default,,0,0,0,,So let's get started.
Dialogue: 0,0:01:01.54,0:01:03.23,Default,,0,0,0,,What is depth?
Dialogue: 0,0:01:03.96,0:01:05.30,Default,,0,0,0,,So, to answer that question,
Dialogue: 0,0:01:05.63,0:01:07.49,Default,,0,0,0,,let's start with how we capture
Dialogue: 0,0:01:07.49,0:01:07.79,Default,,0,0,0,,depth.
Dialogue: 0,0:01:10.81,0:01:13.40,Default,,0,0,0,,Depth can be captured only on
Dialogue: 0,0:01:14.02,0:01:17.07,Default,,0,0,0,,iPhone 7+ and only on iOS 11.
Dialogue: 0,0:01:18.04,0:01:22.01,Default,,0,0,0,,iPhone 7+ has a dual camera
Dialogue: 0,0:01:22.01,0:01:24.11,Default,,0,0,0,,system that can be set to
Dialogue: 0,0:01:24.11,0:01:25.86,Default,,0,0,0,,capture two images of the same
Dialogue: 0,0:01:25.86,0:01:27.85,Default,,0,0,0,,scene at the same time and at
Dialogue: 0,0:01:27.85,0:01:28.76,Default,,0,0,0,,the same focal length.
Dialogue: 0,0:01:29.48,0:01:32.03,Default,,0,0,0,,The differences between those
Dialogue: 0,0:01:32.03,0:01:34.24,Default,,0,0,0,,two images is called disparity.
Dialogue: 0,0:01:35.77,0:01:38.15,Default,,0,0,0,,So disparity is a measure of the
Dialogue: 0,0:01:38.15,0:01:39.02,Default,,0,0,0,,parallax effect.
Dialogue: 0,0:01:39.42,0:01:41.55,Default,,0,0,0,,It measures how objects that are
Dialogue: 0,0:01:41.55,0:01:43.50,Default,,0,0,0,,closer to the camera tends to
Dialogue: 0,0:01:43.50,0:01:47.66,Default,,0,0,0,,move, to shift more from one
Dialogue: 0,0:01:47.66,0:01:49.52,Default,,0,0,0,,image to the other.
Dialogue: 0,0:01:49.80,0:01:51.66,Default,,0,0,0,,Once we know disparity, we can
Dialogue: 0,0:01:51.66,0:01:53.87,Default,,0,0,0,,compute depth with a simple
Dialogue: 0,0:01:54.05,0:01:54.45,Default,,0,0,0,,formula.
Dialogue: 0,0:01:55.48,0:01:57.32,Default,,0,0,0,,Depth is 1 over disparity.
Dialogue: 0,0:01:59.55,0:02:01.51,Default,,0,0,0,,So, in the remaining of this
Dialogue: 0,0:02:01.51,0:02:02.63,Default,,0,0,0,,session we're going to talk
Dialogue: 0,0:02:02.63,0:02:04.68,Default,,0,0,0,,about depth or disparity under
Dialogue: 0,0:02:04.68,0:02:06.48,Default,,0,0,0,,the broad term of depth data.
Dialogue: 0,0:02:06.97,0:02:09.15,Default,,0,0,0,,But remember, they're pretty
Dialogue: 0,0:02:09.15,0:02:11.81,Default,,0,0,0,,similar and one is the inverse
Dialogue: 0,0:02:11.81,0:02:13.69,Default,,0,0,0,,of the other.
Dialogue: 0,0:02:14.66,0:02:16.22,Default,,0,0,0,,For more information about how
Dialogue: 0,0:02:16.22,0:02:18.11,Default,,0,0,0,,we capture depth, I would refer
Dialogue: 0,0:02:18.11,0:02:20.63,Default,,0,0,0,,you to the session on capturing
Dialogue: 0,0:02:20.63,0:02:22.18,Default,,0,0,0,,depth in iPhone photography that
Dialogue: 0,0:02:22.18,0:02:22.90,Default,,0,0,0,,took place yesterday.
Dialogue: 0,0:02:24.00,0:02:25.01,Default,,0,0,0,,All right.
Dialogue: 0,0:02:26.99,0:02:28.52,Default,,0,0,0,,So now that we know what depth
Dialogue: 0,0:02:28.52,0:02:30.66,Default,,0,0,0,,and disparity looks like --
Dialogue: 0,0:02:30.66,0:02:32.31,Default,,0,0,0,,sorry -- now that we know what
Dialogue: 0,0:02:32.31,0:02:33.44,Default,,0,0,0,,depth and disparity is, let's
Dialogue: 0,0:02:33.44,0:02:34.57,Default,,0,0,0,,take a look at what it looks
Dialogue: 0,0:02:34.57,0:02:35.39,Default,,0,0,0,,like in practice.
Dialogue: 0,0:02:35.80,0:02:37.00,Default,,0,0,0,,And for that, I'm going to call
Dialogue: 0,0:02:37.00,0:02:38.38,Default,,0,0,0,,my colleague, Craig, to show you
Dialogue: 0,0:02:38.69,0:02:39.38,Default,,0,0,0,,what it looks like.
Dialogue: 0,0:02:39.88,0:02:40.08,Default,,0,0,0,,Craig.
Dialogue: 0,0:02:42.52,0:02:46.86,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:02:47.36,0:02:48.22,Default,,0,0,0,,>> Thank you, Etienne.
Dialogue: 0,0:02:49.05,0:02:50.59,Default,,0,0,0,,What we're seeing here is an
Dialogue: 0,0:02:50.59,0:02:51.92,Default,,0,0,0,,image that was captured by the
Dialogue: 0,0:02:51.92,0:02:53.07,Default,,0,0,0,,iPhone 7+.
Dialogue: 0,0:02:55.33,0:02:56.89,Default,,0,0,0,,And here is its disparity map.
Dialogue: 0,0:02:57.11,0:02:59.82,Default,,0,0,0,,And as we've learned, disparity
Dialogue: 0,0:03:00.78,0:03:03.13,Default,,0,0,0,,refers to the distance between
Dialogue: 0,0:03:03.13,0:03:04.58,Default,,0,0,0,,two corresponding points that
Dialogue: 0,0:03:04.58,0:03:06.40,Default,,0,0,0,,were captured by the iPhone 7+'s
Dialogue: 0,0:03:06.40,0:03:07.58,Default,,0,0,0,,dual camera system.
Dialogue: 0,0:03:09.12,0:03:11.29,Default,,0,0,0,,Bright areas are closer to the
Dialogue: 0,0:03:11.29,0:03:14.23,Default,,0,0,0,,camera and correspond to higher
Dialogue: 0,0:03:14.23,0:03:15.30,Default,,0,0,0,,disparity values.
Dialogue: 0,0:03:15.71,0:03:18.20,Default,,0,0,0,,Where dark values are farther
Dialogue: 0,0:03:18.20,0:03:19.17,Default,,0,0,0,,away from the camera and
Dialogue: 0,0:03:19.17,0:03:20.45,Default,,0,0,0,,correspond to low disparity
Dialogue: 0,0:03:20.45,0:03:20.96,Default,,0,0,0,,values.
Dialogue: 0,0:03:21.40,0:03:24.27,Default,,0,0,0,,So, let's go back to the image
Dialogue: 0,0:03:24.67,0:03:26.48,Default,,0,0,0,,and look at the disparity map
Dialogue: 0,0:03:26.48,0:03:26.93,Default,,0,0,0,,again.
Dialogue: 0,0:03:27.88,0:03:29.67,Default,,0,0,0,,We can pinch in to zoom in on an
Dialogue: 0,0:03:29.67,0:03:30.05,Default,,0,0,0,,area.
Dialogue: 0,0:03:30.05,0:03:31.64,Default,,0,0,0,,But we have one more trick we
Dialogue: 0,0:03:31.64,0:03:32.95,Default,,0,0,0,,can do with this application.
Dialogue: 0,0:03:34.80,0:03:36.58,Default,,0,0,0,,If I drag my finger across we
Dialogue: 0,0:03:36.58,0:03:38.65,Default,,0,0,0,,can view the data in 3-D.
Dialogue: 0,0:03:39.52,0:03:42.83,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:03:43.33,0:03:45.15,Default,,0,0,0,,We can zoom in and really get a
Dialogue: 0,0:03:45.15,0:03:47.89,Default,,0,0,0,,good look at the range of data
Dialogue: 0,0:03:47.89,0:03:49.10,Default,,0,0,0,,that's available to us.
Dialogue: 0,0:03:49.10,0:03:50.54,Default,,0,0,0,,We can rotate all the way around
Dialogue: 0,0:03:50.79,0:03:51.81,Default,,0,0,0,,and look at that again.
Dialogue: 0,0:03:52.12,0:03:54.71,Default,,0,0,0,,And even switch back to the
Dialogue: 0,0:03:54.71,0:03:56.32,Default,,0,0,0,,image data overlaid over top of
Dialogue: 0,0:03:56.96,0:03:57.03,Default,,0,0,0,,it.
Dialogue: 0,0:03:57.60,0:04:00.95,Default,,0,0,0,,So let's look at another image.
Dialogue: 0,0:04:02.73,0:04:04.97,Default,,0,0,0,,Here are some beautiful flowers.
Dialogue: 0,0:04:06.33,0:04:08.45,Default,,0,0,0,,When I zoom in and rotate
Dialogue: 0,0:04:08.45,0:04:11.52,Default,,0,0,0,,around, you see that we need to
Dialogue: 0,0:04:11.52,0:04:13.49,Default,,0,0,0,,fill in those polygons with some
Dialogue: 0,0:04:13.49,0:04:13.86,Default,,0,0,0,,data.
Dialogue: 0,0:04:13.86,0:04:15.49,Default,,0,0,0,,So we just take the image values
Dialogue: 0,0:04:15.49,0:04:16.67,Default,,0,0,0,,and stretch them along there.
Dialogue: 0,0:04:17.24,0:04:19.85,Default,,0,0,0,,This goes to the fact that the
Dialogue: 0,0:04:19.85,0:04:21.62,Default,,0,0,0,,depth data is not a good
Dialogue: 0,0:04:21.62,0:04:23.82,Default,,0,0,0,,representation for recreating a
Dialogue: 0,0:04:23.82,0:04:24.89,Default,,0,0,0,,full 3-D scene.
Dialogue: 0,0:04:25.35,0:04:26.72,Default,,0,0,0,,But this view is still
Dialogue: 0,0:04:26.72,0:04:29.25,Default,,0,0,0,,interesting to look at.
Dialogue: 0,0:04:29.49,0:04:30.80,Default,,0,0,0,,Also, it's important to note
Dialogue: 0,0:04:30.80,0:04:32.51,Default,,0,0,0,,that the disparity map is a
Dialogue: 0,0:04:32.51,0:04:34.36,Default,,0,0,0,,lower resolution than the full
Dialogue: 0,0:04:34.36,0:04:36.16,Default,,0,0,0,,image, roughly a half a
Dialogue: 0,0:04:36.16,0:04:38.12,Default,,0,0,0,,megapixel for the disparity map
Dialogue: 0,0:04:38.12,0:04:39.45,Default,,0,0,0,,versus 12 megapixels for the
Dialogue: 0,0:04:39.45,0:04:39.89,Default,,0,0,0,,image.
Dialogue: 0,0:04:41.84,0:04:43.22,Default,,0,0,0,,This application we built with
Dialogue: 0,0:04:43.22,0:04:43.82,Default,,0,0,0,,SceneKit.
Dialogue: 0,0:04:43.96,0:04:45.19,Default,,0,0,0,,So it made it really easy to
Dialogue: 0,0:04:45.19,0:04:45.70,Default,,0,0,0,,implement.
Dialogue: 0,0:04:46.19,0:04:48.07,Default,,0,0,0,,We took a mesh and then we
Dialogue: 0,0:04:48.07,0:04:50.38,Default,,0,0,0,,transformed the z positions of
Dialogue: 0,0:04:50.38,0:04:52.18,Default,,0,0,0,,the vertices so that the
Dialogue: 0,0:04:52.18,0:04:53.50,Default,,0,0,0,,brighter pixel values were
Dialogue: 0,0:04:53.50,0:04:54.58,Default,,0,0,0,,closer to the camera.
Dialogue: 0,0:04:55.89,0:04:57.53,Default,,0,0,0,,Also, we normalized and remapped
Dialogue: 0,0:04:57.53,0:04:58.94,Default,,0,0,0,,the data so that it made sense
Dialogue: 0,0:04:58.94,0:05:00.10,Default,,0,0,0,,when we viewed it in 3-D.
Dialogue: 0,0:05:00.52,0:05:03.75,Default,,0,0,0,,We'll look at one more image.
Dialogue: 0,0:05:04.94,0:05:06.58,Default,,0,0,0,,On this image, it's interesting
Dialogue: 0,0:05:06.58,0:05:08.07,Default,,0,0,0,,if we look at the disparity map.
Dialogue: 0,0:05:08.75,0:05:11.11,Default,,0,0,0,,And we zoom in and move around a
Dialogue: 0,0:05:11.11,0:05:12.32,Default,,0,0,0,,little bit, we see that we have
Dialogue: 0,0:05:12.32,0:05:13.86,Default,,0,0,0,,a few distinct planes to work
Dialogue: 0,0:05:13.86,0:05:14.33,Default,,0,0,0,,with here.
Dialogue: 0,0:05:15.67,0:05:17.17,Default,,0,0,0,,So, with that, we might get the
Dialogue: 0,0:05:17.17,0:05:18.32,Default,,0,0,0,,idea that maybe it would be a
Dialogue: 0,0:05:18.32,0:05:19.70,Default,,0,0,0,,good idea to quantize or
Dialogue: 0,0:05:19.70,0:05:21.38,Default,,0,0,0,,threshold this depth data before
Dialogue: 0,0:05:21.38,0:05:22.84,Default,,0,0,0,,we filter it for a more dramatic
Dialogue: 0,0:05:22.84,0:05:23.16,Default,,0,0,0,,effect.
Dialogue: 0,0:05:24.35,0:05:26.11,Default,,0,0,0,,So with that, I'd like to turn
Dialogue: 0,0:05:26.11,0:05:27.26,Default,,0,0,0,,it back over to Etienne.
Dialogue: 0,0:05:30.52,0:05:34.03,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:05:34.53,0:05:35.05,Default,,0,0,0,,>> Thank you, Craig.
Dialogue: 0,0:05:35.77,0:05:38.45,Default,,0,0,0,,All right.
Dialogue: 0,0:05:38.45,0:05:39.61,Default,,0,0,0,,So now that we've seen what
Dialogue: 0,0:05:39.61,0:05:40.86,Default,,0,0,0,,depth and disparity looks like,
Dialogue: 0,0:05:41.37,0:05:42.90,Default,,0,0,0,,what kind of effects can we
Dialogue: 0,0:05:42.90,0:05:44.60,Default,,0,0,0,,apply with that data?
Dialogue: 0,0:05:45.25,0:05:46.11,Default,,0,0,0,,So let's take a look.
Dialogue: 0,0:05:47.03,0:05:49.23,Default,,0,0,0,,Here's an example image and its
Dialogue: 0,0:05:49.28,0:05:49.99,Default,,0,0,0,,disparity map.
Dialogue: 0,0:05:52.71,0:05:54.21,Default,,0,0,0,,One effect we can apply is a
Dialogue: 0,0:05:54.21,0:05:55.29,Default,,0,0,0,,depth blur effect.
Dialogue: 0,0:05:55.62,0:05:57.38,Default,,0,0,0,,And this is the effect that you
Dialogue: 0,0:05:57.38,0:05:59.61,Default,,0,0,0,,can achieve by capturing using
Dialogue: 0,0:05:59.61,0:06:00.92,Default,,0,0,0,,camera in portrait mode.
Dialogue: 0,0:06:03.75,0:06:05.23,Default,,0,0,0,,We can get a bit more creative.
Dialogue: 0,0:06:05.32,0:06:06.86,Default,,0,0,0,,And here's an example where we
Dialogue: 0,0:06:06.86,0:06:08.56,Default,,0,0,0,,apply a different effect to the
Dialogue: 0,0:06:08.56,0:06:09.90,Default,,0,0,0,,background and the foreground.
Dialogue: 0,0:06:10.53,0:06:11.80,Default,,0,0,0,,Here we [inaudible] the
Dialogue: 0,0:06:11.80,0:06:13.69,Default,,0,0,0,,background while increasing the
Dialogue: 0,0:06:13.69,0:06:15.56,Default,,0,0,0,,saturation of the foreground to
Dialogue: 0,0:06:15.56,0:06:16.80,Default,,0,0,0,,make those flowers stand out.
Dialogue: 0,0:06:19.36,0:06:20.89,Default,,0,0,0,,We can go even further than
Dialogue: 0,0:06:20.89,0:06:21.18,Default,,0,0,0,,this.
Dialogue: 0,0:06:21.52,0:06:23.36,Default,,0,0,0,,And here we are actually the
Dialogue: 0,0:06:23.36,0:06:24.68,Default,,0,0,0,,deeming the pixels in the
Dialogue: 0,0:06:24.68,0:06:26.69,Default,,0,0,0,,background proportionally to the
Dialogue: 0,0:06:26.69,0:06:27.18,Default,,0,0,0,,depth.
Dialogue: 0,0:06:28.37,0:06:30.72,Default,,0,0,0,,And so this is just a couple of
Dialogue: 0,0:06:30.72,0:06:32.37,Default,,0,0,0,,examples to give you a taste of
Dialogue: 0,0:06:32.37,0:06:34.06,Default,,0,0,0,,what you can do with depth data.
Dialogue: 0,0:06:34.89,0:06:35.94,Default,,0,0,0,,And we're going to show you how
Dialogue: 0,0:06:35.94,0:06:37.69,Default,,0,0,0,,to do this and more later in the
Dialogue: 0,0:06:37.69,0:06:38.01,Default,,0,0,0,,talk.
Dialogue: 0,0:06:40.26,0:06:41.91,Default,,0,0,0,,Now let's see who could use that
Dialogue: 0,0:06:42.33,0:06:42.45,Default,,0,0,0,,depth.
Dialogue: 0,0:06:42.65,0:06:44.10,Default,,0,0,0,,Well of course, if you are
Dialogue: 0,0:06:44.10,0:06:46.58,Default,,0,0,0,,editing an application, you can
Dialogue: 0,0:06:46.58,0:06:48.54,Default,,0,0,0,,now use depth to create new
Dialogue: 0,0:06:48.54,0:06:50.12,Default,,0,0,0,,kinds of effects and to apply
Dialogue: 0,0:06:50.12,0:06:51.23,Default,,0,0,0,,new kinds of effects to your
Dialogue: 0,0:06:51.23,0:06:51.71,Default,,0,0,0,,images.
Dialogue: 0,0:06:52.91,0:06:53.69,Default,,0,0,0,,But if you're a camera
Dialogue: 0,0:06:53.76,0:06:55.74,Default,,0,0,0,,application, you can also opt in
Dialogue: 0,0:06:55.74,0:06:58.63,Default,,0,0,0,,to capture depth and be the very
Dialogue: 0,0:06:58.63,0:07:00.24,Default,,0,0,0,,first -- apply the very first
Dialogue: 0,0:07:00.24,0:07:01.90,Default,,0,0,0,,depth effect to the images such
Dialogue: 0,0:07:01.90,0:07:03.25,Default,,0,0,0,,as your own depth blur effects,
Dialogue: 0,0:07:03.25,0:07:03.78,Default,,0,0,0,,for example.
Dialogue: 0,0:07:05.02,0:07:06.29,Default,,0,0,0,,If you are a sharing
Dialogue: 0,0:07:06.29,0:07:07.65,Default,,0,0,0,,application, you may also want
Dialogue: 0,0:07:07.65,0:07:09.71,Default,,0,0,0,,to take advantage of depth to
Dialogue: 0,0:07:09.71,0:07:11.91,Default,,0,0,0,,apply cool effects before
Dialogue: 0,0:07:12.22,0:07:13.16,Default,,0,0,0,,sharing images.
Dialogue: 0,0:07:14.25,0:07:15.08,Default,,0,0,0,,All right.
Dialogue: 0,0:07:15.92,0:07:17.21,Default,,0,0,0,,But before we can apply any
Dialogue: 0,0:07:17.21,0:07:18.56,Default,,0,0,0,,effects, let's take a look at
Dialogue: 0,0:07:18.56,0:07:20.70,Default,,0,0,0,,how to read depth data and load
Dialogue: 0,0:07:20.70,0:07:21.39,Default,,0,0,0,,it into memory.
Dialogue: 0,0:07:23.81,0:07:24.70,Default,,0,0,0,,So let's take a look.
Dialogue: 0,0:07:25.92,0:07:28.00,Default,,0,0,0,,Depth data is stored in image
Dialogue: 0,0:07:28.00,0:07:30.51,Default,,0,0,0,,files alongside image data in a
Dialogue: 0,0:07:30.51,0:07:32.67,Default,,0,0,0,,section called Auxiliary Data.
Dialogue: 0,0:07:34.84,0:07:37.85,Default,,0,0,0,,Beware that the values image
Dialogue: 0,0:07:37.90,0:07:39.35,Default,,0,0,0,,[inaudible] in the system such
Dialogue: 0,0:07:39.35,0:07:40.56,Default,,0,0,0,,as UI image and [inaudible]
Dialogue: 0,0:07:40.59,0:07:41.55,Default,,0,0,0,,image or [inaudible] image do
Dialogue: 0,0:07:41.74,0:07:43.26,Default,,0,0,0,,not contain depth information.
Dialogue: 0,0:07:44.14,0:07:45.50,Default,,0,0,0,,You need to access the image
Dialogue: 0,0:07:45.50,0:07:47.08,Default,,0,0,0,,file in order to read the depth
Dialogue: 0,0:07:47.08,0:07:47.32,Default,,0,0,0,,data.
Dialogue: 0,0:07:48.04,0:07:49.23,Default,,0,0,0,,So let's see how to do that.
Dialogue: 0,0:07:50.12,0:07:51.31,Default,,0,0,0,,If you're using PhotoKit,
Dialogue: 0,0:07:52.34,0:07:53.41,Default,,0,0,0,,there's a couple of ways to can
Dialogue: 0,0:07:53.41,0:07:54.52,Default,,0,0,0,,access the image file.
Dialogue: 0,0:07:55.13,0:07:57.12,Default,,0,0,0,,You may be using PH Content
Dialogue: 0,0:07:57.12,0:08:00.05,Default,,0,0,0,,Editing input, for instance.
Dialogue: 0,0:08:00.40,0:08:02.20,Default,,0,0,0,,Here's how you can request the
Dialogue: 0,0:08:02.20,0:08:03.34,Default,,0,0,0,,Content Editing input for a
Dialogue: 0,0:08:03.34,0:08:04.59,Default,,0,0,0,,particular PHAsset.
Dialogue: 0,0:08:05.86,0:08:07.56,Default,,0,0,0,,And you can access the image
Dialogue: 0,0:08:07.65,0:08:09.19,Default,,0,0,0,,file URL from the Content
Dialogue: 0,0:08:09.19,0:08:10.18,Default,,0,0,0,,Editing input that way.
Dialogue: 0,0:08:12.97,0:08:14.41,Default,,0,0,0,,You may also use PH Image
Dialogue: 0,0:08:14.41,0:08:14.89,Default,,0,0,0,,Manager.
Dialogue: 0,0:08:15.82,0:08:18.78,Default,,0,0,0,,You can ask the PH Image Manager
Dialogue: 0,0:08:18.92,0:08:20.48,Default,,0,0,0,,to request image data for a
Dialogue: 0,0:08:20.48,0:08:21.31,Default,,0,0,0,,particular asset.
Dialogue: 0,0:08:21.67,0:08:23.00,Default,,0,0,0,,And that will give you back a
Dialogue: 0,0:08:23.00,0:08:25.26,Default,,0,0,0,,data object that contains the
Dialogue: 0,0:08:25.26,0:08:25.84,Default,,0,0,0,,file data.
Dialogue: 0,0:08:27.83,0:08:28.29,Default,,0,0,0,,All right.
Dialogue: 0,0:08:29.28,0:08:30.73,Default,,0,0,0,,So now that we have access to a
Dialogue: 0,0:08:30.73,0:08:32.42,Default,,0,0,0,,file, let's see if it contained
Dialogue: 0,0:08:32.42,0:08:32.88,Default,,0,0,0,,depth data.
Dialogue: 0,0:08:33.26,0:08:34.03,Default,,0,0,0,,And so we're going to use
Dialogue: 0,0:08:34.03,0:08:34.98,Default,,0,0,0,,ImageIO for this.
Dialogue: 0,0:08:37.44,0:08:38.64,Default,,0,0,0,,We start from an image
Dialogue: 0,0:08:38.64,0:08:39.75,Default,,0,0,0,,[inaudible] that we create from
Dialogue: 0,0:08:39.75,0:08:40.54,Default,,0,0,0,,our image file.
Dialogue: 0,0:08:41.92,0:08:45.79,Default,,0,0,0,,And then we copy the image
Dialogue: 0,0:08:45.79,0:08:46.63,Default,,0,0,0,,source properties.
Dialogue: 0,0:08:47.58,0:08:48.71,Default,,0,0,0,,This will give you back a
Dialogue: 0,0:08:48.71,0:08:50.71,Default,,0,0,0,,dictionary that looks like this
Dialogue: 0,0:08:50.71,0:08:51.00,Default,,0,0,0,,one.
Dialogue: 0,0:08:52.53,0:08:54.09,Default,,0,0,0,,You want to look for the
Dialogue: 0,0:08:54.09,0:08:56.28,Default,,0,0,0,,kCKImage Property Auxiliary data
Dialogue: 0,0:08:56.80,0:08:58.11,Default,,0,0,0,,key in that dictionary.
Dialogue: 0,0:08:58.42,0:09:00.15,Default,,0,0,0,,The presence of that key will
Dialogue: 0,0:09:00.15,0:09:02.09,Default,,0,0,0,,tell you that image file that
Dialogue: 0,0:09:02.09,0:09:03.26,Default,,0,0,0,,you're working with contained
Dialogue: 0,0:09:03.26,0:09:03.94,Default,,0,0,0,,auxiliary data.
Dialogue: 0,0:09:05.31,0:09:06.92,Default,,0,0,0,,You can look at the type of the
Dialogue: 0,0:09:06.92,0:09:07.27,Default,,0,0,0,,data.
Dialogue: 0,0:09:07.27,0:09:08.59,Default,,0,0,0,,And here you can see its
Dialogue: 0,0:09:08.59,0:09:09.19,Default,,0,0,0,,disparity.
Dialogue: 0,0:09:09.60,0:09:10.49,Default,,0,0,0,,Could also be depth.
Dialogue: 0,0:09:11.61,0:09:13.56,Default,,0,0,0,,One thing to note here is that
Dialogue: 0,0:09:13.56,0:09:15.02,Default,,0,0,0,,the dimension of the depth data
Dialogue: 0,0:09:15.66,0:09:17.73,Default,,0,0,0,,are smaller than the dimension
Dialogue: 0,0:09:17.90,0:09:19.04,Default,,0,0,0,,of the full size image.
Dialogue: 0,0:09:20.18,0:09:21.48,Default,,0,0,0,,This is an image captured by
Dialogue: 0,0:09:21.48,0:09:22.43,Default,,0,0,0,,iPhone 7+.
Dialogue: 0,0:09:22.56,0:09:24.04,Default,,0,0,0,,The full size image is 12
Dialogue: 0,0:09:24.04,0:09:24.73,Default,,0,0,0,,megapixel.
Dialogue: 0,0:09:25.21,0:09:27.95,Default,,0,0,0,,And the depth data is about less
Dialogue: 0,0:09:28.12,0:09:29.71,Default,,0,0,0,,than a megapixel.
Dialogue: 0,0:09:31.28,0:09:32.75,Default,,0,0,0,,All right.
Dialogue: 0,0:09:34.16,0:09:35.67,Default,,0,0,0,,So now that we know that we have
Dialogue: 0,0:09:35.67,0:09:37.19,Default,,0,0,0,,a file with depth data, let's
Dialogue: 0,0:09:37.19,0:09:41.41,Default,,0,0,0,,see how we can read it
Dialogue: 0,0:09:41.46,0:09:43.46,Default,,0,0,0,,[inaudible].
Dialogue: 0,0:09:43.51,0:09:44.83,Default,,0,0,0,,So, it goes like this.
Dialogue: 0,0:09:44.83,0:09:46.19,Default,,0,0,0,,We start with the auxiliary data
Dialogue: 0,0:09:46.19,0:09:46.85,Default,,0,0,0,,from the file.
Dialogue: 0,0:09:48.03,0:09:49.52,Default,,0,0,0,,And then we create an AV Depth
Dialogue: 0,0:09:49.52,0:09:50.91,Default,,0,0,0,,Data object, which is an
Dialogue: 0,0:09:50.91,0:09:52.62,Default,,0,0,0,,in-memory representation for the
Dialogue: 0,0:09:52.62,0:09:53.15,Default,,0,0,0,,depth data.
Dialogue: 0,0:09:54.35,0:09:56.74,Default,,0,0,0,,From that object we can access a
Dialogue: 0,0:09:56.74,0:09:58.96,Default,,0,0,0,,CV pixel buffer that contains
Dialogue: 0,0:09:58.96,0:09:59.63,Default,,0,0,0,,the depth data.
Dialogue: 0,0:10:01.28,0:10:02.68,Default,,0,0,0,,The pixel buffer will be a
Dialogue: 0,0:10:02.68,0:10:04.13,Default,,0,0,0,,single channel of data
Dialogue: 0,0:10:05.05,0:10:06.79,Default,,0,0,0,,containing either depth or
Dialogue: 0,0:10:06.79,0:10:09.49,Default,,0,0,0,,disparity and in 16-bit or
Dialogue: 0,0:10:09.49,0:10:10.70,Default,,0,0,0,,32-bit floating [inaudible]
Dialogue: 0,0:10:10.70,0:10:11.34,Default,,0,0,0,,values.
Dialogue: 0,0:10:11.81,0:10:11.97,Default,,0,0,0,,All right.
Dialogue: 0,0:10:12.68,0:10:16.05,Default,,0,0,0,,So let's see how to do that in
Dialogue: 0,0:10:16.05,0:10:16.38,Default,,0,0,0,,code.
Dialogue: 0,0:10:18.25,0:10:21.62,Default,,0,0,0,,Again we start from [inaudible].
Dialogue: 0,0:10:21.62,0:10:23.81,Default,,0,0,0,,And next we ask to copy the
Dialogue: 0,0:10:23.81,0:10:25.65,Default,,0,0,0,,auxiliary data out of the image
Dialogue: 0,0:10:25.65,0:10:25.72,Default,,0,0,0,,[inaudible].
Dialogue: 0,0:10:25.71,0:10:27.62,Default,,0,0,0,,So for that we request a
Dialogue: 0,0:10:27.63,0:10:29.85,Default,,0,0,0,,particular auxiliary data type.
Dialogue: 0,0:10:30.29,0:10:31.31,Default,,0,0,0,,Here we are requesting
Dialogue: 0,0:10:31.31,0:10:31.89,Default,,0,0,0,,disparity.
Dialogue: 0,0:10:32.86,0:10:34.10,Default,,0,0,0,,And this give us back a
Dialogue: 0,0:10:34.10,0:10:36.05,Default,,0,0,0,,dictionary that contains the
Dialogue: 0,0:10:36.05,0:10:38.61,Default,,0,0,0,,auxiliary data.
Dialogue: 0,0:10:38.61,0:10:40.26,Default,,0,0,0,,It [inaudible], and that will
Dialogue: 0,0:10:40.26,0:10:41.96,Default,,0,0,0,,indicate that the image file
Dialogue: 0,0:10:41.96,0:10:44.01,Default,,0,0,0,,does not contain the disparity
Dialogue: 0,0:10:44.01,0:10:45.90,Default,,0,0,0,,-- sorry, the auxiliary data of
Dialogue: 0,0:10:45.90,0:10:46.77,Default,,0,0,0,,that particular type.
Dialogue: 0,0:10:46.90,0:10:48.44,Default,,0,0,0,,So that's another way you can
Dialogue: 0,0:10:48.44,0:10:50.49,Default,,0,0,0,,check if a file contains depth
Dialogue: 0,0:10:50.49,0:10:50.76,Default,,0,0,0,,data.
Dialogue: 0,0:10:53.54,0:10:55.75,Default,,0,0,0,,Next, we can create an AVDepth
Dialogue: 0,0:10:55.75,0:10:57.42,Default,,0,0,0,,Data object from the auxiliary
Dialogue: 0,0:10:57.42,0:10:59.47,Default,,0,0,0,,data, the representation that we
Dialogue: 0,0:10:59.47,0:11:00.53,Default,,0,0,0,,got from ImageIO.
Dialogue: 0,0:11:02.02,0:11:03.52,Default,,0,0,0,,And that AVDepth Data contains a
Dialogue: 0,0:11:03.52,0:11:04.68,Default,,0,0,0,,couple of properties that you
Dialogue: 0,0:11:04.68,0:11:05.20,Default,,0,0,0,,can ask.
Dialogue: 0,0:11:05.20,0:11:06.97,Default,,0,0,0,,For example, you can check for
Dialogue: 0,0:11:06.97,0:11:08.98,Default,,0,0,0,,its native data type.
Dialogue: 0,0:11:09.84,0:11:11.62,Default,,0,0,0,,And that's a pixel format that
Dialogue: 0,0:11:11.62,0:11:12.31,Default,,0,0,0,,you can check.
Dialogue: 0,0:11:12.31,0:11:13.96,Default,,0,0,0,,And if it's not the one you
Dialogue: 0,0:11:13.96,0:11:16.91,Default,,0,0,0,,want, you can also convert it to
Dialogue: 0,0:11:16.91,0:11:19.02,Default,,0,0,0,,a new pixel format.
Dialogue: 0,0:11:19.05,0:11:22.16,Default,,0,0,0,,So for example, here we ask for
Dialogue: 0,0:11:22.16,0:11:23.46,Default,,0,0,0,,disparity float 16.
Dialogue: 0,0:11:23.49,0:11:24.87,Default,,0,0,0,,Because maybe we're going to use
Dialogue: 0,0:11:24.87,0:11:26.44,Default,,0,0,0,,a disparity map on the GPU, for
Dialogue: 0,0:11:26.44,0:11:26.86,Default,,0,0,0,,example.
Dialogue: 0,0:11:27.77,0:11:30.22,Default,,0,0,0,,And this will return a new AV
Dialogue: 0,0:11:30.22,0:11:31.51,Default,,0,0,0,,Depth Data object of the right
Dialogue: 0,0:11:31.51,0:11:31.93,Default,,0,0,0,,format.
Dialogue: 0,0:11:32.71,0:11:34.38,Default,,0,0,0,,So once you have a depth data
Dialogue: 0,0:11:34.38,0:11:35.62,Default,,0,0,0,,object that you're happy with,
Dialogue: 0,0:11:35.66,0:11:37.89,Default,,0,0,0,,you can access a CV pixel buffer
Dialogue: 0,0:11:38.23,0:11:39.42,Default,,0,0,0,,using the depth data map
Dialogue: 0,0:11:39.42,0:11:39.84,Default,,0,0,0,,property.
Dialogue: 0,0:11:41.33,0:11:42.37,Default,,0,0,0,,Once you have the CV pixel
Dialogue: 0,0:11:42.37,0:11:43.91,Default,,0,0,0,,buffer you can use it directly.
Dialogue: 0,0:11:43.91,0:11:45.72,Default,,0,0,0,,Or you can use it using Metal or
Dialogue: 0,0:11:45.72,0:11:46.25,Default,,0,0,0,,Core Image.
Dialogue: 0,0:11:47.53,0:11:48.57,Default,,0,0,0,,If you're working with Core
Dialogue: 0,0:11:48.57,0:11:50.65,Default,,0,0,0,,Image, there's a convenient way
Dialogue: 0,0:11:50.77,0:11:52.48,Default,,0,0,0,,you can load the depth data
Dialogue: 0,0:11:52.48,0:11:53.86,Default,,0,0,0,,directly into a CI Image.
Dialogue: 0,0:11:54.08,0:11:54.98,Default,,0,0,0,,Here's how to do it.
Dialogue: 0,0:11:55.98,0:11:57.99,Default,,0,0,0,,When you create a CI Image from
Dialogue: 0,0:11:57.99,0:11:59.56,Default,,0,0,0,,the contents of a file, you can
Dialogue: 0,0:11:59.56,0:12:01.63,Default,,0,0,0,,now specify a new option such as
Dialogue: 0,0:12:01.99,0:12:05.57,Default,,0,0,0,,kCGIImage auxiliary depth or
Dialogue: 0,0:12:05.57,0:12:09.25,Default,,0,0,0,,disparity to indicate to CI to
Dialogue: 0,0:12:09.25,0:12:10.86,Default,,0,0,0,,load the depth data -- the depth
Dialogue: 0,0:12:10.86,0:12:12.13,Default,,0,0,0,,image instead of the regular
Dialogue: 0,0:12:12.17,0:12:12.53,Default,,0,0,0,,image.
Dialogue: 0,0:12:14.11,0:12:16.81,Default,,0,0,0,,Once you have a depth image, you
Dialogue: 0,0:12:16.81,0:12:18.29,Default,,0,0,0,,can always go back to the AV
Dialogue: 0,0:12:18.29,0:12:20.28,Default,,0,0,0,,Depth data object by calling its
Dialogue: 0,0:12:20.28,0:12:21.27,Default,,0,0,0,,depth data property.
Dialogue: 0,0:12:23.29,0:12:24.42,Default,,0,0,0,,And keep in mind that you can
Dialogue: 0,0:12:24.42,0:12:26.33,Default,,0,0,0,,always convert back and forth
Dialogue: 0,0:12:26.33,0:12:27.71,Default,,0,0,0,,between disparity and depth
Dialogue: 0,0:12:27.86,0:12:29.79,Default,,0,0,0,,using convenient UCI filters
Dialogue: 0,0:12:30.02,0:12:33.42,Default,,0,0,0,,such as CI depth to disparity.
Dialogue: 0,0:12:34.78,0:12:35.14,Default,,0,0,0,,All right.
Dialogue: 0,0:12:35.31,0:12:37.20,Default,,0,0,0,,So now that we've read the depth
Dialogue: 0,0:12:37.34,0:12:39.80,Default,,0,0,0,,data out of a file and into an
Dialogue: 0,0:12:39.80,0:12:42.10,Default,,0,0,0,,image, let's see -- we still
Dialogue: 0,0:12:42.24,0:12:44.45,Default,,0,0,0,,need to take a couple more steps
Dialogue: 0,0:12:44.45,0:12:45.73,Default,,0,0,0,,before we can start editing with
Dialogue: 0,0:12:45.73,0:12:45.91,Default,,0,0,0,,it.
Dialogue: 0,0:12:46.12,0:12:49.29,Default,,0,0,0,,If you remember, the depth data
Dialogue: 0,0:12:49.29,0:12:50.71,Default,,0,0,0,,is lower resolution than the
Dialogue: 0,0:12:50.71,0:12:51.20,Default,,0,0,0,,image.
Dialogue: 0,0:12:51.63,0:12:53.62,Default,,0,0,0,,So, the very first thing that
Dialogue: 0,0:12:53.62,0:12:55.16,Default,,0,0,0,,you want to do is to scale it up
Dialogue: 0,0:12:55.82,0:12:57.20,Default,,0,0,0,,to the resolution of the image
Dialogue: 0,0:12:57.20,0:12:57.97,Default,,0,0,0,,that you're working with.
Dialogue: 0,0:12:58.54,0:12:59.60,Default,,0,0,0,,There's a couple ways to do
Dialogue: 0,0:12:59.60,0:12:59.83,Default,,0,0,0,,that.
Dialogue: 0,0:12:59.83,0:13:01.05,Default,,0,0,0,,So, let's take a look.
Dialogue: 0,0:13:02.90,0:13:04.85,Default,,0,0,0,,Here's our example image and its
Dialogue: 0,0:13:04.85,0:13:05.74,Default,,0,0,0,,disparity map.
Dialogue: 0,0:13:06.52,0:13:08.44,Default,,0,0,0,,So, if we scale up, let's say
Dialogue: 0,0:13:08.44,0:13:10.72,Default,,0,0,0,,this small, tiny portion there,
Dialogue: 0,0:13:10.83,0:13:12.83,Default,,0,0,0,,using narrow sampling, you can
Dialogue: 0,0:13:12.83,0:13:13.72,Default,,0,0,0,,see that it's very, very
Dialogue: 0,0:13:13.72,0:13:14.34,Default,,0,0,0,,pixelated.
Dialogue: 0,0:13:14.72,0:13:16.01,Default,,0,0,0,,So at the very least you would
Dialogue: 0,0:13:16.01,0:13:17.50,Default,,0,0,0,,want to apply linear sampling to
Dialogue: 0,0:13:17.50,0:13:18.64,Default,,0,0,0,,get the smoother result.
Dialogue: 0,0:13:19.93,0:13:22.10,Default,,0,0,0,,You can also use a new CI filter
Dialogue: 0,0:13:22.45,0:13:25.23,Default,,0,0,0,,to CI BiCubicScale Transform to
Dialogue: 0,0:13:25.23,0:13:27.94,Default,,0,0,0,,get an even smoother result.
Dialogue: 0,0:13:28.95,0:13:31.34,Default,,0,0,0,,However, beware that depth data
Dialogue: 0,0:13:31.34,0:13:32.21,Default,,0,0,0,,is not color data.
Dialogue: 0,0:13:32.89,0:13:34.90,Default,,0,0,0,,And so, instead of smoothing,
Dialogue: 0,0:13:34.90,0:13:36.48,Default,,0,0,0,,maybe what you want is actually
Dialogue: 0,0:13:36.48,0:13:38.69,Default,,0,0,0,,preserve as much as possible the
Dialogue: 0,0:13:38.69,0:13:41.22,Default,,0,0,0,,details of the image so that the
Dialogue: 0,0:13:41.22,0:13:42.79,Default,,0,0,0,,depth data matches the image
Dialogue: 0,0:13:42.79,0:13:43.43,Default,,0,0,0,,more closely.
Dialogue: 0,0:13:43.84,0:13:44.80,Default,,0,0,0,,And you can do this with a
Dialogue: 0,0:13:44.80,0:13:46.93,Default,,0,0,0,,convenient CI filter called CI
Dialogue: 0,0:13:46.93,0:13:48.64,Default,,0,0,0,,Edge Preserve Upsample Filter.
Dialogue: 0,0:13:49.97,0:13:52.21,Default,,0,0,0,,This filter will upsample the
Dialogue: 0,0:13:52.21,0:13:54.23,Default,,0,0,0,,depth data and will try to
Dialogue: 0,0:13:54.23,0:13:56.69,Default,,0,0,0,,preserve the edges from the
Dialogue: 0,0:13:56.93,0:13:58.16,Default,,0,0,0,,color image.
Dialogue: 0,0:13:59.59,0:14:00.51,Default,,0,0,0,,All right.
Dialogue: 0,0:14:01.79,0:14:04.11,Default,,0,0,0,,Oh, also another thing that you
Dialogue: 0,0:14:04.11,0:14:05.83,Default,,0,0,0,,need to be careful of.
Dialogue: 0,0:14:06.03,0:14:07.47,Default,,0,0,0,,For all of those resampling
Dialogue: 0,0:14:07.47,0:14:09.45,Default,,0,0,0,,operation, we recommend that you
Dialogue: 0,0:14:09.45,0:14:11.02,Default,,0,0,0,,use disparity over depth because
Dialogue: 0,0:14:11.02,0:14:12.74,Default,,0,0,0,,it gives you -- it will give you
Dialogue: 0,0:14:12.74,0:14:13.55,Default,,0,0,0,,better results.
Dialogue: 0,0:14:15.06,0:14:17.84,Default,,0,0,0,,Okay. A couple thing that you
Dialogue: 0,0:14:17.84,0:14:18.89,Default,,0,0,0,,may want to do as well.
Dialogue: 0,0:14:20.17,0:14:21.84,Default,,0,0,0,,You may want to compute the
Dialogue: 0,0:14:21.84,0:14:23.79,Default,,0,0,0,,minimum and maximum value for
Dialogue: 0,0:14:23.79,0:14:24.45,Default,,0,0,0,,the depth data.
Dialogue: 0,0:14:25.90,0:14:28.19,Default,,0,0,0,,Because there are many cases
Dialogue: 0,0:14:28.19,0:14:29.12,Default,,0,0,0,,where you need to know those
Dialogue: 0,0:14:29.12,0:14:30.49,Default,,0,0,0,,values for the particular
Dialogue: 0,0:14:30.49,0:14:32.35,Default,,0,0,0,,effects that you want to apply.
Dialogue: 0,0:14:34.81,0:14:36.07,Default,,0,0,0,,Also keep in mind that the depth
Dialogue: 0,0:14:36.07,0:14:38.00,Default,,0,0,0,,data is not normalized between 0
Dialogue: 0,0:14:38.00,0:14:39.02,Default,,0,0,0,,and 1.
Dialogue: 0,0:14:39.02,0:14:41.30,Default,,0,0,0,,For example, disparity values
Dialogue: 0,0:14:41.30,0:14:43.33,Default,,0,0,0,,can range from 0, which means
Dialogue: 0,0:14:43.68,0:14:48.91,Default,,0,0,0,,infinity, to greater than 1 for
Dialogue: 0,0:14:48.91,0:14:51.02,Default,,0,0,0,,objects that are closer than one
Dialogue: 0,0:14:51.02,0:14:51.71,Default,,0,0,0,,meter away.
Dialogue: 0,0:14:53.16,0:14:58.07,Default,,0,0,0,,Okay. Another thing you can do
Dialogue: 0,0:14:58.07,0:14:59.35,Default,,0,0,0,,is to normalize the depth data.
Dialogue: 0,0:14:59.35,0:15:00.55,Default,,0,0,0,,So once you know the min and max
Dialogue: 0,0:15:00.55,0:15:02.32,Default,,0,0,0,,you can normalize the depth or
Dialogue: 0,0:15:02.32,0:15:03.80,Default,,0,0,0,,disparity between 0 and 1.
Dialogue: 0,0:15:04.09,0:15:05.23,Default,,0,0,0,,And that's pretty convenient
Dialogue: 0,0:15:05.47,0:15:07.45,Default,,0,0,0,,first to visualize it.
Dialogue: 0,0:15:07.83,0:15:09.46,Default,,0,0,0,,But also if you want to apply
Dialogue: 0,0:15:09.83,0:15:12.40,Default,,0,0,0,,your depth effects consistently
Dialogue: 0,0:15:12.40,0:15:14.04,Default,,0,0,0,,across various different scenes.
Dialogue: 0,0:15:14.88,0:15:15.23,Default,,0,0,0,,All right.
Dialogue: 0,0:15:15.23,0:15:17.28,Default,,0,0,0,,So now that we've read our depth
Dialogue: 0,0:15:17.28,0:15:18.89,Default,,0,0,0,,data, and prepared it for
Dialogue: 0,0:15:18.89,0:15:20.40,Default,,0,0,0,,editing we are ready to start
Dialogue: 0,0:15:20.40,0:15:21.13,Default,,0,0,0,,filtering with it.
Dialogue: 0,0:15:23.10,0:15:24.55,Default,,0,0,0,,So in this section we're going
Dialogue: 0,0:15:24.55,0:15:26.55,Default,,0,0,0,,to show you several example of
Dialogue: 0,0:15:26.71,0:15:28.41,Default,,0,0,0,,depth effects you can apply.
Dialogue: 0,0:15:29.24,0:15:30.70,Default,,0,0,0,,We're going to start with simple
Dialogue: 0,0:15:30.70,0:15:31.96,Default,,0,0,0,,background effects that you can
Dialogue: 0,0:15:31.96,0:15:34.11,Default,,0,0,0,,achieve using built in Core
Dialogue: 0,0:15:34.11,0:15:34.93,Default,,0,0,0,,Image filters.
Dialogue: 0,0:15:35.74,0:15:38.00,Default,,0,0,0,,Then we're going to show you a
Dialogue: 0,0:15:38.00,0:15:39.49,Default,,0,0,0,,custom depth effect that you can
Dialogue: 0,0:15:39.49,0:15:41.45,Default,,0,0,0,,achieve using a custom CI
Dialogue: 0,0:15:41.70,0:15:42.12,Default,,0,0,0,,[inaudible] code.
Dialogue: 0,0:15:43.53,0:15:45.40,Default,,0,0,0,,Then we're going to show you how
Dialogue: 0,0:15:45.40,0:15:46.55,Default,,0,0,0,,you can apply your own depth
Dialogue: 0,0:15:46.55,0:15:48.22,Default,,0,0,0,,blur effect using a brand new CI
Dialogue: 0,0:15:48.22,0:15:48.51,Default,,0,0,0,,Filter.
Dialogue: 0,0:15:49.73,0:15:51.20,Default,,0,0,0,,And finally, we're going to show
Dialogue: 0,0:15:51.20,0:15:53.00,Default,,0,0,0,,you how to create a brand new
Dialogue: 0,0:15:53.00,0:15:54.97,Default,,0,0,0,,3-D effect using depth.
Dialogue: 0,0:15:55.38,0:15:56.52,Default,,0,0,0,,So let's get started with the
Dialogue: 0,0:15:56.52,0:15:57.03,Default,,0,0,0,,first one.
Dialogue: 0,0:15:57.60,0:15:58.70,Default,,0,0,0,,And for that I'm going to call
Dialogue: 0,0:15:58.70,0:16:00.28,Default,,0,0,0,,my colleague, Stephen, on stage
Dialogue: 0,0:16:00.28,0:16:00.74,Default,,0,0,0,,for that demo.
Dialogue: 0,0:16:01.42,0:16:01.75,Default,,0,0,0,,Stephen.
Dialogue: 0,0:16:02.52,0:16:06.69,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:16:07.19,0:16:07.82,Default,,0,0,0,,>> Thank you, Etienne.
Dialogue: 0,0:16:08.63,0:16:09.40,Default,,0,0,0,,Good morning everybody.
Dialogue: 0,0:16:09.40,0:16:10.30,Default,,0,0,0,,My name is Stephen.
Dialogue: 0,0:16:10.30,0:16:12.18,Default,,0,0,0,,And now that Etienne has shown
Dialogue: 0,0:16:12.18,0:16:14.01,Default,,0,0,0,,you how to load and prepare your
Dialogue: 0,0:16:14.01,0:16:16.57,Default,,0,0,0,,depth data, it's my pleasure to
Dialogue: 0,0:16:16.57,0:16:18.11,Default,,0,0,0,,be here to show you a couple of
Dialogue: 0,0:16:18.11,0:16:20.14,Default,,0,0,0,,ways that you can use depth now
Dialogue: 0,0:16:20.14,0:16:22.36,Default,,0,0,0,,to achieve some new and
Dialogue: 0,0:16:22.36,0:16:23.75,Default,,0,0,0,,interesting effects on your
Dialogue: 0,0:16:23.75,0:16:24.21,Default,,0,0,0,,images.
Dialogue: 0,0:16:24.95,0:16:26.39,Default,,0,0,0,,So we're going to jump right in
Dialogue: 0,0:16:26.39,0:16:29.60,Default,,0,0,0,,with a demo.
Dialogue: 0,0:16:29.97,0:16:32.85,Default,,0,0,0,,Okay. What we're looking at here
Dialogue: 0,0:16:32.85,0:16:35.37,Default,,0,0,0,,is -- I'm in the Photos app.
Dialogue: 0,0:16:36.34,0:16:37.67,Default,,0,0,0,,And I'm going to enter Edit here
Dialogue: 0,0:16:37.67,0:16:38.31,Default,,0,0,0,,on this image.
Dialogue: 0,0:16:38.60,0:16:42.55,Default,,0,0,0,,So, this effect is implemented
Dialogue: 0,0:16:42.55,0:16:43.55,Default,,0,0,0,,here in a photo editing
Dialogue: 0,0:16:43.55,0:16:44.16,Default,,0,0,0,,extension.
Dialogue: 0,0:16:44.75,0:16:48.99,Default,,0,0,0,,And now that we got the rough
Dialogue: 0,0:16:48.99,0:16:51.03,Default,,0,0,0,,parts out of the way, we're
Dialogue: 0,0:16:51.03,0:16:52.12,Default,,0,0,0,,looking at the original image
Dialogue: 0,0:16:52.12,0:16:52.34,Default,,0,0,0,,here.
Dialogue: 0,0:16:53.35,0:16:54.21,Default,,0,0,0,,No edits applied.
Dialogue: 0,0:16:54.51,0:16:55.46,Default,,0,0,0,,And I'm going to go ahead and
Dialogue: 0,0:16:55.46,0:16:56.30,Default,,0,0,0,,turn on the effect now.
Dialogue: 0,0:16:57.70,0:16:58.48,Default,,0,0,0,,What you see is that I've
Dialogue: 0,0:16:58.48,0:17:00.06,Default,,0,0,0,,applied a de-saturating effect
Dialogue: 0,0:17:00.28,0:17:01.71,Default,,0,0,0,,to the image, but only to the
Dialogue: 0,0:17:01.71,0:17:02.54,Default,,0,0,0,,background region.
Dialogue: 0,0:17:03.60,0:17:05.20,Default,,0,0,0,,And I can pick a different
Dialogue: 0,0:17:05.44,0:17:07.41,Default,,0,0,0,,background effect to apply.
Dialogue: 0,0:17:07.41,0:17:08.52,Default,,0,0,0,,In this case, I've picked just a
Dialogue: 0,0:17:08.52,0:17:09.45,Default,,0,0,0,,flat white image.
Dialogue: 0,0:17:10.26,0:17:13.38,Default,,0,0,0,,And maybe I'm not terribly
Dialogue: 0,0:17:13.38,0:17:14.52,Default,,0,0,0,,satisfied with where that
Dialogue: 0,0:17:14.52,0:17:15.96,Default,,0,0,0,,threshold is between background
Dialogue: 0,0:17:15.96,0:17:18.19,Default,,0,0,0,,and foreground, so I can pick a
Dialogue: 0,0:17:18.19,0:17:19.50,Default,,0,0,0,,new threshold by tapping.
Dialogue: 0,0:17:20.65,0:17:21.87,Default,,0,0,0,,And this is all based on the
Dialogue: 0,0:17:22.08,0:17:22.63,Default,,0,0,0,,depth data.
Dialogue: 0,0:17:24.01,0:17:25.59,Default,,0,0,0,,So let me bring it back here to
Dialogue: 0,0:17:25.59,0:17:25.99,Default,,0,0,0,,the front.
Dialogue: 0,0:17:25.99,0:17:27.22,Default,,0,0,0,,And you can clearly see there's
Dialogue: 0,0:17:27.54,0:17:29.71,Default,,0,0,0,,a pretty sharp boundary between
Dialogue: 0,0:17:29.92,0:17:31.07,Default,,0,0,0,,what's considered background and
Dialogue: 0,0:17:31.07,0:17:31.60,Default,,0,0,0,,foreground.
Dialogue: 0,0:17:32.11,0:17:33.39,Default,,0,0,0,,There's actually a narrow region
Dialogue: 0,0:17:33.39,0:17:34.73,Default,,0,0,0,,in between where we're doing a
Dialogue: 0,0:17:34.73,0:17:35.91,Default,,0,0,0,,little bit of blending between
Dialogue: 0,0:17:35.91,0:17:36.31,Default,,0,0,0,,the two.
Dialogue: 0,0:17:36.86,0:17:38.44,Default,,0,0,0,,And I have control over the size
Dialogue: 0,0:17:38.44,0:17:39.29,Default,,0,0,0,,of that blend region.
Dialogue: 0,0:17:40.35,0:17:42.99,Default,,0,0,0,,I can adjust that by pinching.
Dialogue: 0,0:17:43.38,0:17:44.56,Default,,0,0,0,,And there you can see it looks
Dialogue: 0,0:17:44.94,0:17:46.78,Default,,0,0,0,,like a pretty nice white fog
Dialogue: 0,0:17:48.37,0:17:48.54,Default,,0,0,0,,effect.
Dialogue: 0,0:17:49.19,0:17:51.21,Default,,0,0,0,,We've implemented this effect by
Dialogue: 0,0:17:51.21,0:17:53.31,Default,,0,0,0,,making use of a blend mask.
Dialogue: 0,0:17:54.01,0:17:54.74,Default,,0,0,0,,So let me show you what our
Dialogue: 0,0:17:54.74,0:17:55.90,Default,,0,0,0,,blend mask looks like here.
Dialogue: 0,0:17:57.54,0:17:59.10,Default,,0,0,0,,The black regions of the blend
Dialogue: 0,0:17:59.10,0:18:00.02,Default,,0,0,0,,mask correspond to the
Dialogue: 0,0:18:00.02,0:18:00.85,Default,,0,0,0,,background image.
Dialogue: 0,0:18:01.27,0:18:02.66,Default,,0,0,0,,Solid white is foreground.
Dialogue: 0,0:18:02.66,0:18:03.95,Default,,0,0,0,,And then everything in between
Dialogue: 0,0:18:04.04,0:18:05.15,Default,,0,0,0,,is where we blend between the
Dialogue: 0,0:18:05.15,0:18:05.39,Default,,0,0,0,,two.
Dialogue: 0,0:18:06.15,0:18:07.77,Default,,0,0,0,,So, this is what that blend mask
Dialogue: 0,0:18:07.77,0:18:09.00,Default,,0,0,0,,looks like as I pinch.
Dialogue: 0,0:18:09.66,0:18:10.88,Default,,0,0,0,,We're adjusting the size and
Dialogue: 0,0:18:10.88,0:18:11.97,Default,,0,0,0,,slope of that blend.
Dialogue: 0,0:18:13.56,0:18:14.51,Default,,0,0,0,,Okay, back to the original
Dialogue: 0,0:18:14.51,0:18:14.83,Default,,0,0,0,,image.
Dialogue: 0,0:18:15.36,0:18:16.51,Default,,0,0,0,,As many of you know, there are
Dialogue: 0,0:18:16.51,0:18:18.27,Default,,0,0,0,,so many built in interesting
Dialogue: 0,0:18:18.27,0:18:19.63,Default,,0,0,0,,Core Image filters we could
Dialogue: 0,0:18:19.63,0:18:20.47,Default,,0,0,0,,choose to apply.
Dialogue: 0,0:18:21.04,0:18:22.38,Default,,0,0,0,,I'm going to show you a couple
Dialogue: 0,0:18:22.38,0:18:22.76,Default,,0,0,0,,of others.
Dialogue: 0,0:18:22.76,0:18:24.60,Default,,0,0,0,,This one is a hexagonal pixelate
Dialogue: 0,0:18:24.60,0:18:24.99,Default,,0,0,0,,filter.
Dialogue: 0,0:18:25.64,0:18:27.80,Default,,0,0,0,,And a motion blur.
Dialogue: 0,0:18:29.64,0:18:30.84,Default,,0,0,0,,Let's say I'm happy with this.
Dialogue: 0,0:18:30.84,0:18:32.09,Default,,0,0,0,,And I'll save it back to my
Dialogue: 0,0:18:32.77,0:18:33.62,Default,,0,0,0,,photo library.
Dialogue: 0,0:18:34.48,0:18:36.23,Default,,0,0,0,,Okay, now let's talk about how
Dialogue: 0,0:18:36.23,0:18:36.79,Default,,0,0,0,,we did this.
Dialogue: 0,0:18:40.81,0:18:45.00,Default,,0,0,0,,As I mentioned, we accomplished
Dialogue: 0,0:18:45.00,0:18:46.51,Default,,0,0,0,,this effect by building a blend
Dialogue: 0,0:18:46.51,0:18:46.90,Default,,0,0,0,,mask.
Dialogue: 0,0:18:47.45,0:18:48.40,Default,,0,0,0,,And so I'll talk to you now
Dialogue: 0,0:18:48.40,0:18:49.38,Default,,0,0,0,,about how we build that blend
Dialogue: 0,0:18:49.38,0:18:49.72,Default,,0,0,0,,mask.
Dialogue: 0,0:18:50.09,0:18:51.22,Default,,0,0,0,,The basic idea is that we're
Dialogue: 0,0:18:51.22,0:18:52.63,Default,,0,0,0,,going to map our normalized
Dialogue: 0,0:18:52.66,0:18:55.11,Default,,0,0,0,,disparity values into values
Dialogue: 0,0:18:55.11,0:18:57.06,Default,,0,0,0,,between 0 and 1 for the mask.
Dialogue: 0,0:18:58.56,0:19:00.80,Default,,0,0,0,,And so we want some high region
Dialogue: 0,0:19:00.80,0:19:03.01,Default,,0,0,0,,of disparity values to map to 1
Dialogue: 0,0:19:03.11,0:19:04.28,Default,,0,0,0,,in our blend mask corresponding
Dialogue: 0,0:19:04.28,0:19:04.95,Default,,0,0,0,,to the foreground.
Dialogue: 0,0:19:06.42,0:19:07.74,Default,,0,0,0,,Some region of low disparity
Dialogue: 0,0:19:07.74,0:19:08.94,Default,,0,0,0,,values to map to 0.
Dialogue: 0,0:19:08.94,0:19:10.74,Default,,0,0,0,,And that will be the background
Dialogue: 0,0:19:10.74,0:19:11.11,Default,,0,0,0,,region.
Dialogue: 0,0:19:11.22,0:19:12.58,Default,,0,0,0,,And then all disparity values in
Dialogue: 0,0:19:12.58,0:19:14.37,Default,,0,0,0,,between will blend with the
Dialogue: 0,0:19:14.37,0:19:14.95,Default,,0,0,0,,linear ramp.
Dialogue: 0,0:19:16.99,0:19:18.13,Default,,0,0,0,,The first part of building this
Dialogue: 0,0:19:18.13,0:19:20.45,Default,,0,0,0,,blend mask is to pick the
Dialogue: 0,0:19:20.72,0:19:23.06,Default,,0,0,0,,threshold between background and
Dialogue: 0,0:19:23.06,0:19:23.53,Default,,0,0,0,,foreground.
Dialogue: 0,0:19:24.45,0:19:25.51,Default,,0,0,0,,So when the user taps on the
Dialogue: 0,0:19:25.51,0:19:29.20,Default,,0,0,0,,image what we do is to sample
Dialogue: 0,0:19:29.20,0:19:30.82,Default,,0,0,0,,the normalized disparity map at
Dialogue: 0,0:19:30.82,0:19:33.14,Default,,0,0,0,,that same location and set that
Dialogue: 0,0:19:33.14,0:19:34.81,Default,,0,0,0,,as our threshold between
Dialogue: 0,0:19:35.15,0:19:36.01,Default,,0,0,0,,background and foreground.
Dialogue: 0,0:19:36.65,0:19:39.13,Default,,0,0,0,,Now I'll show you the code for
Dialogue: 0,0:19:39.13,0:19:39.77,Default,,0,0,0,,what that looks like.
Dialogue: 0,0:19:41.79,0:19:43.01,Default,,0,0,0,,This is all accomplished using
Dialogue: 0,0:19:43.17,0:19:44.47,Default,,0,0,0,,built in Core Image filters.
Dialogue: 0,0:19:44.47,0:19:45.84,Default,,0,0,0,,So the first of which I'd like
Dialogue: 0,0:19:45.84,0:19:47.50,Default,,0,0,0,,to show you here is the CI Area
Dialogue: 0,0:19:47.50,0:19:48.80,Default,,0,0,0,,Min Max Red filter.
Dialogue: 0,0:19:49.93,0:19:51.47,Default,,0,0,0,,This filter, when you render it
Dialogue: 0,0:19:51.47,0:19:54.14,Default,,0,0,0,,into a single pixel will return
Dialogue: 0,0:19:54.14,0:19:55.68,Default,,0,0,0,,the minimum and maximum values
Dialogue: 0,0:19:55.68,0:19:57.14,Default,,0,0,0,,of the image within the region
Dialogue: 0,0:19:57.14,0:19:58.04,Default,,0,0,0,,that you specify.
Dialogue: 0,0:19:58.39,0:20:00.12,Default,,0,0,0,,Here we're passing in the small
Dialogue: 0,0:20:00.12,0:20:01.54,Default,,0,0,0,,rect that the user tapped on.
Dialogue: 0,0:20:02.79,0:20:04.23,Default,,0,0,0,,The other thing to note about
Dialogue: 0,0:20:04.23,0:20:05.50,Default,,0,0,0,,this line is that before we
Dialogue: 0,0:20:05.50,0:20:07.47,Default,,0,0,0,,apply the effect we're clamping
Dialogue: 0,0:20:07.47,0:20:08.90,Default,,0,0,0,,the disparity image so as to
Dialogue: 0,0:20:08.90,0:20:10.53,Default,,0,0,0,,image that if the user taps near
Dialogue: 0,0:20:10.53,0:20:11.86,Default,,0,0,0,,the boundary of the image we
Dialogue: 0,0:20:11.86,0:20:13.24,Default,,0,0,0,,won't sample any clear pixels
Dialogue: 0,0:20:13.24,0:20:14.06,Default,,0,0,0,,outside the boundary.
Dialogue: 0,0:20:15.87,0:20:18.05,Default,,0,0,0,,On this line we're simply
Dialogue: 0,0:20:18.05,0:20:20.18,Default,,0,0,0,,allocating a 4-byte buffer large
Dialogue: 0,0:20:20.18,0:20:21.43,Default,,0,0,0,,enough to store a single pixel.
Dialogue: 0,0:20:22.61,0:20:24.09,Default,,0,0,0,,And we render into that pixel on
Dialogue: 0,0:20:24.09,0:20:24.56,Default,,0,0,0,,this line.
Dialogue: 0,0:20:25.35,0:20:26.85,Default,,0,0,0,,Note that we're passing in nil
Dialogue: 0,0:20:26.97,0:20:27.88,Default,,0,0,0,,as our color space.
Dialogue: 0,0:20:27.88,0:20:29.70,Default,,0,0,0,,And this tells Core Image that
Dialogue: 0,0:20:29.70,0:20:31.20,Default,,0,0,0,,we don't want it to do any color
Dialogue: 0,0:20:31.20,0:20:32.08,Default,,0,0,0,,management for us.
Dialogue: 0,0:20:34.26,0:20:36.23,Default,,0,0,0,,Finally, we read the maximum
Dialogue: 0,0:20:36.23,0:20:37.35,Default,,0,0,0,,disparity value out of the
Dialogue: 0,0:20:37.35,0:20:39.48,Default,,0,0,0,,pixel's green channel and then
Dialogue: 0,0:20:39.48,0:20:41.33,Default,,0,0,0,,remap it to the range of 0 and 1
Dialogue: 0,0:20:41.37,0:20:43.07,Default,,0,0,0,,by dividing by 255.
Dialogue: 0,0:20:43.72,0:20:47.95,Default,,0,0,0,,The other input the user has
Dialogue: 0,0:20:47.95,0:20:49.29,Default,,0,0,0,,control over is the size and
Dialogue: 0,0:20:49.29,0:20:50.42,Default,,0,0,0,,slope of the blend region.
Dialogue: 0,0:20:50.57,0:20:52.50,Default,,0,0,0,,So as the user is pinching on
Dialogue: 0,0:20:52.50,0:20:54.60,Default,,0,0,0,,the view, we're adjusting the
Dialogue: 0,0:20:54.60,0:20:56.07,Default,,0,0,0,,size and slope accordingly.
Dialogue: 0,0:20:58.31,0:21:00.06,Default,,0,0,0,,And this is the result of a
Dialogue: 0,0:21:00.06,0:21:01.61,Default,,0,0,0,,mapping -- sorry, this mapping
Dialogue: 0,0:21:01.61,0:21:03.76,Default,,0,0,0,,is the result of applying a CI
Dialogue: 0,0:21:03.76,0:21:04.87,Default,,0,0,0,,Color Matrix filter.
Dialogue: 0,0:21:05.24,0:21:06.24,Default,,0,0,0,,So I'll show you in a second.
Dialogue: 0,0:21:06.78,0:21:08.68,Default,,0,0,0,,But then we also apply a CI
Dialogue: 0,0:21:08.68,0:21:10.46,Default,,0,0,0,,Color Clamp to ensure that the
Dialogue: 0,0:21:10.46,0:21:11.93,Default,,0,0,0,,values remain within the region
Dialogue: 0,0:21:12.03,0:21:13.87,Default,,0,0,0,,of 0 to 1, the range of 0 to 1.
Dialogue: 0,0:21:15.13,0:21:15.96,Default,,0,0,0,,So here's the code.
Dialogue: 0,0:21:16.45,0:21:17.97,Default,,0,0,0,,First we apply our CR Color
Dialogue: 0,0:21:17.97,0:21:19.03,Default,,0,0,0,,Matrix filter.
Dialogue: 0,0:21:19.71,0:21:22.24,Default,,0,0,0,,Its inputs are essentially the
Dialogue: 0,0:21:22.71,0:21:24.50,Default,,0,0,0,,slope and the bias that were
Dialogue: 0,0:21:24.50,0:21:26.02,Default,,0,0,0,,selected by the user by tapping
Dialogue: 0,0:21:26.02,0:21:26.49,Default,,0,0,0,,and pinching.
Dialogue: 0,0:21:27.49,0:21:29.35,Default,,0,0,0,,And then on a single line we
Dialogue: 0,0:21:29.35,0:21:31.39,Default,,0,0,0,,apply the CI Color Clamp filter.
Dialogue: 0,0:21:32.82,0:21:36.12,Default,,0,0,0,,Now that we've built the blend
Dialogue: 0,0:21:36.12,0:21:37.14,Default,,0,0,0,,mask, the rest is
Dialogue: 0,0:21:37.14,0:21:37.77,Default,,0,0,0,,straightforward.
Dialogue: 0,0:21:37.86,0:21:39.59,Default,,0,0,0,,What you see on the left is the
Dialogue: 0,0:21:39.59,0:21:40.46,Default,,0,0,0,,original image.
Dialogue: 0,0:21:40.75,0:21:42.02,Default,,0,0,0,,And on the right you see that
Dialogue: 0,0:21:42.02,0:21:43.56,Default,,0,0,0,,image with the background effect
Dialogue: 0,0:21:43.56,0:21:43.93,Default,,0,0,0,,applied.
Dialogue: 0,0:21:45.84,0:21:47.16,Default,,0,0,0,,When we apply the blend mask to
Dialogue: 0,0:21:47.16,0:21:49.22,Default,,0,0,0,,the original image, the
Dialogue: 0,0:21:49.22,0:21:50.60,Default,,0,0,0,,background region disappears.
Dialogue: 0,0:21:50.72,0:21:51.96,Default,,0,0,0,,And when we blend that together
Dialogue: 0,0:21:52.61,0:21:53.87,Default,,0,0,0,,with the background image, we
Dialogue: 0,0:21:53.87,0:21:54.68,Default,,0,0,0,,get our final effect.
Dialogue: 0,0:21:55.67,0:21:58.23,Default,,0,0,0,,One more slide of code.
Dialogue: 0,0:21:59.40,0:22:00.36,Default,,0,0,0,,Here's where we apply our
Dialogue: 0,0:22:00.36,0:22:01.15,Default,,0,0,0,,background filter.
Dialogue: 0,0:22:02.17,0:22:03.68,Default,,0,0,0,,This could be any filter you
Dialogue: 0,0:22:03.68,0:22:04.16,Default,,0,0,0,,choose.
Dialogue: 0,0:22:04.44,0:22:05.64,Default,,0,0,0,,There are many built into Core
Dialogue: 0,0:22:05.64,0:22:05.96,Default,,0,0,0,,Image.
Dialogue: 0,0:22:05.96,0:22:06.76,Default,,0,0,0,,You could write your own.
Dialogue: 0,0:22:08.33,0:22:09.89,Default,,0,0,0,,And then we apply the CI Blend
Dialogue: 0,0:22:09.89,0:22:12.43,Default,,0,0,0,,With Mask filter, passing in
Dialogue: 0,0:22:12.52,0:22:13.82,Default,,0,0,0,,both the background image and
Dialogue: 0,0:22:13.98,0:22:14.33,Default,,0,0,0,,the mask.
Dialogue: 0,0:22:16.58,0:22:17.25,Default,,0,0,0,,And that's it.
Dialogue: 0,0:22:18.09,0:22:20.41,Default,,0,0,0,,That's how we accomplish this
Dialogue: 0,0:22:20.41,0:22:24.10,Default,,0,0,0,,effect using a suite of built-in
Dialogue: 0,0:22:24.10,0:22:25.03,Default,,0,0,0,,Core Image filters.
Dialogue: 0,0:22:25.59,0:22:27.85,Default,,0,0,0,,And next I'd like to jump in and
Dialogue: 0,0:22:27.85,0:22:28.96,Default,,0,0,0,,show you another demo.
Dialogue: 0,0:22:30.66,0:22:33.21,Default,,0,0,0,,For this one -- the previous one
Dialogue: 0,0:22:33.70,0:22:36.27,Default,,0,0,0,,we used disparity -- depth data
Dialogue: 0,0:22:36.58,0:22:37.97,Default,,0,0,0,,indirectly, right?
Dialogue: 0,0:22:38.16,0:22:40.09,Default,,0,0,0,,We used it to build a blend
Dialogue: 0,0:22:40.09,0:22:40.55,Default,,0,0,0,,mask.
Dialogue: 0,0:22:41.33,0:22:42.32,Default,,0,0,0,,For this one we're going to use
Dialogue: 0,0:22:42.32,0:22:44.74,Default,,0,0,0,,disparity a little bit in more
Dialogue: 0,0:22:44.74,0:22:45.71,Default,,0,0,0,,of a direct fashion.
Dialogue: 0,0:22:46.31,0:22:50.23,Default,,0,0,0,,And I'm going to pull up this
Dialogue: 0,0:22:50.23,0:22:51.57,Default,,0,0,0,,other editing extension here to
Dialogue: 0,0:22:51.57,0:22:52.04,Default,,0,0,0,,show it to you.
Dialogue: 0,0:22:52.75,0:22:53.85,Default,,0,0,0,,Okay. Here we are in photos
Dialogue: 0,0:22:53.85,0:22:54.12,Default,,0,0,0,,again.
Dialogue: 0,0:22:55.09,0:22:56.89,Default,,0,0,0,,Let's pick this next extension.
Dialogue: 0,0:22:58.22,0:22:58.97,Default,,0,0,0,,There we go.
Dialogue: 0,0:22:59.95,0:23:00.67,Default,,0,0,0,,Original image.
Dialogue: 0,0:23:00.92,0:23:02.18,Default,,0,0,0,,No edits applied just yet.
Dialogue: 0,0:23:02.18,0:23:04.39,Default,,0,0,0,,I have a slider at the bottom,
Dialogue: 0,0:23:04.39,0:23:04.65,Default,,0,0,0,,though.
Dialogue: 0,0:23:04.89,0:23:06.73,Default,,0,0,0,,And I'll start to move that now.
Dialogue: 0,0:23:06.73,0:23:09.71,Default,,0,0,0,,And you can see that the
Dialogue: 0,0:23:09.71,0:23:11.68,Default,,0,0,0,,background fades to black,
Dialogue: 0,0:23:11.93,0:23:13.23,Default,,0,0,0,,leaving us just this prominent
Dialogue: 0,0:23:13.23,0:23:13.96,Default,,0,0,0,,foreground figure.
Dialogue: 0,0:23:14.53,0:23:15.45,Default,,0,0,0,,That's a really nice effect,
Dialogue: 0,0:23:17.06,0:23:17.57,Default,,0,0,0,,wouldn't you say?
Dialogue: 0,0:23:18.47,0:23:20.77,Default,,0,0,0,,Let's save that back to the
Dialogue: 0,0:23:21.03,0:23:22.50,Default,,0,0,0,,library and show you how this
Dialogue: 0,0:23:22.50,0:23:22.92,Default,,0,0,0,,one's done.
Dialogue: 0,0:23:23.60,0:23:24.38,Default,,0,0,0,,What we're doing is we're
Dialogue: 0,0:23:24.38,0:23:25.69,Default,,0,0,0,,mapping our normalized disparity
Dialogue: 0,0:23:25.69,0:23:28.09,Default,,0,0,0,,values into a scale value, which
Dialogue: 0,0:23:28.09,0:23:29.41,Default,,0,0,0,,we then apply directly to our
Dialogue: 0,0:23:29.41,0:23:29.92,Default,,0,0,0,,pixels.
Dialogue: 0,0:23:31.22,0:23:33.29,Default,,0,0,0,,And for this particular effect
Dialogue: 0,0:23:33.73,0:23:36.07,Default,,0,0,0,,we're mapping our disparity
Dialogue: 0,0:23:36.07,0:23:37.74,Default,,0,0,0,,values through an exponential
Dialogue: 0,0:23:37.74,0:23:39.43,Default,,0,0,0,,function, which when we start
Dialogue: 0,0:23:39.43,0:23:41.66,Default,,0,0,0,,off, we raise our normalized
Dialogue: 0,0:23:41.66,0:23:44.14,Default,,0,0,0,,disparity values to the power of
Dialogue: 0,0:23:44.14,0:23:44.66,Default,,0,0,0,,0.
Dialogue: 0,0:23:44.81,0:23:47.19,Default,,0,0,0,,And that maps all of our scale
Dialogue: 0,0:23:47.19,0:23:49.56,Default,,0,0,0,,factors into one, producing no
Dialogue: 0,0:23:49.56,0:23:50.64,Default,,0,0,0,,effect on the output image.
Dialogue: 0,0:23:51.19,0:23:53.61,Default,,0,0,0,,When we raise the power to 1 as
Dialogue: 0,0:23:53.61,0:23:55.36,Default,,0,0,0,,we move the slider over, this is
Dialogue: 0,0:23:55.36,0:23:57.96,Default,,0,0,0,,effectively the same thing as
Dialogue: 0,0:23:58.43,0:24:00.93,Default,,0,0,0,,scaling our pixel intensities by
Dialogue: 0,0:24:01.17,0:24:04.01,Default,,0,0,0,,the inverse of the depth because
Dialogue: 0,0:24:04.01,0:24:05.48,Default,,0,0,0,,we're scaling by disparity
Dialogue: 0,0:24:05.48,0:24:05.93,Default,,0,0,0,,directly.
Dialogue: 0,0:24:06.85,0:24:08.87,Default,,0,0,0,,The effect becomes more
Dialogue: 0,0:24:08.87,0:24:10.11,Default,,0,0,0,,interesting as we start to raise
Dialogue: 0,0:24:10.11,0:24:11.48,Default,,0,0,0,,it to higher and higher powers.
Dialogue: 0,0:24:12.15,0:24:14.24,Default,,0,0,0,,As you can see, the shape of the
Dialogue: 0,0:24:14.24,0:24:15.48,Default,,0,0,0,,curve becomes such that there's
Dialogue: 0,0:24:15.48,0:24:16.75,Default,,0,0,0,,a sharper distinction between
Dialogue: 0,0:24:16.75,0:24:18.79,Default,,0,0,0,,background and foreground with
Dialogue: 0,0:24:18.79,0:24:19.84,Default,,0,0,0,,the background quickly going to
Dialogue: 0,0:24:19.84,0:24:20.16,Default,,0,0,0,,black.
Dialogue: 0,0:24:20.60,0:24:24.57,Default,,0,0,0,,So I'm going to show you the
Dialogue: 0,0:24:24.57,0:24:25.89,Default,,0,0,0,,code for this effect in just one
Dialogue: 0,0:24:25.89,0:24:26.24,Default,,0,0,0,,slide.
Dialogue: 0,0:24:26.39,0:24:28.51,Default,,0,0,0,,We've implemented this effect as
Dialogue: 0,0:24:28.51,0:24:29.94,Default,,0,0,0,,a custom CI Color Kernel.
Dialogue: 0,0:24:29.99,0:24:31.08,Default,,0,0,0,,And there are a couple of
Dialogue: 0,0:24:31.08,0:24:32.83,Default,,0,0,0,,notable advantages to using a
Dialogue: 0,0:24:32.83,0:24:33.92,Default,,0,0,0,,customer CI Color Kernel.
Dialogue: 0,0:24:34.45,0:24:35.98,Default,,0,0,0,,One of which is performance.
Dialogue: 0,0:24:35.98,0:24:37.45,Default,,0,0,0,,If you are able to express your
Dialogue: 0,0:24:37.45,0:24:39.08,Default,,0,0,0,,effect in terms of a custom CI
Dialogue: 0,0:24:39.08,0:24:40.77,Default,,0,0,0,,Color Kernel, Core Image is able
Dialogue: 0,0:24:40.77,0:24:42.20,Default,,0,0,0,,to optimize that by
Dialogue: 0,0:24:42.20,0:24:43.73,Default,,0,0,0,,concatenating your kernel into
Dialogue: 0,0:24:43.73,0:24:46.09,Default,,0,0,0,,its render graph, thereby
Dialogue: 0,0:24:46.35,0:24:49.60,Default,,0,0,0,,skipping any potentially costly
Dialogue: 0,0:24:49.60,0:24:50.92,Default,,0,0,0,,intermediate images along the
Dialogue: 0,0:24:50.92,0:24:51.12,Default,,0,0,0,,way.
Dialogue: 0,0:24:51.98,0:24:54.41,Default,,0,0,0,,The other nice thing about this
Dialogue: 0,0:24:54.41,0:24:56.38,Default,,0,0,0,,is that Core Image allows us to
Dialogue: 0,0:24:56.38,0:24:59.49,Default,,0,0,0,,pass in multiple input images.
Dialogue: 0,0:24:59.49,0:25:00.14,Default,,0,0,0,,And Core Image will
Dialogue: 0,0:25:00.14,0:25:01.63,Default,,0,0,0,,automatically sample those for
Dialogue: 0,0:25:01.63,0:25:03.01,Default,,0,0,0,,us and passing in those sample
Dialogue: 0,0:25:03.01,0:25:04.46,Default,,0,0,0,,values to us as parameters to
Dialogue: 0,0:25:04.46,0:25:05.79,Default,,0,0,0,,our kernel function, which you
Dialogue: 0,0:25:05.79,0:25:06.35,Default,,0,0,0,,see here.
Dialogue: 0,0:25:06.77,0:25:08.61,Default,,0,0,0,,The first parameter is a sample
Dialogue: 0,0:25:08.61,0:25:09.68,Default,,0,0,0,,from the original image.
Dialogue: 0,0:25:09.93,0:25:11.13,Default,,0,0,0,,The second is a sample from the
Dialogue: 0,0:25:11.13,0:25:12.24,Default,,0,0,0,,normalized disparity map.
Dialogue: 0,0:25:12.48,0:25:14.10,Default,,0,0,0,,And then third is the power
Dialogue: 0,0:25:14.10,0:25:15.30,Default,,0,0,0,,selected by the user moving the
Dialogue: 0,0:25:15.30,0:25:15.71,Default,,0,0,0,,slider.
Dialogue: 0,0:25:17.36,0:25:18.31,Default,,0,0,0,,The first thing we do with a
Dialogue: 0,0:25:18.31,0:25:19.95,Default,,0,0,0,,normalized disparity is to raise
Dialogue: 0,0:25:19.95,0:25:21.27,Default,,0,0,0,,it to a power, as I mentioned.
Dialogue: 0,0:25:22.06,0:25:23.37,Default,,0,0,0,,That gives us our scale factor.
Dialogue: 0,0:25:24.56,0:25:25.71,Default,,0,0,0,,Then we take our scale factor
Dialogue: 0,0:25:25.71,0:25:27.45,Default,,0,0,0,,and apply it to the intensity of
Dialogue: 0,0:25:27.45,0:25:28.93,Default,,0,0,0,,the pixel while preserving the
Dialogue: 0,0:25:28.93,0:25:29.95,Default,,0,0,0,,original alpha value.
Dialogue: 0,0:25:32.10,0:25:33.62,Default,,0,0,0,,This last line is a line of
Dialogue: 0,0:25:33.62,0:25:36.16,Default,,0,0,0,,Swift code illustrating how we
Dialogue: 0,0:25:36.16,0:25:37.71,Default,,0,0,0,,can apply our custom kernel to
Dialogue: 0,0:25:37.71,0:25:39.11,Default,,0,0,0,,our original image once it's
Dialogue: 0,0:25:39.11,0:25:40.39,Default,,0,0,0,,been constructed from the source
Dialogue: 0,0:25:40.39,0:25:41.10,Default,,0,0,0,,code you see above.
Dialogue: 0,0:25:41.50,0:25:43.58,Default,,0,0,0,,We pass in our image extent as
Dialogue: 0,0:25:43.58,0:25:45.27,Default,,0,0,0,,well as a list of arguments.
Dialogue: 0,0:25:45.36,0:25:46.99,Default,,0,0,0,,Here these are the original
Dialogue: 0,0:25:46.99,0:25:48.42,Default,,0,0,0,,image, the normalized disparity
Dialogue: 0,0:25:48.42,0:25:49.98,Default,,0,0,0,,map, and the power selected by
Dialogue: 0,0:25:49.98,0:25:50.47,Default,,0,0,0,,the user.
Dialogue: 0,0:25:50.57,0:25:52.05,Default,,0,0,0,,Note that these arguments
Dialogue: 0,0:25:52.05,0:25:53.58,Default,,0,0,0,,correspond one to one with the
Dialogue: 0,0:25:53.58,0:25:55.27,Default,,0,0,0,,parameters defined in our kernel
Dialogue: 0,0:25:55.27,0:25:55.71,Default,,0,0,0,,signature.
Dialogue: 0,0:25:57.67,0:25:58.89,Default,,0,0,0,,Okay. So that's it.
Dialogue: 0,0:25:58.89,0:26:00.02,Default,,0,0,0,,I've just shown you how to use a
Dialogue: 0,0:26:00.02,0:26:02.01,Default,,0,0,0,,custom CI Color Kernel to
Dialogue: 0,0:26:02.01,0:26:03.47,Default,,0,0,0,,produce this really nice
Dialogue: 0,0:26:03.55,0:26:04.83,Default,,0,0,0,,darkening background effect.
Dialogue: 0,0:26:05.48,0:26:06.67,Default,,0,0,0,,And hopefully it gives you some
Dialogue: 0,0:26:06.67,0:26:08.08,Default,,0,0,0,,ideas of other things you can do
Dialogue: 0,0:26:08.08,0:26:09.77,Default,,0,0,0,,with custom CI Color Kernels
Dialogue: 0,0:26:09.77,0:26:10.92,Default,,0,0,0,,combined with depth to produce
Dialogue: 0,0:26:10.92,0:26:11.69,Default,,0,0,0,,some nice effects.
Dialogue: 0,0:26:11.69,0:26:13.04,Default,,0,0,0,,So now I'm going to invite my
Dialogue: 0,0:26:13.04,0:26:14.87,Default,,0,0,0,,colleague, Alex, up onto the
Dialogue: 0,0:26:14.87,0:26:16.16,Default,,0,0,0,,stage to show you something
Dialogue: 0,0:26:16.23,0:26:17.58,Default,,0,0,0,,brand new in Core Image.
Dialogue: 0,0:26:18.31,0:26:19.00,Default,,0,0,0,,Alex.
Dialogue: 0,0:26:20.52,0:26:24.13,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:26:24.63,0:26:26.26,Default,,0,0,0,,>> Thank you, Stephen.
Dialogue: 0,0:26:26.37,0:26:27.11,Default,,0,0,0,,Good morning everyone.
Dialogue: 0,0:26:27.91,0:26:29.21,Default,,0,0,0,,May name is Alexander Neimann.
Dialogue: 0,0:26:29.21,0:26:30.94,Default,,0,0,0,,And today I'm really excited to
Dialogue: 0,0:26:30.94,0:26:31.17,Default,,0,0,0,,be here.
Dialogue: 0,0:26:31.17,0:26:31.90,Default,,0,0,0,,And today I'm going to talk to
Dialogue: 0,0:26:31.90,0:26:32.92,Default,,0,0,0,,you about a new Core Image
Dialogue: 0,0:26:32.92,0:26:33.49,Default,,0,0,0,,filter we have.
Dialogue: 0,0:26:34.30,0:26:37.57,Default,,0,0,0,,So as you know, in iOS 10 using
Dialogue: 0,0:26:37.57,0:26:38.60,Default,,0,0,0,,the iPhone 7+.
Dialogue: 0,0:26:39.15,0:26:41.16,Default,,0,0,0,,You could capture images using
Dialogue: 0,0:26:41.16,0:26:42.87,Default,,0,0,0,,-- with depth capabilities,
Dialogue: 0,0:26:42.93,0:26:44.63,Default,,0,0,0,,using the camera app and the
Dialogue: 0,0:26:44.63,0:26:46.36,Default,,0,0,0,,portrait mode.
Dialogue: 0,0:26:46.58,0:26:49.65,Default,,0,0,0,,Now, with iOS 11, and Mac OS
Dialogue: 0,0:26:49.65,0:26:51.71,Default,,0,0,0,,High Sierra, we're enhancing
Dialogue: 0,0:26:51.71,0:26:53.84,Default,,0,0,0,,those capabilities by allowing
Dialogue: 0,0:26:53.84,0:26:55.03,Default,,0,0,0,,you to use those exact same
Dialogue: 0,0:26:55.03,0:26:56.89,Default,,0,0,0,,algorithms via a new Core Image
Dialogue: 0,0:26:56.89,0:26:58.42,Default,,0,0,0,,filter called the CI Depth Blur
Dialogue: 0,0:26:58.42,0:26:58.77,Default,,0,0,0,,Effect.
Dialogue: 0,0:26:59.84,0:27:02.30,Default,,0,0,0,,So, now let's try and switch
Dialogue: 0,0:27:02.30,0:27:04.21,Default,,0,0,0,,over to a demo and see how that
Dialogue: 0,0:27:04.21,0:27:04.98,Default,,0,0,0,,works in real life.
Dialogue: 0,0:27:07.62,0:27:07.81,Default,,0,0,0,,Yay!
Dialogue: 0,0:27:09.73,0:27:10.01,Default,,0,0,0,,All right.
Dialogue: 0,0:27:10.01,0:27:10.89,Default,,0,0,0,,So here we have an asset, a
Dialogue: 0,0:27:10.89,0:27:12.08,Default,,0,0,0,,photo that was taken with depth.
Dialogue: 0,0:27:12.08,0:27:13.65,Default,,0,0,0,,And we're just viewing the image
Dialogue: 0,0:27:13.96,0:27:14.88,Default,,0,0,0,,without having applied any
Dialogue: 0,0:27:14.88,0:27:16.60,Default,,0,0,0,,filters to it.
Dialogue: 0,0:27:18.45,0:27:20.56,Default,,0,0,0,,If I tap on this once, we can
Dialogue: 0,0:27:20.56,0:27:22.23,Default,,0,0,0,,see what the disparity data
Dialogue: 0,0:27:22.23,0:27:22.70,Default,,0,0,0,,looks like.
Dialogue: 0,0:27:23.55,0:27:24.71,Default,,0,0,0,,I'm going to tap on it once more
Dialogue: 0,0:27:24.71,0:27:25.49,Default,,0,0,0,,and we'll back to the main
Dialogue: 0,0:27:25.49,0:27:25.87,Default,,0,0,0,,image.
Dialogue: 0,0:27:26.03,0:27:28.21,Default,,0,0,0,,And if I tap once more, we're
Dialogue: 0,0:27:28.21,0:27:29.02,Default,,0,0,0,,going to see what happens when
Dialogue: 0,0:27:29.02,0:27:30.40,Default,,0,0,0,,we use those two images together
Dialogue: 0,0:27:30.74,0:27:32.18,Default,,0,0,0,,along with the new CI Depth Blur
Dialogue: 0,0:27:32.18,0:27:33.78,Default,,0,0,0,,Effect filter to create a new
Dialogue: 0,0:27:33.91,0:27:34.53,Default,,0,0,0,,rendered result.
Dialogue: 0,0:27:34.96,0:27:35.89,Default,,0,0,0,,We should see the background get
Dialogue: 0,0:27:35.89,0:27:36.19,Default,,0,0,0,,blurry.
Dialogue: 0,0:27:36.96,0:27:37.15,Default,,0,0,0,,Yay.
Dialogue: 0,0:27:39.57,0:27:41.50,Default,,0,0,0,,Now, in addition to just
Dialogue: 0,0:27:41.50,0:27:44.20,Default,,0,0,0,,applying the filter as is, there
Dialogue: 0,0:27:44.20,0:27:45.94,Default,,0,0,0,,are many tunable parameters that
Dialogue: 0,0:27:45.94,0:27:46.48,Default,,0,0,0,,we can set.
Dialogue: 0,0:27:46.73,0:27:48.14,Default,,0,0,0,,And inside of this application
Dialogue: 0,0:27:48.63,0:27:49.88,Default,,0,0,0,,I've set things up such that it
Dialogue: 0,0:27:49.95,0:27:51.35,Default,,0,0,0,,will respond to a few gestures.
Dialogue: 0,0:27:51.59,0:27:53.69,Default,,0,0,0,,So, if I now, for example,
Dialogue: 0,0:27:53.69,0:27:56.05,Default,,0,0,0,,pinch, we can dynamically change
Dialogue: 0,0:27:56.05,0:27:58.09,Default,,0,0,0,,the aperture and get a new
Dialogue: 0,0:27:58.09,0:27:58.86,Default,,0,0,0,,simulated look.
Dialogue: 0,0:27:58.86,0:28:00.54,Default,,0,0,0,,And so we can simulate any lens
Dialogue: 0,0:28:01.01,0:28:02.45,Default,,0,0,0,,opening that we would like quite
Dialogue: 0,0:28:02.45,0:28:02.85,Default,,0,0,0,,simply.
Dialogue: 0,0:28:05.84,0:28:06.95,Default,,0,0,0,,Another gesture I've set up in
Dialogue: 0,0:28:06.95,0:28:08.54,Default,,0,0,0,,this application is such that
Dialogue: 0,0:28:08.83,0:28:10.19,Default,,0,0,0,,when we tap at a different
Dialogue: 0,0:28:10.19,0:28:11.28,Default,,0,0,0,,location it's going to change
Dialogue: 0,0:28:11.28,0:28:12.33,Default,,0,0,0,,the focus rectangle.
Dialogue: 0,0:28:12.68,0:28:14.41,Default,,0,0,0,,And so we can see right now the
Dialogue: 0,0:28:14.41,0:28:15.78,Default,,0,0,0,,aperture is quite wide open.
Dialogue: 0,0:28:16.17,0:28:17.78,Default,,0,0,0,,And only the lady in the front
Dialogue: 0,0:28:17.78,0:28:18.30,Default,,0,0,0,,is in focus.
Dialogue: 0,0:28:18.35,0:28:19.67,Default,,0,0,0,,But if I tap on the lady on the
Dialogue: 0,0:28:19.67,0:28:20.93,Default,,0,0,0,,left, all of a sudden now she's
Dialogue: 0,0:28:20.93,0:28:21.46,Default,,0,0,0,,in focus.
Dialogue: 0,0:28:21.46,0:28:22.80,Default,,0,0,0,,The background is a little less
Dialogue: 0,0:28:22.80,0:28:23.18,Default,,0,0,0,,blurry.
Dialogue: 0,0:28:23.18,0:28:24.53,Default,,0,0,0,,And the gentleman on the right
Dialogue: 0,0:28:24.53,0:28:26.04,Default,,0,0,0,,is still a little blurry.
Dialogue: 0,0:28:26.04,0:28:27.38,Default,,0,0,0,,And I can tap on him now and
Dialogue: 0,0:28:27.38,0:28:28.37,Default,,0,0,0,,change the focus rect once
Dialogue: 0,0:28:28.37,0:28:28.71,Default,,0,0,0,,again.
Dialogue: 0,0:28:29.84,0:28:32.73,Default,,0,0,0,,And now they're all three in
Dialogue: 0,0:28:32.73,0:28:33.76,Default,,0,0,0,,focus and the background still
Dialogue: 0,0:28:33.76,0:28:34.28,Default,,0,0,0,,remains blurry.
Dialogue: 0,0:28:35.91,0:28:37.09,Default,,0,0,0,,Now that we're done with our
Dialogue: 0,0:28:37.09,0:28:38.70,Default,,0,0,0,,demo, let's go and look at how
Dialogue: 0,0:28:38.70,0:28:38.98,Default,,0,0,0,,this happens --
Dialogue: 0,0:28:39.52,0:28:42.25,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:28:42.75,0:28:45.08,Default,,0,0,0,,in terms of code.
Dialogue: 0,0:28:46.95,0:28:47.28,Default,,0,0,0,,Okay.
Dialogue: 0,0:28:50.75,0:28:53.21,Default,,0,0,0,,So as I was mentioning, at its
Dialogue: 0,0:28:53.21,0:28:54.88,Default,,0,0,0,,base the CI Depth Blur Effect
Dialogue: 0,0:28:54.88,0:28:56.76,Default,,0,0,0,,really just has two inputs: the
Dialogue: 0,0:28:56.76,0:28:58.03,Default,,0,0,0,,input image and the input
Dialogue: 0,0:28:58.06,0:28:58.83,Default,,0,0,0,,disparity image.
Dialogue: 0,0:28:59.04,0:29:00.41,Default,,0,0,0,,And with those two, Core Image
Dialogue: 0,0:29:00.41,0:29:01.33,Default,,0,0,0,,is going to extract a lot of
Dialogue: 0,0:29:01.33,0:29:04.22,Default,,0,0,0,,metadata for you and apply the
Dialogue: 0,0:29:04.22,0:29:07.47,Default,,0,0,0,,effect in order to render a new
Dialogue: 0,0:29:07.89,0:29:08.00,Default,,0,0,0,,image.
Dialogue: 0,0:29:12.09,0:29:13.19,Default,,0,0,0,,Internally, however, there are
Dialogue: 0,0:29:13.19,0:29:14.15,Default,,0,0,0,,many parameters that you can
Dialogue: 0,0:29:14.15,0:29:15.12,Default,,0,0,0,,set, as I was mentioning
Dialogue: 0,0:29:15.12,0:29:15.52,Default,,0,0,0,,earlier.
Dialogue: 0,0:29:16.10,0:29:17.19,Default,,0,0,0,,We already know that you can set
Dialogue: 0,0:29:17.19,0:29:18.09,Default,,0,0,0,,the input image and the input
Dialogue: 0,0:29:18.09,0:29:18.95,Default,,0,0,0,,disparity image.
Dialogue: 0,0:29:19.30,0:29:20.02,Default,,0,0,0,,And in the case of the
Dialogue: 0,0:29:20.02,0:29:21.10,Default,,0,0,0,,application that we were looking
Dialogue: 0,0:29:21.10,0:29:23.89,Default,,0,0,0,,at earlier, when we were
Dialogue: 0,0:29:23.89,0:29:25.90,Default,,0,0,0,,tapping, we were setting the
Dialogue: 0,0:29:25.90,0:29:26.90,Default,,0,0,0,,input focus rect.
Dialogue: 0,0:29:28.28,0:29:31.57,Default,,0,0,0,,And then as we were pinching, we
Dialogue: 0,0:29:31.57,0:29:32.50,Default,,0,0,0,,were setting the aperture.
Dialogue: 0,0:29:33.50,0:29:35.11,Default,,0,0,0,,So now that we have an idea of
Dialogue: 0,0:29:35.11,0:29:35.95,Default,,0,0,0,,how we want to do this from a
Dialogue: 0,0:29:35.95,0:29:37.41,Default,,0,0,0,,conceptual standpoint, let's
Dialogue: 0,0:29:37.41,0:29:38.93,Default,,0,0,0,,take a look at how this will be
Dialogue: 0,0:29:38.93,0:29:39.99,Default,,0,0,0,,done in terms of code.
Dialogue: 0,0:29:41.39,0:29:44.22,Default,,0,0,0,,And this is effectively my only
Dialogue: 0,0:29:44.22,0:29:45.30,Default,,0,0,0,,slide that has any code on it,
Dialogue: 0,0:29:45.30,0:29:46.32,Default,,0,0,0,,so you can see how simple it is
Dialogue: 0,0:29:46.32,0:29:46.72,Default,,0,0,0,,to use.
Dialogue: 0,0:29:47.62,0:29:49.80,Default,,0,0,0,,As we saw earlier, you can load
Dialogue: 0,0:29:49.80,0:29:51.74,Default,,0,0,0,,a CI Image via URL, quite
Dialogue: 0,0:29:51.74,0:29:52.00,Default,,0,0,0,,simply.
Dialogue: 0,0:29:52.00,0:29:53.14,Default,,0,0,0,,This gives us the main image.
Dialogue: 0,0:29:53.14,0:29:54.51,Default,,0,0,0,,And then in order to get the
Dialogue: 0,0:29:54.51,0:29:56.07,Default,,0,0,0,,disparity image, all you need to
Dialogue: 0,0:29:56.07,0:29:58.39,Default,,0,0,0,,do is use that same URL and ask
Dialogue: 0,0:29:58.99,0:30:02.03,Default,,0,0,0,,for the auxiliary disparity
Dialogue: 0,0:30:02.03,0:30:03.20,Default,,0,0,0,,information via the Options
Dialogue: 0,0:30:03.20,0:30:04.84,Default,,0,0,0,,dictionary as Etienne mentioned.
Dialogue: 0,0:30:06.32,0:30:08.96,Default,,0,0,0,,Once we have our two images, we
Dialogue: 0,0:30:08.96,0:30:10.48,Default,,0,0,0,,can create a filter.
Dialogue: 0,0:30:10.97,0:30:13.37,Default,,0,0,0,,And we do that by name, CI Depth
Dialogue: 0,0:30:13.37,0:30:13.80,Default,,0,0,0,,Blur Effect.
Dialogue: 0,0:30:13.80,0:30:14.83,Default,,0,0,0,,And then we specify our two
Dialogue: 0,0:30:14.83,0:30:15.25,Default,,0,0,0,,images.
Dialogue: 0,0:30:16.80,0:30:18.76,Default,,0,0,0,,Once that's done, we can then
Dialogue: 0,0:30:18.76,0:30:20.95,Default,,0,0,0,,ask for the output image via
Dialogue: 0,0:30:20.95,0:30:21.92,Default,,0,0,0,,.outputImage.
Dialogue: 0,0:30:21.92,0:30:23.70,Default,,0,0,0,,And we have a new CI Image that
Dialogue: 0,0:30:23.70,0:30:25.04,Default,,0,0,0,,we can then render in any number
Dialogue: 0,0:30:25.04,0:30:25.44,Default,,0,0,0,,of ways.
Dialogue: 0,0:30:26.06,0:30:27.29,Default,,0,0,0,,And it's important to remember
Dialogue: 0,0:30:27.29,0:30:29.08,Default,,0,0,0,,that a CI Image is really just a
Dialogue: 0,0:30:29.08,0:30:30.05,Default,,0,0,0,,recipe for how to render.
Dialogue: 0,0:30:30.05,0:30:31.04,Default,,0,0,0,,So this is actually a quite
Dialogue: 0,0:30:31.04,0:30:31.82,Default,,0,0,0,,lightweight object.
Dialogue: 0,0:30:34.42,0:30:35.59,Default,,0,0,0,,In the case of the application
Dialogue: 0,0:30:35.59,0:30:36.64,Default,,0,0,0,,that we were looking at earlier,
Dialogue: 0,0:30:37.51,0:30:38.69,Default,,0,0,0,,all we had to do in order to
Dialogue: 0,0:30:38.69,0:30:40.05,Default,,0,0,0,,render a new effect with a new
Dialogue: 0,0:30:40.05,0:30:42.11,Default,,0,0,0,,look was to change two values.
Dialogue: 0,0:30:42.28,0:30:43.93,Default,,0,0,0,,So in this case, we changed the
Dialogue: 0,0:30:43.93,0:30:44.67,Default,,0,0,0,,input aperture.
Dialogue: 0,0:30:44.67,0:30:45.91,Default,,0,0,0,,And we do that by calling filter
Dialogue: 0,0:30:45.91,0:30:49.00,Default,,0,0,0,,setValue forKey and specifying a
Dialogue: 0,0:30:49.00,0:30:51.24,Default,,0,0,0,,float value between 1 and 22 to
Dialogue: 0,0:30:51.24,0:30:52.48,Default,,0,0,0,,create a new simulated aperture.
Dialogue: 0,0:30:53.41,0:30:55.39,Default,,0,0,0,,And we specified a new rectangle
Dialogue: 0,0:30:55.59,0:30:56.90,Default,,0,0,0,,where we wanted to focus on via
Dialogue: 0,0:30:57.16,0:30:58.94,Default,,0,0,0,,the input focus rec key, which
Dialogue: 0,0:30:58.94,0:31:00.86,Default,,0,0,0,,corresponds to a lower left
Dialogue: 0,0:31:01.29,0:31:03.95,Default,,0,0,0,,based rectangle in normalized
Dialogue: 0,0:31:03.95,0:31:04.47,Default,,0,0,0,,coordinates.
Dialogue: 0,0:31:06.05,0:31:07.35,Default,,0,0,0,,Once those two things are done,
Dialogue: 0,0:31:07.47,0:31:08.89,Default,,0,0,0,,we can ask that filter for a new
Dialogue: 0,0:31:08.89,0:31:12.87,Default,,0,0,0,,output image and then render as
Dialogue: 0,0:31:12.87,0:31:13.50,Default,,0,0,0,,we wish.
Dialogue: 0,0:31:15.51,0:31:17.11,Default,,0,0,0,,Now as I was mentioning, Core
Dialogue: 0,0:31:17.11,0:31:18.33,Default,,0,0,0,,Image does a lot of things for
Dialogue: 0,0:31:18.33,0:31:20.13,Default,,0,0,0,,you automatically by examining
Dialogue: 0,0:31:20.13,0:31:20.79,Default,,0,0,0,,the metadata.
Dialogue: 0,0:31:21.56,0:31:22.56,Default,,0,0,0,,There are, however, a few things
Dialogue: 0,0:31:22.56,0:31:25.05,Default,,0,0,0,,you can do in order to further
Dialogue: 0,0:31:25.05,0:31:27.03,Default,,0,0,0,,enhance the render that we don't
Dialogue: 0,0:31:27.03,0:31:28.07,Default,,0,0,0,,do for you automatically.
Dialogue: 0,0:31:28.73,0:31:31.32,Default,,0,0,0,,And those relate to finding
Dialogue: 0,0:31:31.32,0:31:32.18,Default,,0,0,0,,facial landmarks.
Dialogue: 0,0:31:33.27,0:31:35.32,Default,,0,0,0,,And you can use the new vision
Dialogue: 0,0:31:35.32,0:31:37.08,Default,,0,0,0,,framework that we have in order
Dialogue: 0,0:31:37.08,0:31:37.56,Default,,0,0,0,,to do this.
Dialogue: 0,0:31:37.83,0:31:39.26,Default,,0,0,0,,So, via the vision framework you
Dialogue: 0,0:31:39.26,0:31:41.32,Default,,0,0,0,,can get the left eye positions,
Dialogue: 0,0:31:41.54,0:31:43.88,Default,,0,0,0,,right eye positions, nose
Dialogue: 0,0:31:43.88,0:31:45.74,Default,,0,0,0,,positions and chin positions.
Dialogue: 0,0:31:45.74,0:31:48.57,Default,,0,0,0,,And you can specify up to four
Dialogue: 0,0:31:48.57,0:31:50.73,Default,,0,0,0,,faces to be used inside of the
Dialogue: 0,0:31:50.73,0:31:51.86,Default,,0,0,0,,CI Depth Blur Effect.
Dialogue: 0,0:31:52.77,0:31:53.84,Default,,0,0,0,,In the case of this image,
Dialogue: 0,0:31:54.12,0:31:55.36,Default,,0,0,0,,because there are three faces,
Dialogue: 0,0:31:55.81,0:31:57.88,Default,,0,0,0,,we would actually specify six
Dialogue: 0,0:31:58.08,0:32:00.50,Default,,0,0,0,,floating-point values into a CI
Dialogue: 0,0:32:00.50,0:32:02.20,Default,,0,0,0,,vector and set that for each
Dialogue: 0,0:32:02.20,0:32:03.21,Default,,0,0,0,,landmark that we found.
Dialogue: 0,0:32:04.41,0:32:06.76,Default,,0,0,0,,And there are triples, so it
Dialogue: 0,0:32:06.76,0:32:11.77,Default,,0,0,0,,would be xy, xy, xy.
Dialogue: 0,0:32:12.26,0:32:13.48,Default,,0,0,0,,The next thing I'd like to talk
Dialogue: 0,0:32:13.48,0:32:14.54,Default,,0,0,0,,to you a little bit about is
Dialogue: 0,0:32:14.66,0:32:17.26,Default,,0,0,0,,dealing with rendering outputs
Dialogue: 0,0:32:17.26,0:32:19.68,Default,,0,0,0,,of different sizes.
Dialogue: 0,0:32:21.80,0:32:23.65,Default,,0,0,0,,Although the inputs are quite
Dialogue: 0,0:32:23.65,0:32:25.61,Default,,0,0,0,,large, 12 megapixels, chances
Dialogue: 0,0:32:25.61,0:32:26.91,Default,,0,0,0,,are you won't often be rendering
Dialogue: 0,0:32:26.91,0:32:27.70,Default,,0,0,0,,the entire image.
Dialogue: 0,0:32:27.96,0:32:29.14,Default,,0,0,0,,And you may want to down sample
Dialogue: 0,0:32:29.14,0:32:29.58,Default,,0,0,0,,the output.
Dialogue: 0,0:32:30.58,0:32:32.30,Default,,0,0,0,,Your initial reflex may be to
Dialogue: 0,0:32:32.30,0:32:34.34,Default,,0,0,0,,just down sample it, the result
Dialogue: 0,0:32:34.34,0:32:35.76,Default,,0,0,0,,of the CI Depth Blur Effect.
Dialogue: 0,0:32:36.00,0:32:37.22,Default,,0,0,0,,But that's actually not very
Dialogue: 0,0:32:37.22,0:32:38.42,Default,,0,0,0,,efficient because the CI Depth
Dialogue: 0,0:32:38.42,0:32:39.44,Default,,0,0,0,,Blur Effect is actually quite
Dialogue: 0,0:32:39.44,0:32:40.51,Default,,0,0,0,,computationally expensive.
Dialogue: 0,0:32:40.51,0:32:43.40,Default,,0,0,0,,It makes more sense to, instead,
Dialogue: 0,0:32:43.40,0:32:44.44,Default,,0,0,0,,down sample the input.
Dialogue: 0,0:32:44.92,0:32:47.78,Default,,0,0,0,,And if you do this, we can then
Dialogue: 0,0:32:48.14,0:32:49.27,Default,,0,0,0,,take advantage of the fact that
Dialogue: 0,0:32:49.27,0:32:51.02,Default,,0,0,0,,the input image is smaller and
Dialogue: 0,0:32:51.02,0:32:52.16,Default,,0,0,0,,perform some optimizations.
Dialogue: 0,0:32:53.44,0:32:54.38,Default,,0,0,0,,In order to do this, however,
Dialogue: 0,0:32:54.38,0:32:55.40,Default,,0,0,0,,you do have to set one more
Dialogue: 0,0:32:55.40,0:32:56.84,Default,,0,0,0,,parameter, which is called the
Dialogue: 0,0:32:56.84,0:32:57.91,Default,,0,0,0,,Input Scale Factor.
Dialogue: 0,0:32:58.79,0:33:00.44,Default,,0,0,0,,So in this case if we wanted to
Dialogue: 0,0:33:00.44,0:33:02.11,Default,,0,0,0,,down sample the image by 2, we
Dialogue: 0,0:33:02.11,0:33:03.40,Default,,0,0,0,,would set the input scale factor
Dialogue: 0,0:33:03.40,0:33:04.20,Default,,0,0,0,,to 0.5.
Dialogue: 0,0:33:04.57,0:33:06.34,Default,,0,0,0,,And doing so ensures that we
Dialogue: 0,0:33:06.74,0:33:07.85,Default,,0,0,0,,sample appropriately from the
Dialogue: 0,0:33:07.85,0:33:09.18,Default,,0,0,0,,image and also take into account
Dialogue: 0,0:33:09.18,0:33:10.92,Default,,0,0,0,,other effects such as the noise
Dialogue: 0,0:33:10.92,0:33:11.31,Default,,0,0,0,,in the image.
Dialogue: 0,0:33:13.88,0:33:16.15,Default,,0,0,0,,There are a few additional
Dialogue: 0,0:33:16.15,0:33:17.32,Default,,0,0,0,,things that I'd like to mention
Dialogue: 0,0:33:17.81,0:33:19.17,Default,,0,0,0,,about using the CI Depth Blue
Dialogue: 0,0:33:19.17,0:33:20.07,Default,,0,0,0,,Effect which are important to
Dialogue: 0,0:33:20.07,0:33:20.61,Default,,0,0,0,,keep in mind.
Dialogue: 0,0:33:21.53,0:33:23.79,Default,,0,0,0,,The first and foremost is that
Dialogue: 0,0:33:23.79,0:33:25.67,Default,,0,0,0,,when you create your CI context
Dialogue: 0,0:33:26.34,0:33:27.39,Default,,0,0,0,,where you'll be using these
Dialogue: 0,0:33:27.39,0:33:28.83,Default,,0,0,0,,filters, you're going to want to
Dialogue: 0,0:33:28.83,0:33:30.12,Default,,0,0,0,,make sure that you're using half
Dialogue: 0,0:33:30.12,0:33:31.06,Default,,0,0,0,,float intermediates.
Dialogue: 0,0:33:31.37,0:33:32.29,Default,,0,0,0,,And you can do this by
Dialogue: 0,0:33:32.29,0:33:34.04,Default,,0,0,0,,specifying the kCI Context
Dialogue: 0,0:33:34.04,0:33:36.96,Default,,0,0,0,,Working Format to be RWAH.
Dialogue: 0,0:33:38.33,0:33:39.81,Default,,0,0,0,,On MacOS this is the default.
Dialogue: 0,0:33:39.81,0:33:41.77,Default,,0,0,0,,But on iOS, by default we use
Dialogue: 0,0:33:41.77,0:33:42.13,Default,,0,0,0,,8-bit.
Dialogue: 0,0:33:42.13,0:33:43.64,Default,,0,0,0,,And if you don't, you will see
Dialogue: 0,0:33:43.64,0:33:45.25,Default,,0,0,0,,that the data will be clipped
Dialogue: 0,0:33:45.25,0:33:47.20,Default,,0,0,0,,because disparity data comes in
Dialogue: 0,0:33:47.20,0:33:47.98,Default,,0,0,0,,extended range.
Dialogue: 0,0:33:48.37,0:33:49.81,Default,,0,0,0,,And without specifying this, it
Dialogue: 0,0:33:49.81,0:33:50.82,Default,,0,0,0,,will get clipped and the result
Dialogue: 0,0:33:50.82,0:33:51.66,Default,,0,0,0,,won't look very good.
Dialogue: 0,0:33:51.66,0:33:52.68,Default,,0,0,0,,So it's really important to
Dialogue: 0,0:33:52.68,0:33:53.82,Default,,0,0,0,,remember to keep doing this when
Dialogue: 0,0:33:53.82,0:33:54.80,Default,,0,0,0,,you use this filter.
Dialogue: 0,0:33:57.50,0:34:00.00,Default,,0,0,0,,Also as I mentioned earlier, the
Dialogue: 0,0:34:00.22,0:34:02.54,Default,,0,0,0,,CI Depth Blur Effect will
Dialogue: 0,0:34:02.54,0:34:03.98,Default,,0,0,0,,automatically set many
Dialogue: 0,0:34:03.98,0:34:05.58,Default,,0,0,0,,properties for you on the
Dialogue: 0,0:34:05.58,0:34:05.97,Default,,0,0,0,,filter.
Dialogue: 0,0:34:05.97,0:34:08.02,Default,,0,0,0,,In order to do so, it will
Dialogue: 0,0:34:08.02,0:34:09.23,Default,,0,0,0,,examine the metadata from the
Dialogue: 0,0:34:09.23,0:34:13.44,Default,,0,0,0,,main image as well the data that
Dialogue: 0,0:34:13.44,0:34:16.35,Default,,0,0,0,,exists inside of the auxiliary
Dialogue: 0,0:34:16.35,0:34:16.62,Default,,0,0,0,,image.
Dialogue: 0,0:34:16.77,0:34:18.19,Default,,0,0,0,,And so it's important to try to
Dialogue: 0,0:34:18.52,0:34:19.63,Default,,0,0,0,,preserve that throughout your
Dialogue: 0,0:34:19.63,0:34:20.13,Default,,0,0,0,,pipeline.
Dialogue: 0,0:34:20.49,0:34:22.26,Default,,0,0,0,,Core Image will do its best in
Dialogue: 0,0:34:22.26,0:34:23.10,Default,,0,0,0,,order to ensure that this
Dialogue: 0,0:34:23.10,0:34:23.52,Default,,0,0,0,,happens.
Dialogue: 0,0:34:23.89,0:34:24.66,Default,,0,0,0,,But it's something you're going
Dialogue: 0,0:34:24.66,0:34:25.49,Default,,0,0,0,,to want to keep in mind as
Dialogue: 0,0:34:25.49,0:34:26.32,Default,,0,0,0,,you're using this filter.
Dialogue: 0,0:34:26.36,0:34:27.68,Default,,0,0,0,,And Etienne's going to talk to
Dialogue: 0,0:34:27.68,0:34:28.69,Default,,0,0,0,,you a little bit later about how
Dialogue: 0,0:34:28.69,0:34:30.01,Default,,0,0,0,,to ensure that you do this when
Dialogue: 0,0:34:30.01,0:34:31.01,Default,,0,0,0,,you save images.
Dialogue: 0,0:34:33.65,0:34:34.11,Default,,0,0,0,,All right.
Dialogue: 0,0:34:34.70,0:34:36.34,Default,,0,0,0,,Well, the last thing I'd like to
Dialogue: 0,0:34:36.34,0:34:37.93,Default,,0,0,0,,talk to you about today has to
Dialogue: 0,0:34:37.93,0:34:40.61,Default,,0,0,0,,do with some internals of the CI
Dialogue: 0,0:34:40.61,0:34:41.31,Default,,0,0,0,,Depth Blur Effect.
Dialogue: 0,0:34:42.49,0:34:43.64,Default,,0,0,0,,It's been mentioned many times
Dialogue: 0,0:34:43.64,0:34:46.33,Default,,0,0,0,,so far already today, the main
Dialogue: 0,0:34:46.33,0:34:47.47,Default,,0,0,0,,image and the disparity image
Dialogue: 0,0:34:47.47,0:34:49.27,Default,,0,0,0,,are of very different
Dialogue: 0,0:34:49.27,0:34:49.84,Default,,0,0,0,,resolutions.
Dialogue: 0,0:34:49.84,0:34:52.84,Default,,0,0,0,,And now internally, Core Image
Dialogue: 0,0:34:52.84,0:34:54.39,Default,,0,0,0,,is going to up sample the
Dialogue: 0,0:34:54.39,0:34:56.19,Default,,0,0,0,,disparity image up to a certain
Dialogue: 0,0:34:56.19,0:34:58.25,Default,,0,0,0,,point in order to achieve the
Dialogue: 0,0:34:58.25,0:34:58.94,Default,,0,0,0,,final result.
Dialogue: 0,0:35:00.26,0:35:02.04,Default,,0,0,0,,And this is an area where we
Dialogue: 0,0:35:02.04,0:35:03.08,Default,,0,0,0,,feel like if you have additional
Dialogue: 0,0:35:03.08,0:35:04.40,Default,,0,0,0,,processing time you could
Dialogue: 0,0:35:04.40,0:35:05.90,Default,,0,0,0,,perhaps do something a little
Dialogue: 0,0:35:05.90,0:35:06.30,Default,,0,0,0,,different.
Dialogue: 0,0:35:06.86,0:35:08.08,Default,,0,0,0,,Maybe some of the methods that
Dialogue: 0,0:35:08.08,0:35:09.41,Default,,0,0,0,,Etienne spoke of earlier.
Dialogue: 0,0:35:10.98,0:35:12.88,Default,,0,0,0,,And that concludes pretty much
Dialogue: 0,0:35:12.88,0:35:13.77,Default,,0,0,0,,everything I wanted to tell you
Dialogue: 0,0:35:13.77,0:35:15.14,Default,,0,0,0,,about using the CI Depth Blur
Dialogue: 0,0:35:15.14,0:35:15.44,Default,,0,0,0,,Effect.
Dialogue: 0,0:35:15.76,0:35:17.05,Default,,0,0,0,,And I hope you all go and start
Dialogue: 0,0:35:17.05,0:35:18.18,Default,,0,0,0,,adding it to your apps.
Dialogue: 0,0:35:18.50,0:35:19.58,Default,,0,0,0,,And on that, I'm going to hand
Dialogue: 0,0:35:19.58,0:35:20.44,Default,,0,0,0,,it back over to Etienne.
Dialogue: 0,0:35:20.44,0:35:21.17,Default,,0,0,0,,Thank you very much.
Dialogue: 0,0:35:22.02,0:35:23.67,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:35:23.67,0:35:24.23,Default,,0,0,0,,>> Thank you, Alex.
Dialogue: 0,0:35:26.57,0:35:27.56,Default,,0,0,0,,All right.
Dialogue: 0,0:35:27.89,0:35:29.02,Default,,0,0,0,,So, so far we've seen
Dialogue: 0,0:35:29.02,0:35:30.62,Default,,0,0,0,,interesting cool new effects
Dialogue: 0,0:35:30.62,0:35:32.06,Default,,0,0,0,,that you can do using depth
Dialogue: 0,0:35:32.06,0:35:32.21,Default,,0,0,0,,data.
Dialogue: 0,0:35:32.35,0:35:34.57,Default,,0,0,0,,But the depth data was really
Dialogue: 0,0:35:34.57,0:35:36.75,Default,,0,0,0,,used as a mask to apply
Dialogue: 0,0:35:36.75,0:35:38.47,Default,,0,0,0,,different effects to different
Dialogue: 0,0:35:38.47,0:35:39.67,Default,,0,0,0,,part of the image.
Dialogue: 0,0:35:40.39,0:35:42.14,Default,,0,0,0,,And so now we want to show you
Dialogue: 0,0:35:42.14,0:35:44.78,Default,,0,0,0,,something different, something
Dialogue: 0,0:35:44.78,0:35:46.57,Default,,0,0,0,,that actually uses depth as a
Dialogue: 0,0:35:46.57,0:35:47.37,Default,,0,0,0,,third dimension.
Dialogue: 0,0:35:48.41,0:35:49.81,Default,,0,0,0,,And this will give you a taste
Dialogue: 0,0:35:49.81,0:35:51.04,Default,,0,0,0,,of what kind of new creative
Dialogue: 0,0:35:51.04,0:35:52.29,Default,,0,0,0,,effects you could apply using
Dialogue: 0,0:35:52.29,0:35:52.97,Default,,0,0,0,,this data.
Dialogue: 0,0:35:53.99,0:35:55.58,Default,,0,0,0,,And to tell you all about it,
Dialogue: 0,0:35:55.58,0:35:57.07,Default,,0,0,0,,I'm going to invite Stephen back
Dialogue: 0,0:35:57.07,0:35:57.50,Default,,0,0,0,,on stage.
Dialogue: 0,0:35:57.83,0:35:58.00,Default,,0,0,0,,Stephen.
Dialogue: 0,0:36:00.52,0:36:02.86,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:36:03.36,0:36:04.22,Default,,0,0,0,,>> Thank you, Etienne.
Dialogue: 0,0:36:05.25,0:36:06.38,Default,,0,0,0,,It's good to be back with you.
Dialogue: 0,0:36:06.38,0:36:07.86,Default,,0,0,0,,What I'm going to show you now
Dialogue: 0,0:36:09.46,0:36:11.11,Default,,0,0,0,,is a true 3-D effect.
Dialogue: 0,0:36:12.98,0:36:14.32,Default,,0,0,0,,And this particular effect that
Dialogue: 0,0:36:14.32,0:36:15.31,Default,,0,0,0,,we're going to show you is
Dialogue: 0,0:36:15.31,0:36:16.16,Default,,0,0,0,,called dolly zoom.
Dialogue: 0,0:36:16.44,0:36:17.47,Default,,0,0,0,,Many of you are probably already
Dialogue: 0,0:36:17.47,0:36:18.90,Default,,0,0,0,,familiar with what dolly zoom
Dialogue: 0,0:36:18.90,0:36:20.11,Default,,0,0,0,,is, especially if you've ever
Dialogue: 0,0:36:20.11,0:36:21.00,Default,,0,0,0,,seen a scary movie.
Dialogue: 0,0:36:21.57,0:36:23.93,Default,,0,0,0,,But to get everybody up to speed
Dialogue: 0,0:36:23.93,0:36:24.80,Default,,0,0,0,,a little bit, I'm going to show
Dialogue: 0,0:36:24.80,0:36:26.43,Default,,0,0,0,,you a little animation of what's
Dialogue: 0,0:36:26.43,0:36:27.49,Default,,0,0,0,,going on with dolly zoom.
Dialogue: 0,0:36:28.15,0:36:29.26,Default,,0,0,0,,So what you're looking at here
Dialogue: 0,0:36:30.51,0:36:32.15,Default,,0,0,0,,is a scene consisting of three
Dialogue: 0,0:36:32.15,0:36:32.73,Default,,0,0,0,,spheres.
Dialogue: 0,0:36:33.76,0:36:35.48,Default,,0,0,0,,While the camera is dollying
Dialogue: 0,0:36:35.65,0:36:37.73,Default,,0,0,0,,back and forth, it's also doing
Dialogue: 0,0:36:37.73,0:36:39.63,Default,,0,0,0,,it so in such a way that the
Dialogue: 0,0:36:39.63,0:36:40.76,Default,,0,0,0,,field of view is also
Dialogue: 0,0:36:41.00,0:36:43.06,Default,,0,0,0,,simultaneously constrained so
Dialogue: 0,0:36:43.11,0:36:44.74,Default,,0,0,0,,that the gray sphere in the
Dialogue: 0,0:36:44.74,0:36:46.72,Default,,0,0,0,,center on the focal plane
Dialogue: 0,0:36:47.23,0:36:49.82,Default,,0,0,0,,remains at roughly the same size
Dialogue: 0,0:36:50.04,0:36:51.06,Default,,0,0,0,,throughout the effect in the
Dialogue: 0,0:36:51.06,0:36:52.66,Default,,0,0,0,,output image, which you see on
Dialogue: 0,0:36:52.66,0:36:52.94,Default,,0,0,0,,the right.
Dialogue: 0,0:36:53.32,0:36:54.38,Default,,0,0,0,,Everything else in the scene
Dialogue: 0,0:36:54.38,0:36:56.15,Default,,0,0,0,,will move around due to
Dialogue: 0,0:36:56.15,0:36:57.08,Default,,0,0,0,,perspective effects.
Dialogue: 0,0:36:58.86,0:36:59.74,Default,,0,0,0,,So let's take a look.
Dialogue: 0,0:37:00.92,0:37:02.05,Default,,0,0,0,,Let's switch over here to the
Dialogue: 0,0:37:02.05,0:37:02.62,Default,,0,0,0,,device.
Dialogue: 0,0:37:04.51,0:37:05.94,Default,,0,0,0,,Perfect.
Dialogue: 0,0:37:06.05,0:37:06.39,Default,,0,0,0,,All right.
Dialogue: 0,0:37:09.21,0:37:10.91,Default,,0,0,0,,Let me pull up the dolly zoom
Dialogue: 0,0:37:10.91,0:37:11.94,Default,,0,0,0,,editing extension.
Dialogue: 0,0:37:14.45,0:37:15.85,Default,,0,0,0,,And I'll draw your attention now
Dialogue: 0,0:37:15.85,0:37:17.72,Default,,0,0,0,,to the group of flowers in the
Dialogue: 0,0:37:17.72,0:37:18.70,Default,,0,0,0,,center of the image.
Dialogue: 0,0:37:18.81,0:37:20.60,Default,,0,0,0,,Those are on the focal plane.
Dialogue: 0,0:37:21.55,0:37:22.53,Default,,0,0,0,,So as I begin to move the
Dialogue: 0,0:37:22.53,0:37:23.00,Default,,0,0,0,,camera,
Dialogue: 0,0:37:25.50,0:37:27.49,Default,,0,0,0,,there you see the dolly zoom
Dialogue: 0,0:37:27.49,0:37:29.32,Default,,0,0,0,,effects in its full glory.
Dialogue: 0,0:37:29.35,0:37:31.72,Default,,0,0,0,,When I pull the camera in this
Dialogue: 0,0:37:31.72,0:37:32.98,Default,,0,0,0,,direction in particular you can
Dialogue: 0,0:37:32.98,0:37:34.48,Default,,0,0,0,,really see the true 3-D nature
Dialogue: 0,0:37:34.48,0:37:36.35,Default,,0,0,0,,of this effect with the
Dialogue: 0,0:37:36.44,0:37:37.64,Default,,0,0,0,,foreground flowers really
Dialogue: 0,0:37:37.97,0:37:39.49,Default,,0,0,0,,popping out and the background
Dialogue: 0,0:37:39.49,0:37:41.49,Default,,0,0,0,,sort of fading or pulling away
Dialogue: 0,0:37:41.49,0:37:42.10,Default,,0,0,0,,from the camera.
Dialogue: 0,0:37:43.00,0:37:44.19,Default,,0,0,0,,You do also see a couple of
Dialogue: 0,0:37:44.19,0:37:45.33,Default,,0,0,0,,artifacts, of course.
Dialogue: 0,0:37:45.71,0:37:47.55,Default,,0,0,0,,One of which are the black
Dialogue: 0,0:37:47.55,0:37:49.33,Default,,0,0,0,,pixels that you see coming into
Dialogue: 0,0:37:49.33,0:37:50.60,Default,,0,0,0,,view around the background.
Dialogue: 0,0:37:51.35,0:37:53.13,Default,,0,0,0,,This is due to the fact that in
Dialogue: 0,0:37:53.13,0:37:54.08,Default,,0,0,0,,the camera's current
Dialogue: 0,0:37:54.15,0:37:55.42,Default,,0,0,0,,configuration, the virtual
Dialogue: 0,0:37:55.42,0:37:57.39,Default,,0,0,0,,camera, its field of view is
Dialogue: 0,0:37:57.39,0:38:00.13,Default,,0,0,0,,wider than the iPhone that
Dialogue: 0,0:38:00.13,0:38:00.90,Default,,0,0,0,,captured the image.
Dialogue: 0,0:38:01.96,0:38:04.04,Default,,0,0,0,,And so the virtual camera sees
Dialogue: 0,0:38:04.04,0:38:05.39,Default,,0,0,0,,more of the scene than the
Dialogue: 0,0:38:05.54,0:38:06.65,Default,,0,0,0,,iPhone did at the time of
Dialogue: 0,0:38:06.65,0:38:07.16,Default,,0,0,0,,capture.
Dialogue: 0,0:38:07.70,0:38:08.88,Default,,0,0,0,,So we're just filling those
Dialogue: 0,0:38:08.88,0:38:10.67,Default,,0,0,0,,pixels in with black.
Dialogue: 0,0:38:10.92,0:38:12.97,Default,,0,0,0,,Similarly, the stretching you
Dialogue: 0,0:38:12.97,0:38:14.32,Default,,0,0,0,,see in between the foreground
Dialogue: 0,0:38:14.32,0:38:15.83,Default,,0,0,0,,flowers and the green leaves
Dialogue: 0,0:38:15.83,0:38:17.08,Default,,0,0,0,,behind them is due to the fact
Dialogue: 0,0:38:17.08,0:38:18.25,Default,,0,0,0,,that this camera, the virtual
Dialogue: 0,0:38:18.25,0:38:19.18,Default,,0,0,0,,camera, has exposed some
Dialogue: 0,0:38:19.18,0:38:20.46,Default,,0,0,0,,portions of the scene that
Dialogue: 0,0:38:20.46,0:38:22.57,Default,,0,0,0,,weren't visible to the iPhone at
Dialogue: 0,0:38:22.57,0:38:24.44,Default,,0,0,0,,the time of capture.
Dialogue: 0,0:38:24.44,0:38:26.30,Default,,0,0,0,,One strategy you might take to
Dialogue: 0,0:38:26.30,0:38:27.82,Default,,0,0,0,,work around some of these issues
Dialogue: 0,0:38:28.52,0:38:30.61,Default,,0,0,0,,is to set a new focal plane.
Dialogue: 0,0:38:31.31,0:38:33.41,Default,,0,0,0,,So, now I've tapped on the
Dialogue: 0,0:38:33.41,0:38:35.06,Default,,0,0,0,,yellow flower in the foreground,
Dialogue: 0,0:38:35.06,0:38:36.00,Default,,0,0,0,,which is in the bottom right
Dialogue: 0,0:38:36.00,0:38:38.11,Default,,0,0,0,,corner of the image to set that
Dialogue: 0,0:38:38.36,0:38:39.39,Default,,0,0,0,,as the focal plane.
Dialogue: 0,0:38:39.88,0:38:41.29,Default,,0,0,0,,And as I move the camera now in
Dialogue: 0,0:38:41.29,0:38:42.67,Default,,0,0,0,,this direction you can see that
Dialogue: 0,0:38:43.22,0:38:44.84,Default,,0,0,0,,none of the black pixels are
Dialogue: 0,0:38:44.84,0:38:45.59,Default,,0,0,0,,coming into view.
Dialogue: 0,0:38:45.91,0:38:47.51,Default,,0,0,0,,Of course if I move the camera
Dialogue: 0,0:38:47.51,0:38:49.44,Default,,0,0,0,,again in this direction, they
Dialogue: 0,0:38:49.44,0:38:50.11,Default,,0,0,0,,show up again.
Dialogue: 0,0:38:50.62,0:38:51.98,Default,,0,0,0,,And really, that 3-D effect is
Dialogue: 0,0:38:51.98,0:38:54.69,Default,,0,0,0,,quite strong here.
Dialogue: 0,0:38:55.31,0:38:57.47,Default,,0,0,0,,Correspondingly, I can tap on a
Dialogue: 0,0:38:57.47,0:38:58.50,Default,,0,0,0,,background region of the image,
Dialogue: 0,0:38:58.50,0:39:00.06,Default,,0,0,0,,such as the trees you see in the
Dialogue: 0,0:39:00.06,0:39:00.82,Default,,0,0,0,,upper left corner.
Dialogue: 0,0:39:01.79,0:39:03.68,Default,,0,0,0,,And when I pull the camera now
Dialogue: 0,0:39:03.68,0:39:06.54,Default,,0,0,0,,in this direction, it really
Dialogue: 0,0:39:07.61,0:39:09.09,Default,,0,0,0,,produces a pleasing sort of
Dialogue: 0,0:39:09.09,0:39:11.11,Default,,0,0,0,,prominent effect on that central
Dialogue: 0,0:39:11.15,0:39:12.00,Default,,0,0,0,,group of flowers.
Dialogue: 0,0:39:12.79,0:39:15.08,Default,,0,0,0,,So let's take a look now at how
Dialogue: 0,0:39:15.08,0:39:15.88,Default,,0,0,0,,we implemented this.
Dialogue: 0,0:39:16.20,0:39:18.10,Default,,0,0,0,,Because of the true 3-D nature
Dialogue: 0,0:39:18.10,0:39:20.87,Default,,0,0,0,,of this problem, we turned to
Dialogue: 0,0:39:20.87,0:39:23.40,Default,,0,0,0,,Metal as a true 3-D tool to
Dialogue: 0,0:39:23.40,0:39:26.26,Default,,0,0,0,,solve this effect, to produce
Dialogue: 0,0:39:26.26,0:39:26.71,Default,,0,0,0,,the effect.
Dialogue: 0,0:39:27.14,0:39:28.92,Default,,0,0,0,,We were able to get our system
Dialogue: 0,0:39:28.92,0:39:30.34,Default,,0,0,0,,up and running quite quickly in
Dialogue: 0,0:39:30.34,0:39:31.83,Default,,0,0,0,,Metal because of all the work
Dialogue: 0,0:39:31.83,0:39:33.51,Default,,0,0,0,,that it does for us.
Dialogue: 0,0:39:33.81,0:39:36.58,Default,,0,0,0,,Basically all we had to do to
Dialogue: 0,0:39:36.58,0:39:38.39,Default,,0,0,0,,start off with was to construct
Dialogue: 0,0:39:38.39,0:39:40.24,Default,,0,0,0,,a triangular mesh that we mapped
Dialogue: 0,0:39:40.34,0:39:42.40,Default,,0,0,0,,onto the image, much like what
Dialogue: 0,0:39:42.40,0:39:43.84,Default,,0,0,0,,you saw in Craig's Depth
Dialogue: 0,0:39:43.84,0:39:45.63,Default,,0,0,0,,Explorer demo at the beginning
Dialogue: 0,0:39:45.63,0:39:46.21,Default,,0,0,0,,of the session.
Dialogue: 0,0:39:46.86,0:39:49.20,Default,,0,0,0,,And we mapped the -- excuse me
Dialogue: 0,0:39:49.20,0:39:50.74,Default,,0,0,0,,-- we mapped the image -- we
Dialogue: 0,0:39:50.74,0:39:51.83,Default,,0,0,0,,center the image around the
Dialogue: 0,0:39:51.83,0:39:52.29,Default,,0,0,0,,origin.
Dialogue: 0,0:39:54.10,0:39:55.81,Default,,0,0,0,,Metal also gives us the
Dialogue: 0,0:39:55.81,0:39:57.34,Default,,0,0,0,,opportunity to program a couple
Dialogue: 0,0:39:57.34,0:39:59.15,Default,,0,0,0,,of stages of its pipeline, one
Dialogue: 0,0:39:59.15,0:40:00.48,Default,,0,0,0,,of which is the vertex shader.
Dialogue: 0,0:40:00.53,0:40:01.86,Default,,0,0,0,,And the job of the vertex
Dialogue: 0,0:40:01.86,0:40:03.43,Default,,0,0,0,,shader, it gives us the
Dialogue: 0,0:40:03.43,0:40:04.76,Default,,0,0,0,,opportunity to process the
Dialogue: 0,0:40:04.76,0:40:06.33,Default,,0,0,0,,geometry of the scene in some
Dialogue: 0,0:40:06.33,0:40:06.56,Default,,0,0,0,,way.
Dialogue: 0,0:40:08.04,0:40:09.49,Default,,0,0,0,,And we can also program the
Dialogue: 0,0:40:09.49,0:40:11.15,Default,,0,0,0,,fragment shader, which gives us
Dialogue: 0,0:40:11.15,0:40:12.87,Default,,0,0,0,,the opportunity to produce a
Dialogue: 0,0:40:13.25,0:40:15.00,Default,,0,0,0,,color for each pixel in the
Dialogue: 0,0:40:15.00,0:40:15.35,Default,,0,0,0,,output.
Dialogue: 0,0:40:16.34,0:40:18.81,Default,,0,0,0,,We were able to reintegrate all
Dialogue: 0,0:40:18.81,0:40:20.45,Default,,0,0,0,,of this 3-D Metal rendering back
Dialogue: 0,0:40:20.45,0:40:22.26,Default,,0,0,0,,into our Core Image pipeline by
Dialogue: 0,0:40:22.26,0:40:23.88,Default,,0,0,0,,using a CI Image Processor
Dialogue: 0,0:40:23.88,0:40:24.29,Default,,0,0,0,,Kernel.
Dialogue: 0,0:40:25.50,0:40:28.57,Default,,0,0,0,,So here's the code for the
Dialogue: 0,0:40:28.57,0:40:29.31,Default,,0,0,0,,vertex shader.
Dialogue: 0,0:40:31.59,0:40:33.14,Default,,0,0,0,,Again, the job of the vertex
Dialogue: 0,0:40:33.14,0:40:34.16,Default,,0,0,0,,shader is to process the
Dialogue: 0,0:40:34.16,0:40:34.85,Default,,0,0,0,,geometry.
Dialogue: 0,0:40:34.94,0:40:36.29,Default,,0,0,0,,And it does so one vertex at a
Dialogue: 0,0:40:36.29,0:40:36.66,Default,,0,0,0,,time.
Dialogue: 0,0:40:37.04,0:40:38.54,Default,,0,0,0,,So we get one vertex of the
Dialogue: 0,0:40:38.54,0:40:39.83,Default,,0,0,0,,original mesh as input.
Dialogue: 0,0:40:40.57,0:40:41.66,Default,,0,0,0,,And then we'll produce something
Dialogue: 0,0:40:41.66,0:40:42.46,Default,,0,0,0,,new on the output.
Dialogue: 0,0:40:42.78,0:40:44.26,Default,,0,0,0,,The first thing we do in the
Dialogue: 0,0:40:44.26,0:40:46.86,Default,,0,0,0,,vertex shader is sample the
Dialogue: 0,0:40:46.86,0:40:48.63,Default,,0,0,0,,depth at that vertex.
Dialogue: 0,0:40:49.47,0:40:50.62,Default,,0,0,0,,That's this line you see here.
Dialogue: 0,0:40:50.62,0:40:52.01,Default,,0,0,0,,We're storing it in a variable
Dialogue: 0,0:40:52.01,0:40:53.55,Default,,0,0,0,,called z, which will get used in
Dialogue: 0,0:40:53.55,0:40:54.56,Default,,0,0,0,,a couple of places in this
Dialogue: 0,0:40:54.56,0:40:54.91,Default,,0,0,0,,shader.
Dialogue: 0,0:40:55.96,0:40:57.99,Default,,0,0,0,,The first of which is this
Dialogue: 0,0:40:57.99,0:40:59.23,Default,,0,0,0,,magical line right here.
Dialogue: 0,0:40:59.66,0:41:01.30,Default,,0,0,0,,This line is the line that every
Dialogue: 0,0:41:01.30,0:41:02.84,Default,,0,0,0,,young engineer grows up dreaming
Dialogue: 0,0:41:02.84,0:41:03.87,Default,,0,0,0,,that they'll write some day.
Dialogue: 0,0:41:03.99,0:41:05.50,Default,,0,0,0,,Because this is where we do the
Dialogue: 0,0:41:05.50,0:41:05.64,Default,,0,0,0,,math.
Dialogue: 0,0:41:07.28,0:41:08.84,Default,,0,0,0,,There are three variables as
Dialogue: 0,0:41:08.84,0:41:11.51,Default,,0,0,0,,input to this equation.
Dialogue: 0,0:41:12.48,0:41:13.79,Default,,0,0,0,,One is the depth, which we just
Dialogue: 0,0:41:13.79,0:41:14.44,Default,,0,0,0,,sampled above.
Dialogue: 0,0:41:14.85,0:41:16.12,Default,,0,0,0,,And the others correspond to the
Dialogue: 0,0:41:16.12,0:41:18.86,Default,,0,0,0,,user inputs of the focal plane
Dialogue: 0,0:41:18.86,0:41:20.40,Default,,0,0,0,,and the camera's configuration.
Dialogue: 0,0:41:22.09,0:41:24.52,Default,,0,0,0,,This produces a scale factor,
Dialogue: 0,0:41:24.78,0:41:26.60,Default,,0,0,0,,which we can apply to our
Dialogue: 0,0:41:27.35,0:41:30.17,Default,,0,0,0,,vertices, which we do on this
Dialogue: 0,0:41:30.17,0:41:30.81,Default,,0,0,0,,line right here.
Dialogue: 0,0:41:30.81,0:41:32.94,Default,,0,0,0,,And we can apply a scale factor
Dialogue: 0,0:41:32.94,0:41:35.17,Default,,0,0,0,,to it because the vertices are
Dialogue: 0,0:41:35.17,0:41:37.14,Default,,0,0,0,,centered around the origin.
Dialogue: 0,0:41:37.68,0:41:39.68,Default,,0,0,0,,So this scale factor serves to
Dialogue: 0,0:41:39.99,0:41:42.08,Default,,0,0,0,,move vertices either radially
Dialogue: 0,0:41:42.08,0:41:43.47,Default,,0,0,0,,away from the center or toward
Dialogue: 0,0:41:43.47,0:41:44.38,Default,,0,0,0,,the center of the image.
Dialogue: 0,0:41:45.06,0:41:46.44,Default,,0,0,0,,And this is what produces the
Dialogue: 0,0:41:46.44,0:41:48.23,Default,,0,0,0,,illusion of three dimensions.
Dialogue: 0,0:41:49.35,0:41:51.02,Default,,0,0,0,,Once we have transformed our
Dialogue: 0,0:41:51.02,0:41:52.91,Default,,0,0,0,,vertex position, we output it
Dialogue: 0,0:41:52.91,0:41:54.55,Default,,0,0,0,,here in the new output vertex
Dialogue: 0,0:41:55.15,0:41:56.28,Default,,0,0,0,,while preserving the original
Dialogue: 0,0:41:56.28,0:41:57.62,Default,,0,0,0,,depth value, z.
Dialogue: 0,0:41:58.01,0:41:59.55,Default,,0,0,0,,And this is important because it
Dialogue: 0,0:41:59.55,0:42:01.03,Default,,0,0,0,,will get passed into the z
Dialogue: 0,0:42:01.03,0:42:02.72,Default,,0,0,0,,buffer machinery of Metal, which
Dialogue: 0,0:42:02.72,0:42:03.86,Default,,0,0,0,,will then just do the right
Dialogue: 0,0:42:03.86,0:42:05.30,Default,,0,0,0,,thing for us as pixels move
Dialogue: 0,0:42:05.30,0:42:06.47,Default,,0,0,0,,around in the output and start
Dialogue: 0,0:42:06.47,0:42:07.39,Default,,0,0,0,,to overlap each other.
Dialogue: 0,0:42:09.55,0:42:11.43,Default,,0,0,0,,Also, we output the texture
Dialogue: 0,0:42:11.43,0:42:12.59,Default,,0,0,0,,coordinate of the original
Dialogue: 0,0:42:12.59,0:42:13.14,Default,,0,0,0,,vertex.
Dialogue: 0,0:42:13.91,0:42:14.76,Default,,0,0,0,,This will get used by the
Dialogue: 0,0:42:14.76,0:42:16.68,Default,,0,0,0,,fragment shader, which I'll show
Dialogue: 0,0:42:16.68,0:42:18.26,Default,,0,0,0,,you now.
Dialogue: 0,0:42:19.55,0:42:20.64,Default,,0,0,0,,Remember, the fragment shader's
Dialogue: 0,0:42:20.64,0:42:23.22,Default,,0,0,0,,job is to produce a color pixel
Dialogue: 0,0:42:23.22,0:42:23.65,Default,,0,0,0,,output.
Dialogue: 0,0:42:26.09,0:42:28.28,Default,,0,0,0,,And since Metal interpolates all
Dialogue: 0,0:42:28.28,0:42:30.18,Default,,0,0,0,,of these texture coordinates for
Dialogue: 0,0:42:30.18,0:42:32.02,Default,,0,0,0,,us, all we have to do in our
Dialogue: 0,0:42:32.02,0:42:33.91,Default,,0,0,0,,fragment shader is to sample the
Dialogue: 0,0:42:33.91,0:42:35.29,Default,,0,0,0,,original image at the
Dialogue: 0,0:42:35.29,0:42:36.55,Default,,0,0,0,,interpolated texture coordinate.
Dialogue: 0,0:42:37.16,0:42:38.05,Default,,0,0,0,,And that's it.
Dialogue: 0,0:42:38.05,0:42:39.22,Default,,0,0,0,,That's really all the code you
Dialogue: 0,0:42:39.22,0:42:41.18,Default,,0,0,0,,need to see to implement the
Dialogue: 0,0:42:41.18,0:42:42.08,Default,,0,0,0,,dolly zoom effect.
Dialogue: 0,0:42:42.36,0:42:43.51,Default,,0,0,0,,And hopefully it's given you
Dialogue: 0,0:42:43.51,0:42:45.99,Default,,0,0,0,,some ideas of new directions you
Dialogue: 0,0:42:45.99,0:42:47.62,Default,,0,0,0,,can take this in to produce your
Dialogue: 0,0:42:47.62,0:42:49.29,Default,,0,0,0,,own brand new custom 3-D
Dialogue: 0,0:42:49.29,0:42:49.80,Default,,0,0,0,,effects.
Dialogue: 0,0:42:50.15,0:42:51.41,Default,,0,0,0,,We're really excited to see what
Dialogue: 0,0:42:51.41,0:42:51.94,Default,,0,0,0,,you come up with.
Dialogue: 0,0:42:52.72,0:42:55.20,Default,,0,0,0,,And now, I'll hand the stage
Dialogue: 0,0:42:55.20,0:42:57.68,Default,,0,0,0,,back over to Etienne to finish
Dialogue: 0,0:42:57.68,0:42:58.00,Default,,0,0,0,,up.
Dialogue: 0,0:42:59.52,0:43:03.13,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:43:03.63,0:43:04.48,Default,,0,0,0,,>> Thank you, Stephen.
Dialogue: 0,0:43:05.47,0:43:06.22,Default,,0,0,0,,All right.
Dialogue: 0,0:43:06.80,0:43:08.37,Default,,0,0,0,,So now that we've applied
Dialogue: 0,0:43:08.37,0:43:10.10,Default,,0,0,0,,various new effects to our
Dialogue: 0,0:43:10.10,0:43:12.05,Default,,0,0,0,,images, there's one more step
Dialogue: 0,0:43:12.05,0:43:12.76,Default,,0,0,0,,that we need to take.
Dialogue: 0,0:43:13.34,0:43:18.05,Default,,0,0,0,,And that's save your depth data.
Dialogue: 0,0:43:18.15,0:43:20.28,Default,,0,0,0,,So, you should always preserve
Dialogue: 0,0:43:20.28,0:43:21.16,Default,,0,0,0,,the depth data.
Dialogue: 0,0:43:21.16,0:43:22.46,Default,,0,0,0,,All right?
Dialogue: 0,0:43:22.69,0:43:24.84,Default,,0,0,0,,That way your users will be able
Dialogue: 0,0:43:24.84,0:43:26.83,Default,,0,0,0,,to use other apps like yours to
Dialogue: 0,0:43:26.83,0:43:28.40,Default,,0,0,0,,apply their own depth effects on
Dialogue: 0,0:43:28.40,0:43:29.16,Default,,0,0,0,,top of yours.
Dialogue: 0,0:43:30.31,0:43:31.76,Default,,0,0,0,,Even if you don't use the depth
Dialogue: 0,0:43:31.76,0:43:33.44,Default,,0,0,0,,data, you should always preserve
Dialogue: 0,0:43:33.44,0:43:34.83,Default,,0,0,0,,it if it was present in your
Dialogue: 0,0:43:34.83,0:43:35.63,Default,,0,0,0,,original image.
Dialogue: 0,0:43:37.41,0:43:38.96,Default,,0,0,0,,This will really ensure the best
Dialogue: 0,0:43:38.96,0:43:40.25,Default,,0,0,0,,possible experience for your
Dialogue: 0,0:43:40.25,0:43:40.77,Default,,0,0,0,,users.
Dialogue: 0,0:43:41.78,0:43:43.25,Default,,0,0,0,,However, when you store the
Dialogue: 0,0:43:43.25,0:43:45.11,Default,,0,0,0,,depth data, be sure to match the
Dialogue: 0,0:43:45.11,0:43:47.17,Default,,0,0,0,,geometry of image data.
Dialogue: 0,0:43:48.38,0:43:49.62,Default,,0,0,0,,If you don't apply geometry
Dialogue: 0,0:43:49.62,0:43:51.79,Default,,0,0,0,,correctly, the depth data will
Dialogue: 0,0:43:51.79,0:43:53.21,Default,,0,0,0,,no longer match the image data.
Dialogue: 0,0:43:53.58,0:43:55.19,Default,,0,0,0,,And so further depth effect
Dialogue: 0,0:43:55.19,0:43:56.76,Default,,0,0,0,,applied on top of that will no
Dialogue: 0,0:43:56.76,0:43:57.61,Default,,0,0,0,,longer work properly.
Dialogue: 0,0:43:58.46,0:44:00.75,Default,,0,0,0,,So let's take a look at how the
Dialogue: 0,0:44:00.75,0:44:02.00,Default,,0,0,0,,kind of geometry transforming
Dialogue: 0,0:44:02.00,0:44:04.09,Default,,0,0,0,,might apply to depth data.
Dialogue: 0,0:44:05.37,0:44:08.13,Default,,0,0,0,,A very common operation is
Dialogue: 0,0:44:08.13,0:44:08.71,Default,,0,0,0,,orientation.
Dialogue: 0,0:44:09.26,0:44:10.92,Default,,0,0,0,,Often times you get to work with
Dialogue: 0,0:44:10.92,0:44:12.14,Default,,0,0,0,,a portrait image that was
Dialogue: 0,0:44:12.14,0:44:13.69,Default,,0,0,0,,actually shot in landscape and
Dialogue: 0,0:44:13.69,0:44:15.28,Default,,0,0,0,,has an [inaudible] orientation.
Dialogue: 0,0:44:16.70,0:44:18.50,Default,,0,0,0,,So, the depth data may look like
Dialogue: 0,0:44:18.50,0:44:18.87,Default,,0,0,0,,this.
Dialogue: 0,0:44:19.18,0:44:21.32,Default,,0,0,0,,And so you want to make sure to
Dialogue: 0,0:44:21.32,0:44:22.84,Default,,0,0,0,,orient the depth as well.
Dialogue: 0,0:44:23.12,0:44:24.05,Default,,0,0,0,,So make sure to apply
Dialogue: 0,0:44:24.05,0:44:24.64,Default,,0,0,0,,orientation.
Dialogue: 0,0:44:25.66,0:44:27.84,Default,,0,0,0,,Another very common operation is
Dialogue: 0,0:44:27.84,0:44:28.18,Default,,0,0,0,,crop.
Dialogue: 0,0:44:28.74,0:44:31.01,Default,,0,0,0,,Right? And so again, make sure
Dialogue: 0,0:44:31.01,0:44:33.18,Default,,0,0,0,,you crop the depth data to
Dialogue: 0,0:44:33.18,0:44:33.60,Default,,0,0,0,,match.
Dialogue: 0,0:44:35.27,0:44:36.64,Default,,0,0,0,,Now, you may have a more
Dialogue: 0,0:44:36.64,0:44:37.95,Default,,0,0,0,,advanced transform that you also
Dialogue: 0,0:44:37.95,0:44:39.78,Default,,0,0,0,,apply to your image such as
Dialogue: 0,0:44:39.97,0:44:41.26,Default,,0,0,0,,[inaudible] transform like this
Dialogue: 0,0:44:41.88,0:44:41.98,Default,,0,0,0,,one.
Dialogue: 0,0:44:42.53,0:44:43.80,Default,,0,0,0,,Right? Or maybe you have a
Dialogue: 0,0:44:43.80,0:44:45.01,Default,,0,0,0,,custom [inaudible] transform
Dialogue: 0,0:44:45.22,0:44:46.98,Default,,0,0,0,,such as a perspective transform.
Dialogue: 0,0:44:47.23,0:44:48.90,Default,,0,0,0,,Or maybe even a 3-D transform
Dialogue: 0,0:44:48.90,0:44:50.50,Default,,0,0,0,,like the one we saw in the dolly
Dialogue: 0,0:44:50.50,0:44:50.96,Default,,0,0,0,,zoom demo.
Dialogue: 0,0:44:52.61,0:44:54.27,Default,,0,0,0,,In any case, you want to also
Dialogue: 0,0:44:54.27,0:44:55.63,Default,,0,0,0,,apply the same transform to the
Dialogue: 0,0:44:55.63,0:44:57.19,Default,,0,0,0,,depth data so that it matches
Dialogue: 0,0:44:57.19,0:44:58.18,Default,,0,0,0,,the image perfectly.
Dialogue: 0,0:45:01.26,0:45:03.19,Default,,0,0,0,,Okay. So the key thing to
Dialogue: 0,0:45:03.19,0:45:04.85,Default,,0,0,0,,remember here is to apply your
Dialogue: 0,0:45:04.85,0:45:06.21,Default,,0,0,0,,transform at the native
Dialogue: 0,0:45:06.21,0:45:07.80,Default,,0,0,0,,resolution of the depth data.
Dialogue: 0,0:45:08.67,0:45:10.28,Default,,0,0,0,,So you want to scale your
Dialogue: 0,0:45:10.28,0:45:11.46,Default,,0,0,0,,transform parameter from the
Dialogue: 0,0:45:11.46,0:45:13.99,Default,,0,0,0,,full size image to that size of
Dialogue: 0,0:45:14.03,0:45:18.28,Default,,0,0,0,,the depth image.
Dialogue: 0,0:45:18.83,0:45:21.25,Default,,0,0,0,,Otherwise, right, your transform
Dialogue: 0,0:45:21.25,0:45:22.55,Default,,0,0,0,,will be applied incorrectly.
Dialogue: 0,0:45:22.55,0:45:24.07,Default,,0,0,0,,And then the depth image will no
Dialogue: 0,0:45:24.07,0:45:26.78,Default,,0,0,0,,longer match the image, the
Dialogue: 0,0:45:26.78,0:45:27.42,Default,,0,0,0,,output image.
Dialogue: 0,0:45:28.97,0:45:30.26,Default,,0,0,0,,Another thing to note is that
Dialogue: 0,0:45:30.49,0:45:31.92,Default,,0,0,0,,depth data is not color data.
Dialogue: 0,0:45:31.92,0:45:33.46,Default,,0,0,0,,So when you are rending a new
Dialogue: 0,0:45:33.46,0:45:35.29,Default,,0,0,0,,depth image, make sure you don't
Dialogue: 0,0:45:35.60,0:45:36.83,Default,,0,0,0,,apply any kind of color match
Dialogue: 0,0:45:36.83,0:45:40.00,Default,,0,0,0,,into it.
Dialogue: 0,0:45:40.00,0:45:40.25,Default,,0,0,0,,All right.
Dialogue: 0,0:45:41.52,0:45:43.16,Default,,0,0,0,,So now that we've seen what kind
Dialogue: 0,0:45:43.16,0:45:44.82,Default,,0,0,0,,of transform we may apply to
Dialogue: 0,0:45:44.82,0:45:46.99,Default,,0,0,0,,depth data we can render it into
Dialogue: 0,0:45:46.99,0:45:48.20,Default,,0,0,0,,a new CV pixel buffer.
Dialogue: 0,0:45:49.04,0:45:50.56,Default,,0,0,0,,Once we have a new CV pixel
Dialogue: 0,0:45:50.56,0:45:52.61,Default,,0,0,0,,buffer we can create a new AV
Dialogue: 0,0:45:52.61,0:45:53.75,Default,,0,0,0,,depth data object from it.
Dialogue: 0,0:45:54.03,0:45:54.48,Default,,0,0,0,,Here's how.
Dialogue: 0,0:45:55.17,0:45:56.56,Default,,0,0,0,,We start from our original depth
Dialogue: 0,0:45:56.56,0:45:58.39,Default,,0,0,0,,data object and then we call
Dialogue: 0,0:45:58.39,0:45:59.97,Default,,0,0,0,,Depth Data by replacing Depth
Dialogue: 0,0:45:59.97,0:46:00.43,Default,,0,0,0,,Data Map.
Dialogue: 0,0:46:00.71,0:46:01.88,Default,,0,0,0,,And we pass in all newly
Dialogue: 0,0:46:01.88,0:46:03.01,Default,,0,0,0,,rendered depth buffer.
Dialogue: 0,0:46:04.04,0:46:06.59,Default,,0,0,0,,Now returns a new AV depth data
Dialogue: 0,0:46:06.59,0:46:07.07,Default,,0,0,0,,object.
Dialogue: 0,0:46:07.07,0:46:08.81,Default,,0,0,0,,And we can then save into our
Dialogue: 0,0:46:08.88,0:46:10.08,Default,,0,0,0,,output image.
Dialogue: 0,0:46:10.96,0:46:12.03,Default,,0,0,0,,Let's a take a look at how to
Dialogue: 0,0:46:12.03,0:46:13.89,Default,,0,0,0,,write depth data using Image IO.
Dialogue: 0,0:46:15.88,0:46:18.39,Default,,0,0,0,,We start from an image
Dialogue: 0,0:46:18.39,0:46:20.06,Default,,0,0,0,,destination that we create for
Dialogue: 0,0:46:20.06,0:46:20.77,Default,,0,0,0,,our output file.
Dialogue: 0,0:46:22.48,0:46:23.82,Default,,0,0,0,,And here we ask for a JPEG
Dialogue: 0,0:46:23.82,0:46:24.30,Default,,0,0,0,,format.
Dialogue: 0,0:46:24.62,0:46:26.01,Default,,0,0,0,,So please note that not all
Dialogue: 0,0:46:26.01,0:46:27.10,Default,,0,0,0,,image from that [inaudible]
Dialogue: 0,0:46:27.10,0:46:28.90,Default,,0,0,0,,depth, but JPEG does.
Dialogue: 0,0:46:30.20,0:46:31.90,Default,,0,0,0,,Next we add our output image to
Dialogue: 0,0:46:31.90,0:46:32.93,Default,,0,0,0,,the image destination.
Dialogue: 0,0:46:35.46,0:46:37.23,Default,,0,0,0,,And then we ask all depth data
Dialogue: 0,0:46:37.23,0:46:38.46,Default,,0,0,0,,object that we want to store
Dialogue: 0,0:46:38.46,0:46:40.57,Default,,0,0,0,,into the image for a dictionary
Dialogue: 0,0:46:40.57,0:46:42.05,Default,,0,0,0,,representation for the auxiliary
Dialogue: 0,0:46:42.05,0:46:43.31,Default,,0,0,0,,data to store in the file.
Dialogue: 0,0:46:44.10,0:46:44.99,Default,,0,0,0,,So this is will return the
Dialogue: 0,0:46:44.99,0:46:46.67,Default,,0,0,0,,dictionary for the auxiliary
Dialogue: 0,0:46:46.67,0:46:48.52,Default,,0,0,0,,data as well as by reference the
Dialogue: 0,0:46:48.52,0:46:49.97,Default,,0,0,0,,type of the auxiliary data to
Dialogue: 0,0:46:49.97,0:46:50.35,Default,,0,0,0,,store.
Dialogue: 0,0:46:51.62,0:46:53.49,Default,,0,0,0,,Then we ask the CG image
Dialogue: 0,0:46:53.49,0:46:54.58,Default,,0,0,0,,destination to add that
Dialogue: 0,0:46:54.58,0:46:56.25,Default,,0,0,0,,auxiliary data, passing in the
Dialogue: 0,0:46:56.25,0:46:57.47,Default,,0,0,0,,type and the dictionary.
Dialogue: 0,0:46:58.57,0:47:00.19,Default,,0,0,0,,And finally, all we have to do
Dialogue: 0,0:47:00.19,0:47:01.59,Default,,0,0,0,,is to call CG image destination
Dialogue: 0,0:47:01.59,0:47:02.92,Default,,0,0,0,,finalized to write everything
Dialogue: 0,0:47:02.92,0:47:03.49,Default,,0,0,0,,down to disk.
Dialogue: 0,0:47:05.38,0:47:06.60,Default,,0,0,0,,If you're working with Core
Dialogue: 0,0:47:06.60,0:47:08.82,Default,,0,0,0,,Image, there's a new very
Dialogue: 0,0:47:08.82,0:47:10.96,Default,,0,0,0,,convenient way you can do this
Dialogue: 0,0:47:11.80,0:47:12.29,Default,,0,0,0,,as well.
Dialogue: 0,0:47:12.53,0:47:15.76,Default,,0,0,0,,So, if you are using CI context
Dialogue: 0,0:47:15.76,0:47:18.26,Default,,0,0,0,,[inaudible] representation for a
Dialogue: 0,0:47:18.26,0:47:20.37,Default,,0,0,0,,particular CI image directly in
Dialogue: 0,0:47:20.37,0:47:21.91,Default,,0,0,0,,order to render and save to a
Dialogue: 0,0:47:21.91,0:47:24.86,Default,,0,0,0,,JPEG file, you may now pass in
Dialogue: 0,0:47:25.37,0:47:28.09,Default,,0,0,0,,using an option key a depth data
Dialogue: 0,0:47:28.09,0:47:29.59,Default,,0,0,0,,object that you want to store as
Dialogue: 0,0:47:29.59,0:47:30.32,Default,,0,0,0,,part of that file.
Dialogue: 0,0:47:32.33,0:47:35.27,Default,,0,0,0,,Even better, if you have an
Dialogue: 0,0:47:35.27,0:47:37.63,Default,,0,0,0,,image, a depth image that you
Dialogue: 0,0:47:37.63,0:47:38.51,Default,,0,0,0,,have -- let's say you have
Dialogue: 0,0:47:38.51,0:47:39.63,Default,,0,0,0,,applied a transform to it or
Dialogue: 0,0:47:39.63,0:47:40.03,Default,,0,0,0,,something.
Dialogue: 0,0:47:40.53,0:47:44.22,Default,,0,0,0,,You can also specify it as an
Dialogue: 0,0:47:44.22,0:47:46.64,Default,,0,0,0,,option to that method so that
Dialogue: 0,0:47:47.36,0:47:49.23,Default,,0,0,0,,Core Image will render both the
Dialogue: 0,0:47:49.23,0:47:50.64,Default,,0,0,0,,regular image and the depth
Dialogue: 0,0:47:50.64,0:47:52.35,Default,,0,0,0,,image and save everything down
Dialogue: 0,0:47:52.87,0:47:54.67,Default,,0,0,0,,to the file in one call.
Dialogue: 0,0:47:55.12,0:47:55.76,Default,,0,0,0,,Very convenient.
Dialogue: 0,0:47:57.27,0:47:57.81,Default,,0,0,0,,And so that's it.
Dialogue: 0,0:47:57.81,0:47:59.34,Default,,0,0,0,,That concludes our session on
Dialogue: 0,0:47:59.50,0:48:00.82,Default,,0,0,0,,editing images with depth.
Dialogue: 0,0:48:01.81,0:48:02.86,Default,,0,0,0,,So, let's recap what we've
Dialogue: 0,0:48:02.86,0:48:03.36,Default,,0,0,0,,learned today.
Dialogue: 0,0:48:04.83,0:48:06.92,Default,,0,0,0,,We've learned what depth is and
Dialogue: 0,0:48:06.92,0:48:08.20,Default,,0,0,0,,what depth and disparity looks
Dialogue: 0,0:48:08.20,0:48:08.47,Default,,0,0,0,,like.
Dialogue: 0,0:48:10.79,0:48:12.39,Default,,0,0,0,,We've learned how to read and
Dialogue: 0,0:48:12.39,0:48:13.94,Default,,0,0,0,,prepare depth data for editing.
Dialogue: 0,0:48:14.80,0:48:18.07,Default,,0,0,0,,And then we saw several ways,
Dialogue: 0,0:48:18.07,0:48:19.13,Default,,0,0,0,,and we showed you several ways
Dialogue: 0,0:48:19.13,0:48:21.26,Default,,0,0,0,,to apply new depth effects to
Dialogue: 0,0:48:21.26,0:48:21.91,Default,,0,0,0,,your images.
Dialogue: 0,0:48:22.26,0:48:23.49,Default,,0,0,0,,The first one was background
Dialogue: 0,0:48:23.49,0:48:25.65,Default,,0,0,0,,effects using a built in Core
Dialogue: 0,0:48:25.65,0:48:26.33,Default,,0,0,0,,Image filter.
Dialogue: 0,0:48:26.99,0:48:28.41,Default,,0,0,0,,Then we had a custom darkness
Dialogue: 0,0:48:28.41,0:48:30.34,Default,,0,0,0,,effect using a custom Core Image
Dialogue: 0,0:48:30.34,0:48:30.71,Default,,0,0,0,,kernel.
Dialogue: 0,0:48:31.66,0:48:32.93,Default,,0,0,0,,And then we showed you how you
Dialogue: 0,0:48:32.93,0:48:34.89,Default,,0,0,0,,can apply your depth effect
Dialogue: 0,0:48:35.19,0:48:37.06,Default,,0,0,0,,using a new CI filter.
Dialogue: 0,0:48:38.25,0:48:39.65,Default,,0,0,0,,And then we saw how you can
Dialogue: 0,0:48:39.65,0:48:42.12,Default,,0,0,0,,create a brand new 3-D effect
Dialogue: 0,0:48:42.33,0:48:42.96,Default,,0,0,0,,using depth.
Dialogue: 0,0:48:43.74,0:48:45.32,Default,,0,0,0,,I hope that this session will
Dialogue: 0,0:48:45.32,0:48:47.02,Default,,0,0,0,,inspire you to use depth data
Dialogue: 0,0:48:47.02,0:48:48.33,Default,,0,0,0,,into your own applications.
Dialogue: 0,0:48:48.56,0:48:49.63,Default,,0,0,0,,And I can't wait to see what
Dialogue: 0,0:48:49.63,0:48:50.52,Default,,0,0,0,,cool effects you'll come up
Dialogue: 0,0:48:50.52,0:48:50.71,Default,,0,0,0,,with.
Dialogue: 0,0:48:51.57,0:48:53.28,Default,,0,0,0,,For more information, please go
Dialogue: 0,0:48:53.28,0:48:54.61,Default,,0,0,0,,to the [inaudible] at Apple.com.
Dialogue: 0,0:48:56.27,0:48:57.48,Default,,0,0,0,,We have a couple related
Dialogue: 0,0:48:57.48,0:48:58.04,Default,,0,0,0,,sessions.
Dialogue: 0,0:48:58.38,0:49:00.62,Default,,0,0,0,,There's a session on Advances in
Dialogue: 0,0:49:00.62,0:49:01.99,Default,,0,0,0,,Core Image that's going to take
Dialogue: 0,0:49:01.99,0:49:03.06,Default,,0,0,0,,place later today.
Dialogue: 0,0:49:03.06,0:49:04.59,Default,,0,0,0,,So we strongly encourage you to
Dialogue: 0,0:49:04.67,0:49:05.08,Default,,0,0,0,,go there.
Dialogue: 0,0:49:05.61,0:49:06.25,Default,,0,0,0,,Check it out.
Dialogue: 0,0:49:06.25,0:49:08.40,Default,,0,0,0,,And there was a couple of
Dialogue: 0,0:49:08.40,0:49:10.38,Default,,0,0,0,,session yesterday was doing
Dialogue: 0,0:49:10.38,0:49:12.90,Default,,0,0,0,,Photo Kit and also how to
Dialogue: 0,0:49:12.90,0:49:14.53,Default,,0,0,0,,capture depth with iPhone.
Dialogue: 0,0:49:15.28,0:49:17.08,Default,,0,0,0,,And with that, I hope that you
Dialogue: 0,0:49:17.08,0:49:18.96,Default,,0,0,0,,have a good rest of the WWDC.
Dialogue: 0,0:49:19.22,0:49:19.90,Default,,0,0,0,,Thank you very much.
