[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:31.22,0:00:31.82,Default,,0,0,0,,>> Good afternoon.
Dialogue: 0,0:00:32.38,0:00:33.05,Default,,0,0,0,,Thank you for coming.
Dialogue: 0,0:00:33.11,0:00:34.56,Default,,0,0,0,,I'm Noah. I'm here with my
Dialogue: 0,0:00:34.56,0:00:36.16,Default,,0,0,0,,colleague Warren and we're going
Dialogue: 0,0:00:36.16,0:00:37.39,Default,,0,0,0,,to talk to you about building
Dialogue: 0,0:00:37.39,0:00:39.35,Default,,0,0,0,,visually-rich user experiences.
Dialogue: 0,0:00:39.67,0:00:41.53,Default,,0,0,0,,So, there's three main areas
Dialogue: 0,0:00:41.53,0:00:43.29,Default,,0,0,0,,that we're going to cover today.
Dialogue: 0,0:00:44.02,0:00:45.69,Default,,0,0,0,,The first is a platform
Dialogue: 0,0:00:45.69,0:00:46.13,Default,,0,0,0,,overview.
Dialogue: 0,0:00:46.13,0:00:48.44,Default,,0,0,0,,Kind of a quick tour, kind of
Dialogue: 0,0:00:48.44,0:00:50.45,Default,,0,0,0,,the lay of the land of what the
Dialogue: 0,0:00:50.45,0:00:51.58,Default,,0,0,0,,graphics frameworks are on our
Dialogue: 0,0:00:51.58,0:00:53.10,Default,,0,0,0,,platforms, what they can do, how
Dialogue: 0,0:00:53.10,0:00:55.14,Default,,0,0,0,,you kind of fit them together.
Dialogue: 0,0:00:55.53,0:00:56.87,Default,,0,0,0,,Next, we're going to kind of
Dialogue: 0,0:00:56.87,0:00:59.05,Default,,0,0,0,,dive deep into one of the more
Dialogue: 0,0:00:59.05,0:01:01.39,Default,,0,0,0,,essential parts of the graphics
Dialogue: 0,0:01:01.94,0:01:04.71,Default,,0,0,0,,platform coordination and some
Dialogue: 0,0:01:04.71,0:01:06.83,Default,,0,0,0,,best practices that you can use
Dialogue: 0,0:01:06.83,0:01:08.17,Default,,0,0,0,,to kind of avoid common pitfalls
Dialogue: 0,0:01:08.17,0:01:10.35,Default,,0,0,0,,that people run into a lot with
Dialogue: 0,0:01:10.41,0:01:10.48,Default,,0,0,0,,CA.
Dialogue: 0,0:01:10.48,0:01:12.18,Default,,0,0,0,,And, finally, we're going to
Dialogue: 0,0:01:12.18,0:01:14.24,Default,,0,0,0,,spend a little more time on some
Dialogue: 0,0:01:14.24,0:01:14.82,Default,,0,0,0,,tips and tricks.
Dialogue: 0,0:01:14.82,0:01:17.70,Default,,0,0,0,,Some kind of small, fun, like,
Dialogue: 0,0:01:17.70,0:01:19.00,Default,,0,0,0,,useful things you can do to
Dialogue: 0,0:01:19.00,0:01:20.31,Default,,0,0,0,,really add some cool visual
Dialogue: 0,0:01:20.31,0:01:22.60,Default,,0,0,0,,flair to your apps.
Dialogue: 0,0:01:23.49,0:01:25.98,Default,,0,0,0,,So, if you spend any time
Dialogue: 0,0:01:26.13,0:01:26.56,Default,,0,0,0,,digging through the
Dialogue: 0,0:01:26.56,0:01:28.06,Default,,0,0,0,,documentation or just reading
Dialogue: 0,0:01:28.06,0:01:29.02,Default,,0,0,0,,just like overflow or anything,
Dialogue: 0,0:01:29.02,0:01:31.00,Default,,0,0,0,,you've probably seen a lot of
Dialogue: 0,0:01:31.00,0:01:32.64,Default,,0,0,0,,concepts kind of come up.
Dialogue: 0,0:01:33.01,0:01:35.12,Default,,0,0,0,,And there are a lot of them and
Dialogue: 0,0:01:35.12,0:01:36.26,Default,,0,0,0,,it would be great to have time
Dialogue: 0,0:01:36.26,0:01:37.39,Default,,0,0,0,,to kind of go into every single
Dialogue: 0,0:01:37.39,0:01:40.04,Default,,0,0,0,,one of these and just basically
Dialogue: 0,0:01:40.04,0:01:41.13,Default,,0,0,0,,spend all day here, but we
Dialogue: 0,0:01:41.13,0:01:41.85,Default,,0,0,0,,aren't really allowed to do
Dialogue: 0,0:01:41.85,0:01:42.07,Default,,0,0,0,,that.
Dialogue: 0,0:01:42.10,0:01:43.50,Default,,0,0,0,,So, instead, we're going to keep
Dialogue: 0,0:01:43.50,0:01:44.35,Default,,0,0,0,,it pretty high level.
Dialogue: 0,0:01:44.89,0:01:47.36,Default,,0,0,0,,Let's talk about what we have on
Dialogue: 0,0:01:47.36,0:01:49.33,Default,,0,0,0,,iOS, macOS, and tvOS.
Dialogue: 0,0:01:49.33,0:01:51.36,Default,,0,0,0,,First off, some of you are
Dialogue: 0,0:01:52.09,0:01:53.35,Default,,0,0,0,,probably already familiar with
Dialogue: 0,0:01:53.48,0:01:55.08,Default,,0,0,0,,UIKit and AppKit are the
Dialogue: 0,0:01:55.08,0:01:56.55,Default,,0,0,0,,frameworks with which you build
Dialogue: 0,0:01:57.09,0:01:58.36,Default,,0,0,0,,the UIs on most of your
Dialogue: 0,0:01:58.36,0:01:59.57,Default,,0,0,0,,applications.
Dialogue: 0,0:01:59.57,0:02:00.44,Default,,0,0,0,,They kind of provide you a
Dialogue: 0,0:02:00.44,0:02:01.98,Default,,0,0,0,,standard set of system controls.
Dialogue: 0,0:02:01.98,0:02:03.52,Default,,0,0,0,,They're customizable to a
Dialogue: 0,0:02:03.52,0:02:05.29,Default,,0,0,0,,degree, so you can make our
Dialogue: 0,0:02:05.29,0:02:06.38,Default,,0,0,0,,sliders look way cooler than
Dialogue: 0,0:02:06.38,0:02:06.94,Default,,0,0,0,,usual ones.
Dialogue: 0,0:02:07.31,0:02:09.10,Default,,0,0,0,,And they also come with some
Dialogue: 0,0:02:09.10,0:02:11.16,Default,,0,0,0,,really useful kind of built-in
Dialogue: 0,0:02:11.16,0:02:11.65,Default,,0,0,0,,behaviors.
Dialogue: 0,0:02:11.65,0:02:12.29,Default,,0,0,0,,You get these standard
Dialogue: 0,0:02:12.29,0:02:14.23,Default,,0,0,0,,appearances and transition
Dialogue: 0,0:02:14.23,0:02:15.12,Default,,0,0,0,,animations and that kind of
Dialogue: 0,0:02:15.12,0:02:16.46,Default,,0,0,0,,thing, but you also get support
Dialogue: 0,0:02:16.46,0:02:17.85,Default,,0,0,0,,for accessibility features and
Dialogue: 0,0:02:17.85,0:02:18.82,Default,,0,0,0,,dynamic type right out of the
Dialogue: 0,0:02:18.82,0:02:19.24,Default,,0,0,0,,box.
Dialogue: 0,0:02:19.72,0:02:22.30,Default,,0,0,0,,So, I said that these let you
Dialogue: 0,0:02:22.30,0:02:23.64,Default,,0,0,0,,customize things to some degree,
Dialogue: 0,0:02:23.85,0:02:24.71,Default,,0,0,0,,but as soon as you want to kind
Dialogue: 0,0:02:24.71,0:02:26.78,Default,,0,0,0,,of go beyond just setting a tint
Dialogue: 0,0:02:26.78,0:02:28.79,Default,,0,0,0,,color or an image override on
Dialogue: 0,0:02:28.79,0:02:30.85,Default,,0,0,0,,something, you might have to
Dialogue: 0,0:02:30.85,0:02:31.59,Default,,0,0,0,,start dropping down into
Dialogue: 0,0:02:31.59,0:02:32.76,Default,,0,0,0,,something like Core Animation.
Dialogue: 0,0:02:33.69,0:02:35.31,Default,,0,0,0,,And, as you might already be
Dialogue: 0,0:02:35.31,0:02:37.60,Default,,0,0,0,,aware, Core Animation underlies
Dialogue: 0,0:02:37.60,0:02:39.53,Default,,0,0,0,,UIKit on iOS and is also pretty
Dialogue: 0,0:02:39.53,0:02:41.50,Default,,0,0,0,,heavily integrated into AppKit
Dialogue: 0,0:02:41.50,0:02:43.18,Default,,0,0,0,,on the Mac.
Dialogue: 0,0:02:43.18,0:02:44.75,Default,,0,0,0,,And so, a view on iOS is
Dialogue: 0,0:02:44.75,0:02:46.55,Default,,0,0,0,,composed of a-- like has a layer
Dialogue: 0,0:02:46.55,0:02:48.86,Default,,0,0,0,,and the stuff that appears in
Dialogue: 0,0:02:48.86,0:02:51.18,Default,,0,0,0,,your application is this
Dialogue: 0,0:02:51.18,0:02:52.32,Default,,0,0,0,,hierarchy of layers kind of all
Dialogue: 0,0:02:52.32,0:02:52.76,Default,,0,0,0,,appearing together.
Dialogue: 0,0:02:52.76,0:02:55.28,Default,,0,0,0,,And that's what CA is good for.
Dialogue: 0,0:02:55.28,0:02:57.38,Default,,0,0,0,,It's kind of-- it's a thing to
Dialogue: 0,0:02:57.56,0:02:58.88,Default,,0,0,0,,take existing content, put it
Dialogue: 0,0:02:58.88,0:03:00.66,Default,,0,0,0,,together, display it in this
Dialogue: 0,0:03:00.66,0:03:02.14,Default,,0,0,0,,hierarchy that can move around
Dialogue: 0,0:03:02.14,0:03:03.31,Default,,0,0,0,,and animate and so on so forth
Dialogue: 0,0:03:03.31,0:03:05.34,Default,,0,0,0,,and finally composite it all
Dialogue: 0,0:03:05.34,0:03:06.76,Default,,0,0,0,,together and get it onscreen.
Dialogue: 0,0:03:08.67,0:03:12.36,Default,,0,0,0,,So, beyond that, there are a
Dialogue: 0,0:03:12.36,0:03:14.27,Default,,0,0,0,,couple other frameworks that we
Dialogue: 0,0:03:14.27,0:03:15.29,Default,,0,0,0,,have for some kind of more
Dialogue: 0,0:03:15.29,0:03:16.64,Default,,0,0,0,,specialized purposes.
Dialogue: 0,0:03:16.87,0:03:20.57,Default,,0,0,0,,Core Graphics is one that you
Dialogue: 0,0:03:20.62,0:03:21.73,Default,,0,0,0,,also might have encountered.
Dialogue: 0,0:03:21.73,0:03:24.12,Default,,0,0,0,,It lets you do kind of really
Dialogue: 0,0:03:24.60,0:03:26.29,Default,,0,0,0,,elaborate customizable 2D
Dialogue: 0,0:03:26.29,0:03:26.79,Default,,0,0,0,,drawings.
Dialogue: 0,0:03:26.79,0:03:29.26,Default,,0,0,0,,So, you can take a path and some
Dialogue: 0,0:03:29.26,0:03:30.32,Default,,0,0,0,,colors and turn them into these
Dialogue: 0,0:03:30.32,0:03:32.00,Default,,0,0,0,,kind of nice message bubbles
Dialogue: 0,0:03:32.00,0:03:33.08,Default,,0,0,0,,over here.
Dialogue: 0,0:03:33.69,0:03:35.10,Default,,0,0,0,,And Core Graphics is what you
Dialogue: 0,0:03:35.10,0:03:36.59,Default,,0,0,0,,use when you need to build
Dialogue: 0,0:03:36.59,0:03:37.52,Default,,0,0,0,,images at runtime.
Dialogue: 0,0:03:37.72,0:03:39.06,Default,,0,0,0,,For something-- for building it,
Dialogue: 0,0:03:39.06,0:03:40.38,Default,,0,0,0,,like beforehand, you probably
Dialogue: 0,0:03:40.38,0:03:41.43,Default,,0,0,0,,use something like Photoshop or
Dialogue: 0,0:03:41.43,0:03:43.34,Default,,0,0,0,,Sketch or Illustrator, but Core
Dialogue: 0,0:03:43.34,0:03:44.58,Default,,0,0,0,,Graphics lets you do that on the
Dialogue: 0,0:03:44.58,0:03:46.59,Default,,0,0,0,,device, you know, as your code
Dialogue: 0,0:03:46.59,0:03:47.00,Default,,0,0,0,,is running.
Dialogue: 0,0:03:47.77,0:03:50.32,Default,,0,0,0,,Which is really useful.
Dialogue: 0,0:03:50.32,0:03:53.14,Default,,0,0,0,,So, Core Graphics is useful for
Dialogue: 0,0:03:53.14,0:03:54.09,Default,,0,0,0,,drawing things, but there's
Dialogue: 0,0:03:54.09,0:03:54.92,Default,,0,0,0,,another framework that we have
Dialogue: 0,0:03:54.92,0:03:55.98,Default,,0,0,0,,for working with images that you
Dialogue: 0,0:03:55.98,0:03:57.79,Default,,0,0,0,,already have and that is
Dialogue: 0,0:03:57.79,0:03:59.08,Default,,0,0,0,,appropriately named Core Image.
Dialogue: 0,0:03:59.93,0:04:01.84,Default,,0,0,0,,And what that does is apply
Dialogue: 0,0:04:01.84,0:04:02.76,Default,,0,0,0,,filters to things.
Dialogue: 0,0:04:02.76,0:04:04.69,Default,,0,0,0,,You provide some set of input
Dialogue: 0,0:04:05.02,0:04:07.60,Default,,0,0,0,,images, you hand that to Core
Dialogue: 0,0:04:07.60,0:04:10.13,Default,,0,0,0,,Image, get a-- and get a filter
Dialogue: 0,0:04:10.13,0:04:12.74,Default,,0,0,0,,that does some thing, and it
Dialogue: 0,0:04:12.79,0:04:14.47,Default,,0,0,0,,produces the final rendered
Dialogue: 0,0:04:14.47,0:04:16.45,Default,,0,0,0,,output of the thing-- of the
Dialogue: 0,0:04:16.45,0:04:17.59,Default,,0,0,0,,filter, rather.
Dialogue: 0,0:04:17.74,0:04:19.49,Default,,0,0,0,,So, you have obviously simple
Dialogue: 0,0:04:19.49,0:04:20.56,Default,,0,0,0,,color transformation effects,
Dialogue: 0,0:04:20.56,0:04:23.79,Default,,0,0,0,,like this kind of nice sepia--
Dialogue: 0,0:04:23.79,0:04:25.56,Default,,0,0,0,,that's not sepia-- I don't know
Dialogue: 0,0:04:25.56,0:04:26.25,Default,,0,0,0,,what to call that.
Dialogue: 0,0:04:26.25,0:04:27.80,Default,,0,0,0,,Don't worry about it.
Dialogue: 0,0:04:28.23,0:04:29.43,Default,,0,0,0,,But you can also do kind of
Dialogue: 0,0:04:29.43,0:04:30.82,Default,,0,0,0,,interesting stylization effects,
Dialogue: 0,0:04:31.21,0:04:33.32,Default,,0,0,0,,like this cartoon drawing kind
Dialogue: 0,0:04:34.00,0:04:34.62,Default,,0,0,0,,of thing.
Dialogue: 0,0:04:34.62,0:04:36.10,Default,,0,0,0,,And what's neat about Core Image
Dialogue: 0,0:04:36.15,0:04:38.58,Default,,0,0,0,,is that it's really heavily
Dialogue: 0,0:04:38.58,0:04:40.10,Default,,0,0,0,,optimized and we kind of do a
Dialogue: 0,0:04:40.10,0:04:41.06,Default,,0,0,0,,lot of the work for you.
Dialogue: 0,0:04:41.06,0:04:43.16,Default,,0,0,0,,So, when you're doing something
Dialogue: 0,0:04:43.16,0:04:44.46,Default,,0,0,0,,more complicated like chaining
Dialogue: 0,0:04:44.46,0:04:46.30,Default,,0,0,0,,multiple filters together, we
Dialogue: 0,0:04:46.30,0:04:47.56,Default,,0,0,0,,kind of can optimize that for
Dialogue: 0,0:04:47.56,0:04:49.19,Default,,0,0,0,,you and instead of having to
Dialogue: 0,0:04:49.19,0:04:51.41,Default,,0,0,0,,kind of go through this process
Dialogue: 0,0:04:51.41,0:04:52.66,Default,,0,0,0,,over and over again on your
Dialogue: 0,0:04:52.66,0:04:54.60,Default,,0,0,0,,images for each filter, we can
Dialogue: 0,0:04:54.73,0:04:55.63,Default,,0,0,0,,kind of pipeline that.
Dialogue: 0,0:04:55.63,0:04:58.35,Default,,0,0,0,,And what's even better is that
Dialogue: 0,0:04:58.97,0:05:00.12,Default,,0,0,0,,all of this stuff can run on
Dialogue: 0,0:05:00.12,0:05:01.07,Default,,0,0,0,,basically whatever
Dialogue: 0,0:05:01.07,0:05:02.74,Default,,0,0,0,,parallelization hardware your
Dialogue: 0,0:05:02.74,0:05:03.35,Default,,0,0,0,,device has.
Dialogue: 0,0:05:03.73,0:05:05.81,Default,,0,0,0,,If you don't have much GPU
Dialogue: 0,0:05:05.81,0:05:06.83,Default,,0,0,0,,resources available, it runs on
Dialogue: 0,0:05:06.83,0:05:08.43,Default,,0,0,0,,the CPU and makes use of Grand
Dialogue: 0,0:05:08.43,0:05:09.68,Default,,0,0,0,,Central Dispatch and all that.
Dialogue: 0,0:05:09.68,0:05:10.90,Default,,0,0,0,,Completely under the hood,
Dialogue: 0,0:05:10.90,0:05:11.56,Default,,0,0,0,,transparent to you.
Dialogue: 0,0:05:11.99,0:05:14.50,Default,,0,0,0,,If it has Metal available, then
Dialogue: 0,0:05:14.50,0:05:16.10,Default,,0,0,0,,it can run using that.
Dialogue: 0,0:05:16.43,0:05:19.00,Default,,0,0,0,,So, that's pretty cool.
Dialogue: 0,0:05:20.60,0:05:21.98,Default,,0,0,0,,There are a couple other kinds
Dialogue: 0,0:05:21.98,0:05:22.81,Default,,0,0,0,,of contents you might want to
Dialogue: 0,0:05:22.81,0:05:23.88,Default,,0,0,0,,get into your apps that we have
Dialogue: 0,0:05:23.88,0:05:26.08,Default,,0,0,0,,some really useful frameworks
Dialogue: 0,0:05:26.08,0:05:26.62,Default,,0,0,0,,for.
Dialogue: 0,0:05:27.31,0:05:29.49,Default,,0,0,0,,And for 3D content, we have this
Dialogue: 0,0:05:29.49,0:05:31.50,Default,,0,0,0,,thing called SceneKit which
Dialogue: 0,0:05:31.61,0:05:33.62,Default,,0,0,0,,basically lets you get your 3D
Dialogue: 0,0:05:33.62,0:05:34.69,Default,,0,0,0,,content into your app and has
Dialogue: 0,0:05:34.69,0:05:36.25,Default,,0,0,0,,some really nicely integrated
Dialogue: 0,0:05:36.25,0:05:37.80,Default,,0,0,0,,tools in Xcode that let you kind
Dialogue: 0,0:05:37.80,0:05:39.42,Default,,0,0,0,,of manipulate it, set up scenes,
Dialogue: 0,0:05:39.83,0:05:40.37,Default,,0,0,0,,do all this.
Dialogue: 0,0:05:40.37,0:05:41.59,Default,,0,0,0,,And you'll see a little bit of
Dialogue: 0,0:05:41.59,0:05:42.60,Default,,0,0,0,,what that looks like a bit later
Dialogue: 0,0:05:42.60,0:05:42.81,Default,,0,0,0,,on.
Dialogue: 0,0:05:44.31,0:05:46.29,Default,,0,0,0,,SpriteKit is another framework
Dialogue: 0,0:05:46.29,0:05:47.88,Default,,0,0,0,,that's kind of built heavily for
Dialogue: 0,0:05:47.88,0:05:48.42,Default,,0,0,0,,games.
Dialogue: 0,0:05:48.42,0:05:50.19,Default,,0,0,0,,It gives you a lot of animation
Dialogue: 0,0:05:50.19,0:05:50.98,Default,,0,0,0,,primitives and that kind of
Dialogue: 0,0:05:50.98,0:05:53.71,Default,,0,0,0,,thing for having things, you
Dialogue: 0,0:05:53.71,0:05:54.73,Default,,0,0,0,,know, move around and interact
Dialogue: 0,0:05:54.73,0:05:55.63,Default,,0,0,0,,with each other onscreen.
Dialogue: 0,0:05:56.59,0:05:59.48,Default,,0,0,0,,So, there's one more framework
Dialogue: 0,0:05:59.48,0:06:00.78,Default,,0,0,0,,that I'd like to talk about
Dialogue: 0,0:06:00.78,0:06:02.81,Default,,0,0,0,,before we move on and that is
Dialogue: 0,0:06:02.81,0:06:04.54,Default,,0,0,0,,one you've probably heard of
Dialogue: 0,0:06:05.13,0:06:05.56,Default,,0,0,0,,called Metal.
Dialogue: 0,0:06:06.35,0:06:08.69,Default,,0,0,0,,And what Metal is is kind of the
Dialogue: 0,0:06:08.69,0:06:11.24,Default,,0,0,0,,fundamental graphics API on our
Dialogue: 0,0:06:11.24,0:06:11.90,Default,,0,0,0,,platforms.
Dialogue: 0,0:06:12.14,0:06:12.88,Default,,0,0,0,,It's what all of these other
Dialogue: 0,0:06:12.88,0:06:13.91,Default,,0,0,0,,things are built on top of.
Dialogue: 0,0:06:13.91,0:06:14.95,Default,,0,0,0,,I mentioned that Core Image can
Dialogue: 0,0:06:14.95,0:06:16.97,Default,,0,0,0,,use Metal, but SceneKit draws
Dialogue: 0,0:06:16.97,0:06:18.01,Default,,0,0,0,,using Metal on devices that
Dialogue: 0,0:06:18.01,0:06:19.02,Default,,0,0,0,,support it, SpriteKit does the
Dialogue: 0,0:06:19.02,0:06:20.98,Default,,0,0,0,,same, and Core Animation itself
Dialogue: 0,0:06:21.85,0:06:23.39,Default,,0,0,0,,is using Metal as well.
Dialogue: 0,0:06:24.22,0:06:26.56,Default,,0,0,0,,And so, Metal is-- it's kind of
Dialogue: 0,0:06:26.56,0:06:28.54,Default,,0,0,0,,hard to describe exactly what
Dialogue: 0,0:06:28.54,0:06:29.74,Default,,0,0,0,,you use it for because you can
Dialogue: 0,0:06:29.74,0:06:31.66,Default,,0,0,0,,do basically anything with it if
Dialogue: 0,0:06:31.66,0:06:32.81,Default,,0,0,0,,you are willing to put the work
Dialogue: 0,0:06:32.81,0:06:33.04,Default,,0,0,0,,in.
Dialogue: 0,0:06:34.43,0:06:36.97,Default,,0,0,0,,But what it lets you do is just
Dialogue: 0,0:06:36.97,0:06:38.43,Default,,0,0,0,,kind of get the fastest possible
Dialogue: 0,0:06:38.43,0:06:40.36,Default,,0,0,0,,access to the lowest level of
Dialogue: 0,0:06:40.36,0:06:41.58,Default,,0,0,0,,the graphics hardware we have
Dialogue: 0,0:06:41.58,0:06:42.14,Default,,0,0,0,,available.
Dialogue: 0,0:06:42.76,0:06:44.21,Default,,0,0,0,,And so, a lot of the times
Dialogue: 0,0:06:44.21,0:06:45.32,Default,,0,0,0,,you're not using Metal directly,
Dialogue: 0,0:06:45.32,0:06:46.01,Default,,0,0,0,,you're using it through one of
Dialogue: 0,0:06:46.01,0:06:47.13,Default,,0,0,0,,these other frameworks, but if
Dialogue: 0,0:06:47.13,0:06:48.24,Default,,0,0,0,,you need to build something
Dialogue: 0,0:06:48.24,0:06:50.00,Default,,0,0,0,,custom, something that isn't
Dialogue: 0,0:06:50.00,0:06:50.75,Default,,0,0,0,,really supported by any of
Dialogue: 0,0:06:50.75,0:06:51.96,Default,,0,0,0,,these, that's what you're using
Dialogue: 0,0:06:51.96,0:06:52.25,Default,,0,0,0,,it for.
Dialogue: 0,0:06:52.82,0:06:55.58,Default,,0,0,0,,As an example, on the iPhone 7--
Dialogue: 0,0:06:55.92,0:06:58.27,Default,,0,0,0,,sorry, the 7 Plus-- we have this
Dialogue: 0,0:06:58.27,0:06:59.42,Default,,0,0,0,,kind of neat depth of field
Dialogue: 0,0:06:59.42,0:07:02.53,Default,,0,0,0,,effect in the camera and that
Dialogue: 0,0:07:02.78,0:07:03.92,Default,,0,0,0,,basically takes the camera
Dialogue: 0,0:07:03.92,0:07:05.82,Default,,0,0,0,,image, does some kind of depth
Dialogue: 0,0:07:05.82,0:07:08.03,Default,,0,0,0,,reconstruction stuff on it, some
Dialogue: 0,0:07:08.13,0:07:10.53,Default,,0,0,0,,math that is way beyond me, and
Dialogue: 0,0:07:11.39,0:07:12.89,Default,,0,0,0,,can figure out kind of the depth
Dialogue: 0,0:07:12.89,0:07:14.35,Default,,0,0,0,,of the pixels in each-- at each
Dialogue: 0,0:07:14.39,0:07:15.50,Default,,0,0,0,,point in the scene and then
Dialogue: 0,0:07:15.53,0:07:16.45,Default,,0,0,0,,apply an intelligent kind of
Dialogue: 0,0:07:16.45,0:07:17.51,Default,,0,0,0,,blur filter to them so you get
Dialogue: 0,0:07:17.51,0:07:19.08,Default,,0,0,0,,this nice soft background.
Dialogue: 0,0:07:19.69,0:07:21.47,Default,,0,0,0,,And that doesn't sound like any
Dialogue: 0,0:07:21.47,0:07:22.26,Default,,0,0,0,,of the other frameworks that I
Dialogue: 0,0:07:22.26,0:07:22.87,Default,,0,0,0,,told you about, right?
Dialogue: 0,0:07:22.95,0:07:25.76,Default,,0,0,0,,So, that was built for iOS 10
Dialogue: 0,0:07:26.17,0:07:27.53,Default,,0,0,0,,and rebuilt for iOS 11.
Dialogue: 0,0:07:27.53,0:07:28.21,Default,,0,0,0,,I don't know if you've noticed
Dialogue: 0,0:07:28.21,0:07:29.49,Default,,0,0,0,,that the effects just got better
Dialogue: 0,0:07:29.61,0:07:33.26,Default,,0,0,0,,in the betas on top of Metal.
Dialogue: 0,0:07:34.03,0:07:36.24,Default,,0,0,0,,So, that was kind of a quick
Dialogue: 0,0:07:36.24,0:07:36.46,Default,,0,0,0,,tour.
Dialogue: 0,0:07:36.46,0:07:37.44,Default,,0,0,0,,We just went down through all
Dialogue: 0,0:07:37.44,0:07:39.41,Default,,0,0,0,,these layers and the idea here
Dialogue: 0,0:07:39.41,0:07:40.98,Default,,0,0,0,,is not to kind of give you an
Dialogue: 0,0:07:40.98,0:07:42.32,Default,,0,0,0,,exhaustive explanation of what
Dialogue: 0,0:07:42.32,0:07:43.35,Default,,0,0,0,,each one does, but I just want
Dialogue: 0,0:07:43.35,0:07:45.12,Default,,0,0,0,,to kind of have you know where
Dialogue: 0,0:07:45.12,0:07:45.65,Default,,0,0,0,,things are.
Dialogue: 0,0:07:45.65,0:07:47.25,Default,,0,0,0,,So, if you have some problem
Dialogue: 0,0:07:47.25,0:07:48.07,Default,,0,0,0,,that you want to solve in your
Dialogue: 0,0:07:48.07,0:07:49.72,Default,,0,0,0,,app, you can kind of look back
Dialogue: 0,0:07:49.72,0:07:51.53,Default,,0,0,0,,and be like I think I heard that
Dialogue: 0,0:07:51.53,0:07:52.40,Default,,0,0,0,,there's a firmware that does
Dialogue: 0,0:07:52.40,0:07:52.68,Default,,0,0,0,,that.
Dialogue: 0,0:07:52.68,0:07:54.90,Default,,0,0,0,,Let me check that out.
Dialogue: 0,0:07:55.30,0:07:56.84,Default,,0,0,0,,So, to give you a little bit
Dialogue: 0,0:07:56.84,0:07:58.77,Default,,0,0,0,,more of an idea of how you use
Dialogue: 0,0:07:58.81,0:08:00.82,Default,,0,0,0,,these and how they work, I'd
Dialogue: 0,0:08:00.82,0:08:01.55,Default,,0,0,0,,like to bring up my colleague,
Dialogue: 0,0:08:01.55,0:08:02.65,Default,,0,0,0,,Warren, for a demo.
Dialogue: 0,0:08:03.52,0:08:08.19,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:08:08.69,0:08:09.09,Default,,0,0,0,,>> Thanks, Noah.
Dialogue: 0,0:08:17.52,0:08:18.83,Default,,0,0,0,,So, with this series of demos,
Dialogue: 0,0:08:18.83,0:08:19.92,Default,,0,0,0,,I'm going to walk you through
Dialogue: 0,0:08:19.97,0:08:21.13,Default,,0,0,0,,some of the frameworks that Noah
Dialogue: 0,0:08:21.13,0:08:22.51,Default,,0,0,0,,just introduced and we'll start
Dialogue: 0,0:08:22.51,0:08:23.41,Default,,0,0,0,,right at the beginning with
Dialogue: 0,0:08:23.44,0:08:24.68,Default,,0,0,0,,UIKit customization.
Dialogue: 0,0:08:25.11,0:08:26.00,Default,,0,0,0,,I want to say right from the
Dialogue: 0,0:08:26.00,0:08:27.47,Default,,0,0,0,,start that it's not important
Dialogue: 0,0:08:27.47,0:08:28.35,Default,,0,0,0,,for you to pay attention to
Dialogue: 0,0:08:28.35,0:08:29.58,Default,,0,0,0,,every single line that I
Dialogue: 0,0:08:29.68,0:08:30.93,Default,,0,0,0,,highlight or talk about.
Dialogue: 0,0:08:31.32,0:08:32.71,Default,,0,0,0,,The sample is already available
Dialogue: 0,0:08:32.71,0:08:33.90,Default,,0,0,0,,online and you can definitely
Dialogue: 0,0:08:33.90,0:08:35.72,Default,,0,0,0,,pull it down and follow along on
Dialogue: 0,0:08:35.72,0:08:36.34,Default,,0,0,0,,your own time.
Dialogue: 0,0:08:36.63,0:08:37.98,Default,,0,0,0,,But, over the course of the next
Dialogue: 0,0:08:37.98,0:08:39.03,Default,,0,0,0,,several minutes, I'll walk
Dialogue: 0,0:08:39.03,0:08:40.07,Default,,0,0,0,,through some of the platform
Dialogue: 0,0:08:40.07,0:08:41.39,Default,,0,0,0,,features that we have and how
Dialogue: 0,0:08:41.39,0:08:42.52,Default,,0,0,0,,you can use them to enhance the
Dialogue: 0,0:08:42.52,0:08:43.36,Default,,0,0,0,,user experience of your
Dialogue: 0,0:08:43.36,0:08:43.90,Default,,0,0,0,,application.
Dialogue: 0,0:08:44.55,0:08:49.54,Default,,0,0,0,,So, to start, I'll just go ahead
Dialogue: 0,0:08:49.54,0:08:50.69,Default,,0,0,0,,show you what this particular
Dialogue: 0,0:08:50.69,0:08:52.13,Default,,0,0,0,,UIKit customization example
Dialogue: 0,0:08:52.13,0:08:52.63,Default,,0,0,0,,does.
Dialogue: 0,0:08:53.99,0:08:57.86,Default,,0,0,0,,I have here a screen, perhaps
Dialogue: 0,0:08:57.86,0:08:59.02,Default,,0,0,0,,it's from a video-editing
Dialogue: 0,0:08:59.02,0:09:00.44,Default,,0,0,0,,application that allows me to
Dialogue: 0,0:09:00.44,0:09:01.82,Default,,0,0,0,,control the white balance of a
Dialogue: 0,0:09:01.82,0:09:02.80,Default,,0,0,0,,photograph.
Dialogue: 0,0:09:02.99,0:09:04.17,Default,,0,0,0,,As you can see, I've already
Dialogue: 0,0:09:04.17,0:09:05.90,Default,,0,0,0,,customized the UI sliders at the
Dialogue: 0,0:09:05.90,0:09:08.10,Default,,0,0,0,,bottom of this screen with track
Dialogue: 0,0:09:08.23,0:09:10.04,Default,,0,0,0,,tint colors to signify the
Dialogue: 0,0:09:10.04,0:09:11.25,Default,,0,0,0,,purpose of each slider.
Dialogue: 0,0:09:11.67,0:09:13.19,Default,,0,0,0,,So, the slider on top will
Dialogue: 0,0:09:13.19,0:09:14.53,Default,,0,0,0,,control the color temperature
Dialogue: 0,0:09:14.87,0:09:15.92,Default,,0,0,0,,while the slider on bottom will
Dialogue: 0,0:09:15.92,0:09:17.04,Default,,0,0,0,,control the color tint.
Dialogue: 0,0:09:17.59,0:09:18.60,Default,,0,0,0,,And the combined effect of these
Dialogue: 0,0:09:18.60,0:09:19.97,Default,,0,0,0,,sliders will allow us to control
Dialogue: 0,0:09:19.97,0:09:21.88,Default,,0,0,0,,the white point of the
Dialogue: 0,0:09:21.88,0:09:23.07,Default,,0,0,0,,photograph.
Dialogue: 0,0:09:24.82,0:09:26.23,Default,,0,0,0,,But, I might actually want to
Dialogue: 0,0:09:26.23,0:09:27.36,Default,,0,0,0,,punch this up a little bit more
Dialogue: 0,0:09:27.52,0:09:28.69,Default,,0,0,0,,by adding a track image.
Dialogue: 0,0:09:29.06,0:09:30.13,Default,,0,0,0,,I'll go ahead and do that now
Dialogue: 0,0:09:30.13,0:09:31.40,Default,,0,0,0,,and show you the effect.
Dialogue: 0,0:09:39.32,0:09:40.80,Default,,0,0,0,,So, as you can see, I've added a
Dialogue: 0,0:09:40.80,0:09:41.85,Default,,0,0,0,,gradient image to each of these
Dialogue: 0,0:09:41.85,0:09:43.25,Default,,0,0,0,,sliders with rounded end caps.
Dialogue: 0,0:09:43.69,0:09:45.01,Default,,0,0,0,,And this actually creates a much
Dialogue: 0,0:09:45.01,0:09:47.58,Default,,0,0,0,,nicer visual appearance and also
Dialogue: 0,0:09:47.58,0:09:48.56,Default,,0,0,0,,hints a little bit further at
Dialogue: 0,0:09:48.56,0:09:49.67,Default,,0,0,0,,what these sliders actually are
Dialogue: 0,0:09:49.67,0:09:50.02,Default,,0,0,0,,for.
Dialogue: 0,0:09:50.65,0:09:51.87,Default,,0,0,0,,Now, if I adjust these sliders
Dialogue: 0,0:09:51.87,0:09:52.91,Default,,0,0,0,,right now, you'll notice that
Dialogue: 0,0:09:52.91,0:09:54.29,Default,,0,0,0,,the image itself doesn't change.
Dialogue: 0,0:09:54.74,0:09:55.98,Default,,0,0,0,,But, in the next sample, I'll
Dialogue: 0,0:09:55.98,0:09:57.68,Default,,0,0,0,,show you how to actually
Dialogue: 0,0:09:57.68,0:09:58.96,Default,,0,0,0,,implement the effect of
Dialogue: 0,0:09:58.96,0:09:59.81,Default,,0,0,0,,modifying the image.
Dialogue: 0,0:09:59.98,0:10:01.61,Default,,0,0,0,,In the meantime, I'll walk
Dialogue: 0,0:10:01.79,0:10:03.56,Default,,0,0,0,,through this particular example
Dialogue: 0,0:10:03.62,0:10:04.63,Default,,0,0,0,,in a little bit more detail.
Dialogue: 0,0:10:05.29,0:10:07.40,Default,,0,0,0,,So, I instantiate a UI image and
Dialogue: 0,0:10:11.22,0:10:12.63,Default,,0,0,0,,then I-- and then make it
Dialogue: 0,0:10:12.63,0:10:16.43,Default,,0,0,0,,resizable by using one of the
Dialogue: 0,0:10:16.66,0:10:18.13,Default,,0,0,0,,APIs on UI image.
Dialogue: 0,0:10:18.54,0:10:20.81,Default,,0,0,0,,And then I can actually set each
Dialogue: 0,0:10:21.65,0:10:23.64,Default,,0,0,0,,of the images on the sliders.
Dialogue: 0,0:10:24.02,0:10:25.54,Default,,0,0,0,,The minimum track image and then
Dialogue: 0,0:10:25.54,0:10:26.49,Default,,0,0,0,,maximum track image.
Dialogue: 0,0:10:26.92,0:10:28.15,Default,,0,0,0,,And, as I move the slider, it
Dialogue: 0,0:10:28.15,0:10:29.70,Default,,0,0,0,,will be redrawn and use the
Dialogue: 0,0:10:29.70,0:10:31.10,Default,,0,0,0,,appropriate image to draw the
Dialogue: 0,0:10:31.10,0:10:32.11,Default,,0,0,0,,portion of the track to which it
Dialogue: 0,0:10:32.11,0:10:32.57,Default,,0,0,0,,applies.
Dialogue: 0,0:10:35.08,0:10:36.10,Default,,0,0,0,,So, I mentioned that I'd show
Dialogue: 0,0:10:36.10,0:10:37.13,Default,,0,0,0,,you how to actually implement
Dialogue: 0,0:10:37.13,0:10:38.02,Default,,0,0,0,,this effect and that's what I'd
Dialogue: 0,0:10:38.02,0:10:38.65,Default,,0,0,0,,like to do now.
Dialogue: 0,0:10:39.43,0:10:41.48,Default,,0,0,0,,So-- and I'll do that with Core
Dialogue: 0,0:10:41.48,0:10:41.81,Default,,0,0,0,,Image.
Dialogue: 0,0:10:42.91,0:10:43.88,Default,,0,0,0,,So, as you can see, this is the
Dialogue: 0,0:10:43.88,0:10:46.12,Default,,0,0,0,,exact same UI, but now when I
Dialogue: 0,0:10:46.12,0:10:47.99,Default,,0,0,0,,adjust the sliders, which I
Dialogue: 0,0:10:47.99,0:10:49.27,Default,,0,0,0,,might do because this image was
Dialogue: 0,0:10:49.27,0:10:50.29,Default,,0,0,0,,shot underwater and I want to
Dialogue: 0,0:10:50.29,0:10:51.67,Default,,0,0,0,,make it a little bit warmer and
Dialogue: 0,0:10:51.67,0:10:52.70,Default,,0,0,0,,remove some of that green tint
Dialogue: 0,0:10:52.70,0:10:53.15,Default,,0,0,0,,from the algae.
Dialogue: 0,0:10:53.15,0:10:56.13,Default,,0,0,0,,You can see that the image
Dialogue: 0,0:10:56.13,0:10:57.40,Default,,0,0,0,,actually updates in real time.
Dialogue: 0,0:10:57.94,0:10:59.07,Default,,0,0,0,,Let's talk about how we actually
Dialogue: 0,0:10:59.07,0:10:59.91,Default,,0,0,0,,do that.
Dialogue: 0,0:11:06.50,0:11:08.11,Default,,0,0,0,,So, Noah mentioned that Core
Dialogue: 0,0:11:08.11,0:11:09.60,Default,,0,0,0,,Image has numerous different
Dialogue: 0,0:11:09.63,0:11:11.14,Default,,0,0,0,,filters available and the filter
Dialogue: 0,0:11:11.14,0:11:11.85,Default,,0,0,0,,that we'll be using
Dialogue: 0,0:11:11.95,0:11:13.74,Default,,0,0,0,,appropriately enough is the CI
Dialogue: 0,0:11:13.74,0:11:14.90,Default,,0,0,0,,temperature and tint filter.
Dialogue: 0,0:11:15.86,0:11:17.88,Default,,0,0,0,,Now, it bears a mention that CI
Dialogue: 0,0:11:17.88,0:11:18.97,Default,,0,0,0,,filters don't actually do the
Dialogue: 0,0:11:18.97,0:11:20.49,Default,,0,0,0,,hard work of image filtering in
Dialogue: 0,0:11:20.49,0:11:21.04,Default,,0,0,0,,Core Image.
Dialogue: 0,0:11:21.50,0:11:22.43,Default,,0,0,0,,Rather, what does most of the
Dialogue: 0,0:11:22.43,0:11:24.00,Default,,0,0,0,,work is an object called a CI
Dialogue: 0,0:11:24.06,0:11:24.66,Default,,0,0,0,,context.
Dialogue: 0,0:11:24.66,0:11:26.43,Default,,0,0,0,,The CI context is basically the
Dialogue: 0,0:11:26.43,0:11:27.81,Default,,0,0,0,,interface to the underlying
Dialogue: 0,0:11:27.81,0:11:29.41,Default,,0,0,0,,hardware that actually performs
Dialogue: 0,0:11:29.97,0:11:30.90,Default,,0,0,0,,the image filtering.
Dialogue: 0,0:11:31.07,0:11:31.96,Default,,0,0,0,,So, I've already created one of
Dialogue: 0,0:11:31.96,0:11:34.24,Default,,0,0,0,,those and I'll be using it in
Dialogue: 0,0:11:34.24,0:11:36.63,Default,,0,0,0,,this function, but first what I
Dialogue: 0,0:11:36.63,0:11:38.24,Default,,0,0,0,,want to do is instantiate a CI
Dialogue: 0,0:11:38.29,0:11:40.34,Default,,0,0,0,,image that's based on the image
Dialogue: 0,0:11:40.38,0:11:41.51,Default,,0,0,0,,that's currently being displayed
Dialogue: 0,0:11:41.67,0:11:43.89,Default,,0,0,0,,by the UI image view in my
Dialogue: 0,0:11:44.22,0:11:44.66,Default,,0,0,0,,screen.
Dialogue: 0,0:11:46.27,0:11:47.73,Default,,0,0,0,,Now, CI temperature and tint
Dialogue: 0,0:11:47.73,0:11:49.10,Default,,0,0,0,,filter has a couple of different
Dialogue: 0,0:11:49.10,0:11:50.04,Default,,0,0,0,,parameters that allow me to
Dialogue: 0,0:11:50.04,0:11:51.61,Default,,0,0,0,,control the white point and in
Dialogue: 0,0:11:51.61,0:11:52.98,Default,,0,0,0,,particular the-- these
Dialogue: 0,0:11:53.21,0:11:54.75,Default,,0,0,0,,parameters are called the
Dialogue: 0,0:11:54.75,0:11:56.15,Default,,0,0,0,,neutral and target neutral
Dialogue: 0,0:11:56.15,0:11:56.65,Default,,0,0,0,,vectors.
Dialogue: 0,0:11:57.21,0:11:58.74,Default,,0,0,0,,And each of these represents a
Dialogue: 0,0:11:58.74,0:12:00.55,Default,,0,0,0,,particular color temperature and
Dialogue: 0,0:12:00.55,0:12:01.14,Default,,0,0,0,,a color tint.
Dialogue: 0,0:12:02.00,0:12:04.21,Default,,0,0,0,,And so, I know that the
Dialogue: 0,0:12:04.56,0:12:05.73,Default,,0,0,0,,temperature and tint that I'm
Dialogue: 0,0:12:05.73,0:12:08.15,Default,,0,0,0,,shooting for are 6500 degrees
Dialogue: 0,0:12:08.15,0:12:10.01,Default,,0,0,0,,Kelvin and a perfectly neutral
Dialogue: 0,0:12:10.41,0:12:12.66,Default,,0,0,0,,0, neither too magenta nor too
Dialogue: 0,0:12:12.66,0:12:13.04,Default,,0,0,0,,green.
Dialogue: 0,0:12:13.42,0:12:15.08,Default,,0,0,0,,So, I construct a vector with
Dialogue: 0,0:12:15.08,0:12:16.45,Default,,0,0,0,,those parameters and then I
Dialogue: 0,0:12:16.45,0:12:19.37,Default,,0,0,0,,construct another vector with
Dialogue: 0,0:12:19.37,0:12:20.53,Default,,0,0,0,,the parameters that come from
Dialogue: 0,0:12:20.53,0:12:21.56,Default,,0,0,0,,the values of my slider.
Dialogue: 0,0:12:22.38,0:12:23.73,Default,,0,0,0,,I then construct a dictionary
Dialogue: 0,0:12:24.39,0:12:25.12,Default,,0,0,0,,that holds all of these
Dialogue: 0,0:12:25.12,0:12:26.23,Default,,0,0,0,,parameters, including the input
Dialogue: 0,0:12:26.23,0:12:28.46,Default,,0,0,0,,image, and ask CI to create a
Dialogue: 0,0:12:28.46,0:12:31.02,Default,,0,0,0,,filter for me based on the name
Dialogue: 0,0:12:31.15,0:12:32.77,Default,,0,0,0,,CI temperature and tint.
Dialogue: 0,0:12:33.32,0:12:34.52,Default,,0,0,0,,Then, in order to actually
Dialogue: 0,0:12:34.52,0:12:36.89,Default,,0,0,0,,perform the filtering, I'm going
Dialogue: 0,0:12:36.89,0:12:37.82,Default,,0,0,0,,to use a little bit of Grand
Dialogue: 0,0:12:37.82,0:12:39.04,Default,,0,0,0,,Central Dispatch to get off the
Dialogue: 0,0:12:39.04,0:12:40.93,Default,,0,0,0,,main thread because image
Dialogue: 0,0:12:40.93,0:12:42.31,Default,,0,0,0,,processing is a fairly intensive
Dialogue: 0,0:12:42.31,0:12:42.90,Default,,0,0,0,,operation.
Dialogue: 0,0:12:43.71,0:12:45.16,Default,,0,0,0,,So, I'll dispatch to a queue
Dialogue: 0,0:12:45.16,0:12:47.06,Default,,0,0,0,,that I created previously and
Dialogue: 0,0:12:47.06,0:12:48.97,Default,,0,0,0,,then ask my context to create a
Dialogue: 0,0:12:48.97,0:12:50.88,Default,,0,0,0,,CG image based on the output
Dialogue: 0,0:12:50.88,0:12:52.08,Default,,0,0,0,,image of the filter that I just
Dialogue: 0,0:12:52.08,0:12:53.54,Default,,0,0,0,,created, which will have the
Dialogue: 0,0:12:53.54,0:12:54.62,Default,,0,0,0,,effect of pulling the filtered
Dialogue: 0,0:12:54.62,0:12:56.16,Default,,0,0,0,,image through the filter,
Dialogue: 0,0:12:56.38,0:12:57.10,Default,,0,0,0,,applying the effect.
Dialogue: 0,0:12:58.43,0:12:59.76,Default,,0,0,0,,Once that's done, I'll then
Dialogue: 0,0:12:59.76,0:13:00.98,Default,,0,0,0,,dispatch asynchronously back to
Dialogue: 0,0:13:00.98,0:13:02.63,Default,,0,0,0,,the main queue and set the
Dialogue: 0,0:13:02.63,0:13:04.93,Default,,0,0,0,,resulting image on my UI image
Dialogue: 0,0:13:04.93,0:13:05.55,Default,,0,0,0,,view once more.
Dialogue: 0,0:13:07.96,0:13:10.92,Default,,0,0,0,,Now, sometimes using UIKit or
Dialogue: 0,0:13:10.92,0:13:12.37,Default,,0,0,0,,Core Image or many of these
Dialogue: 0,0:13:12.37,0:13:13.40,Default,,0,0,0,,other high-level frameworks is
Dialogue: 0,0:13:13.40,0:13:14.32,Default,,0,0,0,,not quite enough and you
Dialogue: 0,0:13:14.32,0:13:16.52,Default,,0,0,0,,actually want to draw user
Dialogue: 0,0:13:16.52,0:13:17.91,Default,,0,0,0,,interface elements on the fly.
Dialogue: 0,0:13:18.54,0:13:19.60,Default,,0,0,0,,Well, like Noah mentioned, you
Dialogue: 0,0:13:19.60,0:13:21.21,Default,,0,0,0,,can actually use Core Graphics
Dialogue: 0,0:13:21.21,0:13:21.65,Default,,0,0,0,,to do that.
Dialogue: 0,0:13:22.32,0:13:23.66,Default,,0,0,0,,This is a very simple
Dialogue: 0,0:13:23.66,0:13:25.01,Default,,0,0,0,,application of Core Graphics,
Dialogue: 0,0:13:25.11,0:13:26.62,Default,,0,0,0,,but let's say I want to draw a
Dialogue: 0,0:13:26.62,0:13:27.41,Default,,0,0,0,,star polygon.
Dialogue: 0,0:13:29.18,0:13:32.22,Default,,0,0,0,,Now, in order to do that, I'll
Dialogue: 0,0:13:32.22,0:13:33.66,Default,,0,0,0,,actually use an API that was
Dialogue: 0,0:13:33.66,0:13:35.76,Default,,0,0,0,,introduced in iOS 10 called UI
Dialogue: 0,0:13:35.76,0:13:37.05,Default,,0,0,0,,Graphics Image Renderer.
Dialogue: 0,0:13:38.62,0:13:40.12,Default,,0,0,0,,This actually gives me much
Dialogue: 0,0:13:40.12,0:13:42.04,Default,,0,0,0,,easier access to a Core Graphics
Dialogue: 0,0:13:42.04,0:13:43.58,Default,,0,0,0,,context that I can issue drawing
Dialogue: 0,0:13:43.58,0:13:45.88,Default,,0,0,0,,commands into than in the past.
Dialogue: 0,0:13:46.21,0:13:47.65,Default,,0,0,0,,So, in order to use it, I'll
Dialogue: 0,0:13:47.65,0:13:50.63,Default,,0,0,0,,basically determine where I want
Dialogue: 0,0:13:50.63,0:13:51.66,Default,,0,0,0,,to draw the star.
Dialogue: 0,0:13:52.30,0:13:54.45,Default,,0,0,0,,In this case, in the center of
Dialogue: 0,0:13:54.45,0:13:54.82,Default,,0,0,0,,my view.
Dialogue: 0,0:13:56.36,0:13:57.85,Default,,0,0,0,,Create a UI graphics image
Dialogue: 0,0:13:57.85,0:13:59.33,Default,,0,0,0,,renderer at a particular size,
Dialogue: 0,0:14:00.04,0:14:01.17,Default,,0,0,0,,and then call the image method,
Dialogue: 0,0:14:01.39,0:14:03.84,Default,,0,0,0,,which takes a closure in which
Dialogue: 0,0:14:03.84,0:14:05.36,Default,,0,0,0,,I'll actually issue the drawing
Dialogue: 0,0:14:05.36,0:14:05.81,Default,,0,0,0,,commands.
Dialogue: 0,0:14:06.44,0:14:07.62,Default,,0,0,0,,So, it passes me in this render
Dialogue: 0,0:14:07.62,0:14:09.40,Default,,0,0,0,,context and from that I can
Dialogue: 0,0:14:09.40,0:14:11.55,Default,,0,0,0,,retrieve a CG context which
Dialogue: 0,0:14:11.55,0:14:13.27,Default,,0,0,0,,actually has a huge bevy of
Dialogue: 0,0:14:13.27,0:14:14.71,Default,,0,0,0,,methods that allow me to do
Dialogue: 0,0:14:14.71,0:14:16.40,Default,,0,0,0,,things like draw paths, draw
Dialogue: 0,0:14:16.40,0:14:19.14,Default,,0,0,0,,text, draw images, and fill and
Dialogue: 0,0:14:19.14,0:14:19.86,Default,,0,0,0,,stroke paths.
Dialogue: 0,0:14:21.26,0:14:22.65,Default,,0,0,0,,Now, the math here is not all
Dialogue: 0,0:14:22.65,0:14:23.15,Default,,0,0,0,,important.
Dialogue: 0,0:14:23.15,0:14:24.67,Default,,0,0,0,,What is most important is the
Dialogue: 0,0:14:24.67,0:14:24.95,Default,,0,0,0,,API.
Dialogue: 0,0:14:25.90,0:14:27.82,Default,,0,0,0,,So, on that context, I'll set
Dialogue: 0,0:14:27.89,0:14:29.59,Default,,0,0,0,,the fill color, which in this
Dialogue: 0,0:14:29.59,0:14:32.10,Default,,0,0,0,,case is yellow because stars are
Dialogue: 0,0:14:32.10,0:14:34.16,Default,,0,0,0,,yellow, and then I'll go ahead
Dialogue: 0,0:14:34.16,0:14:35.50,Default,,0,0,0,,and position the current point
Dialogue: 0,0:14:35.50,0:14:36.76,Default,,0,0,0,,of the context at the top of the
Dialogue: 0,0:14:36.76,0:14:39.05,Default,,0,0,0,,star with the move method.
Dialogue: 0,0:14:39.62,0:14:40.38,Default,,0,0,0,,Move to method.
Dialogue: 0,0:14:40.90,0:14:43.54,Default,,0,0,0,,And then in a loop I'll go ahead
Dialogue: 0,0:14:43.59,0:14:46.12,Default,,0,0,0,,and add lines between the inner
Dialogue: 0,0:14:46.12,0:14:47.50,Default,,0,0,0,,and outer points of my polygon
Dialogue: 0,0:14:48.12,0:14:50.04,Default,,0,0,0,,and once I'm done I can actually
Dialogue: 0,0:14:50.04,0:14:51.20,Default,,0,0,0,,fill that path, which has the
Dialogue: 0,0:14:51.20,0:14:52.34,Default,,0,0,0,,effect of filling in the star
Dialogue: 0,0:14:52.34,0:14:53.66,Default,,0,0,0,,outline and creating the image
Dialogue: 0,0:14:53.66,0:14:54.12,Default,,0,0,0,,that you saw.
Dialogue: 0,0:14:55.44,0:14:56.66,Default,,0,0,0,,But, of course, nobody wants to
Dialogue: 0,0:14:56.66,0:14:57.85,Default,,0,0,0,,actually just have a gigantic
Dialogue: 0,0:14:57.85,0:14:59.11,Default,,0,0,0,,star sitting in the middle of
Dialogue: 0,0:14:59.11,0:15:00.77,Default,,0,0,0,,their application, so let's go
Dialogue: 0,0:15:00.77,0:15:01.80,Default,,0,0,0,,one step further and talk about
Dialogue: 0,0:15:01.80,0:15:03.23,Default,,0,0,0,,how you can actually use this as
Dialogue: 0,0:15:03.23,0:15:05.59,Default,,0,0,0,,a user interface element in your
Dialogue: 0,0:15:05.59,0:15:07.77,Default,,0,0,0,,own app.
Dialogue: 0,0:15:08.04,0:15:08.63,Default,,0,0,0,,We'll do that with Core
Dialogue: 0,0:15:08.63,0:15:09.11,Default,,0,0,0,,Animation.
Dialogue: 0,0:15:09.95,0:15:10.95,Default,,0,0,0,,Core Animation happens to be
Dialogue: 0,0:15:10.95,0:15:12.97,Default,,0,0,0,,really good at presenting bitmap
Dialogue: 0,0:15:13.24,0:15:13.75,Default,,0,0,0,,content.
Dialogue: 0,0:15:14.50,0:15:15.33,Default,,0,0,0,,So, we can actually use the
Dialogue: 0,0:15:15.33,0:15:16.68,Default,,0,0,0,,image that we just generated as
Dialogue: 0,0:15:16.68,0:15:17.91,Default,,0,0,0,,the contents of a CALayer.
Dialogue: 0,0:15:18.62,0:15:20.06,Default,,0,0,0,,Just to show you the effect that
Dialogue: 0,0:15:20.06,0:15:21.55,Default,,0,0,0,,we're after, I have this button
Dialogue: 0,0:15:21.55,0:15:24.89,Default,,0,0,0,,here and UI buttons are, you
Dialogue: 0,0:15:24.89,0:15:27.53,Default,,0,0,0,,know, very common and their
Dialogue: 0,0:15:27.53,0:15:29.59,Default,,0,0,0,,usage-- their usage varies
Dialogue: 0,0:15:29.59,0:15:30.93,Default,,0,0,0,,depending on the context, but if
Dialogue: 0,0:15:31.02,0:15:32.43,Default,,0,0,0,,I want to add a little bit of
Dialogue: 0,0:15:32.43,0:15:33.83,Default,,0,0,0,,pizazz to this particular UI
Dialogue: 0,0:15:33.83,0:15:35.99,Default,,0,0,0,,button, then I can go for an
Dialogue: 0,0:15:36.05,0:15:38.02,Default,,0,0,0,,effect like this.
Dialogue: 0,0:15:38.18,0:15:39.62,Default,,0,0,0,,Let me show you that one more
Dialogue: 0,0:15:39.62,0:15:39.94,Default,,0,0,0,,time.
Dialogue: 0,0:15:41.52,0:15:44.40,Default,,0,0,0,,Kind of cute, right?
Dialogue: 0,0:15:44.69,0:15:45.59,Default,,0,0,0,,Now, this is a little bit
Dialogue: 0,0:15:45.59,0:15:46.56,Default,,0,0,0,,ostentatious and you probably
Dialogue: 0,0:15:46.56,0:15:47.53,Default,,0,0,0,,wouldn't want to do exactly this
Dialogue: 0,0:15:47.53,0:15:48.35,Default,,0,0,0,,in your app, but this is
Dialogue: 0,0:15:48.35,0:15:49.50,Default,,0,0,0,,strictly for illustrative
Dialogue: 0,0:15:49.50,0:15:49.97,Default,,0,0,0,,purposes.
Dialogue: 0,0:15:50.59,0:15:51.43,Default,,0,0,0,,Let's talk about how to achieve
Dialogue: 0,0:15:51.58,0:15:54.91,Default,,0,0,0,,that effect.
Dialogue: 0,0:15:55.50,0:15:56.95,Default,,0,0,0,,So, I'll configure some
Dialogue: 0,0:15:56.95,0:15:58.16,Default,,0,0,0,,parameters for the stars that I
Dialogue: 0,0:15:58.16,0:16:00.56,Default,,0,0,0,,want to display and then I'll
Dialogue: 0,0:16:00.56,0:16:02.08,Default,,0,0,0,,add an action to my button to
Dialogue: 0,0:16:02.08,0:16:03.79,Default,,0,0,0,,actually call this play star
Dialogue: 0,0:16:03.79,0:16:04.61,Default,,0,0,0,,animation method.
Dialogue: 0,0:16:05.18,0:16:08.30,Default,,0,0,0,,In there, I'll create a loop
Dialogue: 0,0:16:08.49,0:16:09.40,Default,,0,0,0,,that actually loops over the
Dialogue: 0,0:16:09.40,0:16:10.26,Default,,0,0,0,,number of stars that I want to
Dialogue: 0,0:16:10.26,0:16:11.14,Default,,0,0,0,,create and for each of them I'll
Dialogue: 0,0:16:11.14,0:16:12.23,Default,,0,0,0,,create a CALayer.
Dialogue: 0,0:16:12.63,0:16:14.15,Default,,0,0,0,,CALayer is the workhorse of Core
Dialogue: 0,0:16:14.15,0:16:15.50,Default,,0,0,0,,Animation and it's the thing
Dialogue: 0,0:16:15.50,0:16:18.39,Default,,0,0,0,,that actually has a position on
Dialogue: 0,0:16:18.39,0:16:19.54,Default,,0,0,0,,the screen and can be animated,
Dialogue: 0,0:16:19.54,0:16:20.43,Default,,0,0,0,,moved around, and have its
Dialogue: 0,0:16:20.49,0:16:21.71,Default,,0,0,0,,contents set.
Dialogue: 0,0:16:22.58,0:16:23.72,Default,,0,0,0,,So, I'll actually set its
Dialogue: 0,0:16:23.72,0:16:25.94,Default,,0,0,0,,contents to a CG image that
Dialogue: 0,0:16:25.94,0:16:27.12,Default,,0,0,0,,represents one of the stars that
Dialogue: 0,0:16:27.12,0:16:28.84,Default,,0,0,0,,I just rendered using the class
Dialogue: 0,0:16:28.84,0:16:29.94,Default,,0,0,0,,that I introduced previously.
Dialogue: 0,0:16:30.19,0:16:33.13,Default,,0,0,0,,I'll set the initial position of
Dialogue: 0,0:16:33.13,0:16:35.67,Default,,0,0,0,,each star in a circle around the
Dialogue: 0,0:16:36.65,0:16:37.88,Default,,0,0,0,,button and also set its balance
Dialogue: 0,0:16:37.88,0:16:38.81,Default,,0,0,0,,to some initial size.
Dialogue: 0,0:16:38.87,0:16:41.11,Default,,0,0,0,,In order to actually get it to
Dialogue: 0,0:16:41.11,0:16:42.13,Default,,0,0,0,,show up on the screen, I need to
Dialogue: 0,0:16:42.18,0:16:43.82,Default,,0,0,0,,add it as a sublayer of the
Dialogue: 0,0:16:43.82,0:16:44.46,Default,,0,0,0,,button's layer.
Dialogue: 0,0:16:47.02,0:16:47.95,Default,,0,0,0,,Now, you'll notice that of
Dialogue: 0,0:16:47.95,0:16:49.40,Default,,0,0,0,,course the star is animated from
Dialogue: 0,0:16:49.40,0:16:50.56,Default,,0,0,0,,their initial positions to a
Dialogue: 0,0:16:50.56,0:16:51.64,Default,,0,0,0,,position that's further out
Dialogue: 0,0:16:52.05,0:16:53.34,Default,,0,0,0,,along a ray from the center of
Dialogue: 0,0:16:53.34,0:16:53.83,Default,,0,0,0,,the button.
Dialogue: 0,0:16:54.47,0:16:55.35,Default,,0,0,0,,So, I can do a little bit more
Dialogue: 0,0:16:55.35,0:16:56.42,Default,,0,0,0,,math to calculate the final
Dialogue: 0,0:16:56.42,0:16:58.93,Default,,0,0,0,,position of the star, then I can
Dialogue: 0,0:16:58.93,0:17:01.15,Default,,0,0,0,,construct a transform that will
Dialogue: 0,0:17:01.30,0:17:04.09,Default,,0,0,0,,simultaneously rotate, scale,
Dialogue: 0,0:17:04.09,0:17:05.50,Default,,0,0,0,,and translate the layer to its
Dialogue: 0,0:17:05.50,0:17:06.19,Default,,0,0,0,,final position.
Dialogue: 0,0:17:07.17,0:17:08.92,Default,,0,0,0,,I'll use CA basic animation to
Dialogue: 0,0:17:08.92,0:17:10.27,Default,,0,0,0,,interpolate between the initial
Dialogue: 0,0:17:10.27,0:17:11.70,Default,,0,0,0,,position of the CALayer and its
Dialogue: 0,0:17:11.70,0:17:12.37,Default,,0,0,0,,destination.
Dialogue: 0,0:17:13.16,0:17:14.67,Default,,0,0,0,,I could use a more sophisticated
Dialogue: 0,0:17:14.67,0:17:15.83,Default,,0,0,0,,animation like a key frame
Dialogue: 0,0:17:15.83,0:17:17.11,Default,,0,0,0,,animation if I wanted to, for
Dialogue: 0,0:17:17.11,0:17:18.09,Default,,0,0,0,,example, make it move along a
Dialogue: 0,0:17:18.09,0:17:18.21,Default,,0,0,0,,path.
Dialogue: 0,0:17:19.40,0:17:20.51,Default,,0,0,0,,I'll set the from value to the
Dialogue: 0,0:17:20.51,0:17:21.52,Default,,0,0,0,,current transformation of the
Dialogue: 0,0:17:21.52,0:17:22.95,Default,,0,0,0,,layer and the to value to the
Dialogue: 0,0:17:22.95,0:17:23.85,Default,,0,0,0,,transformation that I just
Dialogue: 0,0:17:23.85,0:17:24.45,Default,,0,0,0,,constructed.
Dialogue: 0,0:17:25.04,0:17:26.52,Default,,0,0,0,,And I'll also use a custom
Dialogue: 0,0:17:26.52,0:17:28.21,Default,,0,0,0,,duration because the default
Dialogue: 0,0:17:28.21,0:17:29.70,Default,,0,0,0,,duration of 0.25 seconds is a
Dialogue: 0,0:17:29.70,0:17:31.21,Default,,0,0,0,,little bit-- little bit fast for
Dialogue: 0,0:17:31.21,0:17:32.01,Default,,0,0,0,,the effect that I'm after.
Dialogue: 0,0:17:32.79,0:17:33.95,Default,,0,0,0,,And I'll apply an ease out
Dialogue: 0,0:17:33.95,0:17:36.57,Default,,0,0,0,,function so that as the star
Dialogue: 0,0:17:36.57,0:17:39.52,Default,,0,0,0,,approaches its target position
Dialogue: 0,0:17:39.52,0:17:40.50,Default,,0,0,0,,it will slow down.
Dialogue: 0,0:17:40.50,0:17:45.84,Default,,0,0,0,,And just to be a good citizen so
Dialogue: 0,0:17:45.84,0:17:46.79,Default,,0,0,0,,I don't have a bunch of layers
Dialogue: 0,0:17:46.79,0:17:48.28,Default,,0,0,0,,laying around, after several
Dialogue: 0,0:17:48.28,0:17:49.39,Default,,0,0,0,,seconds I'll go ahead and remove
Dialogue: 0,0:17:49.39,0:17:50.47,Default,,0,0,0,,that layer from its super view
Dialogue: 0,0:17:50.47,0:17:51.50,Default,,0,0,0,,when the animation completes.
Dialogue: 0,0:17:55.92,0:17:57.01,Default,,0,0,0,,Well, that's all well and good,
Dialogue: 0,0:17:57.17,0:17:58.28,Default,,0,0,0,,but sometimes you actually want
Dialogue: 0,0:17:58.28,0:17:59.56,Default,,0,0,0,,to have even more elements
Dialogue: 0,0:17:59.56,0:18:01.28,Default,,0,0,0,,flying around the screen and for
Dialogue: 0,0:18:01.28,0:18:03.11,Default,,0,0,0,,that you might want to use one
Dialogue: 0,0:18:03.11,0:18:05.58,Default,,0,0,0,,of these high-level graphics
Dialogue: 0,0:18:05.58,0:18:06.83,Default,,0,0,0,,frameworks that are intended for
Dialogue: 0,0:18:06.83,0:18:08.51,Default,,0,0,0,,games, but there's no reason you
Dialogue: 0,0:18:08.51,0:18:10.08,Default,,0,0,0,,can't use them in your own apps.
Dialogue: 0,0:18:10.65,0:18:11.87,Default,,0,0,0,,So, let's take a quick look at
Dialogue: 0,0:18:11.87,0:18:12.44,Default,,0,0,0,,SpriteKit.
Dialogue: 0,0:18:13.71,0:18:15.02,Default,,0,0,0,,Well, here's a similar-- here's
Dialogue: 0,0:18:15.02,0:18:16.72,Default,,0,0,0,,a particle effect that I created
Dialogue: 0,0:18:16.72,0:18:19.85,Default,,0,0,0,,in SpriteKit and this could
Dialogue: 0,0:18:19.85,0:18:21.10,Default,,0,0,0,,easily be overlaid in your own
Dialogue: 0,0:18:21.10,0:18:22.23,Default,,0,0,0,,app's contents.
Dialogue: 0,0:18:22.56,0:18:23.54,Default,,0,0,0,,So, let's take a look at how you
Dialogue: 0,0:18:23.54,0:18:25.15,Default,,0,0,0,,can incorporate SpriteKit very
Dialogue: 0,0:18:25.15,0:18:29.09,Default,,0,0,0,,easily into your own app.
Dialogue: 0,0:18:29.74,0:18:31.38,Default,,0,0,0,,That's literally the entire--
Dialogue: 0,0:18:31.62,0:18:32.41,Default,,0,0,0,,the entire code.
Dialogue: 0,0:18:32.57,0:18:34.11,Default,,0,0,0,,And what makes it easy for us to
Dialogue: 0,0:18:34.11,0:18:36.06,Default,,0,0,0,,do this tersely is that we're
Dialogue: 0,0:18:36.06,0:18:38.08,Default,,0,0,0,,actually relying on this SKS
Dialogue: 0,0:18:38.08,0:18:39.16,Default,,0,0,0,,file that I've created
Dialogue: 0,0:18:39.16,0:18:39.67,Default,,0,0,0,,previously.
Dialogue: 0,0:18:40.92,0:18:42.16,Default,,0,0,0,,And Xcode has a really nice
Dialogue: 0,0:18:42.16,0:18:43.38,Default,,0,0,0,,visual editor for particle
Dialogue: 0,0:18:43.38,0:18:43.81,Default,,0,0,0,,systems.
Dialogue: 0,0:18:44.35,0:18:46.30,Default,,0,0,0,,Now, you're not seeing the
Dialogue: 0,0:18:46.30,0:18:47.62,Default,,0,0,0,,texture here because I created
Dialogue: 0,0:18:47.62,0:18:48.99,Default,,0,0,0,,it programmatically, but you'll
Dialogue: 0,0:18:48.99,0:18:50.01,Default,,0,0,0,,notice that if I open up this
Dialogue: 0,0:18:50.01,0:18:51.79,Default,,0,0,0,,inspector in Xcode, I can
Dialogue: 0,0:18:51.79,0:18:53.95,Default,,0,0,0,,actually control many different
Dialogue: 0,0:18:53.95,0:18:55.74,Default,,0,0,0,,parameters of this particular
Dialogue: 0,0:18:55.74,0:18:58.26,Default,,0,0,0,,particle system, including
Dialogue: 0,0:18:58.26,0:18:59.39,Default,,0,0,0,,things like its opacity over
Dialogue: 0,0:18:59.39,0:19:01.40,Default,,0,0,0,,life, initial velocity, and the
Dialogue: 0,0:19:01.40,0:19:03.21,Default,,0,0,0,,distribution parameters for its
Dialogue: 0,0:19:03.21,0:19:04.36,Default,,0,0,0,,velocity and so on.
Dialogue: 0,0:19:04.77,0:19:06.98,Default,,0,0,0,,So, that allows me to very-- to
Dialogue: 0,0:19:06.98,0:19:08.72,Default,,0,0,0,,verify visually the effect that
Dialogue: 0,0:19:08.72,0:19:09.80,Default,,0,0,0,,I'm after with this particle
Dialogue: 0,0:19:09.80,0:19:11.36,Default,,0,0,0,,system and what's great is that
Dialogue: 0,0:19:11.36,0:19:12.32,Default,,0,0,0,,once I'm done with that I don't
Dialogue: 0,0:19:12.32,0:19:13.33,Default,,0,0,0,,have to write any code to
Dialogue: 0,0:19:13.33,0:19:14.04,Default,,0,0,0,,achieve that effect.
Dialogue: 0,0:19:14.64,0:19:16.05,Default,,0,0,0,,It's actually already persisted
Dialogue: 0,0:19:16.11,0:19:17.08,Default,,0,0,0,,in its SKS file.
Dialogue: 0,0:19:17.69,0:19:20.20,Default,,0,0,0,,Let's take one step back and
Dialogue: 0,0:19:20.23,0:19:21.29,Default,,0,0,0,,talk about how to actually
Dialogue: 0,0:19:21.29,0:19:23.36,Default,,0,0,0,,integrate scene-- SpriteKit into
Dialogue: 0,0:19:23.36,0:19:24.07,Default,,0,0,0,,your application.
Dialogue: 0,0:19:24.58,0:19:25.77,Default,,0,0,0,,So, in order for anything to
Dialogue: 0,0:19:25.77,0:19:27.00,Default,,0,0,0,,show up whatsoever, I need to
Dialogue: 0,0:19:27.00,0:19:28.23,Default,,0,0,0,,create an SKScene.
Dialogue: 0,0:19:28.86,0:19:30.29,Default,,0,0,0,,And the SKScene is really just
Dialogue: 0,0:19:30.29,0:19:31.30,Default,,0,0,0,,the stage on which all of your
Dialogue: 0,0:19:31.30,0:19:32.01,Default,,0,0,0,,objects live.
Dialogue: 0,0:19:32.62,0:19:34.36,Default,,0,0,0,,And an SKScene is presented in
Dialogue: 0,0:19:34.36,0:19:36.09,Default,,0,0,0,,your application within SKView.
Dialogue: 0,0:19:36.59,0:19:37.83,Default,,0,0,0,,So, I've created an SKScene
Dialogue: 0,0:19:37.83,0:19:39.54,Default,,0,0,0,,that's the same size as the view
Dialogue: 0,0:19:39.54,0:19:40.44,Default,,0,0,0,,that it's going to be presented
Dialogue: 0,0:19:40.44,0:19:41.98,Default,,0,0,0,,in and I present the scene on
Dialogue: 0,0:19:41.98,0:19:42.36,Default,,0,0,0,,the view.
Dialogue: 0,0:19:43.35,0:19:45.12,Default,,0,0,0,,I then create an SKEmitterNode
Dialogue: 0,0:19:45.12,0:19:47.34,Default,,0,0,0,,that actually loads the particle
Dialogue: 0,0:19:47.34,0:19:50.49,Default,,0,0,0,,system parameters and then will
Dialogue: 0,0:19:50.49,0:19:51.29,Default,,0,0,0,,actually be the thing that
Dialogue: 0,0:19:51.29,0:19:53.25,Default,,0,0,0,,drives the particle animation as
Dialogue: 0,0:19:53.25,0:19:54.00,Default,,0,0,0,,it's running.
Dialogue: 0,0:19:54.88,0:19:55.76,Default,,0,0,0,,I'll go ahead and create one
Dialogue: 0,0:19:55.76,0:19:57.41,Default,,0,0,0,,more of those famous star images
Dialogue: 0,0:19:57.65,0:19:58.84,Default,,0,0,0,,and set it as the texture on my
Dialogue: 0,0:19:58.84,0:20:00.22,Default,,0,0,0,,emitter so that each particle
Dialogue: 0,0:20:00.22,0:20:01.34,Default,,0,0,0,,has that star shape.
Dialogue: 0,0:20:02.38,0:20:03.21,Default,,0,0,0,,And I'll position it in the
Dialogue: 0,0:20:03.21,0:20:03.90,Default,,0,0,0,,middle of the screen.
Dialogue: 0,0:20:04.53,0:20:05.50,Default,,0,0,0,,I'll then go ahead and add the
Dialogue: 0,0:20:05.50,0:20:07.36,Default,,0,0,0,,emitter as a child of that scene
Dialogue: 0,0:20:07.36,0:20:08.60,Default,,0,0,0,,and that's really all there is
Dialogue: 0,0:20:08.60,0:20:08.91,Default,,0,0,0,,to it.
Dialogue: 0,0:20:08.91,0:20:10.04,Default,,0,0,0,,I don't have to start animating.
Dialogue: 0,0:20:10.49,0:20:12.48,Default,,0,0,0,,It just-- SpriteKit takes over
Dialogue: 0,0:20:12.48,0:20:13.40,Default,,0,0,0,,from there and just runs the
Dialogue: 0,0:20:13.40,0:20:13.91,Default,,0,0,0,,animation.
Dialogue: 0,0:20:15.34,0:20:16.89,Default,,0,0,0,,So, 2D is great, but you know
Dialogue: 0,0:20:16.89,0:20:18.30,Default,,0,0,0,,what's really cool, 3D.
Dialogue: 0,0:20:18.89,0:20:20.12,Default,,0,0,0,,So, let's-- as our final
Dialogue: 0,0:20:20.12,0:20:22.13,Default,,0,0,0,,sample-- talk about the basics
Dialogue: 0,0:20:22.18,0:20:22.73,Default,,0,0,0,,of SceneKit.
Dialogue: 0,0:20:24.15,0:20:25.47,Default,,0,0,0,,Well, here's a similar demo,
Dialogue: 0,0:20:25.50,0:20:26.46,Default,,0,0,0,,except that you can see the
Dialogue: 0,0:20:26.46,0:20:27.81,Default,,0,0,0,,stars are flying all over the
Dialogue: 0,0:20:27.81,0:20:28.90,Default,,0,0,0,,place, bouncing off of each
Dialogue: 0,0:20:28.90,0:20:30.36,Default,,0,0,0,,other, and most importantly
Dialogue: 0,0:20:30.43,0:20:31.81,Default,,0,0,0,,they're in 3D and they're lit
Dialogue: 0,0:20:31.81,0:20:32.38,Default,,0,0,0,,realistically.
Dialogue: 0,0:20:32.69,0:20:34.20,Default,,0,0,0,,So, let's walk through the
Dialogue: 0,0:20:34.20,0:20:36.15,Default,,0,0,0,,basics of SceneKit.
Dialogue: 0,0:20:36.58,0:20:38.91,Default,,0,0,0,,Well, there's a similar idea in
Dialogue: 0,0:20:38.91,0:20:40.86,Default,,0,0,0,,SceneKit to the SKScene and it's
Dialogue: 0,0:20:40.86,0:20:43.46,Default,,0,0,0,,called the S-- in SceneKit to--
Dialogue: 0,0:20:45.31,0:20:47.82,Default,,0,0,0,,there's an analogous class in
Dialogue: 0,0:20:47.82,0:20:51.14,Default,,0,0,0,,SceneKit to the SKScene in
Dialogue: 0,0:20:51.14,0:20:55.78,Default,,0,0,0,,SpriteKit which is SC-- which is
Dialogue: 0,0:20:55.78,0:20:58.83,Default,,0,0,0,,SCNScene and, exactly as before,
Dialogue: 0,0:20:58.83,0:20:59.79,Default,,0,0,0,,this is the thing that contains
Dialogue: 0,0:20:59.79,0:21:00.53,Default,,0,0,0,,all of your-- all of your
Dialogue: 0,0:21:00.53,0:21:01.63,Default,,0,0,0,,various objects in your scene.
Dialogue: 0,0:21:02.02,0:21:02.85,Default,,0,0,0,,I'll go ahead and set it to a
Dialogue: 0,0:21:02.85,0:21:04.11,Default,,0,0,0,,nice starfield text-- its
Dialogue: 0,0:21:04.11,0:21:05.17,Default,,0,0,0,,background to a nice starfield
Dialogue: 0,0:21:05.17,0:21:06.62,Default,,0,0,0,,texture, but in order to
Dialogue: 0,0:21:06.62,0:21:08.51,Default,,0,0,0,,actually see anything, we'll go
Dialogue: 0,0:21:08.51,0:21:09.67,Default,,0,0,0,,ahead and also create a node
Dialogue: 0,0:21:09.91,0:21:11.05,Default,,0,0,0,,that represents our vantage
Dialogue: 0,0:21:11.05,0:21:12.34,Default,,0,0,0,,point in SCNCamera.
Dialogue: 0,0:21:13.07,0:21:14.36,Default,,0,0,0,,I can set numerous properties on
Dialogue: 0,0:21:14.36,0:21:15.74,Default,,0,0,0,,this camera, but all I really
Dialogue: 0,0:21:15.74,0:21:16.73,Default,,0,0,0,,care about right now is its
Dialogue: 0,0:21:16.78,0:21:17.23,Default,,0,0,0,,position.
Dialogue: 0,0:21:17.63,0:21:18.63,Default,,0,0,0,,I'll go ahead and position it a
Dialogue: 0,0:21:18.63,0:21:20.34,Default,,0,0,0,,few units back from the origin
Dialogue: 0,0:21:21.16,0:21:23.50,Default,,0,0,0,,so that it's pointing to the
Dialogue: 0,0:21:23.50,0:21:25.42,Default,,0,0,0,,star particle system.
Dialogue: 0,0:21:26.21,0:21:27.11,Default,,0,0,0,,Then I go ahead and add it as a
Dialogue: 0,0:21:27.11,0:21:28.84,Default,,0,0,0,,child node to the scene's root
Dialogue: 0,0:21:28.90,0:21:29.02,Default,,0,0,0,,node.
Dialogue: 0,0:21:29.91,0:21:31.67,Default,,0,0,0,,Now, I don't actually have any
Dialogue: 0,0:21:31.67,0:21:32.90,Default,,0,0,0,,content to display on the screen
Dialogue: 0,0:21:32.90,0:21:35.41,Default,,0,0,0,,yet, so I can go ahead and use
Dialogue: 0,0:21:35.41,0:21:36.69,Default,,0,0,0,,this framework called Model I/O
Dialogue: 0,0:21:36.69,0:21:37.94,Default,,0,0,0,,and Model I/O has a lot of
Dialogue: 0,0:21:37.94,0:21:39.39,Default,,0,0,0,,different facilities for working
Dialogue: 0,0:21:39.39,0:21:40.53,Default,,0,0,0,,with 3D data.
Dialogue: 0,0:21:41.36,0:21:42.69,Default,,0,0,0,,In this case, I'm just going to
Dialogue: 0,0:21:42.69,0:21:43.96,Default,,0,0,0,,go ahead and load a 3D model
Dialogue: 0,0:21:43.96,0:21:45.90,Default,,0,0,0,,that I created previously in the
Dialogue: 0,0:21:45.90,0:21:47.18,Default,,0,0,0,,form of an MDLAsset.
Dialogue: 0,0:21:48.19,0:21:49.47,Default,,0,0,0,,There's a lot of interoperation
Dialogue: 0,0:21:49.47,0:21:51.93,Default,,0,0,0,,between SceneKit and Model I/O,
Dialogue: 0,0:21:52.30,0:21:55.14,Default,,0,0,0,,so I can extract an SCNGeometry,
Dialogue: 0,0:21:55.44,0:21:57.61,Default,,0,0,0,,which is SceneKit's notion of a
Dialogue: 0,0:21:57.61,0:21:59.62,Default,,0,0,0,,3D mesh, from the MDL mesh that
Dialogue: 0,0:21:59.62,0:22:00.14,Default,,0,0,0,,I just loaded.
Dialogue: 0,0:22:00.14,0:22:03.34,Default,,0,0,0,,Now, that particular model
Dialogue: 0,0:22:03.34,0:22:04.45,Default,,0,0,0,,didn't have any material
Dialogue: 0,0:22:04.64,0:22:05.88,Default,,0,0,0,,information associated with it,
Dialogue: 0,0:22:06.27,0:22:07.44,Default,,0,0,0,,so I can programmatically create
Dialogue: 0,0:22:07.44,0:22:09.15,Default,,0,0,0,,an SCNMaterial object and set
Dialogue: 0,0:22:09.15,0:22:10.65,Default,,0,0,0,,the diffuse color to yellow as
Dialogue: 0,0:22:10.65,0:22:12.51,Default,,0,0,0,,before in the previous demos.
Dialogue: 0,0:22:13.54,0:22:14.89,Default,,0,0,0,,Finally, in order to actually
Dialogue: 0,0:22:14.89,0:22:16.70,Default,,0,0,0,,light my objects, I'll create an
Dialogue: 0,0:22:17.08,0:22:18.71,Default,,0,0,0,,SCNLight and associate it with a
Dialogue: 0,0:22:18.71,0:22:20.88,Default,,0,0,0,,node and provide some properties
Dialogue: 0,0:22:20.88,0:22:22.40,Default,,0,0,0,,there, including the position
Dialogue: 0,0:22:22.68,0:22:24.27,Default,,0,0,0,,and the type of light.
Dialogue: 0,0:22:24.41,0:22:25.61,Default,,0,0,0,,SceneKit has a lot of different
Dialogue: 0,0:22:25.93,0:22:26.90,Default,,0,0,0,,types of lights, including
Dialogue: 0,0:22:26.90,0:22:27.93,Default,,0,0,0,,directional, point, and spot,
Dialogue: 0,0:22:28.47,0:22:29.49,Default,,0,0,0,,and you can select the one
Dialogue: 0,0:22:29.49,0:22:30.82,Default,,0,0,0,,that's appropriate for your use.
Dialogue: 0,0:22:30.95,0:22:33.45,Default,,0,0,0,,And I'll go ahead and kickoff
Dialogue: 0,0:22:33.45,0:22:35.44,Default,,0,0,0,,the actual animation by calling
Dialogue: 0,0:22:35.44,0:22:36.56,Default,,0,0,0,,this method start star emitter.
Dialogue: 0,0:22:37.57,0:22:39.23,Default,,0,0,0,,Well, this just creates a timer.
Dialogue: 0,0:22:39.67,0:22:42.59,Default,,0,0,0,,A timer that runs numerous times
Dialogue: 0,0:22:42.59,0:22:44.25,Default,,0,0,0,,per second and actually creates
Dialogue: 0,0:22:44.64,0:22:46.57,Default,,0,0,0,,an SCNNode that has an instance
Dialogue: 0,0:22:46.65,0:22:48.23,Default,,0,0,0,,of this geometry that I just
Dialogue: 0,0:22:48.23,0:22:48.51,Default,,0,0,0,,loaded.
Dialogue: 0,0:22:48.87,0:22:50.26,Default,,0,0,0,,I'll go ahead and add each of
Dialogue: 0,0:22:50.26,0:22:51.79,Default,,0,0,0,,these, as I introduced them to
Dialogue: 0,0:22:51.79,0:22:53.59,Default,,0,0,0,,the scene, to the root node, and
Dialogue: 0,0:22:53.59,0:22:54.97,Default,,0,0,0,,also associate with each one a
Dialogue: 0,0:22:54.97,0:22:56.43,Default,,0,0,0,,physics body so that it gets
Dialogue: 0,0:22:56.43,0:22:58.60,Default,,0,0,0,,physically plausible physical
Dialogue: 0,0:22:58.60,0:23:00.44,Default,,0,0,0,,animation pretty much for free.
Dialogue: 0,0:23:00.97,0:23:02.29,Default,,0,0,0,,I'll also go ahead and create a
Dialogue: 0,0:23:02.29,0:23:03.75,Default,,0,0,0,,random upward velocity just so
Dialogue: 0,0:23:03.75,0:23:04.46,Default,,0,0,0,,that there's a little bit of
Dialogue: 0,0:23:04.46,0:23:04.95,Default,,0,0,0,,variety.
Dialogue: 0,0:23:05.65,0:23:07.23,Default,,0,0,0,,And, finally, I'll remove it--
Dialogue: 0,0:23:07.42,0:23:09.15,Default,,0,0,0,,each star from its parent node
Dialogue: 0,0:23:09.44,0:23:10.68,Default,,0,0,0,,after some number of seconds
Dialogue: 0,0:23:10.68,0:23:11.95,Default,,0,0,0,,just to clean up memory.
Dialogue: 0,0:23:12.61,0:23:14.98,Default,,0,0,0,,So, the purpose of these demos
Dialogue: 0,0:23:14.98,0:23:16.44,Default,,0,0,0,,has been to walk you through the
Dialogue: 0,0:23:16.44,0:23:18.17,Default,,0,0,0,,basic capabilities of the
Dialogue: 0,0:23:18.17,0:23:19.35,Default,,0,0,0,,graphical frameworks that are on
Dialogue: 0,0:23:19.35,0:23:21.27,Default,,0,0,0,,our system and now I'd like to
Dialogue: 0,0:23:21.27,0:23:23.97,Default,,0,0,0,,bring back Noah to talk in-depth
Dialogue: 0,0:23:23.97,0:23:24.87,Default,,0,0,0,,about Core Animation.
Dialogue: 0,0:23:26.52,0:23:31.75,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:23:32.25,0:23:32.73,Default,,0,0,0,,>> Thanks, Warren.
Dialogue: 0,0:23:33.33,0:23:38.53,Default,,0,0,0,,So, how many of you have used
Dialogue: 0,0:23:38.53,0:23:39.41,Default,,0,0,0,,Core Animation for something?
Dialogue: 0,0:23:40.68,0:23:41.80,Default,,0,0,0,,Good. Glad to hear it.
Dialogue: 0,0:23:42.24,0:23:43.61,Default,,0,0,0,,How many of you have run into
Dialogue: 0,0:23:43.61,0:23:45.19,Default,,0,0,0,,something weird or unexpected
Dialogue: 0,0:23:45.19,0:23:45.77,Default,,0,0,0,,while using it?
Dialogue: 0,0:23:46.94,0:23:50.50,Default,,0,0,0,,Yeah. So, there's a couple of
Dialogue: 0,0:23:50.50,0:23:52.22,Default,,0,0,0,,kind of key concepts to CA,
Dialogue: 0,0:23:52.22,0:23:53.89,Default,,0,0,0,,which are sometimes not entirely
Dialogue: 0,0:23:53.89,0:23:56.08,Default,,0,0,0,,intuitive at first and it's
Dialogue: 0,0:23:56.16,0:23:57.17,Default,,0,0,0,,really easy to get tripped up on
Dialogue: 0,0:23:57.17,0:23:57.38,Default,,0,0,0,,them.
Dialogue: 0,0:23:57.38,0:23:58.16,Default,,0,0,0,,So, I want to take you through
Dialogue: 0,0:23:58.16,0:24:00.44,Default,,0,0,0,,some of those and explain kind
Dialogue: 0,0:24:01.02,0:24:02.76,Default,,0,0,0,,of both what's going on and why
Dialogue: 0,0:24:02.76,0:24:03.39,Default,,0,0,0,,it's happening.
Dialogue: 0,0:24:03.71,0:24:04.88,Default,,0,0,0,,I could just kind of give you
Dialogue: 0,0:24:04.88,0:24:05.23,Default,,0,0,0,,the answer.
Dialogue: 0,0:24:05.23,0:24:06.22,Default,,0,0,0,,In a lot of these cases, the
Dialogue: 0,0:24:06.22,0:24:07.16,Default,,0,0,0,,answer is going to be something
Dialogue: 0,0:24:07.16,0:24:09.03,Default,,0,0,0,,really simple, but I think it's
Dialogue: 0,0:24:09.03,0:24:10.52,Default,,0,0,0,,important to kind of know why
Dialogue: 0,0:24:10.52,0:24:11.53,Default,,0,0,0,,something is happening before
Dialogue: 0,0:24:11.53,0:24:15.00,Default,,0,0,0,,you start dealing with it.
Dialogue: 0,0:24:15.00,0:24:17.08,Default,,0,0,0,,So, let's start out by talking
Dialogue: 0,0:24:17.08,0:24:19.24,Default,,0,0,0,,about animations, which are
Dialogue: 0,0:24:19.24,0:24:21.86,Default,,0,0,0,,pretty core to the-- wow, I did
Dialogue: 0,0:24:21.86,0:24:23.49,Default,,0,0,0,,not intend to say that.
Dialogue: 0,0:24:23.93,0:24:26.52,Default,,0,0,0,,Moving on.
Dialogue: 0,0:24:27.06,0:24:29.12,Default,,0,0,0,,So, there's a behavior that
Dialogue: 0,0:24:29.12,0:24:30.35,Default,,0,0,0,,you'll see pretty often when
Dialogue: 0,0:24:30.35,0:24:31.30,Default,,0,0,0,,you're first starting to play
Dialogue: 0,0:24:31.30,0:24:32.82,Default,,0,0,0,,around with CA animations.
Dialogue: 0,0:24:33.38,0:24:34.79,Default,,0,0,0,,You'll create an animation,
Dialogue: 0,0:24:34.79,0:24:36.40,Default,,0,0,0,,you'll add it to your layer, and
Dialogue: 0,0:24:36.40,0:24:37.91,Default,,0,0,0,,you'll see the layer animate say
Dialogue: 0,0:24:37.91,0:24:39.66,Default,,0,0,0,,from point A to point B and then
Dialogue: 0,0:24:39.66,0:24:41.45,Default,,0,0,0,,it'll jump back and you go
Dialogue: 0,0:24:41.45,0:24:41.92,Default,,0,0,0,,that's weird.
Dialogue: 0,0:24:42.83,0:24:45.38,Default,,0,0,0,,And the reason for this has to
Dialogue: 0,0:24:45.38,0:24:47.81,Default,,0,0,0,,do with what's called the model
Dialogue: 0,0:24:47.81,0:24:48.95,Default,,0,0,0,,and the presentation layers.
Dialogue: 0,0:24:48.95,0:24:50.49,Default,,0,0,0,,There's these kind of two things
Dialogue: 0,0:24:50.49,0:24:53.57,Default,,0,0,0,,that exist at once and knowing
Dialogue: 0,0:24:53.57,0:24:54.31,Default,,0,0,0,,the distinction between them is
Dialogue: 0,0:24:54.31,0:24:55.70,Default,,0,0,0,,kind of crucial to getting why
Dialogue: 0,0:24:55.70,0:24:56.21,Default,,0,0,0,,that's happening.
Dialogue: 0,0:24:56.87,0:24:58.57,Default,,0,0,0,,So, the layout that you're
Dialogue: 0,0:24:58.57,0:25:00.30,Default,,0,0,0,,mostly interacting with, the one
Dialogue: 0,0:25:00.30,0:25:01.19,Default,,0,0,0,,that you're setting properties
Dialogue: 0,0:25:01.19,0:25:02.46,Default,,0,0,0,,on and adding animations to and
Dialogue: 0,0:25:02.46,0:25:04.08,Default,,0,0,0,,so on, is the model layer.
Dialogue: 0,0:25:04.76,0:25:06.15,Default,,0,0,0,,The one that's actually onscreen
Dialogue: 0,0:25:06.15,0:25:07.44,Default,,0,0,0,,is the presentation layer.
Dialogue: 0,0:25:07.58,0:25:09.07,Default,,0,0,0,,And the presentation layer is
Dialogue: 0,0:25:09.07,0:25:10.15,Default,,0,0,0,,sort of a clone of the model
Dialogue: 0,0:25:10.15,0:25:11.32,Default,,0,0,0,,layer that's calculated each
Dialogue: 0,0:25:11.32,0:25:12.91,Default,,0,0,0,,frame from the state of the
Dialogue: 0,0:25:12.91,0:25:14.91,Default,,0,0,0,,model layer and any animations
Dialogue: 0,0:25:14.95,0:25:16.36,Default,,0,0,0,,that are on the model layer at
Dialogue: 0,0:25:17.28,0:25:17.77,Default,,0,0,0,,that time.
Dialogue: 0,0:25:17.77,0:25:19.72,Default,,0,0,0,,So, what's happening in this
Dialogue: 0,0:25:19.72,0:25:21.18,Default,,0,0,0,,previous example is that you
Dialogue: 0,0:25:21.18,0:25:22.62,Default,,0,0,0,,have the animation added at this
Dialogue: 0,0:25:22.62,0:25:26.65,Default,,0,0,0,,time and you can see that, like,
Dialogue: 0,0:25:27.50,0:25:29.17,Default,,0,0,0,,the presentation layer follows
Dialogue: 0,0:25:29.17,0:25:30.27,Default,,0,0,0,,the animation, but once it's
Dialogue: 0,0:25:30.27,0:25:31.74,Default,,0,0,0,,over the animation's gone and so
Dialogue: 0,0:25:31.74,0:25:32.60,Default,,0,0,0,,it goes back to what the model
Dialogue: 0,0:25:32.60,0:25:33.27,Default,,0,0,0,,layer was showing.
Dialogue: 0,0:25:34.01,0:25:36.84,Default,,0,0,0,,And-- so, when you look on the
Dialogue: 0,0:25:36.84,0:25:37.87,Default,,0,0,0,,internet, there will be a
Dialogue: 0,0:25:37.87,0:25:39.27,Default,,0,0,0,,million people telling you to do
Dialogue: 0,0:25:39.27,0:25:40.65,Default,,0,0,0,,exactly the wrong thing here.
Dialogue: 0,0:25:42.20,0:25:44.07,Default,,0,0,0,,What they will say is set the
Dialogue: 0,0:25:44.07,0:25:45.40,Default,,0,0,0,,animation to not be removed on
Dialogue: 0,0:25:45.40,0:25:45.98,Default,,0,0,0,,completion.
Dialogue: 0,0:25:46.32,0:25:47.67,Default,,0,0,0,,Set its film mode to forwards
Dialogue: 0,0:25:47.67,0:25:49.42,Default,,0,0,0,,and forget about it.
Dialogue: 0,0:25:50.20,0:25:51.56,Default,,0,0,0,,And the problem with this comes
Dialogue: 0,0:25:51.56,0:25:53.73,Default,,0,0,0,,from the inconsistency this
Dialogue: 0,0:25:53.73,0:25:55.19,Default,,0,0,0,,introduces because after your
Dialogue: 0,0:25:55.19,0:25:56.73,Default,,0,0,0,,animation is over, the model
Dialogue: 0,0:25:56.73,0:25:58.04,Default,,0,0,0,,layer still has its starting
Dialogue: 0,0:25:58.04,0:25:58.39,Default,,0,0,0,,value.
Dialogue: 0,0:25:59.13,0:26:01.50,Default,,0,0,0,,So, this looks right, but if you
Dialogue: 0,0:26:01.50,0:26:02.17,Default,,0,0,0,,look at the value of the
Dialogue: 0,0:26:02.17,0:26:03.84,Default,,0,0,0,,property on these two graphs,
Dialogue: 0,0:26:04.31,0:26:05.32,Default,,0,0,0,,the presentation layer is
Dialogue: 0,0:26:05.32,0:26:06.33,Default,,0,0,0,,showing something different than
Dialogue: 0,0:26:06.33,0:26:07.67,Default,,0,0,0,,the model layer.
Dialogue: 0,0:26:07.83,0:26:09.05,Default,,0,0,0,,And where that becomes a problem
Dialogue: 0,0:26:09.44,0:26:10.52,Default,,0,0,0,,is when for instance you're
Dialogue: 0,0:26:10.52,0:26:12.37,Default,,0,0,0,,trying to align something to a
Dialogue: 0,0:26:12.37,0:26:13.17,Default,,0,0,0,,layer that you've previously
Dialogue: 0,0:26:13.17,0:26:14.25,Default,,0,0,0,,animated and you set it to the
Dialogue: 0,0:26:14.25,0:26:15.60,Default,,0,0,0,,layer's position and it's the
Dialogue: 0,0:26:15.60,0:26:16.56,Default,,0,0,0,,position that it had like two
Dialogue: 0,0:26:16.56,0:26:18.68,Default,,0,0,0,,minutes ago, which is weird.
Dialogue: 0,0:26:18.68,0:26:20.14,Default,,0,0,0,,Pretty unintuitive, right?
Dialogue: 0,0:26:21.19,0:26:23.90,Default,,0,0,0,,So, the solution to this is
Dialogue: 0,0:26:23.90,0:26:25.21,Default,,0,0,0,,fortunately dead simple.
Dialogue: 0,0:26:25.21,0:26:26.61,Default,,0,0,0,,You can mostly forget about the
Dialogue: 0,0:26:26.61,0:26:28.07,Default,,0,0,0,,entire conceptual stuff that I
Dialogue: 0,0:26:28.07,0:26:28.74,Default,,0,0,0,,just explained there.
Dialogue: 0,0:26:29.48,0:26:31.52,Default,,0,0,0,,All you have to do is when
Dialogue: 0,0:26:31.52,0:26:32.73,Default,,0,0,0,,you're adding your animations to
Dialogue: 0,0:26:32.73,0:26:35.02,Default,,0,0,0,,a layer, set the layer's model
Dialogue: 0,0:26:35.02,0:26:36.22,Default,,0,0,0,,property at the same time.
Dialogue: 0,0:26:37.28,0:26:39.17,Default,,0,0,0,,So, in that case, at the
Dialogue: 0,0:26:39.17,0:26:40.29,Default,,0,0,0,,beginning of the animation, the
Dialogue: 0,0:26:40.29,0:26:41.75,Default,,0,0,0,,model layer jumps to its final
Dialogue: 0,0:26:41.75,0:26:43.82,Default,,0,0,0,,state and the presentation layer
Dialogue: 0,0:26:43.82,0:26:45.65,Default,,0,0,0,,animates smoothly and afterwards
Dialogue: 0,0:26:46.37,0:26:47.12,Default,,0,0,0,,they're consistent.
Dialogue: 0,0:26:47.62,0:26:49.08,Default,,0,0,0,,And, better yet, there isn't
Dialogue: 0,0:26:49.08,0:26:49.95,Default,,0,0,0,,still an animation sitting
Dialogue: 0,0:26:49.95,0:26:51.48,Default,,0,0,0,,around on your model layer,
Dialogue: 0,0:26:51.91,0:26:53.86,Default,,0,0,0,,confusing the state of affairs
Dialogue: 0,0:26:53.86,0:26:55.69,Default,,0,0,0,,and kind of setting you up to be
Dialogue: 0,0:26:55.69,0:26:56.26,Default,,0,0,0,,tripped up later.
Dialogue: 0,0:26:57.75,0:26:59.07,Default,,0,0,0,,So, what that looks like in code
Dialogue: 0,0:27:00.01,0:27:01.49,Default,,0,0,0,,is just this.
Dialogue: 0,0:27:01.66,0:27:02.65,Default,,0,0,0,,You have your animation.
Dialogue: 0,0:27:03.29,0:27:04.86,Default,,0,0,0,,You set your duration, your from
Dialogue: 0,0:27:04.86,0:27:06.14,Default,,0,0,0,,value, your to value, and then
Dialogue: 0,0:27:06.14,0:27:07.28,Default,,0,0,0,,at the same time as you add it
Dialogue: 0,0:27:07.28,0:27:09.14,Default,,0,0,0,,to the layer, you set the value
Dialogue: 0,0:27:09.14,0:27:10.68,Default,,0,0,0,,of the actual property on it.
Dialogue: 0,0:27:11.04,0:27:12.12,Default,,0,0,0,,It's that simple.
Dialogue: 0,0:27:12.64,0:27:14.89,Default,,0,0,0,,Be aware of the model
Dialogue: 0,0:27:14.89,0:27:17.04,Default,,0,0,0,,presentation layer dichotomy and
Dialogue: 0,0:27:17.04,0:27:18.54,Default,,0,0,0,,apply the final state to your
Dialogue: 0,0:27:18.54,0:27:19.28,Default,,0,0,0,,layers when you're adding
Dialogue: 0,0:27:19.28,0:27:21.82,Default,,0,0,0,,animations to them.
Dialogue: 0,0:27:22.85,0:27:24.58,Default,,0,0,0,,So, next, I'd like to talk about
Dialogue: 0,0:27:24.58,0:27:27.04,Default,,0,0,0,,something that I have run into
Dialogue: 0,0:27:27.04,0:27:28.07,Default,,0,0,0,,more times than I would like to
Dialogue: 0,0:27:28.07,0:27:30.24,Default,,0,0,0,,admit, which is the intersection
Dialogue: 0,0:27:30.24,0:27:32.50,Default,,0,0,0,,between transforms and frames.
Dialogue: 0,0:27:32.50,0:27:34.83,Default,,0,0,0,,So, you're pretty familiar with
Dialogue: 0,0:27:34.83,0:27:35.55,Default,,0,0,0,,the idea of the frame.
Dialogue: 0,0:27:35.55,0:27:36.79,Default,,0,0,0,,You set this rectangle that
Dialogue: 0,0:27:36.79,0:27:37.93,Default,,0,0,0,,defines where your layer is and
Dialogue: 0,0:27:37.93,0:27:39.78,Default,,0,0,0,,how big it is.
Dialogue: 0,0:27:40.05,0:27:41.94,Default,,0,0,0,,And so, you have your layer set
Dialogue: 0,0:27:41.94,0:27:43.79,Default,,0,0,0,,up and you decide you want to
Dialogue: 0,0:27:43.79,0:27:45.67,Default,,0,0,0,,scale it down at a transform
Dialogue: 0,0:27:45.67,0:27:49.40,Default,,0,0,0,,that scales it to 25 percent.
Dialogue: 0,0:27:49.40,0:27:51.22,Default,,0,0,0,,Then later on, somewhere else in
Dialogue: 0,0:27:51.22,0:27:52.59,Default,,0,0,0,,your code, you set the frame
Dialogue: 0,0:27:52.59,0:27:54.74,Default,,0,0,0,,back and your layer goes back to
Dialogue: 0,0:27:54.74,0:27:55.94,Default,,0,0,0,,the size that it's supposed to
Dialogue: 0,0:27:56.94,0:27:57.01,Default,,0,0,0,,be.
Dialogue: 0,0:27:58.01,0:27:59.38,Default,,0,0,0,,And all seems well and good,
Dialogue: 0,0:27:59.38,0:27:59.64,Default,,0,0,0,,right?
Dialogue: 0,0:28:00.79,0:28:03.16,Default,,0,0,0,,Well, the problem arises when
Dialogue: 0,0:28:03.16,0:28:05.15,Default,,0,0,0,,you set another transform on the
Dialogue: 0,0:28:05.15,0:28:05.32,Default,,0,0,0,,layer.
Dialogue: 0,0:28:05.32,0:28:06.37,Default,,0,0,0,,In other words, you remove the
Dialogue: 0,0:28:06.37,0:28:07.48,Default,,0,0,0,,transform that's already there
Dialogue: 0,0:28:07.48,0:28:08.67,Default,,0,0,0,,and set something new.
Dialogue: 0,0:28:09.38,0:28:10.40,Default,,0,0,0,,So, say you want to rotate this
Dialogue: 0,0:28:10.40,0:28:12.57,Default,,0,0,0,,layer, you know, keeping it
Dialogue: 0,0:28:13.07,0:28:14.37,Default,,0,0,0,,otherwise the same size and what
Dialogue: 0,0:28:14.37,0:28:14.56,Default,,0,0,0,,not.
Dialogue: 0,0:28:15.10,0:28:16.23,Default,,0,0,0,,So, you set up a
Dialogue: 0,0:28:16.42,0:28:19.13,Default,,0,0,0,,CGAffineTransform and give it a
Dialogue: 0,0:28:19.13,0:28:21.75,Default,,0,0,0,,rotation angle and your lay does
Dialogue: 0,0:28:21.75,0:28:22.50,Default,,0,0,0,,that.
Dialogue: 0,0:28:23.07,0:28:24.83,Default,,0,0,0,,Which is not right.
Dialogue: 0,0:28:25.50,0:28:27.31,Default,,0,0,0,,So, why is this happening?
Dialogue: 0,0:28:28.41,0:28:30.81,Default,,0,0,0,,Well, the thing to know is that
Dialogue: 0,0:28:31.63,0:28:33.50,Default,,0,0,0,,the frame is the layer's size
Dialogue: 0,0:28:33.50,0:28:35.52,Default,,0,0,0,,from outside, the bounds are the
Dialogue: 0,0:28:35.52,0:28:37.40,Default,,0,0,0,,layer's size from inside, and
Dialogue: 0,0:28:37.85,0:28:39.78,Default,,0,0,0,,the-- if you ask the layer where
Dialogue: 0,0:28:39.78,0:28:41.06,Default,,0,0,0,,it's frame is, it's calculated
Dialogue: 0,0:28:41.06,0:28:41.88,Default,,0,0,0,,form the bounds and the
Dialogue: 0,0:28:41.88,0:28:42.44,Default,,0,0,0,,transform.
Dialogue: 0,0:28:43.40,0:28:45.15,Default,,0,0,0,,So, in other words, when your
Dialogue: 0,0:28:45.15,0:28:46.51,Default,,0,0,0,,layer had come back to its
Dialogue: 0,0:28:46.51,0:28:49.13,Default,,0,0,0,,original size, it was actually
Dialogue: 0,0:28:49.32,0:28:50.33,Default,,0,0,0,,four times the size because it
Dialogue: 0,0:28:50.33,0:28:51.63,Default,,0,0,0,,still had that scale transform
Dialogue: 0,0:28:51.63,0:28:51.80,Default,,0,0,0,,on it.
Dialogue: 0,0:28:52.16,0:28:53.61,Default,,0,0,0,,So, you told it onscreen I want
Dialogue: 0,0:28:53.61,0:28:55.15,Default,,0,0,0,,you to be this size and it was
Dialogue: 0,0:28:55.22,0:28:56.98,Default,,0,0,0,,scaled down by four times and so
Dialogue: 0,0:28:57.08,0:28:58.52,Default,,0,0,0,,it's well, like, OK, I need to
Dialogue: 0,0:28:58.52,0:28:59.53,Default,,0,0,0,,be four times bigger than that.
Dialogue: 0,0:29:00.03,0:29:01.71,Default,,0,0,0,,And that seemed fine because you
Dialogue: 0,0:29:01.71,0:29:02.66,Default,,0,0,0,,did-- it looked the same size
Dialogue: 0,0:29:02.66,0:29:03.83,Default,,0,0,0,,onscreen, but then when you
Dialogue: 0,0:29:03.83,0:29:05.31,Default,,0,0,0,,unset that transform, it went
Dialogue: 0,0:29:05.31,0:29:07.31,Default,,0,0,0,,back to its original magnificent
Dialogue: 0,0:29:07.31,0:29:07.72,Default,,0,0,0,,size there.
Dialogue: 0,0:29:08.93,0:29:11.49,Default,,0,0,0,,So, the long and short of this
Dialogue: 0,0:29:11.49,0:29:13.18,Default,,0,0,0,,is-- if you're using transforms,
Dialogue: 0,0:29:13.18,0:29:14.57,Default,,0,0,0,,be really careful about using
Dialogue: 0,0:29:14.57,0:29:15.23,Default,,0,0,0,,the frame property.
Dialogue: 0,0:29:15.23,0:29:17.77,Default,,0,0,0,,It's generally better not to
Dialogue: 0,0:29:17.84,0:29:18.74,Default,,0,0,0,,just set the frame.
Dialogue: 0,0:29:19.21,0:29:22.33,Default,,0,0,0,,Instead, figure out the size and
Dialogue: 0,0:29:22.33,0:29:23.13,Default,,0,0,0,,position that you want the layer
Dialogue: 0,0:29:23.13,0:29:24.68,Default,,0,0,0,,to be at, in other words, in
Dialogue: 0,0:29:24.68,0:29:26.81,Default,,0,0,0,,this case the width and height
Dialogue: 0,0:29:26.81,0:29:28.88,Default,,0,0,0,,of the frame that you wanted and
Dialogue: 0,0:29:28.88,0:29:29.94,Default,,0,0,0,,then the position would be the
Dialogue: 0,0:29:29.94,0:29:30.88,Default,,0,0,0,,center of the frame.
Dialogue: 0,0:29:32.03,0:29:34.10,Default,,0,0,0,,So, it's pretty much just that.
Dialogue: 0,0:29:34.10,0:29:35.60,Default,,0,0,0,,The frame is affected by the
Dialogue: 0,0:29:35.60,0:29:36.60,Default,,0,0,0,,transform, it will interact with
Dialogue: 0,0:29:36.60,0:29:37.25,Default,,0,0,0,,it in weird ways.
Dialogue: 0,0:29:37.25,0:29:38.68,Default,,0,0,0,,If you combine them, you're
Dialogue: 0,0:29:38.68,0:29:39.46,Default,,0,0,0,,probably going to have a bad
Dialogue: 0,0:29:39.46,0:29:41.63,Default,,0,0,0,,time, so just set bounds and
Dialogue: 0,0:29:41.63,0:29:41.85,Default,,0,0,0,,position.
Dialogue: 0,0:29:41.85,0:29:42.83,Default,,0,0,0,,You will save yourself a lot of
Dialogue: 0,0:29:42.83,0:29:43.17,Default,,0,0,0,,headache.
Dialogue: 0,0:29:43.73,0:29:46.97,Default,,0,0,0,,So, for the next couple of
Dialogue: 0,0:29:46.97,0:29:48.76,Default,,0,0,0,,these, I'd like to look at them
Dialogue: 0,0:29:48.76,0:29:50.29,Default,,0,0,0,,in the context of an app.
Dialogue: 0,0:29:51.63,0:29:54.27,Default,,0,0,0,,We have this shiny little app
Dialogue: 0,0:29:54.27,0:29:56.07,Default,,0,0,0,,here that lets you take emoji
Dialogue: 0,0:29:56.07,0:29:56.80,Default,,0,0,0,,and put them all over your
Dialogue: 0,0:29:56.80,0:29:57.29,Default,,0,0,0,,pictures.
Dialogue: 0,0:29:57.29,0:29:58.15,Default,,0,0,0,,It's very original.
Dialogue: 0,0:29:58.15,0:29:59.73,Default,,0,0,0,,I thought of it over a long
Dialogue: 0,0:29:59.73,0:30:01.02,Default,,0,0,0,,period of time.
Dialogue: 0,0:30:01.78,0:30:03.00,Default,,0,0,0,,And there's two things here that
Dialogue: 0,0:30:03.00,0:30:03.88,Default,,0,0,0,,are kind of contributing to the
Dialogue: 0,0:30:03.88,0:30:04.69,Default,,0,0,0,,look of this.
Dialogue: 0,0:30:05.25,0:30:06.98,Default,,0,0,0,,The first is the mask that's
Dialogue: 0,0:30:06.98,0:30:08.38,Default,,0,0,0,,sort of cutting out the edges of
Dialogue: 0,0:30:08.38,0:30:08.85,Default,,0,0,0,,this layer.
Dialogue: 0,0:30:08.90,0:30:11.42,Default,,0,0,0,,And the second is the shadow
Dialogue: 0,0:30:11.47,0:30:13.06,Default,,0,0,0,,underneath it.
Dialogue: 0,0:30:13.28,0:30:14.15,Default,,0,0,0,,First, let's talk about the
Dialogue: 0,0:30:15.18,0:30:15.30,Default,,0,0,0,,mask.
Dialogue: 0,0:30:16.27,0:30:18.67,Default,,0,0,0,,So, what's going on here is that
Dialogue: 0,0:30:18.67,0:30:20.13,Default,,0,0,0,,we have this kind of custom
Dialogue: 0,0:30:20.13,0:30:21.26,Default,,0,0,0,,rounded shape that's clipping
Dialogue: 0,0:30:21.26,0:30:23.03,Default,,0,0,0,,the edges of the emoji.
Dialogue: 0,0:30:23.42,0:30:25.28,Default,,0,0,0,,And the way this works is you
Dialogue: 0,0:30:25.28,0:30:27.08,Default,,0,0,0,,give CA another layer that has
Dialogue: 0,0:30:27.08,0:30:28.37,Default,,0,0,0,,whatever shape you want to be--
Dialogue: 0,0:30:28.55,0:30:31.75,Default,,0,0,0,,to take-- to affect the opacity
Dialogue: 0,0:30:31.75,0:30:34.61,Default,,0,0,0,,of your main layer and-- there
Dialogue: 0,0:30:34.92,0:30:36.17,Default,,0,0,0,,we go.
Dialogue: 0,0:30:36.42,0:30:39.27,Default,,0,0,0,,And CA will take the opacity of
Dialogue: 0,0:30:39.27,0:30:40.74,Default,,0,0,0,,that and use it to cut out the
Dialogue: 0,0:30:40.74,0:30:42.22,Default,,0,0,0,,shape of the layer.
Dialogue: 0,0:30:42.22,0:30:45.40,Default,,0,0,0,,And you can do some kind of cool
Dialogue: 0,0:30:45.40,0:30:46.22,Default,,0,0,0,,interesting things with this.
Dialogue: 0,0:30:46.22,0:30:47.10,Default,,0,0,0,,In a lot of cases, people will
Dialogue: 0,0:30:47.10,0:30:48.09,Default,,0,0,0,,just use a simple shape and you
Dialogue: 0,0:30:48.09,0:30:49.32,Default,,0,0,0,,can kind of fade them out, you
Dialogue: 0,0:30:49.32,0:30:50.24,Default,,0,0,0,,can cut holes in them-- it lets
Dialogue: 0,0:30:50.24,0:30:51.86,Default,,0,0,0,,you do all kinds of interesting
Dialogue: 0,0:30:51.86,0:30:53.01,Default,,0,0,0,,things with your layers.
Dialogue: 0,0:30:54.33,0:30:57.84,Default,,0,0,0,,And so, if you want to achieve
Dialogue: 0,0:30:57.84,0:30:59.21,Default,,0,0,0,,an affect like this where the
Dialogue: 0,0:30:59.21,0:31:01.78,Default,,0,0,0,,emoji are kind of fading out at
Dialogue: 0,0:31:01.78,0:31:02.73,Default,,0,0,0,,the bottom as well as being
Dialogue: 0,0:31:02.73,0:31:04.03,Default,,0,0,0,,clipped by the thing, you might
Dialogue: 0,0:31:04.03,0:31:05.58,Default,,0,0,0,,think, well, OK, I can use a
Dialogue: 0,0:31:05.58,0:31:07.70,Default,,0,0,0,,mask to fade-- to, like, set the
Dialogue: 0,0:31:07.70,0:31:08.43,Default,,0,0,0,,opacity of things.
Dialogue: 0,0:31:08.48,0:31:09.81,Default,,0,0,0,,I can just use two masks here,
Dialogue: 0,0:31:09.81,0:31:10.05,Default,,0,0,0,,right?
Dialogue: 0,0:31:11.05,0:31:13.49,Default,,0,0,0,,Well, you can, but that's not
Dialogue: 0,0:31:13.49,0:31:14.86,Default,,0,0,0,,going to go very well and the
Dialogue: 0,0:31:14.86,0:31:15.83,Default,,0,0,0,,reason is performance.
Dialogue: 0,0:31:16.51,0:31:18.39,Default,,0,0,0,,Each mask has a cost.
Dialogue: 0,0:31:18.85,0:31:20.30,Default,,0,0,0,,So, when you have multiple masks
Dialogue: 0,0:31:20.30,0:31:21.90,Default,,0,0,0,,in a layer, CA has to combine
Dialogue: 0,0:31:21.90,0:31:24.45,Default,,0,0,0,,each one in sequence to produce
Dialogue: 0,0:31:24.45,0:31:25.52,Default,,0,0,0,,the final image that ends up on
Dialogue: 0,0:31:25.52,0:31:25.86,Default,,0,0,0,,screen.
Dialogue: 0,0:31:25.96,0:31:28.00,Default,,0,0,0,,So, you have your emoji layer
Dialogue: 0,0:31:28.34,0:31:29.78,Default,,0,0,0,,here, the kind of fade out mask,
Dialogue: 0,0:31:30.24,0:31:31.37,Default,,0,0,0,,those get combined into the
Dialogue: 0,0:31:31.37,0:31:32.95,Default,,0,0,0,,fading out emoji, then you have
Dialogue: 0,0:31:32.95,0:31:34.07,Default,,0,0,0,,your other layer that is
Dialogue: 0,0:31:34.07,0:31:35.73,Default,,0,0,0,,containing the emoji and that is
Dialogue: 0,0:31:35.73,0:31:38.07,Default,,0,0,0,,getting masked by this other
Dialogue: 0,0:31:38.49,0:31:41.52,Default,,0,0,0,,shape thing and so, like, this
Dialogue: 0,0:31:41.52,0:31:43.42,Default,,0,0,0,,works, but it's suboptimal.
Dialogue: 0,0:31:43.42,0:31:44.90,Default,,0,0,0,,You can see like how much time
Dialogue: 0,0:31:44.90,0:31:46.09,Default,,0,0,0,,could be being spent here just
Dialogue: 0,0:31:46.09,0:31:47.19,Default,,0,0,0,,drawing pixels and figuring out
Dialogue: 0,0:31:47.19,0:31:48.11,Default,,0,0,0,,where things are opaque and so
Dialogue: 0,0:31:48.11,0:31:49.81,Default,,0,0,0,,on and so forth.
Dialogue: 0,0:31:49.81,0:31:52.62,Default,,0,0,0,,So, the problem that this
Dialogue: 0,0:31:52.62,0:31:54.38,Default,,0,0,0,,causes-- because CA has to draw
Dialogue: 0,0:31:54.38,0:31:55.28,Default,,0,0,0,,this stuff offscreen.
Dialogue: 0,0:31:55.43,0:31:56.90,Default,,0,0,0,,Basically, in your normal
Dialogue: 0,0:31:56.90,0:31:58.12,Default,,0,0,0,,drawing path, CA can just like
Dialogue: 0,0:31:58.16,0:31:59.24,Default,,0,0,0,,take the contents of one thing,
Dialogue: 0,0:31:59.24,0:32:00.62,Default,,0,0,0,,put it into the final image, its
Dialogue: 0,0:32:00.62,0:32:00.91,Default,,0,0,0,,composite.
Dialogue: 0,0:32:00.91,0:32:01.62,Default,,0,0,0,,And take the contents of another
Dialogue: 0,0:32:01.62,0:32:02.41,Default,,0,0,0,,and put it in, so on and so
Dialogue: 0,0:32:02.41,0:32:02.70,Default,,0,0,0,,forth.
Dialogue: 0,0:32:03.24,0:32:04.71,Default,,0,0,0,,But, in this case, it's having
Dialogue: 0,0:32:04.71,0:32:06.78,Default,,0,0,0,,to take a-- create a separate
Dialogue: 0,0:32:06.78,0:32:07.85,Default,,0,0,0,,context to draw all this stuff
Dialogue: 0,0:32:07.85,0:32:09.88,Default,,0,0,0,,in and then put it onto the
Dialogue: 0,0:32:09.88,0:32:10.21,Default,,0,0,0,,screen.
Dialogue: 0,0:32:10.54,0:32:11.99,Default,,0,0,0,,And the more of these you have
Dialogue: 0,0:32:11.99,0:32:13.41,Default,,0,0,0,,on there, the more that effect
Dialogue: 0,0:32:13.41,0:32:15.07,Default,,0,0,0,,stacks up.
Dialogue: 0,0:32:15.50,0:32:18.57,Default,,0,0,0,,So, if you want to still achieve
Dialogue: 0,0:32:18.57,0:32:21.37,Default,,0,0,0,,this effect, the best thing to
Dialogue: 0,0:32:21.37,0:32:22.93,Default,,0,0,0,,do is to cheat.
Dialogue: 0,0:32:23.84,0:32:26.10,Default,,0,0,0,,Basically, just to fake the-- at
Dialogue: 0,0:32:26.10,0:32:27.09,Default,,0,0,0,,least one of the masks that
Dialogue: 0,0:32:27.09,0:32:27.52,Default,,0,0,0,,you're using.
Dialogue: 0,0:32:27.97,0:32:29.44,Default,,0,0,0,,In this case, you could get away
Dialogue: 0,0:32:29.44,0:32:30.57,Default,,0,0,0,,with just putting a gradient
Dialogue: 0,0:32:30.57,0:32:32.59,Default,,0,0,0,,overlay on top of this layer and
Dialogue: 0,0:32:32.59,0:32:34.00,Default,,0,0,0,,then including that in the
Dialogue: 0,0:32:34.00,0:32:35.50,Default,,0,0,0,,overall masked thing.
Dialogue: 0,0:32:35.50,0:32:38.16,Default,,0,0,0,,Obviously, there are some cases
Dialogue: 0,0:32:38.16,0:32:39.75,Default,,0,0,0,,in which this won't work.
Dialogue: 0,0:32:39.79,0:32:40.79,Default,,0,0,0,,If your background is not a
Dialogue: 0,0:32:40.79,0:32:41.88,Default,,0,0,0,,solid color, then you can't use
Dialogue: 0,0:32:41.88,0:32:43.36,Default,,0,0,0,,a solid color gradient, but you
Dialogue: 0,0:32:43.36,0:32:44.73,Default,,0,0,0,,can do some other things such as
Dialogue: 0,0:32:44.73,0:32:47.28,Default,,0,0,0,,using-- take-- basically drawing
Dialogue: 0,0:32:47.28,0:32:50.08,Default,,0,0,0,,your background into another
Dialogue: 0,0:32:50.08,0:32:52.22,Default,,0,0,0,,image and then fading that out
Dialogue: 0,0:32:52.22,0:32:53.00,Default,,0,0,0,,and then using that as an
Dialogue: 0,0:32:53.00,0:32:53.39,Default,,0,0,0,,overlay.
Dialogue: 0,0:32:53.39,0:32:54.45,Default,,0,0,0,,And that's-- it's faster to do
Dialogue: 0,0:32:54.45,0:32:55.46,Default,,0,0,0,,that once than to have to make
Dialogue: 0,0:32:55.50,0:32:56.39,Default,,0,0,0,,CA do it every frame.
Dialogue: 0,0:32:58.42,0:33:01.78,Default,,0,0,0,,So, long and short of this is
Dialogue: 0,0:33:02.50,0:33:03.79,Default,,0,0,0,,each mask has a cost.
Dialogue: 0,0:33:03.86,0:33:05.25,Default,,0,0,0,,They are fun and useful, but
Dialogue: 0,0:33:05.25,0:33:06.82,Default,,0,0,0,,kind of expensive.
Dialogue: 0,0:33:07.20,0:33:08.62,Default,,0,0,0,,The size of your layers matters
Dialogue: 0,0:33:08.62,0:33:09.83,Default,,0,0,0,,significantly when you're
Dialogue: 0,0:33:09.83,0:33:10.60,Default,,0,0,0,,masking things.
Dialogue: 0,0:33:10.60,0:33:11.76,Default,,0,0,0,,If you have a really large layer
Dialogue: 0,0:33:11.76,0:33:12.98,Default,,0,0,0,,and you have tiny corner masks
Dialogue: 0,0:33:12.98,0:33:14.00,Default,,0,0,0,,on it, CA is still having to
Dialogue: 0,0:33:14.00,0:33:15.53,Default,,0,0,0,,draw that entire thing, which is
Dialogue: 0,0:33:15.53,0:33:16.03,Default,,0,0,0,,not ideal.
Dialogue: 0,0:33:16.66,0:33:18.65,Default,,0,0,0,,So, wherever you can, use
Dialogue: 0,0:33:18.65,0:33:19.11,Default,,0,0,0,,shortcuts.
Dialogue: 0,0:33:19.60,0:33:21.44,Default,,0,0,0,,That's about it.
Dialogue: 0,0:33:22.20,0:33:24.69,Default,,0,0,0,,Next up, let's talk about
Dialogue: 0,0:33:25.38,0:33:25.58,Default,,0,0,0,,shadows.
Dialogue: 0,0:33:26.10,0:33:28.71,Default,,0,0,0,,So, you're probably familiar
Dialogue: 0,0:33:28.79,0:33:30.44,Default,,0,0,0,,with the CA shadow properties,
Dialogue: 0,0:33:30.44,0:33:32.05,Default,,0,0,0,,shadow opacity, offset, radius,
Dialogue: 0,0:33:32.05,0:33:33.42,Default,,0,0,0,,so on and so forth.
Dialogue: 0,0:33:33.42,0:33:34.59,Default,,0,0,0,,And if you use them, you know,
Dialogue: 0,0:33:34.85,0:33:35.96,Default,,0,0,0,,your shadow shows up, everything
Dialogue: 0,0:33:35.96,0:33:37.77,Default,,0,0,0,,seems to be fine, but if you're
Dialogue: 0,0:33:37.77,0:33:39.36,Default,,0,0,0,,in an app that has a lot of
Dialogue: 0,0:33:39.54,0:33:40.61,Default,,0,0,0,,views that have shadows on them,
Dialogue: 0,0:33:40.61,0:33:41.29,Default,,0,0,0,,you might notice that your
Dialogue: 0,0:33:41.29,0:33:42.48,Default,,0,0,0,,performance starts taking a hit.
Dialogue: 0,0:33:42.48,0:33:44.28,Default,,0,0,0,,And the reason for that is that
Dialogue: 0,0:33:44.35,0:33:45.96,Default,,0,0,0,,CA has to draw the shadow for
Dialogue: 0,0:33:45.96,0:33:47.37,Default,,0,0,0,,each of these individually and
Dialogue: 0,0:33:47.37,0:33:48.59,Default,,0,0,0,,it has to draw it including the
Dialogue: 0,0:33:48.59,0:33:51.04,Default,,0,0,0,,entire hierarchy of layers that
Dialogue: 0,0:33:51.04,0:33:51.86,Default,,0,0,0,,each view contains.
Dialogue: 0,0:33:52.95,0:33:55.46,Default,,0,0,0,,So, what I mean by that is when
Dialogue: 0,0:33:55.46,0:33:56.54,Default,,0,0,0,,you have that layer being
Dialogue: 0,0:33:56.54,0:33:58.65,Default,,0,0,0,,shadowed, CA has to first draw
Dialogue: 0,0:33:58.65,0:34:00.37,Default,,0,0,0,,its background, then draw every
Dialogue: 0,0:34:00.37,0:34:03.89,Default,,0,0,0,,single sublayer-- wait for it--
Dialogue: 0,0:34:05.63,0:34:07.44,Default,,0,0,0,,and then figure out the opacity
Dialogue: 0,0:34:07.44,0:34:07.72,Default,,0,0,0,,of that.
Dialogue: 0,0:34:07.72,0:34:09.55,Default,,0,0,0,,And the result of that is just
Dialogue: 0,0:34:10.07,0:34:10.47,Default,,0,0,0,,this.
Dialogue: 0,0:34:11.00,0:34:11.99,Default,,0,0,0,,So, like, that seems like wasted
Dialogue: 0,0:34:11.99,0:34:12.45,Default,,0,0,0,,time, right?
Dialogue: 0,0:34:12.45,0:34:13.25,Default,,0,0,0,,We just spent all this time
Dialogue: 0,0:34:13.25,0:34:14.23,Default,,0,0,0,,drawing these lovely emoji, but
Dialogue: 0,0:34:14.23,0:34:16.12,Default,,0,0,0,,we're only seeing their opacity.
Dialogue: 0,0:34:17.23,0:34:19.73,Default,,0,0,0,,So, basically when the contents
Dialogue: 0,0:34:19.73,0:34:20.80,Default,,0,0,0,,of the sublayers don't matter,
Dialogue: 0,0:34:20.80,0:34:23.55,Default,,0,0,0,,using the regular shadow system
Dialogue: 0,0:34:23.55,0:34:25.52,Default,,0,0,0,,is kind of a waste of time.
Dialogue: 0,0:34:25.65,0:34:27.34,Default,,0,0,0,,What you want to use instead is
Dialogue: 0,0:34:27.34,0:34:28.57,Default,,0,0,0,,the shadow path property.
Dialogue: 0,0:34:29.50,0:34:31.00,Default,,0,0,0,,And we mentioned earlier that
Dialogue: 0,0:34:31.00,0:34:33.18,Default,,0,0,0,,you can use Core Graphics to
Dialogue: 0,0:34:33.48,0:34:35.39,Default,,0,0,0,,draw paths that have, you know,
Dialogue: 0,0:34:35.54,0:34:36.95,Default,,0,0,0,,varying shapes and then do
Dialogue: 0,0:34:36.95,0:34:37.87,Default,,0,0,0,,things with them.
Dialogue: 0,0:34:37.87,0:34:40.31,Default,,0,0,0,,CG paths are also used elsewhere
Dialogue: 0,0:34:40.31,0:34:41.31,Default,,0,0,0,,in the system for doing path
Dialogue: 0,0:34:41.37,0:34:43.45,Default,,0,0,0,,stuff and, in this case, you
Dialogue: 0,0:34:43.45,0:34:44.87,Default,,0,0,0,,just basically make a path that
Dialogue: 0,0:34:44.87,0:34:46.72,Default,,0,0,0,,is the shape of your layer, hand
Dialogue: 0,0:34:46.88,0:34:49.13,Default,,0,0,0,,that to CA, and it can draw that
Dialogue: 0,0:34:49.13,0:34:50.21,Default,,0,0,0,,and blur it and basically
Dialogue: 0,0:34:50.21,0:34:51.41,Default,,0,0,0,,produce your shadow much faster
Dialogue: 0,0:34:51.41,0:34:52.61,Default,,0,0,0,,than it can by drawing the layer
Dialogue: 0,0:34:52.61,0:34:53.48,Default,,0,0,0,,and all of its sublayers.
Dialogue: 0,0:34:55.13,0:34:58.16,Default,,0,0,0,,So, that's the main performance
Dialogue: 0,0:34:58.16,0:34:59.12,Default,,0,0,0,,advantage of these.
Dialogue: 0,0:34:59.12,0:34:59.98,Default,,0,0,0,,The other is that if you have a
Dialogue: 0,0:34:59.98,0:35:01.06,Default,,0,0,0,,lot of layers using the same
Dialogue: 0,0:35:01.06,0:35:03.03,Default,,0,0,0,,shadow path instance, then CA
Dialogue: 0,0:35:03.59,0:35:05.10,Default,,0,0,0,,doesn't have to redraw the
Dialogue: 0,0:35:05.10,0:35:05.75,Default,,0,0,0,,shadow at all.
Dialogue: 0,0:35:05.75,0:35:06.51,Default,,0,0,0,,It can just reuse them
Dialogue: 0,0:35:06.51,0:35:07.33,Default,,0,0,0,,everywhere and that's a huge
Dialogue: 0,0:35:07.38,0:35:08.80,Default,,0,0,0,,performance boost.
Dialogue: 0,0:35:09.04,0:35:10.56,Default,,0,0,0,,So, when you're working with
Dialogue: 0,0:35:10.56,0:35:14.01,Default,,0,0,0,,layer shadows, be aware that the
Dialogue: 0,0:35:14.01,0:35:15.39,Default,,0,0,0,,blending of the layer and all
Dialogue: 0,0:35:15.39,0:35:16.15,Default,,0,0,0,,its sublayers is really
Dialogue: 0,0:35:16.15,0:35:16.68,Default,,0,0,0,,expensive.
Dialogue: 0,0:35:16.82,0:35:17.97,Default,,0,0,0,,You want to avoid it where you
Dialogue: 0,0:35:17.97,0:35:20.11,Default,,0,0,0,,can, so use shadow paths.
Dialogue: 0,0:35:20.62,0:35:21.83,Default,,0,0,0,,Pretty simple, right?
Dialogue: 0,0:35:23.61,0:35:25.23,Default,,0,0,0,,So, we just took you through
Dialogue: 0,0:35:25.23,0:35:27.57,Default,,0,0,0,,kind of a bunch of CA best
Dialogue: 0,0:35:27.57,0:35:28.12,Default,,0,0,0,,practices.
Dialogue: 0,0:35:28.12,0:35:29.74,Default,,0,0,0,,Some good-- some ways to use the
Dialogue: 0,0:35:29.74,0:35:30.92,Default,,0,0,0,,stuff that you're already using
Dialogue: 0,0:35:31.24,0:35:32.12,Default,,0,0,0,,more effectively.
Dialogue: 0,0:35:32.82,0:35:33.97,Default,,0,0,0,,Let's look at some tips and
Dialogue: 0,0:35:33.97,0:35:34.29,Default,,0,0,0,,tricks.
Dialogue: 0,0:35:34.29,0:35:35.27,Default,,0,0,0,,Let's look at some things that
Dialogue: 0,0:35:35.27,0:35:37.45,Default,,0,0,0,,you might not be using already.
Dialogue: 0,0:35:38.94,0:35:43.32,Default,,0,0,0,,So, CA has a CALayer subclass
Dialogue: 0,0:35:43.32,0:35:45.71,Default,,0,0,0,,called CAShapeLayer and what
Dialogue: 0,0:35:45.71,0:35:46.87,Default,,0,0,0,,that does is take a Core
Dialogue: 0,0:35:46.87,0:35:48.11,Default,,0,0,0,,Graphics path, like the ones I
Dialogue: 0,0:35:48.11,0:35:49.42,Default,,0,0,0,,was mentioning earlier, you give
Dialogue: 0,0:35:49.42,0:35:50.40,Default,,0,0,0,,it a stroke color and a fill
Dialogue: 0,0:35:50.40,0:35:52.13,Default,,0,0,0,,color and it draws your thing.
Dialogue: 0,0:35:52.13,0:35:52.84,Default,,0,0,0,,You may have encountered this
Dialogue: 0,0:35:52.84,0:35:55.45,Default,,0,0,0,,before, but one of the cool
Dialogue: 0,0:35:55.45,0:35:56.78,Default,,0,0,0,,things about CA is that a ton of
Dialogue: 0,0:35:56.78,0:35:58.04,Default,,0,0,0,,the properties that you have on
Dialogue: 0,0:35:58.04,0:35:59.48,Default,,0,0,0,,layers are animatable.
Dialogue: 0,0:36:00.06,0:36:01.68,Default,,0,0,0,,You can change-- you can set up
Dialogue: 0,0:36:01.68,0:36:02.55,Default,,0,0,0,,an animation with pretty much
Dialogue: 0,0:36:02.55,0:36:04.00,Default,,0,0,0,,any of these properties and CA
Dialogue: 0,0:36:04.00,0:36:05.42,Default,,0,0,0,,will do the right thing and
Dialogue: 0,0:36:05.42,0:36:06.91,Default,,0,0,0,,interpolate it over time and
Dialogue: 0,0:36:06.91,0:36:08.16,Default,,0,0,0,,give you an animated layer.
Dialogue: 0,0:36:08.16,0:36:10.06,Default,,0,0,0,,And there are some cool things
Dialogue: 0,0:36:10.06,0:36:10.70,Default,,0,0,0,,you can do with that.
Dialogue: 0,0:36:11.22,0:36:12.02,Default,,0,0,0,,Obviously, you could, you know,
Dialogue: 0,0:36:12.02,0:36:13.42,Default,,0,0,0,,put an animation on the stroke
Dialogue: 0,0:36:13.42,0:36:14.16,Default,,0,0,0,,color or fill color, but
Dialogue: 0,0:36:14.16,0:36:15.76,Default,,0,0,0,,that's-- seems pretty obvious,
Dialogue: 0,0:36:15.76,0:36:15.94,Default,,0,0,0,,right?
Dialogue: 0,0:36:16.70,0:36:17.99,Default,,0,0,0,,What else can we do?
Dialogue: 0,0:36:18.56,0:36:21.16,Default,,0,0,0,,Well, CAShapeLayer has a couple
Dialogue: 0,0:36:21.16,0:36:22.55,Default,,0,0,0,,of properties called strokeStart
Dialogue: 0,0:36:22.55,0:36:24.77,Default,,0,0,0,,and strokeEnd, which let you
Dialogue: 0,0:36:24.77,0:36:26.49,Default,,0,0,0,,create an effect where the layer
Dialogue: 0,0:36:26.49,0:36:28.27,Default,,0,0,0,,draws itself along the length of
Dialogue: 0,0:36:28.27,0:36:30.36,Default,,0,0,0,,the path or undraws itself or
Dialogue: 0,0:36:30.36,0:36:31.00,Default,,0,0,0,,draws itself again.
Dialogue: 0,0:36:32.31,0:36:33.87,Default,,0,0,0,,And that's kind of fun.
Dialogue: 0,0:36:34.04,0:36:35.12,Default,,0,0,0,,You can use that for various
Dialogue: 0,0:36:35.12,0:36:36.74,Default,,0,0,0,,effects in your UI where, you
Dialogue: 0,0:36:36.74,0:36:38.32,Default,,0,0,0,,know, a logo might draw itself
Dialogue: 0,0:36:38.32,0:36:39.81,Default,,0,0,0,,into being and then fill in or
Dialogue: 0,0:36:39.81,0:36:41.30,Default,,0,0,0,,something like that.
Dialogue: 0,0:36:41.50,0:36:43.27,Default,,0,0,0,,You can also do something like
Dialogue: 0,0:36:43.27,0:36:45.45,Default,,0,0,0,,of fun with the line dash mode
Dialogue: 0,0:36:45.45,0:36:46.56,Default,,0,0,0,,property and specifically
Dialogue: 0,0:36:46.65,0:36:48.36,Default,,0,0,0,,animating the lineDashPhase.
Dialogue: 0,0:36:48.36,0:36:50.70,Default,,0,0,0,,If you have layer who-- that's
Dialogue: 0,0:36:50.70,0:36:51.75,Default,,0,0,0,,set to draw its stroke with a
Dialogue: 0,0:36:51.75,0:36:54.02,Default,,0,0,0,,dash pattern, then you can just
Dialogue: 0,0:36:54.39,0:36:55.99,Default,,0,0,0,,animate the lineDashPhase from,
Dialogue: 0,0:36:55.99,0:36:57.61,Default,,0,0,0,,you know, some pixel value to
Dialogue: 0,0:36:57.61,0:36:58.86,Default,,0,0,0,,some other pixel value and it
Dialogue: 0,0:36:58.86,0:37:00.10,Default,,0,0,0,,will shift along the edges of
Dialogue: 0,0:37:00.10,0:37:01.47,Default,,0,0,0,,the shape so you can get this
Dialogue: 0,0:37:01.47,0:37:03.25,Default,,0,0,0,,kind of cool marching antsy sort
Dialogue: 0,0:37:03.25,0:37:03.60,Default,,0,0,0,,of effect.
Dialogue: 0,0:37:04.11,0:37:06.19,Default,,0,0,0,,So, that's shape layers.
Dialogue: 0,0:37:06.30,0:37:08.04,Default,,0,0,0,,Let's talk about gradient
Dialogue: 0,0:37:08.04,0:37:08.39,Default,,0,0,0,,layers.
Dialogue: 0,0:37:09.41,0:37:10.29,Default,,0,0,0,,Again, you might have used these
Dialogue: 0,0:37:10.29,0:37:11.95,Default,,0,0,0,,before, but I would guess you
Dialogue: 0,0:37:11.95,0:37:13.34,Default,,0,0,0,,might not have tried animating
Dialogue: 0,0:37:13.34,0:37:13.57,Default,,0,0,0,,one.
Dialogue: 0,0:37:14.10,0:37:15.12,Default,,0,0,0,,And, again, all these properties
Dialogue: 0,0:37:15.12,0:37:16.18,Default,,0,0,0,,are animatable, so you can just
Dialogue: 0,0:37:16.18,0:37:17.22,Default,,0,0,0,,kind of mess with them and see
Dialogue: 0,0:37:17.22,0:37:18.33,Default,,0,0,0,,what you get.
Dialogue: 0,0:37:18.65,0:37:20.62,Default,,0,0,0,,You might for instance have a
Dialogue: 0,0:37:20.62,0:37:22.15,Default,,0,0,0,,layer that's a gradient layer
Dialogue: 0,0:37:22.15,0:37:23.25,Default,,0,0,0,,that's masked with this star
Dialogue: 0,0:37:23.25,0:37:23.52,Default,,0,0,0,,shape.
Dialogue: 0,0:37:23.87,0:37:24.85,Default,,0,0,0,,And if you animate the start
Dialogue: 0,0:37:24.85,0:37:25.95,Default,,0,0,0,,point and end point from
Dialogue: 0,0:37:25.95,0:37:26.98,Default,,0,0,0,,somewhere off to one side of the
Dialogue: 0,0:37:26.98,0:37:28.07,Default,,0,0,0,,thing to somewhere off on the
Dialogue: 0,0:37:28.07,0:37:29.57,Default,,0,0,0,,other, you get this kind of
Dialogue: 0,0:37:29.82,0:37:31.69,Default,,0,0,0,,shiny, like, metal effect.
Dialogue: 0,0:37:32.09,0:37:32.76,Default,,0,0,0,,Kind of neat, right?
Dialogue: 0,0:37:33.67,0:37:34.55,Default,,0,0,0,,We've actually used that
Dialogue: 0,0:37:34.55,0:37:37.30,Default,,0,0,0,,elsewhere in the iOS UI for--
Dialogue: 0,0:37:37.30,0:37:38.45,Default,,0,0,0,,well, sorry, the watch UI.
Dialogue: 0,0:37:38.96,0:37:40.05,Default,,0,0,0,,If you've used Apple Pay, the
Dialogue: 0,0:37:40.05,0:37:41.38,Default,,0,0,0,,little kind of card swoopy in
Dialogue: 0,0:37:41.38,0:37:42.43,Default,,0,0,0,,thing, that was a gradient
Dialogue: 0,0:37:42.43,0:37:42.65,Default,,0,0,0,,layer.
Dialogue: 0,0:37:43.37,0:37:46.13,Default,,0,0,0,,So, yeah. The last thing that I
Dialogue: 0,0:37:46.13,0:37:47.67,Default,,0,0,0,,want to talk about is layer
Dialogue: 0,0:37:47.67,0:37:48.18,Default,,0,0,0,,speed.
Dialogue: 0,0:37:49.14,0:37:50.56,Default,,0,0,0,,And this one's a kind of fun
Dialogue: 0,0:37:50.56,0:37:50.75,Default,,0,0,0,,trick.
Dialogue: 0,0:37:50.75,0:37:51.76,Default,,0,0,0,,It can be a little bit hard to
Dialogue: 0,0:37:51.76,0:37:52.77,Default,,0,0,0,,use, but you can get some really
Dialogue: 0,0:37:52.77,0:37:55.85,Default,,0,0,0,,cool effects out of it.
Dialogue: 0,0:37:57.06,0:37:58.70,Default,,0,0,0,,So, there's no kind of idea of a
Dialogue: 0,0:37:58.70,0:38:00.39,Default,,0,0,0,,global time in CA.
Dialogue: 0,0:38:00.39,0:38:02.07,Default,,0,0,0,,There's only kind of relative
Dialogue: 0,0:38:02.07,0:38:03.45,Default,,0,0,0,,times from one-- from one layer
Dialogue: 0,0:38:03.45,0:38:05.52,Default,,0,0,0,,to its sublayers and its
Dialogue: 0,0:38:05.52,0:38:07.72,Default,,0,0,0,,sublayers below that.
Dialogue: 0,0:38:07.72,0:38:09.17,Default,,0,0,0,,And so, a layer can have a
Dialogue: 0,0:38:09.17,0:38:10.65,Default,,0,0,0,,different time scale where like
Dialogue: 0,0:38:10.65,0:38:12.30,Default,,0,0,0,,if one second passes in its
Dialogue: 0,0:38:12.30,0:38:13.70,Default,,0,0,0,,super layer, two seconds pass in
Dialogue: 0,0:38:13.70,0:38:14.18,Default,,0,0,0,,the sublayer.
Dialogue: 0,0:38:15.11,0:38:16.94,Default,,0,0,0,,And-- so, the result of that is
Dialogue: 0,0:38:16.94,0:38:19.09,Default,,0,0,0,,that an animation that is added
Dialogue: 0,0:38:19.09,0:38:20.49,Default,,0,0,0,,to one of these layers, if it's
Dialogue: 0,0:38:20.49,0:38:21.72,Default,,0,0,0,,on a layer with speed of two, it
Dialogue: 0,0:38:21.72,0:38:22.86,Default,,0,0,0,,happens twice as fast.
Dialogue: 0,0:38:22.86,0:38:25.88,Default,,0,0,0,,If it's on a layer speed of 0.5,
Dialogue: 0,0:38:25.88,0:38:28.26,Default,,0,0,0,,it happens half as fast.
Dialogue: 0,0:38:28.35,0:38:30.60,Default,,0,0,0,,And what this lets you do,
Dialogue: 0,0:38:30.60,0:38:31.56,Default,,0,0,0,,obviously, is run your
Dialogue: 0,0:38:31.56,0:38:32.82,Default,,0,0,0,,animations more or less slowly,
Dialogue: 0,0:38:32.82,0:38:33.97,Default,,0,0,0,,but that seems kind of
Dialogue: 0,0:38:33.97,0:38:34.44,Default,,0,0,0,,superfluous.
Dialogue: 0,0:38:34.44,0:38:37.01,Default,,0,0,0,,You could just set them to be
Dialogue: 0,0:38:37.01,0:38:37.87,Default,,0,0,0,,that duration in the first
Dialogue: 0,0:38:37.87,0:38:38.25,Default,,0,0,0,,place, right?
Dialogue: 0,0:38:38.32,0:38:40.83,Default,,0,0,0,,But the cool thing happens when
Dialogue: 0,0:38:40.83,0:38:42.07,Default,,0,0,0,,you set the layer speed to zero.
Dialogue: 0,0:38:42.07,0:38:44.75,Default,,0,0,0,,And what happens there is that
Dialogue: 0,0:38:44.81,0:38:46.22,Default,,0,0,0,,the animations don't move.
Dialogue: 0,0:38:47.17,0:38:48.42,Default,,0,0,0,,The animations pause.
Dialogue: 0,0:38:49.19,0:38:50.16,Default,,0,0,0,,And that, again, might not seem
Dialogue: 0,0:38:50.16,0:38:51.47,Default,,0,0,0,,very useful for a thing called
Dialogue: 0,0:38:51.47,0:38:53.10,Default,,0,0,0,,Core Animation, but the thing is
Dialogue: 0,0:38:53.10,0:38:54.74,Default,,0,0,0,,that it gives you control over
Dialogue: 0,0:38:54.74,0:38:55.97,Default,,0,0,0,,the animation's progress through
Dialogue: 0,0:38:55.97,0:38:57.30,Default,,0,0,0,,time with a property called
Dialogue: 0,0:38:57.30,0:38:57.88,Default,,0,0,0,,timeOffset.
Dialogue: 0,0:38:58.82,0:39:01.56,Default,,0,0,0,,So, what that lets you do is let
Dialogue: 0,0:39:01.56,0:39:03.61,Default,,0,0,0,,the user or any other process in
Dialogue: 0,0:39:03.61,0:39:04.47,Default,,0,0,0,,your app scrub through an
Dialogue: 0,0:39:04.47,0:39:05.62,Default,,0,0,0,,animation interactively.
Dialogue: 0,0:39:05.62,0:39:07.07,Default,,0,0,0,,You can have an arbitrarily
Dialogue: 0,0:39:07.07,0:39:08.65,Default,,0,0,0,,complex animation or series of
Dialogue: 0,0:39:08.65,0:39:11.36,Default,,0,0,0,,subanimations and setting the
Dialogue: 0,0:39:11.36,0:39:12.78,Default,,0,0,0,,timeOffset on one layer will
Dialogue: 0,0:39:12.78,0:39:13.70,Default,,0,0,0,,have all of them progress
Dialogue: 0,0:39:13.70,0:39:15.31,Default,,0,0,0,,through according to the--
Dialogue: 0,0:39:15.31,0:39:17.75,Default,,0,0,0,,according to where one-- the
Dialogue: 0,0:39:17.75,0:39:19.27,Default,,0,0,0,,super layer is in its animation.
Dialogue: 0,0:39:19.86,0:39:22.32,Default,,0,0,0,,So, what that lets you do is an
Dialogue: 0,0:39:22.32,0:39:23.27,Default,,0,0,0,,effect something like this
Dialogue: 0,0:39:24.54,0:39:25.83,Default,,0,0,0,,where, as the user drags up and
Dialogue: 0,0:39:25.83,0:39:27.17,Default,,0,0,0,,down, the layer progressively
Dialogue: 0,0:39:27.17,0:39:29.10,Default,,0,0,0,,reveals itself and these things
Dialogue: 0,0:39:29.10,0:39:31.76,Default,,0,0,0,,kind of animate in and out with
Dialogue: 0,0:39:31.76,0:39:32.35,Default,,0,0,0,,that progress.
Dialogue: 0,0:39:33.53,0:39:35.83,Default,,0,0,0,,And-- so, that's kind of cool,
Dialogue: 0,0:39:35.83,0:39:36.77,Default,,0,0,0,,but, like, I could just be
Dialogue: 0,0:39:36.77,0:39:37.45,Default,,0,0,0,,making this up, right?
Dialogue: 0,0:39:37.45,0:39:38.31,Default,,0,0,0,,This could just be a key frame
Dialogue: 0,0:39:38.31,0:39:38.78,Default,,0,0,0,,animation.
Dialogue: 0,0:39:39.21,0:39:42.39,Default,,0,0,0,,So, let's go on and look at this
Dialogue: 0,0:39:42.39,0:39:43.02,Default,,0,0,0,,as a demo.
Dialogue: 0,0:39:43.80,0:39:48.54,Default,,0,0,0,,OK. So, here we have the simple
Dialogue: 0,0:39:48.73,0:39:49.47,Default,,0,0,0,,test app set up.
Dialogue: 0,0:39:49.66,0:39:52.13,Default,,0,0,0,,It's got a basic view subclass
Dialogue: 0,0:39:52.13,0:39:54.19,Default,,0,0,0,,that sets up all these emoji,
Dialogue: 0,0:39:54.19,0:39:54.79,Default,,0,0,0,,lays them out.
Dialogue: 0,0:39:55.91,0:39:56.81,Default,,0,0,0,,Nothing too fancy here.
Dialogue: 0,0:39:57.25,0:39:59.15,Default,,0,0,0,,The key thing about it is that
Dialogue: 0,0:39:59.15,0:40:01.09,Default,,0,0,0,,it vends a list of its-- of the
Dialogue: 0,0:40:01.09,0:40:02.36,Default,,0,0,0,,emoji layers in it so that we
Dialogue: 0,0:40:02.36,0:40:03.61,Default,,0,0,0,,can grab them and animate them
Dialogue: 0,0:40:03.61,0:40:03.99,Default,,0,0,0,,later on.
Dialogue: 0,0:40:04.73,0:40:06.21,Default,,0,0,0,,So, if you look at our view
Dialogue: 0,0:40:06.21,0:40:07.77,Default,,0,0,0,,controller code, there's, again,
Dialogue: 0,0:40:07.77,0:40:08.70,Default,,0,0,0,,not too much going on here.
Dialogue: 0,0:40:09.39,0:40:11.07,Default,,0,0,0,,So, let's change that.
Dialogue: 0,0:40:12.66,0:40:15.75,Default,,0,0,0,,We're first going to just build
Dialogue: 0,0:40:15.75,0:40:18.31,Default,,0,0,0,,the set of animations that make
Dialogue: 0,0:40:18.59,0:40:21.75,Default,,0,0,0,,the panel layer kind of show up
Dialogue: 0,0:40:22.27,0:40:27.44,Default,,0,0,0,,and-- one second-- so, we have a
Dialogue: 0,0:40:27.44,0:40:28.63,Default,,0,0,0,,pair of basic animations here.
Dialogue: 0,0:40:29.22,0:40:30.43,Default,,0,0,0,,One affecting the bound's width,
Dialogue: 0,0:40:30.53,0:40:32.11,Default,,0,0,0,,one affecting the height.
Dialogue: 0,0:40:32.11,0:40:32.81,Default,,0,0,0,,You'll notice that I set the
Dialogue: 0,0:40:32.81,0:40:34.97,Default,,0,0,0,,duration of the first animation
Dialogue: 0,0:40:34.97,0:40:36.51,Default,,0,0,0,,to one because that's kind of
Dialogue: 0,0:40:36.51,0:40:38.05,Default,,0,0,0,,the longest animation that-- in
Dialogue: 0,0:40:38.05,0:40:40.36,Default,,0,0,0,,this sequence and it makes it
Dialogue: 0,0:40:40.36,0:40:41.56,Default,,0,0,0,,really easy to do the math for
Dialogue: 0,0:40:41.56,0:40:42.64,Default,,0,0,0,,like how far in the animation
Dialogue: 0,0:40:42.64,0:40:43.97,Default,,0,0,0,,you are, zero seconds to one
Dialogue: 0,0:40:43.97,0:40:45.46,Default,,0,0,0,,second, zero to one, zero
Dialogue: 0,0:40:45.46,0:40:47.40,Default,,0,0,0,,percent to 100 percent.
Dialogue: 0,0:40:48.26,0:40:49.96,Default,,0,0,0,,So, add these two things to the
Dialogue: 0,0:40:49.96,0:40:53.20,Default,,0,0,0,,layer and when we run this we
Dialogue: 0,0:40:53.98,0:40:58.01,Default,,0,0,0,,see the animation.
Dialogue: 0,0:40:58.33,0:40:59.31,Default,,0,0,0,,And we see it once.
Dialogue: 0,0:40:59.31,0:41:00.18,Default,,0,0,0,,Nothing much happens, right?
Dialogue: 0,0:41:00.44,0:41:01.80,Default,,0,0,0,,And we also notice that the
Dialogue: 0,0:41:01.80,0:41:03.28,Default,,0,0,0,,emoji aren't animating in, which
Dialogue: 0,0:41:03.28,0:41:05.49,Default,,0,0,0,,is no fun at all.
Dialogue: 0,0:41:06.04,0:41:08.97,Default,,0,0,0,,So, change this up a little bit
Dialogue: 0,0:41:08.97,0:41:09.19,Default,,0,0,0,,more.
Dialogue: 0,0:41:15.98,0:41:19.82,Default,,0,0,0,,So, this is pretty
Dialogue: 0,0:41:19.82,0:41:20.63,Default,,0,0,0,,straightforward.
Dialogue: 0,0:41:20.63,0:41:21.58,Default,,0,0,0,,Basically what we're doing is
Dialogue: 0,0:41:21.58,0:41:22.44,Default,,0,0,0,,just setting up a series of
Dialogue: 0,0:41:22.44,0:41:23.78,Default,,0,0,0,,animations, one on each layer,
Dialogue: 0,0:41:24.13,0:41:25.58,Default,,0,0,0,,and giving each one a slightly
Dialogue: 0,0:41:25.58,0:41:26.52,Default,,0,0,0,,later begin time.
Dialogue: 0,0:41:27.14,0:41:29.01,Default,,0,0,0,,And you'll notice that I can't
Dialogue: 0,0:41:29.01,0:41:30.54,Default,,0,0,0,,just set a begin time of, you
Dialogue: 0,0:41:30.54,0:41:32.22,Default,,0,0,0,,know, some number in the future.
Dialogue: 0,0:41:32.22,0:41:33.58,Default,,0,0,0,,I have to actually figure out
Dialogue: 0,0:41:33.58,0:41:34.45,Default,,0,0,0,,the starting time.
Dialogue: 0,0:41:34.56,0:41:36.31,Default,,0,0,0,,The time that the parent layer
Dialogue: 0,0:41:36.31,0:41:38.43,Default,,0,0,0,,thinks that it is to add to
Dialogue: 0,0:41:38.43,0:41:38.73,Default,,0,0,0,,that.
Dialogue: 0,0:41:38.84,0:41:40.11,Default,,0,0,0,,If I just set it to, you know,
Dialogue: 0,0:41:40.11,0:41:42.24,Default,,0,0,0,,zero plus this number, then the
Dialogue: 0,0:41:42.24,0:41:43.74,Default,,0,0,0,,animation started it somewhere
Dialogue: 0,0:41:43.74,0:41:44.69,Default,,0,0,0,,in the past and so everything
Dialogue: 0,0:41:44.69,0:41:45.86,Default,,0,0,0,,will already appear to be done.
Dialogue: 0,0:41:47.64,0:41:51.67,Default,,0,0,0,,So, if we run this again, we now
Dialogue: 0,0:41:51.67,0:41:53.91,Default,,0,0,0,,see that the view animates in,
Dialogue: 0,0:41:53.91,0:41:55.89,Default,,0,0,0,,all the emoji are moving, but
Dialogue: 0,0:41:55.89,0:41:57.57,Default,,0,0,0,,again this is still not
Dialogue: 0,0:41:57.57,0:41:58.07,Default,,0,0,0,,interactive.
Dialogue: 0,0:41:58.70,0:42:00.63,Default,,0,0,0,,Let's fix that.
Dialogue: 0,0:42:02.21,0:42:06.09,Default,,0,0,0,,So, going to set up a variable
Dialogue: 0,0:42:06.09,0:42:08.12,Default,,0,0,0,,here to keep track of how much
Dialogue: 0,0:42:08.25,0:42:09.83,Default,,0,0,0,,the container panel thing is
Dialogue: 0,0:42:09.83,0:42:11.98,Default,,0,0,0,,expanded and then we're going to
Dialogue: 0,0:42:11.98,0:42:13.41,Default,,0,0,0,,set up a simple gesture
Dialogue: 0,0:42:13.41,0:42:16.32,Default,,0,0,0,,recognizer on the view to
Dialogue: 0,0:42:16.90,0:42:18.45,Default,,0,0,0,,control it.
Dialogue: 0,0:42:19.83,0:42:25.57,Default,,0,0,0,,So, what's happening here is
Dialogue: 0,0:42:25.57,0:42:27.54,Default,,0,0,0,,when this pen gesture recognizer
Dialogue: 0,0:42:27.54,0:42:29.25,Default,,0,0,0,,moves in the view, we get the
Dialogue: 0,0:42:29.25,0:42:30.25,Default,,0,0,0,,distance that it's moved since
Dialogue: 0,0:42:30.25,0:42:31.20,Default,,0,0,0,,the last time something
Dialogue: 0,0:42:31.20,0:42:31.66,Default,,0,0,0,,happened.
Dialogue: 0,0:42:32.79,0:42:34.57,Default,,0,0,0,,We scale that from, you know,
Dialogue: 0,0:42:34.57,0:42:36.68,Default,,0,0,0,,some pixel point on the screen
Dialogue: 0,0:42:36.94,0:42:39.39,Default,,0,0,0,,to just a zero to one value and
Dialogue: 0,0:42:39.87,0:42:40.96,Default,,0,0,0,,then we set that value on the
Dialogue: 0,0:42:40.96,0:42:42.32,Default,,0,0,0,,current container expansion.
Dialogue: 0,0:42:42.92,0:42:43.95,Default,,0,0,0,,And, finally, so that we don't
Dialogue: 0,0:42:43.95,0:42:45.42,Default,,0,0,0,,have to keep track of where the
Dialogue: 0,0:42:45.42,0:42:47.18,Default,,0,0,0,,recognizer started, we just set
Dialogue: 0,0:42:47.18,0:42:48.48,Default,,0,0,0,,its translation back to zero.
Dialogue: 0,0:42:48.76,0:42:49.98,Default,,0,0,0,,So, the next time it calls in,
Dialogue: 0,0:42:49.98,0:42:50.97,Default,,0,0,0,,it'll say this is how I-- this
Dialogue: 0,0:42:51.15,0:42:52.44,Default,,0,0,0,,is how far I've moved since you
Dialogue: 0,0:42:52.44,0:42:54.42,Default,,0,0,0,,last set me to zero.
Dialogue: 0,0:42:56.76,0:43:00.96,Default,,0,0,0,,So, that's pretty close to it.
Dialogue: 0,0:43:01.01,0:43:03.48,Default,,0,0,0,,You pretty much from here just
Dialogue: 0,0:43:03.48,0:43:04.88,Default,,0,0,0,,set the container-- the kind of
Dialogue: 0,0:43:04.96,0:43:08.02,Default,,0,0,0,,key final piece-- setting the
Dialogue: 0,0:43:08.15,0:43:09.61,Default,,0,0,0,,container layer speed to zero.
Dialogue: 0,0:43:11.81,0:43:18.25,Default,,0,0,0,,And-- wait for it-- and there
Dialogue: 0,0:43:18.33,0:43:19.51,Default,,0,0,0,,you have it.
Dialogue: 0,0:43:19.51,0:43:21.26,Default,,0,0,0,,I start dragging, it appears.
Dialogue: 0,0:43:21.91,0:43:23.14,Default,,0,0,0,,I drag up; it disappears.
Dialogue: 0,0:43:23.87,0:43:25.51,Default,,0,0,0,,Down, up, down.
Dialogue: 0,0:43:26.23,0:43:26.98,Default,,0,0,0,,Pretty simple, right?
Dialogue: 0,0:43:27.52,0:43:34.30,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:43:34.80,0:43:36.82,Default,,0,0,0,,So, those were some quick tips
Dialogue: 0,0:43:36.82,0:43:39.08,Default,,0,0,0,,and tricks that you can use with
Dialogue: 0,0:43:39.08,0:43:39.15,Default,,0,0,0,,CA.
Dialogue: 0,0:43:39.45,0:43:40.19,Default,,0,0,0,,Some things you can use in your
Dialogue: 0,0:43:40.19,0:43:41.26,Default,,0,0,0,,applications to make them kind
Dialogue: 0,0:43:41.26,0:43:43.88,Default,,0,0,0,,of more engaging, more visually
Dialogue: 0,0:43:43.88,0:43:45.87,Default,,0,0,0,,rich as one might say.
Dialogue: 0,0:43:46.28,0:43:49.64,Default,,0,0,0,,So, to kind of sum all this up,
Dialogue: 0,0:43:50.29,0:43:53.51,Default,,0,0,0,,first off, broaden your tool
Dialogue: 0,0:43:53.51,0:43:53.77,Default,,0,0,0,,set.
Dialogue: 0,0:43:53.77,0:43:55.17,Default,,0,0,0,,Look through the APIs and kind
Dialogue: 0,0:43:55.17,0:43:56.75,Default,,0,0,0,,of get an idea of where things
Dialogue: 0,0:43:56.75,0:43:57.76,Default,,0,0,0,,are, what you might be able to
Dialogue: 0,0:43:57.76,0:43:58.83,Default,,0,0,0,,use to solve different types of
Dialogue: 0,0:43:58.83,0:43:59.29,Default,,0,0,0,,problems.
Dialogue: 0,0:43:59.29,0:44:00.71,Default,,0,0,0,,If you need 3D, you now know,
Dialogue: 0,0:44:00.71,0:44:01.80,Default,,0,0,0,,oh, I can use SceneKit for that.
Dialogue: 0,0:44:02.28,0:44:03.53,Default,,0,0,0,,You need to filter a bunch of
Dialogue: 0,0:44:03.53,0:44:05.00,Default,,0,0,0,,images, Core Image.
Dialogue: 0,0:44:06.39,0:44:08.63,Default,,0,0,0,,Know the best practices.
Dialogue: 0,0:44:08.78,0:44:10.11,Default,,0,0,0,,It's not essential, but it will
Dialogue: 0,0:44:10.11,0:44:11.31,Default,,0,0,0,,save you so much time and so
Dialogue: 0,0:44:11.31,0:44:13.20,Default,,0,0,0,,much headache and like when
Dialogue: 0,0:44:13.20,0:44:14.27,Default,,0,0,0,,somebody else on your team comes
Dialogue: 0,0:44:14.27,0:44:15.47,Default,,0,0,0,,and says what is this ridiculous
Dialogue: 0,0:44:15.47,0:44:16.68,Default,,0,0,0,,animation thing doing, you'll be
Dialogue: 0,0:44:16.68,0:44:17.38,Default,,0,0,0,,like I know that.
Dialogue: 0,0:44:18.22,0:44:19.49,Default,,0,0,0,,So, pretty useful.
Dialogue: 0,0:44:20.64,0:44:23.23,Default,,0,0,0,,And, finally, experiment with
Dialogue: 0,0:44:23.23,0:44:23.61,Default,,0,0,0,,the API.
Dialogue: 0,0:44:23.61,0:44:24.99,Default,,0,0,0,,I mentioned that like every CA
Dialogue: 0,0:44:25.03,0:44:26.51,Default,,0,0,0,,layer property more or less is
Dialogue: 0,0:44:26.51,0:44:28.36,Default,,0,0,0,,animatable and we only covered
Dialogue: 0,0:44:28.43,0:44:29.17,Default,,0,0,0,,like five of them.
Dialogue: 0,0:44:29.46,0:44:30.29,Default,,0,0,0,,There is so much in there.
Dialogue: 0,0:44:30.29,0:44:31.41,Default,,0,0,0,,There are so many cool effects
Dialogue: 0,0:44:31.41,0:44:33.02,Default,,0,0,0,,you can make if you just kind of
Dialogue: 0,0:44:33.06,0:44:34.41,Default,,0,0,0,,combine things and play with
Dialogue: 0,0:44:34.41,0:44:35.60,Default,,0,0,0,,them and just see what happens
Dialogue: 0,0:44:35.97,0:44:36.87,Default,,0,0,0,,when you put things together.
Dialogue: 0,0:44:37.71,0:44:39.56,Default,,0,0,0,,We have some great sample code
Dialogue: 0,0:44:39.56,0:44:40.57,Default,,0,0,0,,for all of these things that
Dialogue: 0,0:44:40.57,0:44:42.10,Default,,0,0,0,,goes into a lot more detail than
Dialogue: 0,0:44:42.10,0:44:43.02,Default,,0,0,0,,we've been able to here.
Dialogue: 0,0:44:44.14,0:44:47.22,Default,,0,0,0,,So, first off, grab the sample
Dialogue: 0,0:44:47.22,0:44:48.08,Default,,0,0,0,,code from this session.
Dialogue: 0,0:44:48.65,0:44:49.34,Default,,0,0,0,,Take a look at it.
Dialogue: 0,0:44:49.34,0:44:51.50,Default,,0,0,0,,Unfortunately, the-- that demo
Dialogue: 0,0:44:51.50,0:44:52.85,Default,,0,0,0,,is not up there yet, but we will
Dialogue: 0,0:44:52.85,0:44:53.78,Default,,0,0,0,,get it up as soon as possible.
Dialogue: 0,0:44:54.84,0:44:56.15,Default,,0,0,0,,There's a bunch of sessions that
Dialogue: 0,0:44:56.15,0:44:57.92,Default,,0,0,0,,you have unfortunately already
Dialogue: 0,0:44:58.69,0:45:00.39,Default,,0,0,0,,missed, but I highly recommend
Dialogue: 0,0:45:00.39,0:45:01.32,Default,,0,0,0,,going back to look at the videos
Dialogue: 0,0:45:01.32,0:45:01.58,Default,,0,0,0,,for them.
Dialogue: 0,0:45:01.58,0:45:02.53,Default,,0,0,0,,There's some really cool stuff
Dialogue: 0,0:45:02.53,0:45:04.73,Default,,0,0,0,,this year, particularly in UIKit
Dialogue: 0,0:45:04.73,0:45:05.27,Default,,0,0,0,,and SceneKit.
Dialogue: 0,0:45:06.58,0:45:08.10,Default,,0,0,0,,And there is a SpriteKit one
Dialogue: 0,0:45:08.10,0:45:09.24,Default,,0,0,0,,tomorrow if you feel like being
Dialogue: 0,0:45:09.24,0:45:09.65,Default,,0,0,0,,up that early.
Dialogue: 0,0:45:10.22,0:45:10.85,Default,,0,0,0,,I'm not sure I will be.
Dialogue: 0,0:45:11.47,0:45:14.59,Default,,0,0,0,,And that's about it.
Dialogue: 0,0:45:14.59,0:45:15.62,Default,,0,0,0,,I hope to see you all at the
Dialogue: 0,0:45:15.62,0:45:15.85,Default,,0,0,0,,bash.
Dialogue: 0,0:45:15.85,0:45:16.27,Default,,0,0,0,,Thank you.
Dialogue: 0,0:45:17.52,0:45:21.50,Default,,0,0,0,,[ Applause ]
