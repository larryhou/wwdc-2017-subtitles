[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:19.89,0:00:21.88,Default,,0,0,0,,on error handling best practices
Dialogue: 0,0:00:22.16,0:00:23.86,Default,,0,0,0,,for HTTP live streaming.
Dialogue: 0,0:00:24.60,0:00:26.79,Default,,0,0,0,,My name is Shravya Kunamalla and
Dialogue: 0,0:00:26.79,0:00:28.51,Default,,0,0,0,,I am an AVFoundation engineer.
Dialogue: 0,0:00:29.52,0:00:30.55,Default,,0,0,0,,Let's get started.
Dialogue: 0,0:00:31.12,0:00:34.51,Default,,0,0,0,,There are a huge number of Apple
Dialogue: 0,0:00:34.51,0:00:36.34,Default,,0,0,0,,developers streaming content
Dialogue: 0,0:00:36.34,0:00:38.78,Default,,0,0,0,,using our very popular HTTP live
Dialogue: 0,0:00:38.78,0:00:39.28,Default,,0,0,0,,streaming.
Dialogue: 0,0:00:40.13,0:00:42.07,Default,,0,0,0,,Over the years, the usage has
Dialogue: 0,0:00:42.07,0:00:44.31,Default,,0,0,0,,evolved into multiple complex
Dialogue: 0,0:00:44.42,0:00:45.45,Default,,0,0,0,,delivery scenarios.
Dialogue: 0,0:00:46.14,0:00:48.05,Default,,0,0,0,,The developers are doing live
Dialogue: 0,0:00:48.05,0:00:50.88,Default,,0,0,0,,event broadcasts, prerecorded
Dialogue: 0,0:00:51.47,0:00:52.10,Default,,0,0,0,,[inaudible], and in each of
Dialogue: 0,0:00:52.10,0:00:53.70,Default,,0,0,0,,these there are possibly
Dialogue: 0,0:00:53.70,0:00:54.96,Default,,0,0,0,,multiple different media
Dialogue: 0,0:00:54.96,0:00:56.79,Default,,0,0,0,,selections, variance at
Dialogue: 0,0:00:56.79,0:00:58.76,Default,,0,0,0,,different bit rates, audio and
Dialogue: 0,0:00:58.76,0:01:00.07,Default,,0,0,0,,subtitles of different
Dialogue: 0,0:01:00.07,0:01:00.49,Default,,0,0,0,,languages.
Dialogue: 0,0:01:01.37,0:01:02.89,Default,,0,0,0,,The content itself might be
Dialogue: 0,0:01:02.89,0:01:04.73,Default,,0,0,0,,protected and there could
Dialogue: 0,0:01:04.73,0:01:06.20,Default,,0,0,0,,possibly be millions of
Dialogue: 0,0:01:06.39,0:01:08.41,Default,,0,0,0,,simultaneous viewers subscribing
Dialogue: 0,0:01:08.41,0:01:09.14,Default,,0,0,0,,to your streams.
Dialogue: 0,0:01:10.12,0:01:12.41,Default,,0,0,0,,Given the enormity the system is
Dialogue: 0,0:01:12.41,0:01:13.79,Default,,0,0,0,,bound to run into errors.
Dialogue: 0,0:01:14.90,0:01:17.03,Default,,0,0,0,,A lot of developers and content
Dialogue: 0,0:01:17.03,0:01:19.06,Default,,0,0,0,,providers have asked us one
Dialogue: 0,0:01:19.06,0:01:20.54,Default,,0,0,0,,question in particular over the
Dialogue: 0,0:01:20.54,0:01:22.92,Default,,0,0,0,,years, what is the right thing
Dialogue: 0,0:01:22.92,0:01:24.46,Default,,0,0,0,,to do when an error happens.
Dialogue: 0,0:01:25.53,0:01:27.51,Default,,0,0,0,,And on very popular demand, we
Dialogue: 0,0:01:27.51,0:01:29.10,Default,,0,0,0,,present to you today the best
Dialogue: 0,0:01:29.13,0:01:31.51,Default,,0,0,0,,practices for handling errors on
Dialogue: 0,0:01:31.51,0:01:33.67,Default,,0,0,0,,both app and the server side.
Dialogue: 0,0:01:34.51,0:01:37.53,Default,,0,0,0,,Most of you listening to this
Dialogue: 0,0:01:37.53,0:01:39.09,Default,,0,0,0,,talk might already know all
Dialogue: 0,0:01:39.09,0:01:41.16,Default,,0,0,0,,about HLS delivery, but let's
Dialogue: 0,0:01:41.16,0:01:42.46,Default,,0,0,0,,quickly go through the overview.
Dialogue: 0,0:01:43.52,0:01:45.30,Default,,0,0,0,,We have a master playlist, this
Dialogue: 0,0:01:45.30,0:01:47.11,Default,,0,0,0,,consists of alternate versions
Dialogue: 0,0:01:47.11,0:01:48.33,Default,,0,0,0,,of the same presentation.
Dialogue: 0,0:01:49.29,0:01:51.37,Default,,0,0,0,,In this example, there is a 6
Dialogue: 0,0:01:51.37,0:01:53.24,Default,,0,0,0,,megabit and 2 megabit video,
Dialogue: 0,0:01:54.43,0:01:55.93,Default,,0,0,0,,English and French audio,
Dialogue: 0,0:01:57.12,0:01:58.94,Default,,0,0,0,,English and French subtitles.
Dialogue: 0,0:02:00.27,0:02:02.06,Default,,0,0,0,,Each of these is called a media
Dialogue: 0,0:02:02.06,0:02:04.07,Default,,0,0,0,,playlist and has its own
Dialogue: 0,0:02:04.07,0:02:05.13,Default,,0,0,0,,[inaudible] playlist.
Dialogue: 0,0:02:06.62,0:02:08.69,Default,,0,0,0,,The media playlist consists of
Dialogue: 0,0:02:08.69,0:02:09.19,Default,,0,0,0,,segments.
Dialogue: 0,0:02:09.96,0:02:11.65,Default,,0,0,0,,In case of life, the segment
Dialogue: 0,0:02:11.65,0:02:13.33,Default,,0,0,0,,list is updated at regular
Dialogue: 0,0:02:13.33,0:02:15.24,Default,,0,0,0,,intervals on playlist re-fetch.
Dialogue: 0,0:02:15.89,0:02:17.38,Default,,0,0,0,,The segments may be dropped off
Dialogue: 0,0:02:17.38,0:02:18.77,Default,,0,0,0,,from the beginning and new
Dialogue: 0,0:02:18.77,0:02:22.38,Default,,0,0,0,,segments are added to the end.
Dialogue: 0,0:02:22.38,0:02:24.02,Default,,0,0,0,,In case segments are protected
Dialogue: 0,0:02:24.27,0:02:26.34,Default,,0,0,0,,media playlist also contains
Dialogue: 0,0:02:27.03,0:02:27.15,Default,,0,0,0,,keys.
Dialogue: 0,0:02:28.57,0:02:31.13,Default,,0,0,0,,We also have session data, this
Dialogue: 0,0:02:31.13,0:02:33.59,Default,,0,0,0,,can be for example titles or
Dialogue: 0,0:02:33.81,0:02:34.23,Default,,0,0,0,,lyrics.
Dialogue: 0,0:02:35.97,0:02:37.72,Default,,0,0,0,,These are the resources that the
Dialogue: 0,0:02:37.72,0:02:39.30,Default,,0,0,0,,server is expected to deliver
Dialogue: 0,0:02:39.79,0:02:42.24,Default,,0,0,0,,and the HLS client needs for
Dialogue: 0,0:02:42.28,0:02:42.74,Default,,0,0,0,,playback.
Dialogue: 0,0:02:44.48,0:02:46.18,Default,,0,0,0,,So, what should the server do
Dialogue: 0,0:02:46.18,0:02:48.11,Default,,0,0,0,,when it's unable to deliver due
Dialogue: 0,0:02:48.11,0:02:48.58,Default,,0,0,0,,to errors?
Dialogue: 0,0:02:49.21,0:02:51.06,Default,,0,0,0,,What are the best practices for
Dialogue: 0,0:02:51.06,0:02:52.86,Default,,0,0,0,,handling both content and
Dialogue: 0,0:02:52.94,0:02:54.51,Default,,0,0,0,,delivery errors?
Dialogue: 0,0:02:56.04,0:02:57.95,Default,,0,0,0,,There are a number of iOS,
Dialogue: 0,0:02:58.12,0:02:59.84,Default,,0,0,0,,macOS, and tvOS clients
Dialogue: 0,0:03:00.05,0:03:02.20,Default,,0,0,0,,expecting resources from server.
Dialogue: 0,0:03:02.97,0:03:04.82,Default,,0,0,0,,The server should aim to deliver
Dialogue: 0,0:03:04.82,0:03:07.13,Default,,0,0,0,,the resources in time and if it
Dialogue: 0,0:03:07.22,0:03:09.13,Default,,0,0,0,,fails to do so, communicate the
Dialogue: 0,0:03:09.19,0:03:11.15,Default,,0,0,0,,right error code to AVPlayer.
Dialogue: 0,0:03:11.84,0:03:13.83,Default,,0,0,0,,This error code should clearly
Dialogue: 0,0:03:13.83,0:03:15.34,Default,,0,0,0,,convey the cause of error.
Dialogue: 0,0:03:16.07,0:03:18.05,Default,,0,0,0,,Was the request a valid request,
Dialogue: 0,0:03:18.36,0:03:20.26,Default,,0,0,0,,was it authorized, has the
Dialogue: 0,0:03:20.26,0:03:21.60,Default,,0,0,0,,server encountered an error?
Dialogue: 0,0:03:21.60,0:03:24.09,Default,,0,0,0,,Is the server incapable of
Dialogue: 0,0:03:24.09,0:03:25.49,Default,,0,0,0,,performing the request, for
Dialogue: 0,0:03:25.49,0:03:27.42,Default,,0,0,0,,example due to an unsupported
Dialogue: 0,0:03:27.42,0:03:28.85,Default,,0,0,0,,feature request?
Dialogue: 0,0:03:29.95,0:03:32.14,Default,,0,0,0,,Next, let's see the recommended
Dialogue: 0,0:03:32.14,0:03:33.79,Default,,0,0,0,,way to signal these various
Dialogue: 0,0:03:33.79,0:03:35.19,Default,,0,0,0,,errors to AVPlayer.
Dialogue: 0,0:03:35.77,0:03:38.43,Default,,0,0,0,,So, here is the list of failures
Dialogue: 0,0:03:38.43,0:03:40.24,Default,,0,0,0,,and the recommended error codes.
Dialogue: 0,0:03:41.11,0:03:42.84,Default,,0,0,0,,These are in compliance with the
Dialogue: 0,0:03:42.92,0:03:44.60,Default,,0,0,0,,standard HTTP error codes
Dialogue: 0,0:03:44.81,0:03:47.30,Default,,0,0,0,,specified in RFC7231.
Dialogue: 0,0:03:48.90,0:03:50.87,Default,,0,0,0,,Segments are protected and the
Dialogue: 0,0:03:50.87,0:03:52.79,Default,,0,0,0,,AVPlayer does not have the
Dialogue: 0,0:03:52.79,0:03:55.37,Default,,0,0,0,,required authentication, send
Dialogue: 0,0:03:55.37,0:03:55.93,Default,,0,0,0,,401.
Dialogue: 0,0:03:56.44,0:03:59.06,Default,,0,0,0,,If the client doesn't have
Dialogue: 0,0:03:59.06,0:04:00.75,Default,,0,0,0,,authorization for the content,
Dialogue: 0,0:04:01.74,0:04:03.49,Default,,0,0,0,,send 403.
Dialogue: 0,0:04:04.28,0:04:06.08,Default,,0,0,0,,For all temporary resource
Dialogue: 0,0:04:06.08,0:04:07.32,Default,,0,0,0,,unavailable cases like
Dialogue: 0,0:04:07.32,0:04:10.33,Default,,0,0,0,,[inaudible], send 404.
Dialogue: 0,0:04:11.31,0:04:14.26,Default,,0,0,0,,For permanent resource
Dialogue: 0,0:04:14.26,0:04:17.37,Default,,0,0,0,,unavailability, send 410.
Dialogue: 0,0:04:18.16,0:04:20.20,Default,,0,0,0,,For all unexpected server
Dialogue: 0,0:04:20.20,0:04:21.53,Default,,0,0,0,,conditions where no other
Dialogue: 0,0:04:21.53,0:04:23.76,Default,,0,0,0,,specific message applies, send
Dialogue: 0,0:04:23.76,0:04:24.45,Default,,0,0,0,,500.
Dialogue: 0,0:04:25.84,0:04:27.68,Default,,0,0,0,,Most of the content providers or
Dialogue: 0,0:04:27.68,0:04:30.25,Default,,0,0,0,,CDNs are cache in proxies which
Dialogue: 0,0:04:30.25,0:04:31.83,Default,,0,0,0,,are getting the content itself
Dialogue: 0,0:04:31.94,0:04:33.29,Default,,0,0,0,,from some encoder somewhere.
Dialogue: 0,0:04:34.09,0:04:36.19,Default,,0,0,0,,To notify of invalid response
Dialogue: 0,0:04:36.19,0:04:38.63,Default,,0,0,0,,from gateway, send 502.
Dialogue: 0,0:04:39.18,0:04:41.99,Default,,0,0,0,,If server is down for
Dialogue: 0,0:04:41.99,0:04:44.54,Default,,0,0,0,,maintenance or overloaded and is
Dialogue: 0,0:04:44.54,0:04:45.95,Default,,0,0,0,,unavailable for any other
Dialogue: 0,0:04:45.95,0:04:48.04,Default,,0,0,0,,reason, send 503.
Dialogue: 0,0:04:48.49,0:04:53.15,Default,,0,0,0,,For gateway timeout, send 504.
Dialogue: 0,0:04:53.73,0:04:56.41,Default,,0,0,0,,Now these error codes aren't
Dialogue: 0,0:04:56.41,0:04:57.67,Default,,0,0,0,,necessarily new they have been
Dialogue: 0,0:04:57.67,0:04:58.50,Default,,0,0,0,,around for a while.
Dialogue: 0,0:04:59.20,0:05:00.80,Default,,0,0,0,,And if we look closer at these
Dialogue: 0,0:05:00.80,0:05:02.37,Default,,0,0,0,,errors there is a class of
Dialogue: 0,0:05:02.37,0:05:04.52,Default,,0,0,0,,errors that are temporary like
Dialogue: 0,0:05:04.52,0:05:06.28,Default,,0,0,0,,resource and server temporary
Dialogue: 0,0:05:06.33,0:05:07.09,Default,,0,0,0,,unavailability.
Dialogue: 0,0:05:08.18,0:05:10.93,Default,,0,0,0,,Starting iOS 11 we now have a
Dialogue: 0,0:05:10.93,0:05:12.69,Default,,0,0,0,,way to explicitly communicate
Dialogue: 0,0:05:12.78,0:05:14.12,Default,,0,0,0,,such temporary failures to
Dialogue: 0,0:05:14.28,0:05:18.61,Default,,0,0,0,,AVPlayer by means of GAP tag.
Dialogue: 0,0:05:19.12,0:05:21.56,Default,,0,0,0,,We mark segments as GAP by the
Dialogue: 0,0:05:21.56,0:05:23.73,Default,,0,0,0,,use of EXT-X-GAP tag.
Dialogue: 0,0:05:24.66,0:05:26.34,Default,,0,0,0,,This can be applied to one or
Dialogue: 0,0:05:26.34,0:05:27.10,Default,,0,0,0,,more segments.
Dialogue: 0,0:05:27.67,0:05:30.32,Default,,0,0,0,,Put this in your playlist to
Dialogue: 0,0:05:30.32,0:05:32.66,Default,,0,0,0,,indicate GAP and enable AVPlayer
Dialogue: 0,0:05:33.14,0:05:34.77,Default,,0,0,0,,to make an informed decision.
Dialogue: 0,0:05:35.91,0:05:38.40,Default,,0,0,0,,On seeing this tag AVPlayer will
Dialogue: 0,0:05:38.40,0:05:39.79,Default,,0,0,0,,know that this is a temporary
Dialogue: 0,0:05:39.79,0:05:41.99,Default,,0,0,0,,failure and may decide to go to
Dialogue: 0,0:05:41.99,0:05:44.00,Default,,0,0,0,,a backup alternate or switch
Dialogue: 0,0:05:44.00,0:05:44.35,Default,,0,0,0,,down.
Dialogue: 0,0:05:45.73,0:05:47.44,Default,,0,0,0,,If nothing viable is available
Dialogue: 0,0:05:47.78,0:05:50.22,Default,,0,0,0,,in the utmost case AVPlayer will
Dialogue: 0,0:05:50.22,0:05:52.15,Default,,0,0,0,,play the available media until
Dialogue: 0,0:05:52.15,0:05:53.75,Default,,0,0,0,,we recover from the error
Dialogue: 0,0:05:53.75,0:05:54.31,Default,,0,0,0,,condition.
Dialogue: 0,0:05:54.87,0:05:58.80,Default,,0,0,0,,So, going back to failures and
Dialogue: 0,0:05:58.80,0:05:59.47,Default,,0,0,0,,error codes.
Dialogue: 0,0:06:00.22,0:06:01.96,Default,,0,0,0,,For which of these errors is the
Dialogue: 0,0:06:01.96,0:06:05.34,Default,,0,0,0,,GAP tag applicable, 404
Dialogue: 0,0:06:05.45,0:06:06.37,Default,,0,0,0,,temporary resource
Dialogue: 0,0:06:06.37,0:06:09.84,Default,,0,0,0,,unavailability and 503 server
Dialogue: 0,0:06:09.84,0:06:12.00,Default,,0,0,0,,unavailability always use GAP
Dialogue: 0,0:06:12.42,0:06:12.51,Default,,0,0,0,,tag.
Dialogue: 0,0:06:12.82,0:06:14.38,Default,,0,0,0,,Keep in mind, this tag is
Dialogue: 0,0:06:14.38,0:06:16.82,Default,,0,0,0,,applicable to both live and
Dialogue: 0,0:06:16.82,0:06:17.92,Default,,0,0,0,,[inaudible] playback, but the
Dialogue: 0,0:06:17.92,0:06:20.15,Default,,0,0,0,,use case is typically the live
Dialogue: 0,0:06:20.22,0:06:20.66,Default,,0,0,0,,scenario.
Dialogue: 0,0:06:21.73,0:06:23.61,Default,,0,0,0,,Next, let's move on to HLS
Dialogue: 0,0:06:23.61,0:06:25.62,Default,,0,0,0,,specific media error cases.
Dialogue: 0,0:06:27.15,0:06:29.90,Default,,0,0,0,,On live playback, the HLS pack
Dialogue: 0,0:06:30.04,0:06:31.64,Default,,0,0,0,,specifies that the playlist
Dialogue: 0,0:06:31.64,0:06:34.01,Default,,0,0,0,,needs to be updated on regular
Dialogue: 0,0:06:34.01,0:06:34.51,Default,,0,0,0,,intervals.
Dialogue: 0,0:06:35.62,0:06:36.92,Default,,0,0,0,,If the server is unable to
Dialogue: 0,0:06:36.92,0:06:38.60,Default,,0,0,0,,update the playlist in time
Dialogue: 0,0:06:38.60,0:06:40.04,Default,,0,0,0,,according to the published
Dialogue: 0,0:06:40.04,0:06:42.36,Default,,0,0,0,,target duration, we recommend to
Dialogue: 0,0:06:42.36,0:06:44.01,Default,,0,0,0,,communicate the stale playlist
Dialogue: 0,0:06:44.01,0:06:46.28,Default,,0,0,0,,to AVPlayer by sending 404.
Dialogue: 0,0:06:47.63,0:06:49.53,Default,,0,0,0,,Now returning stale playlist
Dialogue: 0,0:06:49.53,0:06:51.75,Default,,0,0,0,,itself is fine, but that leaves
Dialogue: 0,0:06:51.82,0:06:53.15,Default,,0,0,0,,the onus of identifying the
Dialogue: 0,0:06:53.15,0:06:55.30,Default,,0,0,0,,stale playlist on the AVPlayer
Dialogue: 0,0:06:55.81,0:06:56.93,Default,,0,0,0,,which it does eventually.
Dialogue: 0,0:06:57.70,0:07:00.18,Default,,0,0,0,,And on identifying that AVPlayer
Dialogue: 0,0:07:00.18,0:07:01.99,Default,,0,0,0,,will try to recover by means of
Dialogue: 0,0:07:02.11,0:07:03.95,Default,,0,0,0,,switching to other available
Dialogue: 0,0:07:03.95,0:07:04.67,Default,,0,0,0,,[inaudible] or retries.
Dialogue: 0,0:07:06.02,0:07:07.53,Default,,0,0,0,,This may be too late in some
Dialogue: 0,0:07:07.53,0:07:09.29,Default,,0,0,0,,cases leading to stalls.
Dialogue: 0,0:07:10.62,0:07:12.58,Default,,0,0,0,,Sending 404 instead will
Dialogue: 0,0:07:12.58,0:07:14.15,Default,,0,0,0,,communicate the stale playlist
Dialogue: 0,0:07:14.15,0:07:16.16,Default,,0,0,0,,to AVPlayer much more quickly.
Dialogue: 0,0:07:17.23,0:07:19.44,Default,,0,0,0,,There is another advantage here,
Dialogue: 0,0:07:19.67,0:07:21.32,Default,,0,0,0,,it would also give immediate
Dialogue: 0,0:07:21.32,0:07:23.03,Default,,0,0,0,,notification of stale playlist
Dialogue: 0,0:07:23.34,0:07:26.43,Default,,0,0,0,,to any new AVPlayer joining the
Dialogue: 0,0:07:28.46,0:07:28.62,Default,,0,0,0,,stream.
Dialogue: 0,0:07:28.79,0:07:30.52,Default,,0,0,0,,For unsupported features for
Dialogue: 0,0:07:30.52,0:07:32.08,Default,,0,0,0,,example, BYTE-RANGE not
Dialogue: 0,0:07:32.08,0:07:34.15,Default,,0,0,0,,supported, send 501.
Dialogue: 0,0:07:35.58,0:07:37.25,Default,,0,0,0,,For all authentication failures,
Dialogue: 0,0:07:38.11,0:07:38.93,Default,,0,0,0,,send 401.
Dialogue: 0,0:07:40.45,0:07:45.69,Default,,0,0,0,,Next, an example going through a
Dialogue: 0,0:07:45.75,0:07:47.36,Default,,0,0,0,,typical live playback scenario.
Dialogue: 0,0:07:48.02,0:07:49.44,Default,,0,0,0,,Let's say we have two video
Dialogue: 0,0:07:49.44,0:07:51.88,Default,,0,0,0,,variants, one of 6 megabit and
Dialogue: 0,0:07:51.88,0:07:52.84,Default,,0,0,0,,one of 2 megabit.
Dialogue: 0,0:07:53.63,0:07:55.23,Default,,0,0,0,,We also have the responding
Dialogue: 0,0:07:55.23,0:07:57.28,Default,,0,0,0,,encoder packagers one providing
Dialogue: 0,0:07:57.28,0:07:59.14,Default,,0,0,0,,6-megabit content and another
Dialogue: 0,0:07:59.14,0:08:00.74,Default,,0,0,0,,providing 2-megabit content to
Dialogue: 0,0:08:00.74,0:08:01.33,Default,,0,0,0,,our server.
Dialogue: 0,0:08:01.92,0:08:03.64,Default,,0,0,0,,And the server is distributing
Dialogue: 0,0:08:03.64,0:08:05.57,Default,,0,0,0,,this content to the HLS client
Dialogue: 0,0:08:05.75,0:08:06.59,Default,,0,0,0,,requesting it.
Dialogue: 0,0:08:07.26,0:08:08.25,Default,,0,0,0,,Let's say the [inaudible]
Dialogue: 0,0:08:08.25,0:08:09.93,Default,,0,0,0,,bandwidth of the app is good
Dialogue: 0,0:08:09.93,0:08:11.91,Default,,0,0,0,,enough to handle the 6-megabit
Dialogue: 0,0:08:11.91,0:08:14.13,Default,,0,0,0,,variant it goes ahead and
Dialogue: 0,0:08:14.17,0:08:15.70,Default,,0,0,0,,fetches the 6 megabit media
Dialogue: 0,0:08:15.70,0:08:16.17,Default,,0,0,0,,playlist.
Dialogue: 0,0:08:16.73,0:08:19.08,Default,,0,0,0,,Gets the response back and moves
Dialogue: 0,0:08:19.08,0:08:20.64,Default,,0,0,0,,on to fetch the first segment,
Dialogue: 0,0:08:20.92,0:08:21.49,Default,,0,0,0,,segment one.
Dialogue: 0,0:08:22.32,0:08:23.65,Default,,0,0,0,,Everything seems to be good
Dialogue: 0,0:08:23.65,0:08:24.80,Default,,0,0,0,,until now.
Dialogue: 0,0:08:25.40,0:08:27.80,Default,,0,0,0,,Then suddenly the 6-megabit
Dialogue: 0,0:08:27.80,0:08:30.02,Default,,0,0,0,,encoder or packager is down with
Dialogue: 0,0:08:30.11,0:08:31.45,Default,,0,0,0,,substantial downtime for
Dialogue: 0,0:08:31.45,0:08:31.95,Default,,0,0,0,,example.
Dialogue: 0,0:08:33.13,0:08:34.83,Default,,0,0,0,,The next time AVPlayer
Dialogue: 0,0:08:34.83,0:08:36.64,Default,,0,0,0,,re-fetches the playlist the
Dialogue: 0,0:08:36.73,0:08:38.32,Default,,0,0,0,,server now has a way to
Dialogue: 0,0:08:38.32,0:08:39.85,Default,,0,0,0,,communicate the failure to it,
Dialogue: 0,0:08:40.59,0:08:41.17,Default,,0,0,0,,GAP tag.
Dialogue: 0,0:08:41.92,0:08:44.02,Default,,0,0,0,,For this re-fetch request, we
Dialogue: 0,0:08:44.02,0:08:45.88,Default,,0,0,0,,recommend that server should now
Dialogue: 0,0:08:45.96,0:08:48.91,Default,,0,0,0,,send 200 okay and the subsequent
Dialogue: 0,0:08:48.91,0:08:50.37,Default,,0,0,0,,segments in the media playlist
Dialogue: 0,0:08:50.74,0:08:51.91,Default,,0,0,0,,should be marked as GAP.
Dialogue: 0,0:08:53.30,0:08:55.81,Default,,0,0,0,,AVPlayer on seeing this GAP tag
Dialogue: 0,0:08:56.15,0:08:57.60,Default,,0,0,0,,switches down to 2-megabit
Dialogue: 0,0:08:57.60,0:09:01.45,Default,,0,0,0,,variant media playlist and moves
Dialogue: 0,0:09:01.50,0:09:03.10,Default,,0,0,0,,on to fetch the next segment,
Dialogue: 0,0:09:03.43,0:09:05.29,Default,,0,0,0,,segment two, from the 2-megabit
Dialogue: 0,0:09:05.29,0:09:05.70,Default,,0,0,0,,variant.
Dialogue: 0,0:09:07.39,0:09:09.44,Default,,0,0,0,,With this we have switched down
Dialogue: 0,0:09:09.44,0:09:12.71,Default,,0,0,0,,smoothly and in time to avoid a
Dialogue: 0,0:09:13.66,0:09:13.78,Default,,0,0,0,,stall.
Dialogue: 0,0:09:14.36,0:09:16.36,Default,,0,0,0,,For backward compatibility for
Dialogue: 0,0:09:16.36,0:09:18.38,Default,,0,0,0,,any segment request marked as
Dialogue: 0,0:09:18.47,0:09:20.67,Default,,0,0,0,,GAP the server should still send
Dialogue: 0,0:09:20.67,0:09:21.32,Default,,0,0,0,,404.
Dialogue: 0,0:09:26.05,0:09:27.88,Default,,0,0,0,,Next, let's move on to failover.
Dialogue: 0,0:09:28.74,0:09:29.78,Default,,0,0,0,,What is a failover?
Dialogue: 0,0:09:30.74,0:09:32.37,Default,,0,0,0,,It is a method of protecting the
Dialogue: 0,0:09:32.42,0:09:34.66,Default,,0,0,0,,system from failure in which a
Dialogue: 0,0:09:34.97,0:09:37.48,Default,,0,0,0,,standby or backup system takes
Dialogue: 0,0:09:37.48,0:09:39.31,Default,,0,0,0,,over when the main system fails.
Dialogue: 0,0:09:40.01,0:09:43.21,Default,,0,0,0,,So, what failover can our server
Dialogue: 0,0:09:43.90,0:09:43.99,Default,,0,0,0,,have?
Dialogue: 0,0:09:44.41,0:09:46.57,Default,,0,0,0,,One viable approach is to have
Dialogue: 0,0:09:46.57,0:09:48.62,Default,,0,0,0,,redundant variants on backup
Dialogue: 0,0:09:48.66,0:09:51.55,Default,,0,0,0,,servers, have variants on
Dialogue: 0,0:09:51.55,0:09:53.27,Default,,0,0,0,,different servers with same bit
Dialogue: 0,0:09:53.27,0:09:55.09,Default,,0,0,0,,rate an include them in the
Dialogue: 0,0:09:55.09,0:09:55.93,Default,,0,0,0,,master playlist.
Dialogue: 0,0:09:56.73,0:09:58.69,Default,,0,0,0,,This will give the AVPlayer the
Dialogue: 0,0:09:58.69,0:10:00.44,Default,,0,0,0,,ability to smoothly switch over
Dialogue: 0,0:10:00.72,0:10:01.58,Default,,0,0,0,,in case of error.
Dialogue: 0,0:10:02.98,0:10:04.90,Default,,0,0,0,,Backup alternates will be tried
Dialogue: 0,0:10:04.90,0:10:06.55,Default,,0,0,0,,first before switching down.
Dialogue: 0,0:10:07.06,0:10:10.58,Default,,0,0,0,,If the server wants to
Dialogue: 0,0:10:10.58,0:10:12.92,Default,,0,0,0,,explicitly trigger a failover it
Dialogue: 0,0:10:12.92,0:10:15.18,Default,,0,0,0,,should send 404 to okay list
Dialogue: 0,0:10:15.18,0:10:15.64,Default,,0,0,0,,request.
Dialogue: 0,0:10:19.28,0:10:22.36,Default,,0,0,0,,To summarize, always notify the
Dialogue: 0,0:10:22.36,0:10:24.55,Default,,0,0,0,,HLS client of error with correct
Dialogue: 0,0:10:24.55,0:10:25.26,Default,,0,0,0,,error code.
Dialogue: 0,0:10:26.45,0:10:28.19,Default,,0,0,0,,Have backup playlists on
Dialogue: 0,0:10:28.19,0:10:30.21,Default,,0,0,0,,different servers to failover in
Dialogue: 0,0:10:30.21,0:10:32.22,Default,,0,0,0,,case of server failures, having
Dialogue: 0,0:10:32.22,0:10:33.45,Default,,0,0,0,,some redundancy is good.
Dialogue: 0,0:10:33.94,0:10:37.36,Default,,0,0,0,,Send 501 for unsupported
Dialogue: 0,0:10:37.36,0:10:37.93,Default,,0,0,0,,features.
Dialogue: 0,0:10:38.47,0:10:42.34,Default,,0,0,0,,And in the case of live, update
Dialogue: 0,0:10:42.34,0:10:43.83,Default,,0,0,0,,the playlist in time as
Dialogue: 0,0:10:43.83,0:10:46.87,Default,,0,0,0,,specified by HLS Spec. Prefer
Dialogue: 0,0:10:47.25,0:10:49.52,Default,,0,0,0,,GAP tag in case of temporary
Dialogue: 0,0:10:49.52,0:10:50.09,Default,,0,0,0,,failures.
Dialogue: 0,0:10:51.79,0:10:54.59,Default,,0,0,0,,And send 404 to indicate stale
Dialogue: 0,0:10:54.64,0:10:54.98,Default,,0,0,0,,playlist.
Dialogue: 0,0:11:00.16,0:11:03.24,Default,,0,0,0,,Next, let's move on to how to
Dialogue: 0,0:11:03.24,0:11:04.60,Default,,0,0,0,,handle AVFoundation errors.
Dialogue: 0,0:11:05.56,0:11:07.40,Default,,0,0,0,,When an error occurs, the user
Dialogue: 0,0:11:07.40,0:11:09.33,Default,,0,0,0,,viewing the actual stream wants
Dialogue: 0,0:11:09.33,0:11:10.12,Default,,0,0,0,,to know two things.
Dialogue: 0,0:11:10.80,0:11:12.66,Default,,0,0,0,,First, that the error happened
Dialogue: 0,0:11:12.92,0:11:14.65,Default,,0,0,0,,and second, what caused the
Dialogue: 0,0:11:14.65,0:11:15.40,Default,,0,0,0,,error to happen.
Dialogue: 0,0:11:16.60,0:11:18.27,Default,,0,0,0,,And not all errors can be
Dialogue: 0,0:11:18.27,0:11:19.54,Default,,0,0,0,,anticipated on the server.
Dialogue: 0,0:11:20.68,0:11:22.84,Default,,0,0,0,,The AVFoundation client or app
Dialogue: 0,0:11:23.44,0:11:25.01,Default,,0,0,0,,should be returned to respond
Dialogue: 0,0:11:25.01,0:11:27.18,Default,,0,0,0,,appropriately to various error
Dialogue: 0,0:11:27.18,0:11:29.11,Default,,0,0,0,,conditions originating from the
Dialogue: 0,0:11:29.11,0:11:29.79,Default,,0,0,0,,AVPlayer.
Dialogue: 0,0:11:31.02,0:11:32.40,Default,,0,0,0,,So, how can we identify the
Dialogue: 0,0:11:32.40,0:11:32.70,Default,,0,0,0,,error?
Dialogue: 0,0:11:32.81,0:11:36.56,Default,,0,0,0,,The error can be identified by
Dialogue: 0,0:11:36.56,0:11:39.04,Default,,0,0,0,,looking at AVPlayer.status and
Dialogue: 0,0:11:39.04,0:11:40.90,Default,,0,0,0,,AVPlayerItem.status.
Dialogue: 0,0:11:42.35,0:11:43.70,Default,,0,0,0,,This will change to
Dialogue: 0,0:11:43.82,0:11:45.94,Default,,0,0,0,,AVPlayerStatsFailed and
Dialogue: 0,0:11:45.94,0:11:48.13,Default,,0,0,0,,AVPlayerItemStatusFailed
Dialogue: 0,0:11:48.13,0:11:49.72,Default,,0,0,0,,respectively on error.
Dialogue: 0,0:11:50.23,0:11:54.45,Default,,0,0,0,,For the exact error that caused
Dialogue: 0,0:11:54.45,0:11:55.81,Default,,0,0,0,,the status to change to fail
Dialogue: 0,0:11:56.35,0:11:58.39,Default,,0,0,0,,look at AVPlayerItem.error.
Dialogue: 0,0:11:59.73,0:12:01.83,Default,,0,0,0,,This describes what caused the
Dialogue: 0,0:12:01.83,0:12:03.63,Default,,0,0,0,,item to be no longer playable.
Dialogue: 0,0:12:04.06,0:12:09.99,Default,,0,0,0,,Listen to AVPLayerItemFailedTo
Dialogue: 0,0:12:09.99,0:12:12.43,Default,,0,0,0,,PlayToEndTimeNotification to get
Dialogue: 0,0:12:12.43,0:12:14.57,Default,,0,0,0,,notified that the item did not
Dialogue: 0,0:12:14.57,0:12:15.53,Default,,0,0,0,,play to end.
Dialogue: 0,0:12:16.60,0:12:19.08,Default,,0,0,0,,The user info dictionary of this
Dialogue: 0,0:12:19.08,0:12:21.24,Default,,0,0,0,,notification contains an error
Dialogue: 0,0:12:21.24,0:12:22.64,Default,,0,0,0,,object that describes the
Dialogue: 0,0:12:22.64,0:12:24.86,Default,,0,0,0,,problem and can be retrieved by
Dialogue: 0,0:12:24.86,0:12:26.99,Default,,0,0,0,,AVPlayerItemFailedTo
Dialogue: 0,0:12:26.99,0:12:28.85,Default,,0,0,0,,PlayToEndTimeErrorKey.
Dialogue: 0,0:12:29.43,0:12:34.36,Default,,0,0,0,,Dig deeper, look at
Dialogue: 0,0:12:34.40,0:12:36.31,Default,,0,0,0,,AVPlayerItem.errorLog.
Dialogue: 0,0:12:37.46,0:12:39.53,Default,,0,0,0,,This gives the snapshot of all
Dialogue: 0,0:12:39.53,0:12:41.37,Default,,0,0,0,,the error events that happened
Dialogue: 0,0:12:41.37,0:12:43.17,Default,,0,0,0,,during the playback session.
Dialogue: 0,0:12:45.14,0:12:47.50,Default,,0,0,0,,So, what do these errors mean?
Dialogue: 0,0:12:49.14,0:12:51.04,Default,,0,0,0,,They can mean one of these four
Dialogue: 0,0:12:51.11,0:12:52.95,Default,,0,0,0,,things, network errors,
Dialogue: 0,0:12:53.39,0:12:56.00,Default,,0,0,0,,timeouts, format errors, and
Dialogue: 0,0:12:56.20,0:12:57.73,Default,,0,0,0,,live playlist update errors.
Dialogue: 0,0:12:59.00,0:13:01.43,Default,,0,0,0,,Network errors are all the 4xx
Dialogue: 0,0:13:01.43,0:13:03.60,Default,,0,0,0,,and 5xx errors that server sends
Dialogue: 0,0:13:04.05,0:13:07.31,Default,,0,0,0,,and TCP/IP, DNS errors.
Dialogue: 0,0:13:08.49,0:13:10.40,Default,,0,0,0,,After requesting a resource
Dialogue: 0,0:13:10.69,0:13:12.37,Default,,0,0,0,,there are timeouts for each
Dialogue: 0,0:13:12.37,0:13:14.52,Default,,0,0,0,,master playlist, media playlist,
Dialogue: 0,0:13:14.78,0:13:16.38,Default,,0,0,0,,medial files, and keys.
Dialogue: 0,0:13:17.09,0:13:18.76,Default,,0,0,0,,And failure to get a response
Dialogue: 0,0:13:18.76,0:13:20.65,Default,,0,0,0,,within this timeout will cause
Dialogue: 0,0:13:20.85,0:13:22.29,Default,,0,0,0,,timeout errors.
Dialogue: 0,0:13:25.20,0:13:27.36,Default,,0,0,0,,Any incorrect format of playlist
Dialogue: 0,0:13:27.45,0:13:29.93,Default,,0,0,0,,key and the session data will
Dialogue: 0,0:13:29.93,0:13:31.29,Default,,0,0,0,,result in format errors.
Dialogue: 0,0:13:31.88,0:13:35.80,Default,,0,0,0,,And in case of live, playlist
Dialogue: 0,0:13:35.80,0:13:37.50,Default,,0,0,0,,needs to be updated according to
Dialogue: 0,0:13:37.50,0:13:39.15,Default,,0,0,0,,published target duration and
Dialogue: 0,0:13:39.15,0:13:41.37,Default,,0,0,0,,the failure to do so will cause
Dialogue: 0,0:13:41.50,0:13:42.98,Default,,0,0,0,,live playlist update errors.
Dialogue: 0,0:13:48.14,0:13:48.95,Default,,0,0,0,,What are the corresponding
Dialogue: 0,0:13:48.95,0:13:50.61,Default,,0,0,0,,AVFoundationDomain error codes?
Dialogue: 0,0:13:51.88,0:13:54.04,Default,,0,0,0,,For network errors and timeouts,
Dialogue: 0,0:13:54.42,0:13:56.39,Default,,0,0,0,,it will be AVErrorContent
Dialogue: 0,0:13:56.39,0:13:59.23,Default,,0,0,0,,IsUnavailable or AVErrorNo
Dialogue: 0,0:13:59.23,0:14:00.07,Default,,0,0,0,,LongerPlayable.
Dialogue: 0,0:14:01.53,0:14:02.75,Default,,0,0,0,,AVErrorContent
Dialogue: 0,0:14:02.75,0:14:04.83,Default,,0,0,0,,IsUnavailable indicates that the
Dialogue: 0,0:14:04.83,0:14:06.42,Default,,0,0,0,,content was never playable.
Dialogue: 0,0:14:06.88,0:14:08.63,Default,,0,0,0,,This could mean authentication
Dialogue: 0,0:14:08.63,0:14:10.51,Default,,0,0,0,,failures or authorization
Dialogue: 0,0:14:10.51,0:14:11.03,Default,,0,0,0,,failures.
Dialogue: 0,0:14:12.31,0:14:13.29,Default,,0,0,0,,AVErrorNo
Dialogue: 0,0:14:13.29,0:14:15.30,Default,,0,0,0,,LongerPlayable indicates that
Dialogue: 0,0:14:15.36,0:14:17.38,Default,,0,0,0,,the content was playable, but
Dialogue: 0,0:14:17.38,0:14:19.16,Default,,0,0,0,,over the course of time one or
Dialogue: 0,0:14:19.16,0:14:21.27,Default,,0,0,0,,more errors happened resulting
Dialogue: 0,0:14:21.45,0:14:26.06,Default,,0,0,0,,in being no longer playable.
Dialogue: 0,0:14:26.06,0:14:26.87,Default,,0,0,0,,AVErrorFailed
Dialogue: 0,0:14:26.87,0:14:29.76,Default,,0,0,0,,ToParse indicates parsing
Dialogue: 0,0:14:30.96,0:14:31.58,Default,,0,0,0,,failures.
Dialogue: 0,0:14:31.58,0:14:32.37,Default,,0,0,0,,AVErrorContent
Dialogue: 0,0:14:32.37,0:14:35.02,Default,,0,0,0,,NotUpdated means the playlist
Dialogue: 0,0:14:35.10,0:14:40.15,Default,,0,0,0,,was not updated in time.
Dialogue: 0,0:14:40.35,0:14:42.33,Default,,0,0,0,,Always look at the user info of
Dialogue: 0,0:14:42.33,0:14:44.04,Default,,0,0,0,,the error to get the underlying
Dialogue: 0,0:14:44.04,0:14:44.31,Default,,0,0,0,,error.
Dialogue: 0,0:14:45.30,0:14:47.17,Default,,0,0,0,,Keep in mind, this can be nested
Dialogue: 0,0:14:47.17,0:14:49.01,Default,,0,0,0,,if more than one error caused
Dialogue: 0,0:14:49.01,0:14:52.10,Default,,0,0,0,,the item to fail.
Dialogue: 0,0:14:52.33,0:14:54.13,Default,,0,0,0,,When a new error log entry is
Dialogue: 0,0:14:54.13,0:14:55.16,Default,,0,0,0,,added to error log
Dialogue: 0,0:14:55.65,0:14:56.92,Default,,0,0,0,,AVPlayerItemNewError
Dialogue: 0,0:14:57.06,0:14:59.68,Default,,0,0,0,,LogEntryNotification is sent.
Dialogue: 0,0:15:00.32,0:15:01.90,Default,,0,0,0,,So, listen to this for immediate
Dialogue: 0,0:15:01.90,0:15:03.11,Default,,0,0,0,,notification of error.
Dialogue: 0,0:15:03.32,0:15:06.54,Default,,0,0,0,,I would like to stress on one
Dialogue: 0,0:15:06.54,0:15:09.63,Default,,0,0,0,,point here, AVPlayer will try
Dialogue: 0,0:15:09.63,0:15:11.93,Default,,0,0,0,,its best to continue playback by
Dialogue: 0,0:15:11.93,0:15:14.09,Default,,0,0,0,,means of retries and switching
Dialogue: 0,0:15:14.26,0:15:15.71,Default,,0,0,0,,to different available variants.
Dialogue: 0,0:15:15.81,0:15:18.47,Default,,0,0,0,,The AVPlayerItem.status will
Dialogue: 0,0:15:18.47,0:15:20.64,Default,,0,0,0,,change to fail only when there
Dialogue: 0,0:15:20.64,0:15:22.80,Default,,0,0,0,,is no viable variant to use to
Dialogue: 0,0:15:22.80,0:15:24.98,Default,,0,0,0,,continue playback and we have
Dialogue: 0,0:15:25.06,0:15:26.65,Default,,0,0,0,,played out whatever buffer we
Dialogue: 0,0:15:27.33,0:15:27.43,Default,,0,0,0,,have.
Dialogue: 0,0:15:28.92,0:15:30.68,Default,,0,0,0,,For all temporary errors,
Dialogue: 0,0:15:31.26,0:15:33.38,Default,,0,0,0,,AVPlayer will attempt switching
Dialogue: 0,0:15:33.59,0:15:35.09,Default,,0,0,0,,and/or retry.
Dialogue: 0,0:15:35.92,0:15:37.68,Default,,0,0,0,,If there is nothing to switch to
Dialogue: 0,0:15:38.10,0:15:40.10,Default,,0,0,0,,AVPlayer will retry for a
Dialogue: 0,0:15:40.10,0:15:41.94,Default,,0,0,0,,reasonable amount of time before
Dialogue: 0,0:15:41.94,0:15:42.37,Default,,0,0,0,,giving up.
Dialogue: 0,0:15:43.14,0:15:45.78,Default,,0,0,0,,After a given amount of time it
Dialogue: 0,0:15:45.78,0:15:47.66,Default,,0,0,0,,will attempt to switch back up
Dialogue: 0,0:15:47.66,0:15:49.33,Default,,0,0,0,,to failed variant if the network
Dialogue: 0,0:15:49.33,0:15:50.60,Default,,0,0,0,,conditions are suitable.
Dialogue: 0,0:15:51.99,0:15:54.90,Default,,0,0,0,,For permanent errors like 410 no
Dialogue: 0,0:15:54.90,0:15:56.57,Default,,0,0,0,,retries will be attempted and
Dialogue: 0,0:15:56.57,0:15:59.00,Default,,0,0,0,,AVPlayer only tries switching to
Dialogue: 0,0:15:59.00,0:15:59.96,Default,,0,0,0,,a different variant.
Dialogue: 0,0:16:01.49,0:16:03.33,Default,,0,0,0,,The permanent and temporary
Dialogue: 0,0:16:03.33,0:16:05.25,Default,,0,0,0,,error codes are in compliance
Dialogue: 0,0:16:05.25,0:16:06.87,Default,,0,0,0,,with the standard HTTP error
Dialogue: 0,0:16:06.87,0:16:10.46,Default,,0,0,0,,codes specified in RFC7231.
Dialogue: 0,0:16:13.51,0:16:15.75,Default,,0,0,0,,All session data errors are not
Dialogue: 0,0:16:15.75,0:16:16.97,Default,,0,0,0,,fatal and not ignored.
Dialogue: 0,0:16:22.24,0:16:23.65,Default,,0,0,0,,Next, let's go to a code
Dialogue: 0,0:16:23.65,0:16:24.15,Default,,0,0,0,,snippet.
Dialogue: 0,0:16:25.22,0:16:27.11,Default,,0,0,0,,To view the error, once you have
Dialogue: 0,0:16:27.11,0:16:28.57,Default,,0,0,0,,done the usual things, create
Dialogue: 0,0:16:28.57,0:16:30.33,Default,,0,0,0,,your asset, create your player
Dialogue: 0,0:16:30.33,0:16:32.27,Default,,0,0,0,,item, create a player with that
Dialogue: 0,0:16:32.27,0:16:34.27,Default,,0,0,0,,item the first thing you should
Dialogue: 0,0:16:34.27,0:16:37.22,Default,,0,0,0,,do is add observer to track the
Dialogue: 0,0:16:37.28,0:16:40.96,Default,,0,0,0,,status of the player.
Dialogue: 0,0:16:41.18,0:16:44.53,Default,,0,0,0,,Then add observer to track the
Dialogue: 0,0:16:44.73,0:16:47.79,Default,,0,0,0,,status of player item.
Dialogue: 0,0:16:48.43,0:16:51.50,Default,,0,0,0,,And here you register to listen
Dialogue: 0,0:16:51.71,0:16:53.57,Default,,0,0,0,,to AVPlayerItemFailed
Dialogue: 0,0:16:53.57,0:16:55.26,Default,,0,0,0,,ToPlayToEndTimeNotification.
Dialogue: 0,0:16:55.77,0:17:00.53,Default,,0,0,0,,Once you have that and the
Dialogue: 0,0:17:00.53,0:17:01.97,Default,,0,0,0,,status of the item changes to
Dialogue: 0,0:17:01.97,0:17:03.75,Default,,0,0,0,,failed look at
Dialogue: 0,0:17:03.75,0:17:05.54,Default,,0,0,0,,AVPlayerItem.error to print out
Dialogue: 0,0:17:05.61,0:17:06.49,Default,,0,0,0,,what the error is.
Dialogue: 0,0:17:07.57,0:17:08.83,Default,,0,0,0,,This is the place where you
Dialogue: 0,0:17:08.83,0:17:10.42,Default,,0,0,0,,should add code to display
Dialogue: 0,0:17:10.42,0:17:11.64,Default,,0,0,0,,relevant messages about the
Dialogue: 0,0:17:11.64,0:17:12.90,Default,,0,0,0,,error to the user.
Dialogue: 0,0:17:13.50,0:17:18.15,Default,,0,0,0,,On getting AVPlayerItemFailedTo
Dialogue: 0,0:17:18.15,0:17:19.89,Default,,0,0,0,,PlayToEndTimeNotification
Dialogue: 0,0:17:20.39,0:17:22.41,Default,,0,0,0,,extract the error as the value
Dialogue: 0,0:17:22.41,0:17:24.76,Default,,0,0,0,,of AVPlayerItemFailedTo
Dialogue: 0,0:17:24.76,0:17:27.27,Default,,0,0,0,,PlayToEndTimeErrorKey and again,
Dialogue: 0,0:17:27.63,0:17:28.83,Default,,0,0,0,,take appropriate action.
Dialogue: 0,0:17:28.97,0:17:30.85,Default,,0,0,0,,For instance, print the error or
Dialogue: 0,0:17:30.85,0:17:32.41,Default,,0,0,0,,display relevant error messages
Dialogue: 0,0:17:32.41,0:17:32.97,Default,,0,0,0,,to the user.
Dialogue: 0,0:17:38.36,0:17:40.47,Default,,0,0,0,,To summarize, always monitor
Dialogue: 0,0:17:40.47,0:17:41.63,Default,,0,0,0,,AVPlayer and
Dialogue: 0,0:17:41.63,0:17:43.22,Default,,0,0,0,,AVPlayerItem.status.
Dialogue: 0,0:17:44.59,0:17:45.94,Default,,0,0,0,,Listen to notifications,
Dialogue: 0,0:17:46.04,0:17:47.85,Default,,0,0,0,,AVPlayerItemFailedTo
Dialogue: 0,0:17:47.85,0:17:49.94,Default,,0,0,0,,PlayToEndTimeNotification tells
Dialogue: 0,0:17:49.94,0:17:51.40,Default,,0,0,0,,you when the item did not play
Dialogue: 0,0:17:51.40,0:17:51.78,Default,,0,0,0,,to end.
Dialogue: 0,0:17:52.60,0:17:53.95,Default,,0,0,0,,If you want to more actively
Dialogue: 0,0:17:53.95,0:17:55.92,Default,,0,0,0,,monitor the errors for example,
Dialogue: 0,0:17:56.00,0:17:57.60,Default,,0,0,0,,for the purpose of sending debug
Dialogue: 0,0:17:57.60,0:17:59.84,Default,,0,0,0,,info to server for analytics
Dialogue: 0,0:18:00.20,0:18:02.96,Default,,0,0,0,,listen to AVPlayerItemNewError
Dialogue: 0,0:18:02.96,0:18:05.02,Default,,0,0,0,,LogEntryNotification to know
Dialogue: 0,0:18:05.02,0:18:06.45,Default,,0,0,0,,when a new error log entry is
Dialogue: 0,0:18:06.45,0:18:06.79,Default,,0,0,0,,added.
Dialogue: 0,0:18:07.71,0:18:09.75,Default,,0,0,0,,In conclusion, when an error
Dialogue: 0,0:18:09.75,0:18:12.36,Default,,0,0,0,,occurs always take appropriate
Dialogue: 0,0:18:12.36,0:18:14.25,Default,,0,0,0,,action, don't ignore it.
Dialogue: 0,0:18:14.68,0:18:17.16,Default,,0,0,0,,Notify the user of the error and
Dialogue: 0,0:18:17.16,0:18:18.63,Default,,0,0,0,,always, always display
Dialogue: 0,0:18:18.63,0:18:20.64,Default,,0,0,0,,meaningful messages or pop-ups
Dialogue: 0,0:18:21.18,0:18:21.95,Default,,0,0,0,,when suitable.
Dialogue: 0,0:18:24.46,0:18:26.73,Default,,0,0,0,,For more information, go to the
Dialogue: 0,0:18:26.73,0:18:28.85,Default,,0,0,0,,WWDC site and use the session
Dialogue: 0,0:18:28.91,0:18:31.00,Default,,0,0,0,,number 514.
Dialogue: 0,0:18:31.82,0:18:33.40,Default,,0,0,0,,Thank you and have a great
Dialogue: 0,0:18:33.54,0:18:33.95,Default,,0,0,0,,conference.
