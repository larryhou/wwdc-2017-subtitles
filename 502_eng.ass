[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:28.52,0:00:30.64,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:00:31.14,0:00:32.55,Default,,0,0,0,,>> We love music at Apple.
Dialogue: 0,0:00:33.38,0:00:34.73,Default,,0,0,0,,As Tim said yesterday in the
Dialogue: 0,0:00:34.73,0:00:37.02,Default,,0,0,0,,keynote, it's a fundamental part
Dialogue: 0,0:00:37.02,0:00:37.74,Default,,0,0,0,,of our DNA.
Dialogue: 0,0:00:38.71,0:00:40.65,Default,,0,0,0,,My name is Tim, and I'm here
Dialogue: 0,0:00:40.65,0:00:42.51,Default,,0,0,0,,today to introduce you to
Dialogue: 0,0:00:42.51,0:00:45.77,Default,,0,0,0,,MusicKit, a way for you to
Dialogue: 0,0:00:45.77,0:00:47.88,Default,,0,0,0,,integrate streaming music with
Dialogue: 0,0:00:47.88,0:00:49.17,Default,,0,0,0,,Apple Music content.
Dialogue: 0,0:00:50.55,0:00:51.97,Default,,0,0,0,,With MusicKit, you're going to
Dialogue: 0,0:00:51.97,0:00:57.47,Default,,0,0,0,,get access to artists, albums
Dialogue: 0,0:00:57.47,0:01:03.04,Default,,0,0,0,,and songs, playlists, activities
Dialogue: 0,0:01:03.04,0:01:03.76,Default,,0,0,0,,and curators.
Dialogue: 0,0:01:04.69,0:01:06.66,Default,,0,0,0,,We also provide operations for
Dialogue: 0,0:01:06.66,0:01:12.21,Default,,0,0,0,,discovery, like search, and
Dialogue: 0,0:01:12.21,0:01:15.73,Default,,0,0,0,,charts, and if the user
Dialogue: 0,0:01:15.73,0:01:16.73,Default,,0,0,0,,authorizes your app,
Dialogue: 0,0:01:17.59,0:01:19.20,Default,,0,0,0,,personalized recommendations
Dialogue: 0,0:01:19.20,0:01:20.42,Default,,0,0,0,,that are tailored to the user's
Dialogue: 0,0:01:20.42,0:01:20.98,Default,,0,0,0,,taste or their activity.
Dialogue: 0,0:01:26.50,0:01:32.95,Default,,0,0,0,,MusicKit is two things; it's a
Dialogue: 0,0:01:33.19,0:01:36.47,Default,,0,0,0,,collection of client APIs in the
Dialogue: 0,0:01:36.47,0:01:41.43,Default,,0,0,0,,iOS SDK and a set of web
Dialogue: 0,0:01:41.43,0:01:42.59,Default,,0,0,0,,services that provide
Dialogue: 0,0:01:42.59,0:01:43.72,Default,,0,0,0,,personalized and cataloged
Dialogue: 0,0:01:43.72,0:01:43.96,Default,,0,0,0,,content.
Dialogue: 0,0:01:49.36,0:01:51.44,Default,,0,0,0,,I'll be talking about the web
Dialogue: 0,0:01:51.44,0:01:53.70,Default,,0,0,0,,services part, which we call
Dialogue: 0,0:01:54.16,0:01:55.42,Default,,0,0,0,,Apple Music API.
Dialogue: 0,0:01:55.42,0:01:59.60,Default,,0,0,0,,These are some of the topics
Dialogue: 0,0:01:59.60,0:02:00.38,Default,,0,0,0,,I'll be discussing.
Dialogue: 0,0:02:01.01,0:02:02.36,Default,,0,0,0,,I'll go a little into how to
Dialogue: 0,0:02:02.36,0:02:04.66,Default,,0,0,0,,format a request, how we
Dialogue: 0,0:02:04.66,0:02:05.97,Default,,0,0,0,,represent the content with
Dialogue: 0,0:02:05.97,0:02:07.69,Default,,0,0,0,,resources and relationships,
Dialogue: 0,0:02:08.94,0:02:10.38,Default,,0,0,0,,some detail about limits and
Dialogue: 0,0:02:10.38,0:02:11.21,Default,,0,0,0,,pagination.
Dialogue: 0,0:02:12.42,0:02:13.72,Default,,0,0,0,,My colleague Joel will give a
Dialogue: 0,0:02:13.72,0:02:14.29,Default,,0,0,0,,brief demo.
Dialogue: 0,0:02:15.76,0:02:16.85,Default,,0,0,0,,I'll touch on personalized
Dialogue: 0,0:02:16.85,0:02:19.90,Default,,0,0,0,,services; and finally, talk
Dialogue: 0,0:02:19.90,0:02:21.33,Default,,0,0,0,,about how to get access to the
Dialogue: 0,0:02:21.33,0:02:25.04,Default,,0,0,0,,Apple Music API.
Dialogue: 0,0:02:25.27,0:02:27.06,Default,,0,0,0,,No talk about a Web services API
Dialogue: 0,0:02:27.24,0:02:28.96,Default,,0,0,0,,would be complete without
Dialogue: 0,0:02:28.96,0:02:31.33,Default,,0,0,0,,talking about the URL structure.
Dialogue: 0,0:02:32.26,0:02:34.67,Default,,0,0,0,,Apple Music API only supports
Dialogue: 0,0:02:34.67,0:02:37.36,Default,,0,0,0,,the secure HTTPS scheme, and
Dialogue: 0,0:02:37.36,0:02:38.50,Default,,0,0,0,,it's hosted at
Dialogue: 0,0:02:38.50,0:02:41.48,Default,,0,0,0,,api.music.apple.com.
Dialogue: 0,0:02:42.63,0:02:44.59,Default,,0,0,0,,The first element in the URL
Dialogue: 0,0:02:44.59,0:02:46.51,Default,,0,0,0,,path is the version.
Dialogue: 0,0:02:47.59,0:02:48.88,Default,,0,0,0,,Current version is V1, and if we
Dialogue: 0,0:02:49.60,0:02:52.22,Default,,0,0,0,,make significant improvements or
Dialogue: 0,0:02:52.22,0:02:53.49,Default,,0,0,0,,backwards incompatible changes,
Dialogue: 0,0:02:53.49,0:02:53.98,Default,,0,0,0,,we'll bump the version.
Dialogue: 0,0:02:58.29,0:02:59.73,Default,,0,0,0,,The next part of the path is
Dialogue: 0,0:02:59.73,0:03:01.33,Default,,0,0,0,,cataloged, and this just
Dialogue: 0,0:03:01.33,0:03:02.84,Default,,0,0,0,,indicates that this is the Apple
Dialogue: 0,0:03:02.84,0:03:04.40,Default,,0,0,0,,Music streaming content catalog.
Dialogue: 0,0:03:05.74,0:03:10.75,Default,,0,0,0,,A note that not all content is
Dialogue: 0,0:03:10.75,0:03:12.66,Default,,0,0,0,,available in every area or
Dialogue: 0,0:03:12.66,0:03:14.86,Default,,0,0,0,,region of the world, and so we
Dialogue: 0,0:03:14.86,0:03:15.89,Default,,0,0,0,,introduced the concept of
Dialogue: 0,0:03:15.89,0:03:18.94,Default,,0,0,0,,Storefront in the path.
Dialogue: 0,0:03:18.94,0:03:21.95,Default,,0,0,0,,Storefront scopes the catalog to
Dialogue: 0,0:03:21.95,0:03:23.61,Default,,0,0,0,,the area region where content is
Dialogue: 0,0:03:23.61,0:03:25.11,Default,,0,0,0,,available so that you can
Dialogue: 0,0:03:25.11,0:03:27.38,Default,,0,0,0,,provide relevant and playable
Dialogue: 0,0:03:27.38,0:03:27.98,Default,,0,0,0,,music to your users.
Dialogue: 0,0:03:33.14,0:03:35.62,Default,,0,0,0,,The next part is the API.
Dialogue: 0,0:03:35.89,0:03:37.27,Default,,0,0,0,,This just indicates the resource
Dialogue: 0,0:03:37.27,0:03:38.53,Default,,0,0,0,,you'd like to request or the
Dialogue: 0,0:03:38.53,0:03:39.55,Default,,0,0,0,,operations you'd like to
Dialogue: 0,0:03:39.55,0:03:40.09,Default,,0,0,0,,perform.
Dialogue: 0,0:03:41.41,0:03:43.72,Default,,0,0,0,,And finally, we have a set of
Dialogue: 0,0:03:43.72,0:03:45.74,Default,,0,0,0,,parameters that you can use to
Dialogue: 0,0:03:45.74,0:03:46.98,Default,,0,0,0,,filter or expand the request.
Dialogue: 0,0:03:52.16,0:03:53.75,Default,,0,0,0,,Our API is localized.
Dialogue: 0,0:03:54.91,0:03:56.71,Default,,0,0,0,,We support many localizations,
Dialogue: 0,0:03:57.51,0:03:59.24,Default,,0,0,0,,but not all localizations are
Dialogue: 0,0:03:59.24,0:04:00.63,Default,,0,0,0,,supported in every Storefront.
Dialogue: 0,0:04:01.63,0:04:03.07,Default,,0,0,0,,We provide a mechanism for you
Dialogue: 0,0:04:03.07,0:04:05.63,Default,,0,0,0,,to get which Storefront supports
Dialogue: 0,0:04:05.63,0:04:06.93,Default,,0,0,0,,which localizations.
Dialogue: 0,0:04:08.70,0:04:10.81,Default,,0,0,0,,The API supports limits in
Dialogue: 0,0:04:10.81,0:04:12.21,Default,,0,0,0,,pagination, and I'll go into
Dialogue: 0,0:04:12.21,0:04:13.25,Default,,0,0,0,,some detail later in my
Dialogue: 0,0:04:13.25,0:04:14.86,Default,,0,0,0,,presentation about exactly how
Dialogue: 0,0:04:14.86,0:04:15.42,Default,,0,0,0,,that works.
Dialogue: 0,0:04:16.62,0:04:18.97,Default,,0,0,0,,And finally, every request to
Dialogue: 0,0:04:18.97,0:04:20.29,Default,,0,0,0,,Apple Music API requires a
Dialogue: 0,0:04:20.29,0:04:20.98,Default,,0,0,0,,developer token.
Dialogue: 0,0:04:28.40,0:04:29.75,Default,,0,0,0,,Representing data is an
Dialogue: 0,0:04:29.75,0:04:31.55,Default,,0,0,0,,important consideration for any
Dialogue: 0,0:04:31.55,0:04:31.86,Default,,0,0,0,,API.
Dialogue: 0,0:04:33.27,0:04:34.66,Default,,0,0,0,,We've taken our experience
Dialogue: 0,0:04:34.66,0:04:38.38,Default,,0,0,0,,building the Apple Music app to
Dialogue: 0,0:04:38.38,0:04:40.41,Default,,0,0,0,,give you an API that takes into
Dialogue: 0,0:04:40.41,0:04:42.13,Default,,0,0,0,,consideration ease of use,
Dialogue: 0,0:04:42.59,0:04:44.84,Default,,0,0,0,,flexibility, and performance.
Dialogue: 0,0:04:46.68,0:04:49.35,Default,,0,0,0,,Here, I have the first
Dialogue: 0,0:04:49.35,0:04:50.99,Default,,0,0,0,,representation of a resource,
Dialogue: 0,0:04:50.99,0:04:52.52,Default,,0,0,0,,which we call the identity form.
Dialogue: 0,0:04:53.42,0:04:56.13,Default,,0,0,0,,It includes an ID, a type of
Dialogue: 0,0:04:56.13,0:04:59.80,Default,,0,0,0,,thing that this is, and an href,
Dialogue: 0,0:04:59.80,0:05:01.15,Default,,0,0,0,,which indicates the location in
Dialogue: 0,0:05:01.15,0:05:02.38,Default,,0,0,0,,the catalog where you can find
Dialogue: 0,0:05:02.38,0:05:03.02,Default,,0,0,0,,this content.
Dialogue: 0,0:05:04.18,0:05:05.62,Default,,0,0,0,,This isn't very useful for
Dialogue: 0,0:05:05.62,0:05:06.03,Default,,0,0,0,,display.
Dialogue: 0,0:05:07.28,0:05:08.37,Default,,0,0,0,,That's why we have this type,
Dialogue: 0,0:05:09.22,0:05:10.44,Default,,0,0,0,,which is the attributes form.
Dialogue: 0,0:05:10.96,0:05:13.60,Default,,0,0,0,,This includes the identity and a
Dialogue: 0,0:05:13.60,0:05:15.25,Default,,0,0,0,,list of attributes that you can
Dialogue: 0,0:05:15.25,0:05:16.59,Default,,0,0,0,,use to display relevant
Dialogue: 0,0:05:16.59,0:05:17.92,Default,,0,0,0,,information about the content.
Dialogue: 0,0:05:18.53,0:05:19.59,Default,,0,0,0,,This includes things like
Dialogue: 0,0:05:19.59,0:05:21.75,Default,,0,0,0,,artwork and name and
Dialogue: 0,0:05:21.75,0:05:23.62,Default,,0,0,0,,description, and if the content
Dialogue: 0,0:05:23.62,0:05:25.38,Default,,0,0,0,,is playable, it will have an
Dialogue: 0,0:05:25.38,0:05:26.51,Default,,0,0,0,,attribute called play
Dialogue: 0,0:05:26.51,0:05:27.18,Default,,0,0,0,,parameters.
Dialogue: 0,0:05:29.42,0:05:31.37,Default,,0,0,0,,Finally, we have the default
Dialogue: 0,0:05:31.37,0:05:31.71,Default,,0,0,0,,form.
Dialogue: 0,0:05:31.88,0:05:34.16,Default,,0,0,0,,If you ask the Apple Music API
Dialogue: 0,0:05:34.16,0:05:35.78,Default,,0,0,0,,for a collection of things, this
Dialogue: 0,0:05:35.78,0:05:37.08,Default,,0,0,0,,is the default form that you'll
Dialogue: 0,0:05:37.08,0:05:37.35,Default,,0,0,0,,get.
Dialogue: 0,0:05:37.86,0:05:38.88,Default,,0,0,0,,It's the attributes and
Dialogue: 0,0:05:38.88,0:05:39.87,Default,,0,0,0,,relationship form.
Dialogue: 0,0:05:40.58,0:05:41.87,Default,,0,0,0,,This is all of the attributes
Dialogue: 0,0:05:41.87,0:05:44.09,Default,,0,0,0,,required for display plus
Dialogue: 0,0:05:44.09,0:05:45.84,Default,,0,0,0,,collections of content that are
Dialogue: 0,0:05:45.84,0:05:47.20,Default,,0,0,0,,related to this particular
Dialogue: 0,0:05:47.20,0:05:47.80,Default,,0,0,0,,resource.
Dialogue: 0,0:05:48.34,0:05:51.43,Default,,0,0,0,,It's a little bit about
Dialogue: 0,0:05:51.43,0:05:52.31,Default,,0,0,0,,relationships.
Dialogue: 0,0:05:54.11,0:05:55.72,Default,,0,0,0,,Here I have an album resource.
Dialogue: 0,0:05:56.89,0:05:58.46,Default,,0,0,0,,It has three relationships.
Dialogue: 0,0:05:59.93,0:06:01.47,Default,,0,0,0,,The first is a relationship to
Dialogue: 0,0:06:01.47,0:06:02.06,Default,,0,0,0,,tracks.
Dialogue: 0,0:06:02.52,0:06:03.80,Default,,0,0,0,,This is the songs or music
Dialogue: 0,0:06:03.80,0:06:05.03,Default,,0,0,0,,videos that are attached to this
Dialogue: 0,0:06:05.03,0:06:05.37,Default,,0,0,0,,album.
Dialogue: 0,0:06:06.73,0:06:09.07,Default,,0,0,0,,The second is artists, which, of
Dialogue: 0,0:06:09.07,0:06:10.50,Default,,0,0,0,,course, is the artist that
Dialogue: 0,0:06:10.87,0:06:12.64,Default,,0,0,0,,created the song or the album;
Dialogue: 0,0:06:13.92,0:06:14.63,Default,,0,0,0,,and genres.
Dialogue: 0,0:06:15.36,0:06:17.05,Default,,0,0,0,,Genres are just the category of
Dialogue: 0,0:06:17.45,0:06:18.94,Default,,0,0,0,,music that this album belongs
Dialogue: 0,0:06:18.94,0:06:19.11,Default,,0,0,0,,in.
Dialogue: 0,0:06:19.79,0:06:21.21,Default,,0,0,0,,Now, each of these relationships
Dialogue: 0,0:06:21.21,0:06:22.07,Default,,0,0,0,,is of a different type.
Dialogue: 0,0:06:23.29,0:06:26.04,Default,,0,0,0,,The first app for tracks is an
Dialogue: 0,0:06:26.08,0:06:27.51,Default,,0,0,0,,attributes included relation.
Dialogue: 0,0:06:28.55,0:06:29.96,Default,,0,0,0,,It means if you ask for this
Dialogue: 0,0:06:29.96,0:06:31.97,Default,,0,0,0,,album, it's going to return all
Dialogue: 0,0:06:31.97,0:06:33.86,Default,,0,0,0,,of its tracks with their
Dialogue: 0,0:06:33.86,0:06:34.89,Default,,0,0,0,,attributes included.
Dialogue: 0,0:06:35.18,0:06:37.01,Default,,0,0,0,,This means that if you ask for
Dialogue: 0,0:06:37.01,0:06:38.37,Default,,0,0,0,,an album, you could get all of
Dialogue: 0,0:06:38.37,0:06:39.80,Default,,0,0,0,,the data about the songs and its
Dialogue: 0,0:06:39.80,0:06:40.41,Default,,0,0,0,,attributes.
Dialogue: 0,0:06:41.83,0:06:44.10,Default,,0,0,0,,The second type, artist, is
Dialogue: 0,0:06:44.10,0:06:45.02,Default,,0,0,0,,identifiers only.
Dialogue: 0,0:06:45.22,0:06:46.73,Default,,0,0,0,,It means we only return the
Dialogue: 0,0:06:46.73,0:06:49.06,Default,,0,0,0,,identifier form, the location,
Dialogue: 0,0:06:49.06,0:06:50.43,Default,,0,0,0,,and the kind of thing, and where
Dialogue: 0,0:06:50.43,0:06:51.73,Default,,0,0,0,,you can find it in the catalog.
Dialogue: 0,0:06:52.71,0:06:55.19,Default,,0,0,0,,And finally, we have the omitted
Dialogue: 0,0:06:55.19,0:06:55.84,Default,,0,0,0,,by default.
Dialogue: 0,0:06:56.54,0:06:58.32,Default,,0,0,0,,This is not returned in the
Dialogue: 0,0:06:58.32,0:07:00.45,Default,,0,0,0,,default representation, although
Dialogue: 0,0:07:00.45,0:07:01.92,Default,,0,0,0,,the relationship still exists.
Dialogue: 0,0:07:02.84,0:07:03.63,Default,,0,0,0,,So, let's look at this in
Dialogue: 0,0:07:03.63,0:07:04.12,Default,,0,0,0,,practice.
Dialogue: 0,0:07:05.54,0:07:07.89,Default,,0,0,0,,Here, I have a URL to an album,
Dialogue: 0,0:07:08.99,0:07:10.39,Default,,0,0,0,,and you can see that in the
Dialogue: 0,0:07:10.39,0:07:12.43,Default,,0,0,0,,adjacent response tracks have
Dialogue: 0,0:07:12.43,0:07:16.29,Default,,0,0,0,,attributes omitted, and artists
Dialogue: 0,0:07:16.29,0:07:17.63,Default,,0,0,0,,are the identifier form.
Dialogue: 0,0:07:18.52,0:07:19.73,Default,,0,0,0,,So, what if I wanted to make a
Dialogue: 0,0:07:19.73,0:07:21.31,Default,,0,0,0,,single call and get the
Dialogue: 0,0:07:21.35,0:07:24.32,Default,,0,0,0,,attributes for an artist.
Dialogue: 0,0:07:24.32,0:07:25.53,Default,,0,0,0,,I'd simply add the career
Dialogue: 0,0:07:25.53,0:07:28.49,Default,,0,0,0,,parameter, include and specify
Dialogue: 0,0:07:28.49,0:07:29.68,Default,,0,0,0,,the name of the relationship,
Dialogue: 0,0:07:29.99,0:07:31.25,Default,,0,0,0,,which I would like to omit the
Dialogue: 0,0:07:31.25,0:07:32.14,Default,,0,0,0,,attributes for.
Dialogue: 0,0:07:33.79,0:07:35.91,Default,,0,0,0,,And you can see that here we
Dialogue: 0,0:07:35.91,0:07:37.12,Default,,0,0,0,,have omitted the attributes for
Dialogue: 0,0:07:37.12,0:07:38.53,Default,,0,0,0,,the artist, along with the
Dialogue: 0,0:07:38.53,0:07:40.17,Default,,0,0,0,,attribute form for the tracks.
Dialogue: 0,0:07:41.37,0:07:42.46,Default,,0,0,0,,You'll notice in this response
Dialogue: 0,0:07:42.46,0:07:43.72,Default,,0,0,0,,that we don't include genres.
Dialogue: 0,0:07:44.35,0:07:45.33,Default,,0,0,0,,So, how would you include the
Dialogue: 0,0:07:45.33,0:07:46.69,Default,,0,0,0,,attribute form of genres?
Dialogue: 0,0:07:48.04,0:07:49.67,Default,,0,0,0,,You'd simply add genres to the
Dialogue: 0,0:07:49.67,0:07:53.26,Default,,0,0,0,,include career parameter, and
Dialogue: 0,0:07:53.26,0:07:54.84,Default,,0,0,0,,you can see that genres will be
Dialogue: 0,0:07:54.84,0:07:56.88,Default,,0,0,0,,omitted in the attribute form.
Dialogue: 0,0:07:57.41,0:07:59.78,Default,,0,0,0,,So, that's a little bit about
Dialogue: 0,0:07:59.78,0:08:00.97,Default,,0,0,0,,resources and relationships.
Dialogue: 0,0:08:00.97,0:08:02.44,Default,,0,0,0,,I'm now going to talk about some
Dialogue: 0,0:08:02.44,0:08:03.54,Default,,0,0,0,,limits and pagination.
Dialogue: 0,0:08:04.88,0:08:06.37,Default,,0,0,0,,So, here are the requests for
Dialogue: 0,0:08:06.37,0:08:07.59,Default,,0,0,0,,the tracks resource for an
Dialogue: 0,0:08:07.59,0:08:07.88,Default,,0,0,0,,album.
Dialogue: 0,0:08:08.16,0:08:10.09,Default,,0,0,0,,This will give me the collection
Dialogue: 0,0:08:11.26,0:08:13.73,Default,,0,0,0,,of songs for this album.
Dialogue: 0,0:08:14.39,0:08:15.88,Default,,0,0,0,,This album happens to have 9.
Dialogue: 0,0:08:16.88,0:08:18.31,Default,,0,0,0,,If I wanted to limit the number
Dialogue: 0,0:08:18.31,0:08:19.65,Default,,0,0,0,,of tracks that I would get back,
Dialogue: 0,0:08:20.13,0:08:22.07,Default,,0,0,0,,I would simply add the limit
Dialogue: 0,0:08:22.07,0:08:25.19,Default,,0,0,0,,career parameter, and let's say
Dialogue: 0,0:08:25.19,0:08:26.59,Default,,0,0,0,,I wanted a page size of 2.
Dialogue: 0,0:08:27.98,0:08:29.34,Default,,0,0,0,,This would give me the first two
Dialogue: 0,0:08:29.34,0:08:32.55,Default,,0,0,0,,songs in this album, and then it
Dialogue: 0,0:08:32.55,0:08:37.13,Default,,0,0,0,,would give me a Next key that
Dialogue: 0,0:08:37.33,0:08:39.16,Default,,0,0,0,,indicates where the rest of
Dialogue: 0,0:08:39.16,0:08:40.00,Default,,0,0,0,,these tracks live.
Dialogue: 0,0:08:41.56,0:08:46.33,Default,,0,0,0,,If I follow this next link, I
Dialogue: 0,0:08:46.55,0:08:48.73,Default,,0,0,0,,will get the rest of the tracks
Dialogue: 0,0:08:48.73,0:08:50.31,Default,,0,0,0,,for this album, songs 3 through
Dialogue: 0,0:08:50.31,0:08:50.63,Default,,0,0,0,,9.
Dialogue: 0,0:08:52.06,0:08:53.79,Default,,0,0,0,,If I wanted to implement a page
Dialogue: 0,0:08:53.79,0:08:57.84,Default,,0,0,0,,size of 2, I would simply add,
Dialogue: 0,0:08:57.84,0:08:59.36,Default,,0,0,0,,again, limit equals 2.
Dialogue: 0,0:09:00.01,0:09:02.02,Default,,0,0,0,,It would give me songs 3 and 4.
Dialogue: 0,0:09:03.37,0:09:06.29,Default,,0,0,0,,Again, a Next reference, with a
Dialogue: 0,0:09:06.29,0:09:07.03,Default,,0,0,0,,URL to where the rest of the
Dialogue: 0,0:09:07.03,0:09:07.98,Default,,0,0,0,,data for this album lives.
Dialogue: 0,0:09:11.28,0:09:12.85,Default,,0,0,0,,So, what does this look like in
Dialogue: 0,0:09:12.85,0:09:13.26,Default,,0,0,0,,practice?
Dialogue: 0,0:09:14.01,0:09:14.56,Default,,0,0,0,,Here it is.
Dialogue: 0,0:09:14.82,0:09:16.73,Default,,0,0,0,,You can see that the Next
Dialogue: 0,0:09:16.73,0:09:18.91,Default,,0,0,0,,reference is a sibling of the
Dialogue: 0,0:09:18.91,0:09:20.05,Default,,0,0,0,,collection of data that comes
Dialogue: 0,0:09:20.09,0:09:22.08,Default,,0,0,0,,back for these tracks.
Dialogue: 0,0:09:23.40,0:09:24.50,Default,,0,0,0,,So, I've talked a little bit
Dialogue: 0,0:09:24.93,0:09:27.42,Default,,0,0,0,,about resources, the
Dialogue: 0,0:09:27.42,0:09:30.20,Default,,0,0,0,,relationships, and pagination.
Dialogue: 0,0:09:30.58,0:09:34.26,Default,,0,0,0,,Let's talk about an operation.
Dialogue: 0,0:09:35.76,0:09:38.03,Default,,0,0,0,,Most of our operations come back
Dialogue: 0,0:09:38.03,0:09:40.69,Default,,0,0,0,,as collections of resources
Dialogue: 0,0:09:40.69,0:09:42.00,Default,,0,0,0,,grouped by the type of thing
Dialogue: 0,0:09:42.00,0:09:42.54,Default,,0,0,0,,that they are.
Dialogue: 0,0:09:43.04,0:09:45.59,Default,,0,0,0,,For example, a search for Khalid
Dialogue: 0,0:09:45.80,0:09:47.43,Default,,0,0,0,,would bring back albums,
Dialogue: 0,0:09:47.95,0:09:50.29,Default,,0,0,0,,artists, songs, and playlists.
Dialogue: 0,0:09:50.80,0:09:52.43,Default,,0,0,0,,If I wanted to limit the type of
Dialogue: 0,0:09:52.43,0:09:53.93,Default,,0,0,0,,things that came back from a
Dialogue: 0,0:09:53.93,0:09:55.80,Default,,0,0,0,,search, I would simply add the
Dialogue: 0,0:09:55.80,0:09:57.44,Default,,0,0,0,,"types" career parameter and
Dialogue: 0,0:09:57.44,0:10:00.19,Default,,0,0,0,,specify the kind of thing that I
Dialogue: 0,0:10:00.19,0:10:00.93,Default,,0,0,0,,would like to come back.
Dialogue: 0,0:10:01.77,0:10:04.37,Default,,0,0,0,,Here, I'm asking for albums, and
Dialogue: 0,0:10:04.37,0:10:05.85,Default,,0,0,0,,when I call it, I'll just get a
Dialogue: 0,0:10:05.85,0:10:06.95,Default,,0,0,0,,collection of albums.
Dialogue: 0,0:10:09.20,0:10:10.57,Default,,0,0,0,,And now, I'd like to welcome my
Dialogue: 0,0:10:10.57,0:10:12.08,Default,,0,0,0,,colleague Joel onto the stage to
Dialogue: 0,0:10:12.08,0:10:13.64,Default,,0,0,0,,do a quick Playground demo of a
Dialogue: 0,0:10:13.64,0:10:13.95,Default,,0,0,0,,Search request.
Dialogue: 0,0:10:14.52,0:10:17.69,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:10:18.19,0:10:20.99,Default,,0,0,0,,>> Thank you, Tim.
Dialogue: 0,0:10:21.22,0:10:22.50,Default,,0,0,0,,Hi, my name is Joel, and I'd
Dialogue: 0,0:10:22.50,0:10:23.83,Default,,0,0,0,,like to show you just how easy
Dialogue: 0,0:10:23.83,0:10:26.19,Default,,0,0,0,,it is to fetch content from
Dialogue: 0,0:10:26.19,0:10:28.71,Default,,0,0,0,,Apple Music to enrich your apps
Dialogue: 0,0:10:28.79,0:10:29.44,Default,,0,0,0,,in Swift.
Dialogue: 0,0:10:31.12,0:10:32.79,Default,,0,0,0,,To do that, I'd like to show you
Dialogue: 0,0:10:32.79,0:10:34.46,Default,,0,0,0,,how to fetch some content from
Dialogue: 0,0:10:34.46,0:10:35.86,Default,,0,0,0,,this catalog search endpoint,
Dialogue: 0,0:10:36.44,0:10:37.99,Default,,0,0,0,,and here we'll be searching for
Dialogue: 0,0:10:38.17,0:10:39.45,Default,,0,0,0,,albums from Khalid.
Dialogue: 0,0:10:40.49,0:10:43.04,Default,,0,0,0,,To do so, we'll simply start
Dialogue: 0,0:10:43.13,0:10:44.86,Default,,0,0,0,,building the URL for this search
Dialogue: 0,0:10:44.86,0:10:46.88,Default,,0,0,0,,request, using URL components,
Dialogue: 0,0:10:47.01,0:10:48.40,Default,,0,0,0,,and one important part of this
Dialogue: 0,0:10:48.40,0:10:51.77,Default,,0,0,0,,URL in the path is the inclusion
Dialogue: 0,0:10:51.77,0:10:53.28,Default,,0,0,0,,of the Storefront county code
Dialogue: 0,0:10:53.77,0:10:54.95,Default,,0,0,0,,corresponding to the user.
Dialogue: 0,0:10:55.44,0:10:58.52,Default,,0,0,0,,Then, you need to add a few
Dialogue: 0,0:10:58.52,0:11:00.26,Default,,0,0,0,,query parameters to this
Dialogue: 0,0:11:00.26,0:11:02.37,Default,,0,0,0,,request, and we'll do so by
Dialogue: 0,0:11:02.58,0:11:04.41,Default,,0,0,0,,using query items, and we'll
Dialogue: 0,0:11:04.41,0:11:07.29,Default,,0,0,0,,simply set the term to "Kahalid"
Dialogue: 0,0:11:07.67,0:11:09.28,Default,,0,0,0,,and type 2 albums.
Dialogue: 0,0:11:09.85,0:11:12.99,Default,,0,0,0,,Once you have that, you can
Dialogue: 0,0:11:12.99,0:11:14.52,Default,,0,0,0,,construct a fully formed URL,
Dialogue: 0,0:11:15.14,0:11:16.65,Default,,0,0,0,,and then a URL request with
Dialogue: 0,0:11:16.65,0:11:16.94,Default,,0,0,0,,that.
Dialogue: 0,0:11:18.02,0:11:20.32,Default,,0,0,0,,And then, you need to include an
Dialogue: 0,0:11:20.32,0:11:22.55,Default,,0,0,0,,HTTP header to this URL request,
Dialogue: 0,0:11:22.55,0:11:23.63,Default,,0,0,0,,which is the authorization
Dialogue: 0,0:11:23.63,0:11:26.24,Default,,0,0,0,,header, and this is useful to
Dialogue: 0,0:11:26.24,0:11:27.85,Default,,0,0,0,,authenticate your app with Apple
Dialogue: 0,0:11:27.85,0:11:28.43,Default,,0,0,0,,Music API.
Dialogue: 0,0:11:29.91,0:11:31.03,Default,,0,0,0,,Here, we'll be using the
Dialogue: 0,0:11:31.03,0:11:33.24,Default,,0,0,0,,developer token as a part of the
Dialogue: 0,0:11:33.24,0:11:35.54,Default,,0,0,0,,value of this HTTP header with
Dialogue: 0,0:11:35.54,0:11:36.57,Default,,0,0,0,,the "Bearer" prefix.
Dialogue: 0,0:11:37.03,0:11:40.71,Default,,0,0,0,,Next stop, we can load the data,
Dialogue: 0,0:11:40.99,0:11:44.33,Default,,0,0,0,,using URL session, and with this
Dialogue: 0,0:11:44.33,0:11:46.58,Default,,0,0,0,,raw JSON data, we'll simply use
Dialogue: 0,0:11:46.58,0:11:48.49,Default,,0,0,0,,the new JSON Decoder in Swift
Dialogue: 0,0:11:48.49,0:11:51.22,Default,,0,0,0,,4.0 to parse this data, and it
Dialogue: 0,0:11:51.22,0:11:52.69,Default,,0,0,0,,really makes it easy to convert
Dialogue: 0,0:11:52.69,0:11:54.80,Default,,0,0,0,,JSON data into strongly typed
Dialogue: 0,0:11:55.10,0:11:56.08,Default,,0,0,0,,Swift structures.
Dialogue: 0,0:11:56.40,0:11:58.41,Default,,0,0,0,,You can simply define a few
Dialogue: 0,0:11:58.41,0:12:00.10,Default,,0,0,0,,Swift structures that conform to
Dialogue: 0,0:12:00.10,0:12:03.03,Default,,0,0,0,,the codable protocol, and then
Dialogue: 0,0:12:03.25,0:12:05.40,Default,,0,0,0,,you can feed such structures to
Dialogue: 0,0:12:05.40,0:12:06.30,Default,,0,0,0,,the JSON decoder.
Dialogue: 0,0:12:06.30,0:12:07.60,Default,,0,0,0,,In this case, I'll be passing
Dialogue: 0,0:12:07.60,0:12:08.91,Default,,0,0,0,,the Catalog Search Results
Dialogue: 0,0:12:09.28,0:12:11.36,Default,,0,0,0,,struct to the JSON Decoder,
Dialogue: 0,0:12:11.48,0:12:12.73,Default,,0,0,0,,along with the Search data, and
Dialogue: 0,0:12:13.13,0:12:14.75,Default,,0,0,0,,then I can take a peek into the
Dialogue: 0,0:12:14.75,0:12:15.37,Default,,0,0,0,,results.
Dialogue: 0,0:12:16.03,0:12:17.47,Default,,0,0,0,,So, here, I'll be looking for
Dialogue: 0,0:12:17.47,0:12:18.89,Default,,0,0,0,,the first album in these
Dialogue: 0,0:12:18.89,0:12:20.69,Default,,0,0,0,,results, and let's take a look
Dialogue: 0,0:12:20.69,0:12:23.70,Default,,0,0,0,,at the attributes we get.
Dialogue: 0,0:12:23.89,0:12:25.75,Default,,0,0,0,,Sure enough, we get the American
Dialogue: 0,0:12:25.75,0:12:28.19,Default,,0,0,0,,Teen Album by Khalid, including
Dialogue: 0,0:12:28.19,0:12:30.41,Default,,0,0,0,,the other related attributes.
Dialogue: 0,0:12:31.28,0:12:32.74,Default,,0,0,0,,And as you can see, we also have
Dialogue: 0,0:12:32.74,0:12:33.59,Default,,0,0,0,,some information about the
Dialogue: 0,0:12:33.59,0:12:35.85,Default,,0,0,0,,artwork, and this comes with a
Dialogue: 0,0:12:35.85,0:12:36.24,Default,,0,0,0,,URL.
Dialogue: 0,0:12:36.24,0:12:37.67,Default,,0,0,0,,But if you really take a look at
Dialogue: 0,0:12:37.67,0:12:39.13,Default,,0,0,0,,this URL, it's more of a URL
Dialogue: 0,0:12:39.13,0:12:40.66,Default,,0,0,0,,format string because it allows
Dialogue: 0,0:12:40.66,0:12:42.95,Default,,0,0,0,,you to replace a width and
Dialogue: 0,0:12:42.95,0:12:44.73,Default,,0,0,0,,height token at the end of the
Dialogue: 0,0:12:44.73,0:12:47.13,Default,,0,0,0,,URL with the desired width and
Dialogue: 0,0:12:47.13,0:12:48.74,Default,,0,0,0,,height to match the user end
Dialogue: 0,0:12:48.74,0:12:50.26,Default,,0,0,0,,face in your app.
Dialogue: 0,0:12:50.77,0:12:53.49,Default,,0,0,0,,So, to fetch the artwork for
Dialogue: 0,0:12:53.49,0:12:56.22,Default,,0,0,0,,this album, I just created the
Dialogue: 0,0:12:56.22,0:12:57.97,Default,,0,0,0,,Helper method on this artwork
Dialogue: 0,0:12:57.97,0:12:59.80,Default,,0,0,0,,structure, and it's really
Dialogue: 0,0:12:59.80,0:13:00.48,Default,,0,0,0,,simple.
Dialogue: 0,0:13:00.62,0:13:01.98,Default,,0,0,0,,We'll just replace the width
Dialogue: 0,0:13:02.05,0:13:06.85,Default,,0,0,0,,token, w with the desired width
Dialogue: 0,0:13:07.31,0:13:10.05,Default,,0,0,0,,here, and then we'll do the same
Dialogue: 0,0:13:10.05,0:13:10.65,Default,,0,0,0,,for the height.
Dialogue: 0,0:13:10.65,0:13:12.45,Default,,0,0,0,,And because most artwork for
Dialogue: 0,0:13:12.45,0:13:13.71,Default,,0,0,0,,music content is perfectly
Dialogue: 0,0:13:13.71,0:13:14.64,Default,,0,0,0,,square, we'll simply use the
Dialogue: 0,0:13:14.64,0:13:15.37,Default,,0,0,0,,same width in height.
Dialogue: 0,0:13:15.37,0:13:18.09,Default,,0,0,0,,And with that, you have a fully
Dialogue: 0,0:13:18.09,0:13:18.73,Default,,0,0,0,,formed URL.
Dialogue: 0,0:13:19.92,0:13:22.61,Default,,0,0,0,,So, here, I just constructed a
Dialogue: 0,0:13:22.61,0:13:26.40,Default,,0,0,0,,URL for this album that has a
Dialogue: 0,0:13:26.40,0:13:28.73,Default,,0,0,0,,width of 1200 pixels, and let's
Dialogue: 0,0:13:28.73,0:13:29.98,Default,,0,0,0,,just take a look at what we get.
Dialogue: 0,0:13:33.69,0:13:34.55,Default,,0,0,0,,Here it is.
Dialogue: 0,0:13:34.55,0:13:35.83,Default,,0,0,0,,This is the album artwork for
Dialogue: 0,0:13:35.83,0:13:37.17,Default,,0,0,0,,this American Teen album by
Dialogue: 0,0:13:37.17,0:13:37.59,Default,,0,0,0,,Khalid.
Dialogue: 0,0:13:37.97,0:13:41.18,Default,,0,0,0,,So, this is how easy it is to
Dialogue: 0,0:13:41.18,0:13:42.58,Default,,0,0,0,,fetch content from Apple Music.
Dialogue: 0,0:13:42.69,0:13:43.92,Default,,0,0,0,,Now, I'd like to head it back to
Dialogue: 0,0:13:43.92,0:13:45.49,Default,,0,0,0,,Tim, and he'll tell you all
Dialogue: 0,0:13:45.49,0:13:46.79,Default,,0,0,0,,about personalized requests.
Dialogue: 0,0:13:46.79,0:13:46.97,Default,,0,0,0,,Thank you.
Dialogue: 0,0:13:47.52,0:13:50.90,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:13:51.40,0:13:51.88,Default,,0,0,0,,>> Thanks, Joel.
Dialogue: 0,0:13:54.48,0:13:56.29,Default,,0,0,0,,So, I'm going to talk a little
Dialogue: 0,0:13:56.29,0:13:58.02,Default,,0,0,0,,bit about personalized requests
Dialogue: 0,0:13:58.02,0:13:59.29,Default,,0,0,0,,with the Apple Music API.
Dialogue: 0,0:14:00.66,0:14:01.72,Default,,0,0,0,,The URL structure is just a
Dialogue: 0,0:14:01.72,0:14:02.52,Default,,0,0,0,,little bit different.
Dialogue: 0,0:14:03.03,0:14:05.29,Default,,0,0,0,,After the Version, you'll see
Dialogue: 0,0:14:05.29,0:14:06.91,Default,,0,0,0,,that every personalized call
Dialogue: 0,0:14:07.20,0:14:08.05,Default,,0,0,0,,starts with me.
Dialogue: 0,0:14:08.26,0:14:09.66,Default,,0,0,0,,Here, I have a URL that will
Dialogue: 0,0:14:09.66,0:14:10.82,Default,,0,0,0,,give me the recently played
Dialogue: 0,0:14:10.82,0:14:14.49,Default,,0,0,0,,items for a user's account.
Dialogue: 0,0:14:16.12,0:14:18.43,Default,,0,0,0,,So, you'll also notice that the
Dialogue: 0,0:14:18.43,0:14:20.98,Default,,0,0,0,,Storefront part of the path is
Dialogue: 0,0:14:20.98,0:14:21.38,Default,,0,0,0,,missing.
Dialogue: 0,0:14:22.10,0:14:24.42,Default,,0,0,0,,That's because a user's account
Dialogue: 0,0:14:24.52,0:14:26.68,Default,,0,0,0,,is bound to the Storefront, so
Dialogue: 0,0:14:26.68,0:14:28.38,Default,,0,0,0,,they can only play content that
Dialogue: 0,0:14:28.38,0:14:29.65,Default,,0,0,0,,is available in the Storefront,
Dialogue: 0,0:14:29.65,0:14:31.12,Default,,0,0,0,,which their account is
Dialogue: 0,0:14:31.12,0:14:32.51,Default,,0,0,0,,legitimately available for.
Dialogue: 0,0:14:33.86,0:14:36.46,Default,,0,0,0,,So, what do you need to play?
Dialogue: 0,0:14:36.64,0:14:37.40,Default,,0,0,0,,What do you need to get
Dialogue: 0,0:14:37.40,0:14:38.25,Default,,0,0,0,,personalized data?
Dialogue: 0,0:14:38.42,0:14:40.22,Default,,0,0,0,,The user must have an Apple
Dialogue: 0,0:14:40.22,0:14:42.62,Default,,0,0,0,,Music subscription, and every
Dialogue: 0,0:14:42.62,0:14:44.18,Default,,0,0,0,,call to a personalized request
Dialogue: 0,0:14:44.18,0:14:46.32,Default,,0,0,0,,requires two things, the
Dialogue: 0,0:14:46.32,0:14:48.56,Default,,0,0,0,,developer token, and a Music
Dialogue: 0,0:14:48.56,0:14:50.15,Default,,0,0,0,,User token, which Joel will show
Dialogue: 0,0:14:50.15,0:14:51.25,Default,,0,0,0,,you how to get in the latter
Dialogue: 0,0:14:51.25,0:14:52.38,Default,,0,0,0,,half of the presentation.
Dialogue: 0,0:14:55.05,0:14:56.41,Default,,0,0,0,,Now, how do I get access to the
Dialogue: 0,0:14:58.16,0:14:58.28,Default,,0,0,0,,API?
Dialogue: 0,0:14:58.49,0:15:00.64,Default,,0,0,0,,One, you have to be a member of
Dialogue: 0,0:15:00.64,0:15:01.94,Default,,0,0,0,,the Apple Developer Program.
Dialogue: 0,0:15:04.01,0:15:06.00,Default,,0,0,0,,Second thing you need is a
Dialogue: 0,0:15:06.00,0:15:08.49,Default,,0,0,0,,MusicKit private key.
Dialogue: 0,0:15:08.73,0:15:10.13,Default,,0,0,0,,You can find a MusicKit private
Dialogue: 0,0:15:10.13,0:15:11.86,Default,,0,0,0,,key in the Accounts section of
Dialogue: 0,0:15:11.86,0:15:13.48,Default,,0,0,0,,the Apple Developer Portal in
Dialogue: 0,0:15:13.48,0:15:15.67,Default,,0,0,0,,the Certificates and Identities
Dialogue: 0,0:15:15.67,0:15:15.94,Default,,0,0,0,,area.
Dialogue: 0,0:15:15.94,0:15:17.94,Default,,0,0,0,,Once you have the Music private
Dialogue: 0,0:15:17.94,0:15:19.91,Default,,0,0,0,,key, you can use that to sign
Dialogue: 0,0:15:20.01,0:15:20.99,Default,,0,0,0,,the Developer token.
Dialogue: 0,0:15:21.51,0:15:23.39,Default,,0,0,0,,The Developer token is in JSON
Dialogue: 0,0:15:23.39,0:15:25.87,Default,,0,0,0,,Web Token format, much like the
Dialogue: 0,0:15:25.87,0:15:28.86,Default,,0,0,0,,APNS token, and it's required,
Dialogue: 0,0:15:28.86,0:15:31.26,Default,,0,0,0,,as I mentioned previously, in
Dialogue: 0,0:15:31.26,0:15:32.89,Default,,0,0,0,,the authorization header for
Dialogue: 0,0:15:32.89,0:15:35.25,Default,,0,0,0,,every Apple Music API request.
Dialogue: 0,0:15:37.70,0:15:39.59,Default,,0,0,0,,Just one note about security,
Dialogue: 0,0:15:40.50,0:15:42.02,Default,,0,0,0,,keep you MusicKit private key
Dialogue: 0,0:15:42.02,0:15:42.43,Default,,0,0,0,,secure.
Dialogue: 0,0:15:42.91,0:15:44.80,Default,,0,0,0,,Don't embed it in the binaries
Dialogue: 0,0:15:44.80,0:15:46.23,Default,,0,0,0,,of your application.
Dialogue: 0,0:15:46.69,0:15:48.31,Default,,0,0,0,,What we recommend is that you
Dialogue: 0,0:15:48.31,0:15:50.08,Default,,0,0,0,,dynamically generate your
Dialogue: 0,0:15:50.08,0:15:52.36,Default,,0,0,0,,developer tokens, preferably on
Dialogue: 0,0:15:52.36,0:15:53.44,Default,,0,0,0,,a server that's within your
Dialogue: 0,0:15:53.44,0:15:54.39,Default,,0,0,0,,control and that you have
Dialogue: 0,0:15:54.39,0:15:54.98,Default,,0,0,0,,authorization access for.
Dialogue: 0,0:15:59.49,0:16:01.61,Default,,0,0,0,,Some notes about the format of a
Dialogue: 0,0:16:01.77,0:16:02.74,Default,,0,0,0,,Developer token.
Dialogue: 0,0:16:04.14,0:16:05.84,Default,,0,0,0,,Developer token has two parts,
Dialogue: 0,0:16:07.35,0:16:10.50,Default,,0,0,0,,required headers, which are the
Dialogue: 0,0:16:10.50,0:16:11.50,Default,,0,0,0,,encryption algorithm.
Dialogue: 0,0:16:11.85,0:16:13.74,Default,,0,0,0,,We only support, ES256 is ou
Dialogue: 0,0:16:13.74,0:16:15.68,Default,,0,0,0,,encryption algorithm, and the
Dialogue: 0,0:16:15.68,0:16:16.57,Default,,0,0,0,,key identifier.
Dialogue: 0,0:16:16.94,0:16:18.66,Default,,0,0,0,,When you download your MusicKit
Dialogue: 0,0:16:18.66,0:16:20.32,Default,,0,0,0,,private key, you can find this
Dialogue: 0,0:16:20.32,0:16:21.85,Default,,0,0,0,,as part of that download.
Dialogue: 0,0:16:23.72,0:16:25.76,Default,,0,0,0,,The second half is the required
Dialogue: 0,0:16:25.76,0:16:26.31,Default,,0,0,0,,claims.
Dialogue: 0,0:16:26.43,0:16:28.15,Default,,0,0,0,,We have three required claims,
Dialogue: 0,0:16:28.45,0:16:32.18,Default,,0,0,0,,an Issuer ID, which is the Team
Dialogue: 0,0:16:32.18,0:16:33.44,Default,,0,0,0,,ID, and you can find this in the
Dialogue: 0,0:16:33.44,0:16:34.88,Default,,0,0,0,,Membership section of the Apple
Dialogue: 0,0:16:34.88,0:16:35.67,Default,,0,0,0,,Developer portal.
Dialogue: 0,0:16:36.71,0:16:38.22,Default,,0,0,0,,We have an issue at time for
Dialogue: 0,0:16:38.22,0:16:40.19,Default,,0,0,0,,this Developer token, which is
Dialogue: 0,0:16:40.19,0:16:43.75,Default,,0,0,0,,in UNIX format; and finally, you
Dialogue: 0,0:16:43.75,0:16:44.84,Default,,0,0,0,,have an expiration.
Dialogue: 0,0:16:46.86,0:16:49.05,Default,,0,0,0,,Tokens can only be generated
Dialogue: 0,0:16:49.05,0:16:51.50,Default,,0,0,0,,that expire 6 months from now.
Dialogue: 0,0:16:52.91,0:16:56.09,Default,,0,0,0,,So, with that, I'm going to turn
Dialogue: 0,0:16:56.09,0:16:56.62,Default,,0,0,0,,over the rest of the
Dialogue: 0,0:16:56.62,0:16:57.65,Default,,0,0,0,,presentation to my colleague,
Dialogue: 0,0:16:57.65,0:16:58.32,Default,,0,0,0,,Joel, and he'll tell you a
Dialogue: 0,0:16:58.32,0:16:59.71,Default,,0,0,0,,little bit about using MusicKit
Dialogue: 0,0:16:59.71,0:16:59.98,Default,,0,0,0,,on iOS.
Dialogue: 0,0:17:00.52,0:17:03.88,Default,,0,0,0,,[ Aapplause ]
Dialogue: 0,0:17:04.38,0:17:04.63,Default,,0,0,0,,>> Thank you.
Dialogue: 0,0:17:05.16,0:17:05.39,Default,,0,0,0,,Thank you.
Dialogue: 0,0:17:05.39,0:17:07.34,Default,,0,0,0,,>> Thank you, Tim.
Dialogue: 0,0:17:07.82,0:17:09.93,Default,,0,0,0,,Hi again. So, I'd like to tell
Dialogue: 0,0:17:09.93,0:17:11.19,Default,,0,0,0,,you all about how you can take
Dialogue: 0,0:17:11.19,0:17:12.83,Default,,0,0,0,,full advantage of MusicKit for
Dialogue: 0,0:17:12.83,0:17:13.94,Default,,0,0,0,,your iOS apps.
Dialogue: 0,0:17:14.75,0:17:16.69,Default,,0,0,0,,And to do that, first, I will
Dialogue: 0,0:17:16.69,0:17:18.18,Default,,0,0,0,,tell you some more about how you
Dialogue: 0,0:17:18.18,0:17:19.62,Default,,0,0,0,,can get full access to Apple
Dialogue: 0,0:17:19.62,0:17:20.19,Default,,0,0,0,,Music API.
Dialogue: 0,0:17:21.34,0:17:23.34,Default,,0,0,0,,Then, I'll tell you what you're
Dialogue: 0,0:17:23.34,0:17:24.44,Default,,0,0,0,,supposed to do if you're faced
Dialogue: 0,0:17:24.44,0:17:25.45,Default,,0,0,0,,with a user who doesn't
Dialogue: 0,0:17:25.45,0:17:26.52,Default,,0,0,0,,currently have an Apple Music
Dialogue: 0,0:17:26.52,0:17:27.17,Default,,0,0,0,,subscription.
Dialogue: 0,0:17:27.88,0:17:28.96,Default,,0,0,0,,And finally, I'll tell you how
Dialogue: 0,0:17:28.96,0:17:31.39,Default,,0,0,0,,you can use the iOS SDK to
Dialogue: 0,0:17:31.81,0:17:34.09,Default,,0,0,0,,initiate and control playback of
Dialogue: 0,0:17:34.14,0:17:35.26,Default,,0,0,0,,subscription and library
Dialogue: 0,0:17:35.26,0:17:35.78,Default,,0,0,0,,content.
Dialogue: 0,0:17:35.78,0:17:38.88,Default,,0,0,0,,So, let's talk about getting
Dialogue: 0,0:17:38.88,0:17:41.35,Default,,0,0,0,,full access to Apple Music API.
Dialogue: 0,0:17:41.88,0:17:43.02,Default,,0,0,0,,The first thing you might wonder
Dialogue: 0,0:17:43.02,0:17:45.36,Default,,0,0,0,,about is authentication, but as
Dialogue: 0,0:17:45.36,0:17:47.30,Default,,0,0,0,,it turns out most users are
Dialogue: 0,0:17:47.30,0:17:49.09,Default,,0,0,0,,already signed in with an iTune
Dialogue: 0,0:17:49.09,0:17:50.80,Default,,0,0,0,,Store account on their iOS
Dialogue: 0,0:17:50.80,0:17:52.55,Default,,0,0,0,,device, and for this reason, you
Dialogue: 0,0:17:52.55,0:17:53.74,Default,,0,0,0,,really don't need to worry about
Dialogue: 0,0:17:53.88,0:17:55.77,Default,,0,0,0,,Prompt User for Credentials.
Dialogue: 0,0:17:56.88,0:17:58.43,Default,,0,0,0,,However, because privacy is such
Dialogue: 0,0:17:58.43,0:18:00.54,Default,,0,0,0,,an important concern on iOS, you
Dialogue: 0,0:18:00.54,0:18:02.42,Default,,0,0,0,,really need to get the user's
Dialogue: 0,0:18:02.42,0:18:04.66,Default,,0,0,0,,informed consent before we grant
Dialogue: 0,0:18:04.66,0:18:06.81,Default,,0,0,0,,your app access to Apple Music.
Dialogue: 0,0:18:07.90,0:18:09.89,Default,,0,0,0,,This user consent is very
Dialogue: 0,0:18:09.89,0:18:11.76,Default,,0,0,0,,similar to what ou would request
Dialogue: 0,0:18:11.76,0:18:13.40,Default,,0,0,0,,before getting access to the
Dialogue: 0,0:18:13.64,0:18:15.85,Default,,0,0,0,,user's location or the user's
Dialogue: 0,0:18:15.85,0:18:16.97,Default,,0,0,0,,contact information.
Dialogue: 0,0:18:19.16,0:18:20.86,Default,,0,0,0,,This is also something you need
Dialogue: 0,0:18:20.86,0:18:23.18,Default,,0,0,0,,to request per application and
Dialogue: 0,0:18:23.18,0:18:24.43,Default,,0,0,0,,per iOS device.
Dialogue: 0,0:18:24.52,0:18:26.94,Default,,0,0,0,,So, if your apps, app works on
Dialogue: 0,0:18:26.94,0:18:28.21,Default,,0,0,0,,both iPhone and iPad for the
Dialogue: 0,0:18:28.21,0:18:29.74,Default,,0,0,0,,same user, make sure to request
Dialogue: 0,0:18:29.74,0:18:31.16,Default,,0,0,0,,this user consent separately.
Dialogue: 0,0:18:32.88,0:18:34.82,Default,,0,0,0,,This is what the user consent
Dialogue: 0,0:18:34.82,0:18:38.45,Default,,0,0,0,,dialogue looks like in the Nike
Dialogue: 0,0:18:38.45,0:18:41.88,Default,,0,0,0,,Plus Run Club app, and it's the
Dialogue: 0,0:18:41.96,0:18:43.78,Default,,0,0,0,,standard user consent dialogue
Dialogue: 0,0:18:43.78,0:18:44.54,Default,,0,0,0,,for privacy.
Dialogue: 0,0:18:45.49,0:18:46.68,Default,,0,0,0,,And one important part of it is
Dialogue: 0,0:18:46.68,0:18:48.75,Default,,0,0,0,,the subtitle where the third
Dialogue: 0,0:18:48.75,0:18:50.32,Default,,0,0,0,,party app developer is required
Dialogue: 0,0:18:50.32,0:18:52.32,Default,,0,0,0,,to inform the user as to why it
Dialogue: 0,0:18:52.56,0:18:54.04,Default,,0,0,0,,requires access to the Apple
Dialogue: 0,0:18:54.04,0:18:55.60,Default,,0,0,0,,Music data of the user.
Dialogue: 0,0:18:59.42,0:19:01.76,Default,,0,0,0,,Requesting the user consent is
Dialogue: 0,0:19:01.76,0:19:03.66,Default,,0,0,0,,needed to get access to both the
Dialogue: 0,0:19:03.66,0:19:05.68,Default,,0,0,0,,device library as well as the
Dialogue: 0,0:19:05.68,0:19:06.74,Default,,0,0,0,,music user token.
Dialogue: 0,0:19:07.26,0:19:09.49,Default,,0,0,0,,You can read the current
Dialogue: 0,0:19:09.49,0:19:11.36,Default,,0,0,0,,authorization status for your
Dialogue: 0,0:19:11.36,0:19:12.19,Default,,0,0,0,,app to see if you've already
Dialogue: 0,0:19:12.19,0:19:13.89,Default,,0,0,0,,been granted this user consent,
Dialogue: 0,0:19:14.50,0:19:16.08,Default,,0,0,0,,and this will not prompt the
Dialogue: 0,0:19:16.08,0:19:17.77,Default,,0,0,0,,user with the dialogue I just
Dialogue: 0,0:19:17.77,0:19:18.24,Default,,0,0,0,,showed you.
Dialogue: 0,0:19:18.54,0:19:19.65,Default,,0,0,0,,However, you can more simply
Dialogue: 0,0:19:19.65,0:19:22.14,Default,,0,0,0,,request authorization, and this
Dialogue: 0,0:19:22.14,0:19:23.97,Default,,0,0,0,,will prompt the user unless your
Dialogue: 0,0:19:23.97,0:19:25.37,Default,,0,0,0,,app has already received this
Dialogue: 0,0:19:26.17,0:19:26.86,Default,,0,0,0,,authorization.
Dialogue: 0,0:19:27.45,0:19:30.48,Default,,0,0,0,,To do so, you can use a class
Dialogue: 0,0:19:30.48,0:19:31.62,Default,,0,0,0,,and distorted framework.
Dialogue: 0,0:19:31.90,0:19:32.31,Default,,0,0,0,,It's called
Dialogue: 0,0:19:32.60,0:19:34.90,Default,,0,0,0,,SKCloudServiceController, and
Dialogue: 0,0:19:34.90,0:19:36.31,Default,,0,0,0,,you can call a method on it, a
Dialogue: 0,0:19:36.31,0:19:38.28,Default,,0,0,0,,class method named Request
Dialogue: 0,0:19:38.28,0:19:39.07,Default,,0,0,0,,Authorization.
Dialogue: 0,0:19:40.26,0:19:41.16,Default,,0,0,0,,We'll call your completion
Dialogue: 0,0:19:41.16,0:19:42.89,Default,,0,0,0,,handler with a status code, and
Dialogue: 0,0:19:42.89,0:19:44.49,Default,,0,0,0,,you know you can proceed to call
Dialogue: 0,0:19:44.69,0:19:46.73,Default,,0,0,0,,Apple Music API if you get the
Dialogue: 0,0:19:46.73,0:19:48.97,Default,,0,0,0,,authorized status code.
Dialogue: 0,0:19:50.20,0:19:51.95,Default,,0,0,0,,Additionally, you will have to
Dialogue: 0,0:19:51.95,0:19:53.85,Default,,0,0,0,,set the NS Apple Music Usage
Dialogue: 0,0:19:53.85,0:19:55.76,Default,,0,0,0,,description field in your Info P
Dialogue: 0,0:19:55.76,0:19:58.01,Default,,0,0,0,,list to populate the subtitle of
Dialogue: 0,0:19:58.01,0:19:59.28,Default,,0,0,0,,the user consent dialogue.
Dialogue: 0,0:20:01.42,0:20:03.30,Default,,0,0,0,,The next important step is to
Dialogue: 0,0:20:03.30,0:20:04.80,Default,,0,0,0,,fetch the subscription status.
Dialogue: 0,0:20:05.20,0:20:06.56,Default,,0,0,0,,To determine if the user is
Dialogue: 0,0:20:06.56,0:20:07.82,Default,,0,0,0,,actually subscribed to Apple
Dialogue: 0,0:20:07.82,0:20:09.83,Default,,0,0,0,,Music, and this is important for
Dialogue: 0,0:20:09.83,0:20:12.23,Default,,0,0,0,,issuing personalized requests to
Dialogue: 0,0:20:12.27,0:20:14.10,Default,,0,0,0,,get at data such as recently
Dialogue: 0,0:20:14.10,0:20:15.77,Default,,0,0,0,,played or heavy rotation, for
Dialogue: 0,0:20:15.77,0:20:16.19,Default,,0,0,0,,example.
Dialogue: 0,0:20:17.01,0:20:19.84,Default,,0,0,0,,However, this is not necessarily
Dialogue: 0,0:20:19.90,0:20:21.77,Default,,0,0,0,,a simple yes and no type of
Dialogue: 0,0:20:21.77,0:20:22.31,Default,,0,0,0,,question.
Dialogue: 0,0:20:22.89,0:20:24.17,Default,,0,0,0,,The subscription status may be
Dialogue: 0,0:20:24.17,0:20:26.86,Default,,0,0,0,,complex because while a user may
Dialogue: 0,0:20:26.86,0:20:27.95,Default,,0,0,0,,be an Apple Music subscriber
Dialogue: 0,0:20:27.95,0:20:30.24,Default,,0,0,0,,because that user may simply pay
Dialogue: 0,0:20:30.24,0:20:31.96,Default,,0,0,0,,the monthly fee, it's also
Dialogue: 0,0:20:31.96,0:20:34.50,Default,,0,0,0,,possible a user is a subscriber
Dialogue: 0,0:20:34.50,0:20:35.50,Default,,0,0,0,,through their carrier.
Dialogue: 0,0:20:36.76,0:20:38.68,Default,,0,0,0,,Additionally, some users can
Dialogue: 0,0:20:38.68,0:20:40.08,Default,,0,0,0,,play subscription content for
Dialogue: 0,0:20:40.08,0:20:41.97,Default,,0,0,0,,Apple Music, and yet your apps
Dialogue: 0,0:20:41.97,0:20:44.31,Default,,0,0,0,,won't be able to add content to
Dialogue: 0,0:20:44.31,0:20:46.56,Default,,0,0,0,,those user's music libraries.
Dialogue: 0,0:20:47.68,0:20:49.24,Default,,0,0,0,,And this is because the iCloud
Dialogue: 0,0:20:49.24,0:20:51.33,Default,,0,0,0,,Music Library feature has to be
Dialogue: 0,0:20:51.33,0:20:52.18,Default,,0,0,0,,enabled separately.
Dialogue: 0,0:20:53.52,0:20:55.84,Default,,0,0,0,,Finally, it's possible you won't
Dialogue: 0,0:20:55.84,0:20:57.08,Default,,0,0,0,,be able to suggest to all of
Dialogue: 0,0:20:57.08,0:20:58.62,Default,,0,0,0,,your users to become Apple Music
Dialogue: 0,0:20:58.62,0:21:00.42,Default,,0,0,0,,subscribers because we don't
Dialogue: 0,0:21:00.42,0:21:01.89,Default,,0,0,0,,offer Apple Music in every
Dialogue: 0,0:21:01.89,0:21:03.67,Default,,0,0,0,,single country, and even in
Dialogue: 0,0:21:03.67,0:21:04.85,Default,,0,0,0,,countries where we do offer
Dialogue: 0,0:21:04.85,0:21:07.30,Default,,0,0,0,,Apple Music, there are settings
Dialogue: 0,0:21:07.30,0:21:09.08,Default,,0,0,0,,such as education settings or
Dialogue: 0,0:21:09.08,0:21:10.87,Default,,0,0,0,,enterprise settings where
Dialogue: 0,0:21:10.87,0:21:11.72,Default,,0,0,0,,becoming an Apple Music
Dialogue: 0,0:21:11.72,0:21:13.04,Default,,0,0,0,,subscriber is actually
Dialogue: 0,0:21:13.04,0:21:13.52,Default,,0,0,0,,restricted.
Dialogue: 0,0:21:14.48,0:21:16.03,Default,,0,0,0,,So, for this reason, we expose
Dialogue: 0,0:21:16.03,0:21:17.50,Default,,0,0,0,,three independent capabilities
Dialogue: 0,0:21:17.50,0:21:18.09,Default,,0,0,0,,you can query.
Dialogue: 0,0:21:18.73,0:21:20.01,Default,,0,0,0,,The music catalog playback
Dialogue: 0,0:21:20.01,0:21:22.38,Default,,0,0,0,,capability, the add to iCloud
Dialogue: 0,0:21:22.38,0:21:24.60,Default,,0,0,0,,Music Library capability, and
Dialogue: 0,0:21:24.75,0:21:25.85,Default,,0,0,0,,you can also tell if the user
Dialogue: 0,0:21:25.85,0:21:26.89,Default,,0,0,0,,can become a subscriber.
Dialogue: 0,0:21:27.87,0:21:29.56,Default,,0,0,0,,So, it's important that you
Dialogue: 0,0:21:29.56,0:21:30.99,Default,,0,0,0,,check these individual
Dialogue: 0,0:21:30.99,0:21:33.67,Default,,0,0,0,,capabilities in your app before
Dialogue: 0,0:21:33.67,0:21:35.26,Default,,0,0,0,,you take an action related to
Dialogue: 0,0:21:35.26,0:21:35.86,Default,,0,0,0,,Apple Music.
Dialogue: 0,0:21:36.09,0:21:37.74,Default,,0,0,0,,So, for example, if you want to
Dialogue: 0,0:21:37.74,0:21:39.17,Default,,0,0,0,,have a Play button in your app
Dialogue: 0,0:21:39.17,0:21:40.69,Default,,0,0,0,,to preview a piece of content
Dialogue: 0,0:21:40.69,0:21:42.05,Default,,0,0,0,,from Apple Music, make sure to
Dialogue: 0,0:21:42.05,0:21:43.56,Default,,0,0,0,,check the music catalog playback
Dialogue: 0,0:21:43.56,0:21:44.12,Default,,0,0,0,,capability.
Dialogue: 0,0:21:44.73,0:21:46.45,Default,,0,0,0,,Conversely, if you want to have
Dialogue: 0,0:21:46.45,0:21:48.43,Default,,0,0,0,,an Add button to add a certain
Dialogue: 0,0:21:48.43,0:21:50.96,Default,,0,0,0,,song to a playlist from the
Dialogue: 0,0:21:50.96,0:21:52.96,Default,,0,0,0,,user's library, make sure that
Dialogue: 0,0:21:52.96,0:21:54.33,Default,,0,0,0,,the Add to iCloud Music Library
Dialogue: 0,0:21:54.56,0:21:55.94,Default,,0,0,0,,capability is enabled.
Dialogue: 0,0:21:57.90,0:21:59.71,Default,,0,0,0,,Fetching the subscription status
Dialogue: 0,0:21:59.71,0:22:01.68,Default,,0,0,0,,information requires the user's
Dialogue: 0,0:22:01.68,0:22:04.14,Default,,0,0,0,,consent, and you can do it in
Dialogue: 0,0:22:04.14,0:22:05.48,Default,,0,0,0,,code using, again,
Dialogue: 0,0:22:05.48,0:22:06.87,Default,,0,0,0,,SKCloudServiceController.
Dialogue: 0,0:22:07.53,0:22:08.79,Default,,0,0,0,,Here, we'll be calling an
Dialogue: 0,0:22:08.79,0:22:10.97,Default,,0,0,0,,instance method called Request
Dialogue: 0,0:22:10.97,0:22:13.70,Default,,0,0,0,,Capabilities, and we'll call
Dialogue: 0,0:22:13.70,0:22:15.49,Default,,0,0,0,,your completion handler with an
Dialogue: 0,0:22:15.56,0:22:16.98,Default,,0,0,0,,Option set of capabilities.
Dialogue: 0,0:22:18.20,0:22:19.33,Default,,0,0,0,,You can check inside of that
Dialogue: 0,0:22:19.33,0:22:21.40,Default,,0,0,0,,Option set for the presence of
Dialogue: 0,0:22:21.57,0:22:22.94,Default,,0,0,0,,the Music Catalog Playback
Dialogue: 0,0:22:23.13,0:22:24.51,Default,,0,0,0,,capability to check if the user
Dialogue: 0,0:22:24.51,0:22:26.80,Default,,0,0,0,,can play subscription content or
Dialogue: 0,0:22:26.80,0:22:29.28,Default,,0,0,0,,for the presence of Add to Cloud
Dialogue: 0,0:22:29.28,0:22:30.98,Default,,0,0,0,,Music Library to see if your app
Dialogue: 0,0:22:30.98,0:22:32.48,Default,,0,0,0,,can add songs to the Cloud
Dialogue: 0,0:22:32.48,0:22:33.46,Default,,0,0,0,,Library of this user.
Dialogue: 0,0:22:33.93,0:22:37.61,Default,,0,0,0,,Next stop, you might need to
Dialogue: 0,0:22:37.61,0:22:39.16,Default,,0,0,0,,know the Storefront Country
Dialogue: 0,0:22:39.16,0:22:39.41,Default,,0,0,0,,Code.
Dialogue: 0,0:22:39.41,0:22:40.76,Default,,0,0,0,,This is particularly important
Dialogue: 0,0:22:40.76,0:22:43.80,Default,,0,0,0,,for requesting content from the
Dialogue: 0,0:22:43.80,0:22:45.41,Default,,0,0,0,,catalog end points of the Apple
Dialogue: 0,0:22:45.41,0:22:47.38,Default,,0,0,0,,Music API because, as you know,
Dialogue: 0,0:22:47.42,0:22:49.37,Default,,0,0,0,,the Storefront Country Code is
Dialogue: 0,0:22:49.37,0:22:51.44,Default,,0,0,0,,an important part of the past of
Dialogue: 0,0:22:51.58,0:22:52.51,Default,,0,0,0,,those URLs.
Dialogue: 0,0:22:53.50,0:22:54.72,Default,,0,0,0,,To fetch this Storefront Country
Dialogue: 0,0:22:54.72,0:22:56.45,Default,,0,0,0,,Code, you'll be able to use
Dialogue: 0,0:22:56.45,0:22:57.98,Default,,0,0,0,,another instance method of
Dialogue: 0,0:22:57.98,0:22:59.44,Default,,0,0,0,,SKCloudServiceController.
Dialogue: 0,0:23:00.28,0:23:01.84,Default,,0,0,0,,This time it's called Request
Dialogue: 0,0:23:01.84,0:23:04.19,Default,,0,0,0,,Storefront Country Code, and
Dialogue: 0,0:23:04.51,0:23:05.76,Default,,0,0,0,,we'll invoke your Completion
Dialogue: 0,0:23:05.76,0:23:07.56,Default,,0,0,0,,Handler with a two-letter
Dialogue: 0,0:23:07.56,0:23:09.95,Default,,0,0,0,,country code, which you can then
Dialogue: 0,0:23:09.95,0:23:12.19,Default,,0,0,0,,use to build out the URL for
Dialogue: 0,0:23:12.19,0:23:14.83,Default,,0,0,0,,your catalog end point request.
Dialogue: 0,0:23:14.95,0:23:15.93,Default,,0,0,0,,In this case, we're trying to
Dialogue: 0,0:23:15.93,0:23:18.47,Default,,0,0,0,,build the top songs URL, and
Dialogue: 0,0:23:18.47,0:23:20.84,Default,,0,0,0,,this is the particular line that
Dialogue: 0,0:23:20.84,0:23:22.37,Default,,0,0,0,,is relevant where we use the
Dialogue: 0,0:23:22.37,0:23:23.65,Default,,0,0,0,,Storefront Country Code in the
Dialogue: 0,0:23:23.65,0:23:28.99,Default,,0,0,0,,middle of the path of this URL.
Dialogue: 0,0:23:28.99,0:23:30.40,Default,,0,0,0,,Finally, to unlock the full
Dialogue: 0,0:23:30.40,0:23:32.56,Default,,0,0,0,,power of Apple Music API, you
Dialogue: 0,0:23:32.56,0:23:34.48,Default,,0,0,0,,will need to get the music user
Dialogue: 0,0:23:34.48,0:23:36.15,Default,,0,0,0,,token, which is very important
Dialogue: 0,0:23:36.38,0:23:37.42,Default,,0,0,0,,to issue requests for
Dialogue: 0,0:23:37.48,0:23:39.56,Default,,0,0,0,,personalized content, such as
Dialogue: 0,0:23:39.75,0:23:41.52,Default,,0,0,0,,recently played or heavy
Dialogue: 0,0:23:41.52,0:23:42.13,Default,,0,0,0,,rotation.
Dialogue: 0,0:23:42.79,0:23:43.94,Default,,0,0,0,,This is derived from your
Dialogue: 0,0:23:43.94,0:23:46.60,Default,,0,0,0,,developer token, and because
Dialogue: 0,0:23:46.60,0:23:47.98,Default,,0,0,0,,fetching the music user token is
Dialogue: 0,0:23:47.98,0:23:49.46,Default,,0,0,0,,a somewhat expensive operation,
Dialogue: 0,0:23:49.87,0:23:51.28,Default,,0,0,0,,we recommend you cache the music
Dialogue: 0,0:23:51.28,0:23:52.57,Default,,0,0,0,,user token once you've fetched
Dialogue: 0,0:23:52.57,0:23:52.80,Default,,0,0,0,,it.
Dialogue: 0,0:23:52.90,0:23:54.79,Default,,0,0,0,,You can do so using user
Dialogue: 0,0:23:54.79,0:23:57.07,Default,,0,0,0,,defaults, for example, but make
Dialogue: 0,0:23:57.07,0:23:58.47,Default,,0,0,0,,sure not to transfer the music
Dialogue: 0,0:23:58.47,0:23:59.95,Default,,0,0,0,,user token across devices
Dialogue: 0,0:24:00.39,0:24:02.76,Default,,0,0,0,,because you might be violating
Dialogue: 0,0:24:02.76,0:24:05.48,Default,,0,0,0,,user consent if you do so.
Dialogue: 0,0:24:05.70,0:24:07.06,Default,,0,0,0,,Since you'll be caching this
Dialogue: 0,0:24:07.06,0:24:08.82,Default,,0,0,0,,music user token, you should
Dialogue: 0,0:24:08.90,0:24:11.38,Default,,0,0,0,,also be aware of when you should
Dialogue: 0,0:24:11.38,0:24:12.90,Default,,0,0,0,,invalidate this cache and fetch
Dialogue: 0,0:24:12.90,0:24:14.40,Default,,0,0,0,,the music user token again, and
Dialogue: 0,0:24:14.40,0:24:15.48,Default,,0,0,0,,this is typically whenever you
Dialogue: 0,0:24:15.59,0:24:17.55,Default,,0,0,0,,get a forbidden status code from
Dialogue: 0,0:24:17.60,0:24:19.01,Default,,0,0,0,,any of the Apple Music API
Dialogue: 0,0:24:19.13,0:24:21.25,Default,,0,0,0,,endpoints; that is the (403)
Dialogue: 0,0:24:21.25,0:24:23.19,Default,,0,0,0,,HTTP status code.
Dialogue: 0,0:24:23.59,0:24:24.71,Default,,0,0,0,,This could happen in a number of
Dialogue: 0,0:24:24.71,0:24:26.47,Default,,0,0,0,,scenarios, For example, the user
Dialogue: 0,0:24:26.62,0:24:27.84,Default,,0,0,0,,might change the password
Dialogue: 0,0:24:27.84,0:24:29.23,Default,,0,0,0,,associated with the iTunes store
Dialogue: 0,0:24:29.23,0:24:31.77,Default,,0,0,0,,account, or the user might
Dialogue: 0,0:24:31.77,0:24:33.09,Default,,0,0,0,,actually decide to revoke the
Dialogue: 0,0:24:33.09,0:24:34.63,Default,,0,0,0,,user token associated with your
Dialogue: 0,0:24:34.95,0:24:36.89,Default,,0,0,0,,app, or, finally, the user token
Dialogue: 0,0:24:36.89,0:24:37.97,Default,,0,0,0,,could expire naturally.
Dialogue: 0,0:24:39.40,0:24:41.03,Default,,0,0,0,,In all of these cases, make sure
Dialogue: 0,0:24:41.03,0:24:42.80,Default,,0,0,0,,to refetch the music user token
Dialogue: 0,0:24:42.90,0:24:44.96,Default,,0,0,0,,after checking the capabilities
Dialogue: 0,0:24:44.96,0:24:46.86,Default,,0,0,0,,again, just in case the active
Dialogue: 0,0:24:46.86,0:24:48.02,Default,,0,0,0,,iTunes store account has
Dialogue: 0,0:24:48.02,0:24:49.67,Default,,0,0,0,,changed, meanwhile.
Dialogue: 0,0:24:50.26,0:24:52.54,Default,,0,0,0,,So, to fetch the music user
Dialogue: 0,0:24:52.54,0:24:54.46,Default,,0,0,0,,token, we'll be using store
Dialogue: 0,0:24:54.46,0:24:56.46,Default,,0,0,0,,kits, SKCloudServiceController,
Dialogue: 0,0:24:56.46,0:24:56.97,Default,,0,0,0,,once more.
Dialogue: 0,0:24:57.86,0:24:59.16,Default,,0,0,0,,Here, we have another method.
Dialogue: 0,0:24:59.73,0:25:01.75,Default,,0,0,0,,Request user token for developer
Dialogue: 0,0:25:01.75,0:25:02.29,Default,,0,0,0,,token.
Dialogue: 0,0:25:02.54,0:25:03.99,Default,,0,0,0,,You'll pass the developer token
Dialogue: 0,0:25:04.37,0:25:06.04,Default,,0,0,0,,as a parameter, and then we'll
Dialogue: 0,0:25:06.04,0:25:07.52,Default,,0,0,0,,invoke our completion handler
Dialogue: 0,0:25:07.79,0:25:09.27,Default,,0,0,0,,and hand you the music user
Dialogue: 0,0:25:09.27,0:25:09.93,Default,,0,0,0,,token.
Dialogue: 0,0:25:10.69,0:25:12.53,Default,,0,0,0,,You can then use that to
Dialogue: 0,0:25:12.92,0:25:14.46,Default,,0,0,0,,properly populate the relevant
Dialogue: 0,0:25:14.46,0:25:16.73,Default,,0,0,0,,HTTP headers in your URL request
Dialogue: 0,0:25:17.22,0:25:19.74,Default,,0,0,0,,and specifically the music token
Dialogue: 0,0:25:20.03,0:25:21.04,Default,,0,0,0,,HTTP header.
Dialogue: 0,0:25:21.39,0:25:24.98,Default,,0,0,0,,Once you've gotten the User
Dialogue: 0,0:25:24.98,0:25:27.78,Default,,0,0,0,,Token and User Consent, you have
Dialogue: 0,0:25:27.78,0:25:29.49,Default,,0,0,0,,full access to Apple Music API,
Dialogue: 0,0:25:29.49,0:25:31.13,Default,,0,0,0,,so you can proceed to build
Dialogue: 0,0:25:31.47,0:25:32.82,Default,,0,0,0,,amazing user experiences for
Dialogue: 0,0:25:32.82,0:25:34.78,Default,,0,0,0,,your apps that keep your users
Dialogue: 0,0:25:34.78,0:25:35.44,Default,,0,0,0,,engaged.
Dialogue: 0,0:25:35.97,0:25:37.22,Default,,0,0,0,,However, sometimes, you'll be
Dialogue: 0,0:25:37.22,0:25:38.96,Default,,0,0,0,,faced with another edge case
Dialogue: 0,0:25:39.39,0:25:40.94,Default,,0,0,0,,when a user is not already an
Dialogue: 0,0:25:40.94,0:25:41.92,Default,,0,0,0,,Apple Music subscriber.
Dialogue: 0,0:25:42.45,0:25:45.11,Default,,0,0,0,,When that's the case, you might
Dialogue: 0,0:25:45.15,0:25:47.42,Default,,0,0,0,,want to show a subscription view
Dialogue: 0,0:25:48.08,0:25:52.53,Default,,0,0,0,,to suggest to the user to join
Dialogue: 0,0:25:52.53,0:25:54.77,Default,,0,0,0,,Apple Music so they can take
Dialogue: 0,0:25:54.85,0:25:57.22,Default,,0,0,0,,part in our trial period, get
Dialogue: 0,0:25:57.22,0:25:59.42,Default,,0,0,0,,access to over 40 million songs,
Dialogue: 0,0:25:59.90,0:26:00.98,Default,,0,0,0,,and also unlock the full
Dialogue: 0,0:26:00.98,0:26:02.97,Default,,0,0,0,,potential of your apps.
Dialogue: 0,0:26:03.72,0:26:05.16,Default,,0,0,0,,Additionally, it's particularly
Dialogue: 0,0:26:05.22,0:26:06.85,Default,,0,0,0,,relevant for you as developers
Dialogue: 0,0:26:06.85,0:26:08.33,Default,,0,0,0,,because you can get rewarded for
Dialogue: 0,0:26:08.33,0:26:09.33,Default,,0,0,0,,bringing in Apple Music
Dialogue: 0,0:26:09.33,0:26:11.05,Default,,0,0,0,,subscribers by taking part in
Dialogue: 0,0:26:11.05,0:26:11.98,Default,,0,0,0,,our Affiliate Program.
Dialogue: 0,0:26:15.57,0:26:16.64,Default,,0,0,0,,So, when exactly are you
Dialogue: 0,0:26:16.64,0:26:17.42,Default,,0,0,0,,supposed to show the
Dialogue: 0,0:26:17.42,0:26:18.19,Default,,0,0,0,,Subscription View?
Dialogue: 0,0:26:18.87,0:26:20.04,Default,,0,0,0,,You should do so whenever you
Dialogue: 0,0:26:20.04,0:26:21.20,Default,,0,0,0,,detect that the user cannot
Dialogue: 0,0:26:21.28,0:26:22.81,Default,,0,0,0,,currently playback subscription
Dialogue: 0,0:26:22.81,0:26:23.32,Default,,0,0,0,,content.
Dialogue: 0,0:26:24.28,0:26:25.91,Default,,0,0,0,,But the user can become an Apple
Dialogue: 0,0:26:25.91,0:26:26.75,Default,,0,0,0,,Music subscriber.
Dialogue: 0,0:26:27.32,0:26:28.68,Default,,0,0,0,,In terms of the capabilities we
Dialogue: 0,0:26:28.68,0:26:30.33,Default,,0,0,0,,discussed previously, that means
Dialogue: 0,0:26:30.33,0:26:31.43,Default,,0,0,0,,you need to make sure the music
Dialogue: 0,0:26:31.43,0:26:33.34,Default,,0,0,0,,catalog playback capability is
Dialogue: 0,0:26:33.34,0:26:35.35,Default,,0,0,0,,currently disabled while the
Dialogue: 0,0:26:35.35,0:26:36.72,Default,,0,0,0,,music catalog subscription
Dialogue: 0,0:26:36.72,0:26:39.12,Default,,0,0,0,,eligible capability is enabled.
Dialogue: 0,0:26:39.67,0:26:42.96,Default,,0,0,0,,As a side note, in the very rare
Dialogue: 0,0:26:42.96,0:26:44.68,Default,,0,0,0,,occurrence that the user doesn't
Dialogue: 0,0:26:44.68,0:26:45.86,Default,,0,0,0,,have an active iTunes Store
Dialogue: 0,0:26:45.86,0:26:48.15,Default,,0,0,0,,account on this device, you will
Dialogue: 0,0:26:48.15,0:26:49.95,Default,,0,0,0,,see that status reported the
Dialogue: 0,0:26:49.95,0:26:51.96,Default,,0,0,0,,exact same way, and we will make
Dialogue: 0,0:26:51.96,0:26:53.23,Default,,0,0,0,,sure to include a Sign In button
Dialogue: 0,0:26:53.23,0:26:53.89,Default,,0,0,0,,as part of the Subscription
Dialogue: 0,0:26:53.89,0:26:53.98,Default,,0,0,0,,View.
Dialogue: 0,0:26:58.42,0:26:59.80,Default,,0,0,0,,A subscription view is quite
Dialogue: 0,0:26:59.80,0:27:02.52,Default,,0,0,0,,configurable and, namely, you
Dialogue: 0,0:27:02.52,0:27:04.01,Default,,0,0,0,,can choose the main message we
Dialogue: 0,0:27:04.01,0:27:04.94,Default,,0,0,0,,convey to the user.
Dialogue: 0,0:27:05.34,0:27:07.15,Default,,0,0,0,,By default, we'll tell the user
Dialogue: 0,0:27:07.15,0:27:08.07,Default,,0,0,0,,Join Apple Music.
Dialogue: 0,0:27:08.82,0:27:10.34,Default,,0,0,0,,But by passing an optional
Dialogue: 0,0:27:10.34,0:27:12.35,Default,,0,0,0,,message identifier, you can
Dialogue: 0,0:27:12.35,0:27:13.97,Default,,0,0,0,,choose a more tailored message
Dialogue: 0,0:27:14.22,0:27:15.35,Default,,0,0,0,,based on the next action you
Dialogue: 0,0:27:15.35,0:27:17.42,Default,,0,0,0,,want to take in your app.
Dialogue: 0,0:27:18.26,0:27:19.92,Default,,0,0,0,,So, we have other values you can
Dialogue: 0,0:27:19.92,0:27:20.85,Default,,0,0,0,,choose from for the message
Dialogue: 0,0:27:20.85,0:27:24.06,Default,,0,0,0,,identifier, such as Connect, and
Dialogue: 0,0:27:24.06,0:27:25.57,Default,,0,0,0,,we'll tell the user connect to
Dialogue: 0,0:27:25.57,0:27:26.13,Default,,0,0,0,,Apple Music.
Dialogue: 0,0:27:26.13,0:27:29.27,Default,,0,0,0,,We also have Add Music, and well
Dialogue: 0,0:27:29.69,0:27:32.00,Default,,0,0,0,,tell the user add all the music
Dialogue: 0,0:27:32.00,0:27:32.43,Default,,0,0,0,,you want.
Dialogue: 0,0:27:33.07,0:27:35.41,Default,,0,0,0,,And we finally have Play Music.
Dialogue: 0,0:27:36.89,0:27:39.13,Default,,0,0,0,,So, make sure to pick the best
Dialogue: 0,0:27:39.13,0:27:40.13,Default,,0,0,0,,message identifier that
Dialogue: 0,0:27:40.13,0:27:41.44,Default,,0,0,0,,corresponds to the next action
Dialogue: 0,0:27:41.44,0:27:43.04,Default,,0,0,0,,you want to take in your app, so
Dialogue: 0,0:27:43.04,0:27:44.66,Default,,0,0,0,,we can choose the right message
Dialogue: 0,0:27:44.66,0:27:45.90,Default,,0,0,0,,that will make the most sense to
Dialogue: 0,0:27:45.90,0:27:46.32,Default,,0,0,0,,the user.
Dialogue: 0,0:27:46.86,0:27:49.60,Default,,0,0,0,,You can also make the
Dialogue: 0,0:27:49.60,0:27:51.72,Default,,0,0,0,,subscription view contextual by
Dialogue: 0,0:27:51.72,0:27:52.95,Default,,0,0,0,,highlighting a certain piece of
Dialogue: 0,0:27:53.02,0:27:55.82,Default,,0,0,0,,content, such as a song, album,
Dialogue: 0,0:27:56.10,0:27:58.02,Default,,0,0,0,,playlist, or radio station.
Dialogue: 0,0:27:58.83,0:28:00.60,Default,,0,0,0,,You can do so by passing an
Dialogue: 0,0:28:00.60,0:28:02.82,Default,,0,0,0,,iTunes item identifier option
Dialogue: 0,0:28:03.62,0:28:05.95,Default,,0,0,0,,which requires a value of tight
Dialogue: 0,0:28:05.95,0:28:07.93,Default,,0,0,0,,string, and that corresponds to
Dialogue: 0,0:28:07.93,0:28:09.77,Default,,0,0,0,,the ID field of the JSON
Dialogue: 0,0:28:09.77,0:28:11.34,Default,,0,0,0,,representation of an Apple Music
Dialogue: 0,0:28:11.58,0:28:12.72,Default,,0,0,0,,API resource.
Dialogue: 0,0:28:14.90,0:28:16.47,Default,,0,0,0,,There are a few more options you
Dialogue: 0,0:28:16.47,0:28:17.37,Default,,0,0,0,,need to be aware of for this
Dialogue: 0,0:28:17.37,0:28:18.13,Default,,0,0,0,,subscription view.
Dialogue: 0,0:28:18.13,0:28:20.15,Default,,0,0,0,,You will have to set the action
Dialogue: 0,0:28:20.20,0:28:22.28,Default,,0,0,0,,to subscribe, and you can also
Dialogue: 0,0:28:22.28,0:28:24.76,Default,,0,0,0,,pass optional affiliate tokens
Dialogue: 0,0:28:24.76,0:28:26.16,Default,,0,0,0,,and campaign tokens if you are
Dialogue: 0,0:28:26.16,0:28:28.10,Default,,0,0,0,,taking part in our Affiliate
Dialogue: 0,0:28:28.10,0:28:29.08,Default,,0,0,0,,Program.
Dialogue: 0,0:28:30.04,0:28:32.69,Default,,0,0,0,,Putting it all together, this is
Dialogue: 0,0:28:32.69,0:28:33.43,Default,,0,0,0,,how you can show the
Dialogue: 0,0:28:33.43,0:28:34.81,Default,,0,0,0,,Subscription view.
Dialogue: 0,0:28:35.66,0:28:38.14,Default,,0,0,0,,We'll instantiating a view
Dialogue: 0,0:28:38.14,0:28:40.31,Default,,0,0,0,,controller from Store Kits SK
Dialogue: 0,0:28:43.02,0:28:45.32,Default,,0,0,0,,CloudServiceSetupViewController,
Dialogue: 0,0:28:46.38,0:28:47.89,Default,,0,0,0,,and you can set yourself up as a
Dialogue: 0,0:28:47.89,0:28:48.97,Default,,0,0,0,,delegate for this
Dialogue: 0,0:28:48.97,0:28:49.56,Default,,0,0,0,,ViewController.
Dialogue: 0,0:28:50.42,0:28:52.29,Default,,0,0,0,,Then, you need to build the list
Dialogue: 0,0:28:52.29,0:28:54.21,Default,,0,0,0,,of options we just discussed.
Dialogue: 0,0:28:54.81,0:28:56.10,Default,,0,0,0,,In this case, we will be setting
Dialogue: 0,0:28:56.10,0:28:58.68,Default,,0,0,0,,the action to subscribe and the
Dialogue: 0,0:28:58.68,0:29:00.36,Default,,0,0,0,,message identifier to play
Dialogue: 0,0:29:00.36,0:29:04.14,Default,,0,0,0,,music, and you need to call the
Dialogue: 0,0:29:04.14,0:29:06.69,Default,,0,0,0,,load with options method to load
Dialogue: 0,0:29:06.69,0:29:07.83,Default,,0,0,0,,all the content of the
Dialogue: 0,0:29:07.83,0:29:08.50,Default,,0,0,0,,subscription view.
Dialogue: 0,0:29:08.50,0:29:09.59,Default,,0,0,0,,And this is because it's a
Dialogue: 0,0:29:09.59,0:29:11.11,Default,,0,0,0,,server driven view that requires
Dialogue: 0,0:29:11.11,0:29:12.54,Default,,0,0,0,,us to load a certain amount of
Dialogue: 0,0:29:12.54,0:29:13.04,Default,,0,0,0,,content.
Dialogue: 0,0:29:14.47,0:29:15.41,Default,,0,0,0,,Because this process is
Dialogue: 0,0:29:15.41,0:29:17.78,Default,,0,0,0,,asynchronous, we recommend you
Dialogue: 0,0:29:17.78,0:29:19.15,Default,,0,0,0,,show a spinner in your app while
Dialogue: 0,0:29:19.24,0:29:20.96,Default,,0,0,0,,we're loading this content, and
Dialogue: 0,0:29:20.96,0:29:22.14,Default,,0,0,0,,you can do so using
Dialogue: 0,0:29:22.14,0:29:23.64,Default,,0,0,0,,UIActivityIndicatorView.
Dialogue: 0,0:29:24.97,0:29:25.99,Default,,0,0,0,,Once we're done loading all the
Dialogue: 0,0:29:25.99,0:29:27.70,Default,,0,0,0,,content, we'll invoke the
Dialogue: 0,0:29:27.70,0:29:29.47,Default,,0,0,0,,completion handler, and you can
Dialogue: 0,0:29:29.47,0:29:30.80,Default,,0,0,0,,proceed to show the subscription
Dialogue: 0,0:29:30.80,0:29:31.13,Default,,0,0,0,,view.
Dialogue: 0,0:29:31.35,0:29:33.14,Default,,0,0,0,,If it did succeed Boolean, it's
Dialogue: 0,0:29:33.14,0:29:35.67,Default,,0,0,0,,set to true by simply calling
Dialogue: 0,0:29:35.67,0:29:36.91,Default,,0,0,0,,the PresentViewController method
Dialogue: 0,0:29:36.91,0:29:37.66,Default,,0,0,0,,from UIKit.
Dialogue: 0,0:29:38.22,0:29:41.78,Default,,0,0,0,,And that's how you show the
Dialogue: 0,0:29:42.08,0:29:42.89,Default,,0,0,0,,subscription view.
Dialogue: 0,0:29:42.89,0:29:43.96,Default,,0,0,0,,Additionally, if the user
Dialogue: 0,0:29:43.96,0:29:45.57,Default,,0,0,0,,decides to become a subscriber
Dialogue: 0,0:29:45.57,0:29:46.89,Default,,0,0,0,,as a result of this, you can
Dialogue: 0,0:29:47.34,0:29:48.97,Default,,0,0,0,,detect that by observing the
Dialogue: 0,0:29:48.97,0:29:50.31,Default,,0,0,0,,capabilities did change
Dialogue: 0,0:29:50.31,0:29:51.38,Default,,0,0,0,,notification from
Dialogue: 0,0:29:51.38,0:29:53.49,Default,,0,0,0,,SKCloudServiceController, and
Dialogue: 0,0:29:53.49,0:29:54.99,Default,,0,0,0,,you can also detect that the
Dialogue: 0,0:29:54.99,0:29:56.48,Default,,0,0,0,,subscription view was dismissed
Dialogue: 0,0:29:56.48,0:29:58.07,Default,,0,0,0,,using the belated delegate
Dialogue: 0,0:29:58.07,0:29:58.45,Default,,0,0,0,,method.
Dialogue: 0,0:29:59.00,0:30:04.07,Default,,0,0,0,,So, with that, you have all the
Dialogue: 0,0:30:04.07,0:30:06.11,Default,,0,0,0,,tokens you need to have Apple
Dialogue: 0,0:30:06.11,0:30:08.03,Default,,0,0,0,,Music API, fetch Apple Music
Dialogue: 0,0:30:08.03,0:30:09.23,Default,,0,0,0,,content, and you made sure the
Dialogue: 0,0:30:09.23,0:30:09.98,Default,,0,0,0,,user is a subscriber.
Dialogue: 0,0:30:10.08,0:30:12.50,Default,,0,0,0,,So, we can have some more fun
Dialogue: 0,0:30:12.97,0:30:14.97,Default,,0,0,0,,and actually do some playback of
Dialogue: 0,0:30:14.97,0:30:16.56,Default,,0,0,0,,subscription or library content.
Dialogue: 0,0:30:17.59,0:30:19.24,Default,,0,0,0,,And to do so, we'll switch gears
Dialogue: 0,0:30:19.24,0:30:20.50,Default,,0,0,0,,a little bit and take a look at
Dialogue: 0,0:30:20.50,0:30:21.98,Default,,0,0,0,,another framework in the iOS
Dialogue: 0,0:30:21.98,0:30:24.00,Default,,0,0,0,,SDK, the MediaPlayer framework.
Dialogue: 0,0:30:26.66,0:30:27.86,Default,,0,0,0,,You'll find the MediaPlayer
Dialogue: 0,0:30:27.86,0:30:29.75,Default,,0,0,0,,framework a class named MP
Dialogue: 0,0:30:29.75,0:30:31.83,Default,,0,0,0,,MusicPlayer Controller, which
Dialogue: 0,0:30:31.91,0:30:34.69,Default,,0,0,0,,offers two distinct players that
Dialogue: 0,0:30:34.69,0:30:36.96,Default,,0,0,0,,allow you to control music
Dialogue: 0,0:30:36.99,0:30:38.95,Default,,0,0,0,,playback for two different types
Dialogue: 0,0:30:38.95,0:30:39.81,Default,,0,0,0,,of use cases.
Dialogue: 0,0:30:40.05,0:30:41.70,Default,,0,0,0,,To highlight that, let's start
Dialogue: 0,0:30:41.70,0:30:43.01,Default,,0,0,0,,with an example.
Dialogue: 0,0:30:43.87,0:30:45.55,Default,,0,0,0,,Let's say you're building a
Dialogue: 0,0:30:45.55,0:30:46.64,Default,,0,0,0,,social networking app.
Dialogue: 0,0:30:47.12,0:30:48.11,Default,,0,0,0,,You want to make it easy for
Dialogue: 0,0:30:48.11,0:30:49.64,Default,,0,0,0,,your users to share music
Dialogue: 0,0:30:49.64,0:30:51.50,Default,,0,0,0,,content with their friends, and
Dialogue: 0,0:30:51.50,0:30:52.51,Default,,0,0,0,,so it's important that the
Dialogue: 0,0:30:52.51,0:30:53.74,Default,,0,0,0,,friend receiving such a piece of
Dialogue: 0,0:30:53.74,0:30:57.45,Default,,0,0,0,,content is able to preview that
Dialogue: 0,0:30:57.45,0:31:00.33,Default,,0,0,0,,song or album from your app.
Dialogue: 0,0:31:00.42,0:31:02.70,Default,,0,0,0,,However, you should make sure
Dialogue: 0,0:31:02.70,0:31:03.89,Default,,0,0,0,,that the friend receiving this
Dialogue: 0,0:31:03.89,0:31:04.96,Default,,0,0,0,,piece of content can then
Dialogue: 0,0:31:05.01,0:31:06.38,Default,,0,0,0,,benefit from the full feature
Dialogue: 0,0:31:06.38,0:31:08.48,Default,,0,0,0,,set of the music app, allowing
Dialogue: 0,0:31:08.48,0:31:09.76,Default,,0,0,0,,the friend to go back to the
Dialogue: 0,0:31:09.76,0:31:12.18,Default,,0,0,0,,music app and maybe share the
Dialogue: 0,0:31:12.18,0:31:15.05,Default,,0,0,0,,song further, using Connect or
Dialogue: 0,0:31:15.05,0:31:15.43,Default,,0,0,0,,AirDrop.
Dialogue: 0,0:31:17.32,0:31:18.90,Default,,0,0,0,,For such applications, the
Dialogue: 0,0:31:18.90,0:31:20.46,Default,,0,0,0,,system user player might be the
Dialogue: 0,0:31:20.46,0:31:21.67,Default,,0,0,0,,right fit.
Dialogue: 0,0:31:22.24,0:31:24.27,Default,,0,0,0,,However, if you need more
Dialogue: 0,0:31:24.27,0:31:25.80,Default,,0,0,0,,control over the playback
Dialogue: 0,0:31:25.80,0:31:27.67,Default,,0,0,0,,experience, you might want to
Dialogue: 0,0:31:27.67,0:31:28.68,Default,,0,0,0,,take a look at the application
Dialogue: 0,0:31:28.68,0:31:30.26,Default,,0,0,0,,queue player, and a good example
Dialogue: 0,0:31:30.26,0:31:31.88,Default,,0,0,0,,here might be a fitness app.
Dialogue: 0,0:31:32.67,0:31:34.43,Default,,0,0,0,,It's possible you want to have
Dialogue: 0,0:31:34.43,0:31:35.68,Default,,0,0,0,,some music playing in the
Dialogue: 0,0:31:35.68,0:31:38.81,Default,,0,0,0,,background while your user is
Dialogue: 0,0:31:38.96,0:31:42.53,Default,,0,0,0,,running outside, and so you
Dialogue: 0,0:31:42.53,0:31:44.38,Default,,0,0,0,,might want to make sure that the
Dialogue: 0,0:31:44.49,0:31:46.11,Default,,0,0,0,,music matches the pace of the
Dialogue: 0,0:31:46.11,0:31:46.51,Default,,0,0,0,,runner.
Dialogue: 0,0:31:47.64,0:31:49.02,Default,,0,0,0,,You might also want to insert a
Dialogue: 0,0:31:49.06,0:31:50.09,Default,,0,0,0,,power song in the middle of the
Dialogue: 0,0:31:50.09,0:31:51.84,Default,,0,0,0,,playback queue and have your own
Dialogue: 0,0:31:51.84,0:31:53.40,Default,,0,0,0,,customized playback controls.
Dialogue: 0,0:31:53.92,0:31:56.30,Default,,0,0,0,,The application queue player
Dialogue: 0,0:31:56.30,0:31:57.86,Default,,0,0,0,,will allow you to do all of
Dialogue: 0,0:31:58.49,0:31:59.35,Default,,0,0,0,,those things.
Dialogue: 0,0:31:59.54,0:32:00.87,Default,,0,0,0,,Both of these players will do a
Dialogue: 0,0:32:00.87,0:32:02.47,Default,,0,0,0,,lot for you automatically.
Dialogue: 0,0:32:02.79,0:32:04.20,Default,,0,0,0,,They will make sure to populate
Dialogue: 0,0:32:04.20,0:32:05.44,Default,,0,0,0,,the control center in lock
Dialogue: 0,0:32:05.44,0:32:05.86,Default,,0,0,0,,screen.
Dialogue: 0,0:32:07.04,0:32:08.91,Default,,0,0,0,,However, things will be recorded
Dialogue: 0,0:32:08.91,0:32:09.96,Default,,0,0,0,,a bit differently, depending on
Dialogue: 0,0:32:09.96,0:32:11.68,Default,,0,0,0,,the player you pick because the
Dialogue: 0,0:32:11.68,0:32:13.06,Default,,0,0,0,,music app will be recoded as a
Dialogue: 0,0:32:13.06,0:32:14.19,Default,,0,0,0,,Now Playing app with the system
Dialogue: 0,0:32:14.19,0:32:15.82,Default,,0,0,0,,music player, whereas it's going
Dialogue: 0,0:32:15.82,0:32:17.23,Default,,0,0,0,,to be your app recorded as the
Dialogue: 0,0:32:17.23,0:32:18.50,Default,,0,0,0,,Now Playing app if you choose
Dialogue: 0,0:32:18.50,0:32:19.71,Default,,0,0,0,,the application queue player.
Dialogue: 0,0:32:20.10,0:32:22.68,Default,,0,0,0,,And this is because with the
Dialogue: 0,0:32:22.68,0:32:24.86,Default,,0,0,0,,System Music Player, your app is
Dialogue: 0,0:32:24.91,0:32:26.26,Default,,0,0,0,,acting as a simple remote
Dialogue: 0,0:32:26.26,0:32:27.64,Default,,0,0,0,,control of the music app.
Dialogue: 0,0:32:28.45,0:32:29.28,Default,,0,0,0,,Whereas if you use the
Dialogue: 0,0:32:29.28,0:32:31.23,Default,,0,0,0,,application queue player, your
Dialogue: 0,0:32:31.23,0:32:32.95,Default,,0,0,0,,app fully owns the playback
Dialogue: 0,0:32:32.95,0:32:34.56,Default,,0,0,0,,queue completely independent
Dialogue: 0,0:32:35.15,0:32:36.73,Default,,0,0,0,,from the music app.
Dialogue: 0,0:32:38.68,0:32:40.31,Default,,0,0,0,,Both of these players allow you
Dialogue: 0,0:32:40.31,0:32:41.66,Default,,0,0,0,,to control the playback queue
Dialogue: 0,0:32:41.66,0:32:44.26,Default,,0,0,0,,with simple operations such as
Dialogue: 0,0:32:44.35,0:32:45.39,Default,,0,0,0,,completely replacing the
Dialogue: 0,0:32:45.39,0:32:46.62,Default,,0,0,0,,playback queue with a Set Queue
Dialogue: 0,0:32:46.62,0:32:49.27,Default,,0,0,0,,command, and you can also use
Dialogue: 0,0:32:49.27,0:32:51.08,Default,,0,0,0,,the Up Next functionality by
Dialogue: 0,0:32:51.41,0:32:53.88,Default,,0,0,0,,setting content to Play Next or
Dialogue: 0,0:32:53.88,0:32:54.39,Default,,0,0,0,,Play Later.
Dialogue: 0,0:32:54.88,0:32:57.86,Default,,0,0,0,,But with the application queue
Dialogue: 0,0:32:57.86,0:32:59.44,Default,,0,0,0,,player, you can go one step
Dialogue: 0,0:32:59.44,0:33:02.02,Default,,0,0,0,,further by inserting items in
Dialogue: 0,0:33:02.02,0:33:03.27,Default,,0,0,0,,the middle of the playback queue
Dialogue: 0,0:33:03.91,0:33:05.18,Default,,0,0,0,,over moving items that are
Dialogue: 0,0:33:05.18,0:33:06.96,Default,,0,0,0,,already in the playback queue.
Dialogue: 0,0:33:08.30,0:33:09.59,Default,,0,0,0,,To achieve some of those
Dialogue: 0,0:33:09.59,0:33:10.65,Default,,0,0,0,,playback queue manipulation
Dialogue: 0,0:33:10.65,0:33:12.84,Default,,0,0,0,,tasks, you'll be using a concept
Dialogue: 0,0:33:12.84,0:33:14.28,Default,,0,0,0,,we call queue descriptors.
Dialogue: 0,0:33:14.75,0:33:16.03,Default,,0,0,0,,We offer three different types
Dialogue: 0,0:33:16.03,0:33:17.46,Default,,0,0,0,,of queue descriptors based on
Dialogue: 0,0:33:17.46,0:33:18.94,Default,,0,0,0,,the type of content you're
Dialogue: 0,0:33:18.94,0:33:19.47,Default,,0,0,0,,dealing with.
Dialogue: 0,0:33:20.51,0:33:22.63,Default,,0,0,0,,The first one is the media item
Dialogue: 0,0:33:22.86,0:33:24.92,Default,,0,0,0,,queue descriptor, and this is
Dialogue: 0,0:33:24.92,0:33:27.34,Default,,0,0,0,,useful if you have an instance
Dialogue: 0,0:33:27.34,0:33:28.83,Default,,0,0,0,,of MPMediaItem or
Dialogue: 0,0:33:28.83,0:33:30.83,Default,,0,0,0,,MPMediaItemCollection, which you
Dialogue: 0,0:33:30.83,0:33:32.29,Default,,0,0,0,,would like to start playback
Dialogue: 0,0:33:32.37,0:33:32.54,Default,,0,0,0,,with.
Dialogue: 0,0:33:32.98,0:33:34.96,Default,,0,0,0,,And typically, you get a hold of
Dialogue: 0,0:33:34.96,0:33:37.72,Default,,0,0,0,,such instances by making device
Dialogue: 0,0:33:37.87,0:33:39.23,Default,,0,0,0,,library queries using
Dialogue: 0,0:33:39.23,0:33:42.36,Default,,0,0,0,,MPMediaQuery, or by presenting
Dialogue: 0,0:33:42.36,0:33:43.66,Default,,0,0,0,,the media picker to allow the
Dialogue: 0,0:33:43.66,0:33:45.30,Default,,0,0,0,,user to select a piece of
Dialogue: 0,0:33:45.30,0:33:46.87,Default,,0,0,0,,content from his library.
Dialogue: 0,0:33:47.37,0:33:50.94,Default,,0,0,0,,For catalog playback, we also
Dialogue: 0,0:33:50.94,0:33:52.63,Default,,0,0,0,,have the store queue descriptor,
Dialogue: 0,0:33:52.84,0:33:55.62,Default,,0,0,0,,and here the data you need to
Dialogue: 0,0:33:55.62,0:33:56.75,Default,,0,0,0,,use the store queue descriptor
Dialogue: 0,0:33:56.75,0:33:58.54,Default,,0,0,0,,is a store ID, and that's a
Dialogue: 0,0:33:58.54,0:34:00.08,Default,,0,0,0,,string that corresponds to the
Dialogue: 0,0:34:00.08,0:34:01.60,Default,,0,0,0,,ID field of the JSON
Dialogue: 0,0:34:01.60,0:34:02.97,Default,,0,0,0,,representation of an Apple Music
Dialogue: 0,0:34:02.97,0:34:03.97,Default,,0,0,0,,API resource.
Dialogue: 0,0:34:05.11,0:34:06.46,Default,,0,0,0,,And this is typically useful for
Dialogue: 0,0:34:06.46,0:34:08.14,Default,,0,0,0,,catalog content such as from
Dialogue: 0,0:34:08.14,0:34:09.08,Default,,0,0,0,,catalog search.
Dialogue: 0,0:34:10.94,0:34:12.89,Default,,0,0,0,,We also have a new queue
Dialogue: 0,0:34:12.89,0:34:14.37,Default,,0,0,0,,descriptor, the playback, the
Dialogue: 0,0:34:14.37,0:34:15.23,Default,,0,0,0,,play parameter's queue
Dialogue: 0,0:34:15.23,0:34:19.01,Default,,0,0,0,,descriptor, and this does
Dialogue: 0,0:34:19.09,0:34:20.05,Default,,0,0,0,,everything the store queue
Dialogue: 0,0:34:20.05,0:34:22.67,Default,,0,0,0,,descriptor does, in addition to
Dialogue: 0,0:34:22.73,0:34:24.34,Default,,0,0,0,,handling personalized content,
Dialogue: 0,0:34:24.52,0:34:26.16,Default,,0,0,0,,such as content from recently
Dialogue: 0,0:34:26.16,0:34:29.42,Default,,0,0,0,,played or heavy rotation, and it
Dialogue: 0,0:34:29.42,0:34:30.92,Default,,0,0,0,,also supports playback of radio
Dialogue: 0,0:34:30.92,0:34:31.48,Default,,0,0,0,,stations.
Dialogue: 0,0:34:32.30,0:34:33.74,Default,,0,0,0,,Here, the data you'll need to
Dialogue: 0,0:34:33.74,0:34:35.11,Default,,0,0,0,,use for the play parameters
Dialogue: 0,0:34:35.11,0:34:37.37,Default,,0,0,0,,queue descriptor is the value
Dialogue: 0,0:34:37.37,0:34:38.89,Default,,0,0,0,,associated with the play params
Dialogue: 0,0:34:39.37,0:34:41.65,Default,,0,0,0,,field in the JSON representation
Dialogue: 0,0:34:41.72,0:34:43.35,Default,,0,0,0,,of an Apple Music API resource.
Dialogue: 0,0:34:43.88,0:34:47.36,Default,,0,0,0,,So, let's take a look at how you
Dialogue: 0,0:34:47.36,0:34:48.72,Default,,0,0,0,,can use those queue descriptors
Dialogue: 0,0:34:48.72,0:34:50.56,Default,,0,0,0,,to control playback in your
Dialogue: 0,0:34:51.06,0:34:51.58,Default,,0,0,0,,apps.
Dialogue: 0,0:34:51.58,0:34:52.60,Default,,0,0,0,,Here, we'll do some simple
Dialogue: 0,0:34:52.60,0:34:54.31,Default,,0,0,0,,playback queue manipulation
Dialogue: 0,0:34:54.31,0:34:55.79,Default,,0,0,0,,tasks, and we'll choose to use
Dialogue: 0,0:34:55.79,0:34:56.77,Default,,0,0,0,,the SystemMusicPlayer.
Dialogue: 0,0:34:58.70,0:35:00.94,Default,,0,0,0,,Both players support simple
Dialogue: 0,0:35:01.14,0:35:03.86,Default,,0,0,0,,playback tweaks you can apply to
Dialogue: 0,0:35:03.86,0:35:05.62,Default,,0,0,0,,them such as setting the repeat
Dialogue: 0,0:35:05.62,0:35:06.19,Default,,0,0,0,,mode to all.
Dialogue: 0,0:35:06.19,0:35:07.49,Default,,0,0,0,,But you can also change the
Dialogue: 0,0:35:07.49,0:35:08.99,Default,,0,0,0,,shuffle mode if you like.
Dialogue: 0,0:35:09.94,0:35:11.92,Default,,0,0,0,,The first thing we'll do is
Dialogue: 0,0:35:12.39,0:35:13.60,Default,,0,0,0,,change the playback queue,
Dialogue: 0,0:35:13.60,0:35:15.00,Default,,0,0,0,,replace it completely with a
Dialogue: 0,0:35:15.00,0:35:17.58,Default,,0,0,0,,local album represented with an
Dialogue: 0,0:35:17.62,0:35:18.90,Default,,0,0,0,,MPMediaItemCollection.
Dialogue: 0,0:35:20.00,0:35:21.52,Default,,0,0,0,,Because that's the type of data
Dialogue: 0,0:35:21.52,0:35:23.52,Default,,0,0,0,,we have, we'll be using the
Dialogue: 0,0:35:23.52,0:35:25.82,Default,,0,0,0,,MPMediaItem, I'm sorry, the
Dialogue: 0,0:35:25.82,0:35:26.92,Default,,0,0,0,,MediaItemQueueDescriptor.
Dialogue: 0,0:35:28.58,0:35:30.25,Default,,0,0,0,,You can also decide to start
Dialogue: 0,0:35:30.33,0:35:31.77,Default,,0,0,0,,playback with the fourth song of
Dialogue: 0,0:35:31.77,0:35:33.36,Default,,0,0,0,,the album by setting the start
Dialogue: 0,0:35:33.36,0:35:35.65,Default,,0,0,0,,item with the fourth item of the
Dialogue: 0,0:35:35.65,0:35:36.03,Default,,0,0,0,,album.
Dialogue: 0,0:35:36.34,0:35:39.97,Default,,0,0,0,,And you can use that to call the
Dialogue: 0,0:35:39.97,0:35:40.98,Default,,0,0,0,,setQueue method on the player.
Dialogue: 0,0:35:45.44,0:35:47.84,Default,,0,0,0,,You can also use Up Next to add
Dialogue: 0,0:35:47.84,0:35:49.67,Default,,0,0,0,,a song to Play Next using the
Dialogue: 0,0:35:49.67,0:35:51.62,Default,,0,0,0,,prepend method on the player.
Dialogue: 0,0:35:52.73,0:35:54.53,Default,,0,0,0,,And here, we're trying to add a
Dialogue: 0,0:35:54.53,0:35:56.38,Default,,0,0,0,,catalog song to Play Next.
Dialogue: 0,0:35:56.74,0:35:57.95,Default,,0,0,0,,It's represented with a Store
Dialogue: 0,0:35:57.95,0:35:59.94,Default,,0,0,0,,ID, and for this reason, we have
Dialogue: 0,0:35:59.98,0:36:01.01,Default,,0,0,0,,to use the store queue
Dialogue: 0,0:36:01.01,0:36:01.54,Default,,0,0,0,,descriptor.
Dialogue: 0,0:36:02.07,0:36:06.78,Default,,0,0,0,,But you can also add songs from
Dialogue: 0,0:36:06.78,0:36:08.71,Default,,0,0,0,,recently played, for example, to
Dialogue: 0,0:36:08.71,0:36:10.82,Default,,0,0,0,,the queue, and they'll typically
Dialogue: 0,0:36:10.82,0:36:12.13,Default,,0,0,0,,be represented with play
Dialogue: 0,0:36:12.13,0:36:13.35,Default,,0,0,0,,parameters you can find in the
Dialogue: 0,0:36:13.35,0:36:14.67,Default,,0,0,0,,JSON representation of Apple
Dialogue: 0,0:36:14.67,0:36:15.92,Default,,0,0,0,,Music API resources.
Dialogue: 0,0:36:16.45,0:36:18.35,Default,,0,0,0,,And because that's the data we
Dialogue: 0,0:36:18.35,0:36:19.62,Default,,0,0,0,,have, we'll be using the play
Dialogue: 0,0:36:19.62,0:36:20.68,Default,,0,0,0,,parameters queue descriptor.
Dialogue: 0,0:36:21.15,0:36:24.32,Default,,0,0,0,,Then, in this case, we'll choose
Dialogue: 0,0:36:24.32,0:36:25.84,Default,,0,0,0,,to use it with the append method
Dialogue: 0,0:36:26.07,0:36:28.09,Default,,0,0,0,,of the player to add this song
Dialogue: 0,0:36:28.09,0:36:28.97,Default,,0,0,0,,to Play Later.
Dialogue: 0,0:36:28.97,0:36:32.68,Default,,0,0,0,,If your app requires more
Dialogue: 0,0:36:32.68,0:36:34.03,Default,,0,0,0,,control over the playback queue,
Dialogue: 0,0:36:34.03,0:36:36.61,Default,,0,0,0,,however, you can switch to the
Dialogue: 0,0:36:36.61,0:36:38.66,Default,,0,0,0,,ApplicationQueuePlayer to unlock
Dialogue: 0,0:36:38.66,0:36:39.58,Default,,0,0,0,,some more features.
Dialogue: 0,0:36:41.08,0:36:43.10,Default,,0,0,0,,Mainly, you can call the perform
Dialogue: 0,0:36:43.61,0:36:45.28,Default,,0,0,0,,queue transaction method on the
Dialogue: 0,0:36:45.28,0:36:46.36,Default,,0,0,0,,ApplicationQueuePlayer.
Dialogue: 0,0:36:46.40,0:36:49.39,Default,,0,0,0,,It requires two closures as
Dialogue: 0,0:36:49.39,0:36:50.11,Default,,0,0,0,,parameters.
Dialogue: 0,0:36:50.71,0:36:51.66,Default,,0,0,0,,The first one is the queue
Dialogue: 0,0:36:51.66,0:36:52.39,Default,,0,0,0,,transaction.
Dialogue: 0,0:36:53.47,0:36:55.60,Default,,0,0,0,,We'll be passing a mutable queue
Dialogue: 0,0:36:56.48,0:36:57.89,Default,,0,0,0,,object, which represents the
Dialogue: 0,0:36:57.89,0:36:59.12,Default,,0,0,0,,current state of the playback
Dialogue: 0,0:36:59.12,0:36:59.34,Default,,0,0,0,,queue.
Dialogue: 0,0:37:00.26,0:37:01.81,Default,,0,0,0,,You can call a few methods on
Dialogue: 0,0:37:01.81,0:37:03.09,Default,,0,0,0,,this mutable queue, such as the
Dialogue: 0,0:37:03.09,0:37:04.95,Default,,0,0,0,,remove method to remove the
Dialogue: 0,0:37:04.95,0:37:07.10,Default,,0,0,0,,third item currently in the
Dialogue: 0,0:37:07.10,0:37:07.71,Default,,0,0,0,,playback queue.
Dialogue: 0,0:37:09.18,0:37:10.67,Default,,0,0,0,,You can also call the insert
Dialogue: 0,0:37:10.82,0:37:13.20,Default,,0,0,0,,after method, which we're
Dialogue: 0,0:37:13.20,0:37:14.61,Default,,0,0,0,,calling here to insert an item
Dialogue: 0,0:37:14.61,0:37:16.39,Default,,0,0,0,,after the fifth item of the
Dialogue: 0,0:37:16.39,0:37:16.94,Default,,0,0,0,,playback queue.
Dialogue: 0,0:37:17.95,0:37:20.36,Default,,0,0,0,,Once we're done applying all of
Dialogue: 0,0:37:20.36,0:37:21.37,Default,,0,0,0,,those modifications to the
Dialogue: 0,0:37:21.37,0:37:22.62,Default,,0,0,0,,playback queue, we'll call your
Dialogue: 0,0:37:22.62,0:37:24.45,Default,,0,0,0,,completion handler to let you
Dialogue: 0,0:37:24.45,0:37:24.65,Default,,0,0,0,,know.
Dialogue: 0,0:37:25.23,0:37:28.18,Default,,0,0,0,,And that's an overview of
Dialogue: 0,0:37:28.18,0:37:29.38,Default,,0,0,0,,everything you can do in terms
Dialogue: 0,0:37:29.38,0:37:31.11,Default,,0,0,0,,of playback with Apple Music,
Dialogue: 0,0:37:31.64,0:37:32.84,Default,,0,0,0,,and we can't wait to see the
Dialogue: 0,0:37:32.84,0:37:34.50,Default,,0,0,0,,experiences you'll build in your
Dialogue: 0,0:37:34.50,0:37:34.91,Default,,0,0,0,,apps.
Dialogue: 0,0:37:36.02,0:37:37.53,Default,,0,0,0,,So, let's talk about timeframe.
Dialogue: 0,0:37:38.15,0:37:39.60,Default,,0,0,0,,When can you adopt these APIs in
Dialogue: 0,0:37:39.60,0:37:40.20,Default,,0,0,0,,your apps?
Dialogue: 0,0:37:40.73,0:37:43.47,Default,,0,0,0,,As it turns out, a lot of these
Dialogue: 0,0:37:43.47,0:37:45.25,Default,,0,0,0,,APIs trickled in throughout
Dialogue: 0,0:37:45.25,0:37:47.07,Default,,0,0,0,,several releases, and many of
Dialogue: 0,0:37:47.07,0:37:49.10,Default,,0,0,0,,them are available on iOS 10.3
Dialogue: 0,0:37:49.92,0:37:50.99,Default,,0,0,0,,with a few caveats.
Dialogue: 0,0:37:51.69,0:37:53.27,Default,,0,0,0,,We will begin generating music
Dialogue: 0,0:37:53.36,0:37:55.65,Default,,0,0,0,,user tokens for iOS 10.3 devices
Dialogue: 0,0:37:55.71,0:37:56.49,Default,,0,0,0,,later this fall.
Dialogue: 0,0:37:57.31,0:37:58.84,Default,,0,0,0,,You'll also have to use an
Dialogue: 0,0:37:58.84,0:38:00.74,Default,,0,0,0,,alternate method to get to the
Dialogue: 0,0:38:00.74,0:38:03.17,Default,,0,0,0,,storefront country code, and you
Dialogue: 0,0:38:03.17,0:38:04.65,Default,,0,0,0,,can use, for example, the
Dialogue: 0,0:38:04.65,0:38:06.62,Default,,0,0,0,,current locale's region code as
Dialogue: 0,0:38:06.62,0:38:07.52,Default,,0,0,0,,an approximation.
Dialogue: 0,0:38:08.76,0:38:10.18,Default,,0,0,0,,However, you'll be able to
Dialogue: 0,0:38:10.18,0:38:11.67,Default,,0,0,0,,initiate playback with catalog
Dialogue: 0,0:38:11.67,0:38:13.37,Default,,0,0,0,,content using the store queue
Dialogue: 0,0:38:13.37,0:38:17.38,Default,,0,0,0,,descriptor right on iOS 10.3.
Dialogue: 0,0:38:17.59,0:38:19.63,Default,,0,0,0,,On iOS 11, with beta you have
Dialogue: 0,0:38:19.63,0:38:21.04,Default,,0,0,0,,available to you today, you can
Dialogue: 0,0:38:21.04,0:38:22.52,Default,,0,0,0,,do everything we just discussed
Dialogue: 0,0:38:23.00,0:38:24.35,Default,,0,0,0,,with the exception of play
Dialogue: 0,0:38:24.35,0:38:26.33,Default,,0,0,0,,parameters, queue descriptors,
Dialogue: 0,0:38:26.65,0:38:27.98,Default,,0,0,0,,which will come in a later beta.
Dialogue: 0,0:38:28.52,0:38:31.37,Default,,0,0,0,,And because play parameters
Dialogue: 0,0:38:31.37,0:38:32.71,Default,,0,0,0,,queue descriptors support
Dialogue: 0,0:38:32.71,0:38:33.49,Default,,0,0,0,,everything the store queue
Dialogue: 0,0:38:33.49,0:38:34.98,Default,,0,0,0,,descriptor supports, in addition
Dialogue: 0,0:38:34.98,0:38:36.17,Default,,0,0,0,,to radio stations and
Dialogue: 0,0:38:36.17,0:38:37.70,Default,,0,0,0,,personalized content, if you're
Dialogue: 0,0:38:37.70,0:38:39.33,Default,,0,0,0,,targeting iOS 11 and later, you
Dialogue: 0,0:38:39.33,0:38:40.80,Default,,0,0,0,,should really use that primarily
Dialogue: 0,0:38:40.80,0:38:41.52,Default,,0,0,0,,instead of the store queue
Dialogue: 0,0:38:41.52,0:38:41.98,Default,,0,0,0,,descriptor.
Dialogue: 0,0:38:45.55,0:38:48.38,Default,,0,0,0,,So, to summarize, Apple Music
Dialogue: 0,0:38:48.45,0:38:50.21,Default,,0,0,0,,offers a breadth of content,
Dialogue: 0,0:38:50.21,0:38:52.35,Default,,0,0,0,,over 40 million songs and
Dialogue: 0,0:38:52.63,0:38:53.97,Default,,0,0,0,,personalized recommendations for
Dialogue: 0,0:38:53.97,0:38:55.89,Default,,0,0,0,,your users, and you can use
Dialogue: 0,0:38:55.89,0:38:57.94,Default,,0,0,0,,that, leverage this content to
Dialogue: 0,0:38:57.94,0:38:59.21,Default,,0,0,0,,create immersive experiences in
Dialogue: 0,0:38:59.21,0:39:00.77,Default,,0,0,0,,your apps to keep your users
Dialogue: 0,0:39:00.82,0:39:01.49,Default,,0,0,0,,engaged.
Dialogue: 0,0:39:02.12,0:39:04.75,Default,,0,0,0,,To do that, you'll have to use
Dialogue: 0,0:39:05.04,0:39:06.46,Default,,0,0,0,,StoreKit framework to get the
Dialogue: 0,0:39:06.46,0:39:09.06,Default,,0,0,0,,user's consent and the Music
Dialogue: 0,0:39:09.06,0:39:11.58,Default,,0,0,0,,user token to unlock the full
Dialogue: 0,0:39:11.58,0:39:13.09,Default,,0,0,0,,capabilities of Apple Music API.
Dialogue: 0,0:39:13.23,0:39:15.52,Default,,0,0,0,,And you can call Apple Music
Dialogue: 0,0:39:15.52,0:39:17.76,Default,,0,0,0,,API, fetch the relevant data,
Dialogue: 0,0:39:18.11,0:39:20.96,Default,,0,0,0,,parse it from JSON, and use
Dialogue: 0,0:39:20.96,0:39:22.82,Default,,0,0,0,,MediaPlayer framework to control
Dialogue: 0,0:39:22.82,0:39:24.29,Default,,0,0,0,,playback of this piece of
Dialogue: 0,0:39:24.29,0:39:24.74,Default,,0,0,0,,content.
Dialogue: 0,0:39:26.68,0:39:28.24,Default,,0,0,0,,For more information on
Dialogue: 0,0:39:28.24,0:39:29.73,Default,,0,0,0,,MusicKit, feel free to check out
Dialogue: 0,0:39:29.73,0:39:31.05,Default,,0,0,0,,our developer portal with this
Dialogue: 0,0:39:31.05,0:39:31.67,Default,,0,0,0,,URL.
Dialogue: 0,0:39:32.20,0:39:33.42,Default,,0,0,0,,You also have a few related
Dialogue: 0,0:39:33.42,0:39:33.92,Default,,0,0,0,,sessions.
Dialogue: 0,0:39:33.92,0:39:35.51,Default,,0,0,0,,We just had the What's New in
Dialogue: 0,0:39:35.51,0:39:37.43,Default,,0,0,0,,Audio session in this room.
Dialogue: 0,0:39:37.85,0:39:39.21,Default,,0,0,0,,We'll also have tomorrow
Dialogue: 0,0:39:39.21,0:39:40.08,Default,,0,0,0,,morning, What's New in
Dialogue: 0,0:39:40.08,0:39:41.31,Default,,0,0,0,,Foundation, where you can learn
Dialogue: 0,0:39:41.40,0:39:42.89,Default,,0,0,0,,all about using the new JSON
Dialogue: 0,0:39:42.89,0:39:46.40,Default,,0,0,0,,decoder in Swift 4.0 and on
Dialogue: 0,0:39:46.40,0:39:47.60,Default,,0,0,0,,Thursday, you can learn about
Dialogue: 0,0:39:47.60,0:39:48.67,Default,,0,0,0,,AirPlay 2 as well.
Dialogue: 0,0:39:49.18,0:39:50.42,Default,,0,0,0,,Thank you very much, and enjoy
Dialogue: 0,0:39:50.42,0:39:51.40,Default,,0,0,0,,the rest of the conference.
Dialogue: 0,0:39:52.52,0:40:02.36,Default,,0,0,0,,[ Applause ]
