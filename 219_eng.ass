[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:23.52,0:00:27.14,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:00:27.64,0:00:28.97,Default,,0,0,0,,>> Good afternoon, everyone, and
Dialogue: 0,0:00:28.97,0:00:30.49,Default,,0,0,0,,welcome to modern user
Dialogue: 0,0:00:30.49,0:00:31.83,Default,,0,0,0,,interaction on iOS.
Dialogue: 0,0:00:32.28,0:00:33.54,Default,,0,0,0,,My name is Dominik Wagner.
Dialogue: 0,0:00:33.54,0:00:35.16,Default,,0,0,0,,I'm an engineer on the UIkit
Dialogue: 0,0:00:35.16,0:00:37.65,Default,,0,0,0,,frameworks team and I am going
Dialogue: 0,0:00:37.65,0:00:39.62,Default,,0,0,0,,to talk today about mastering
Dialogue: 0,0:00:39.62,0:00:41.14,Default,,0,0,0,,the UIkit's gesture recognizer
Dialogue: 0,0:00:41.23,0:00:41.70,Default,,0,0,0,,system.
Dialogue: 0,0:00:41.70,0:00:42.80,Default,,0,0,0,,I will be joined by my
Dialogue: 0,0:00:42.80,0:00:44.32,Default,,0,0,0,,colleagues, Glen and Michael
Dialogue: 0,0:00:44.32,0:00:44.92,Default,,0,0,0,,later on.
Dialogue: 0,0:00:45.29,0:00:46.81,Default,,0,0,0,,So what are we going to talk
Dialogue: 0,0:00:46.81,0:00:47.13,Default,,0,0,0,,about?
Dialogue: 0,0:00:47.13,0:00:48.41,Default,,0,0,0,,We are going to talk about
Dialogue: 0,0:00:48.60,0:00:49.37,Default,,0,0,0,,multi-touch.
Dialogue: 0,0:00:49.37,0:00:51.12,Default,,0,0,0,,Really just touch interface at
Dialogue: 0,0:00:51.12,0:00:51.59,Default,,0,0,0,,this time.
Dialogue: 0,0:00:51.59,0:00:52.62,Default,,0,0,0,,We have great other ways of
Dialogue: 0,0:00:52.62,0:00:54.37,Default,,0,0,0,,interacting with the system but
Dialogue: 0,0:00:54.52,0:00:56.14,Default,,0,0,0,,multi-touch is the subject of
Dialogue: 0,0:00:56.17,0:00:56.81,Default,,0,0,0,,this talk.
Dialogue: 0,0:00:57.34,0:00:59.06,Default,,0,0,0,,I will talk you through the UI
Dialogue: 0,0:00:59.06,0:01:01.25,Default,,0,0,0,,gesture recognizer system in
Dialogue: 0,0:01:01.25,0:01:02.97,Default,,0,0,0,,depth, showing you how to
Dialogue: 0,0:01:02.97,0:01:04.81,Default,,0,0,0,,interact with it and to
Dialogue: 0,0:01:04.81,0:01:06.29,Default,,0,0,0,,customize it to your liking.
Dialogue: 0,0:01:07.21,0:01:08.63,Default,,0,0,0,,Glen will come up and talk to
Dialogue: 0,0:01:08.63,0:01:10.35,Default,,0,0,0,,you about the new APIs for
Dialogue: 0,0:01:10.35,0:01:11.92,Default,,0,0,0,,system gesture interaction in
Dialogue: 0,0:01:11.99,0:01:12.80,Default,,0,0,0,,iOS 11.
Dialogue: 0,0:01:13.27,0:01:14.82,Default,,0,0,0,,And finally Mike will come up
Dialogue: 0,0:01:15.26,0:01:17.02,Default,,0,0,0,,and tell you how to play nice
Dialogue: 0,0:01:17.02,0:01:18.53,Default,,0,0,0,,with the new interactions for
Dialogue: 0,0:01:18.53,0:01:19.30,Default,,0,0,0,,drag and drop.
Dialogue: 0,0:01:20.00,0:01:22.86,Default,,0,0,0,,So this talk works best if you
Dialogue: 0,0:01:22.86,0:01:26.08,Default,,0,0,0,,already know about how touch is
Dialogue: 0,0:01:26.08,0:01:27.26,Default,,0,0,0,,handled in UIkit.
Dialogue: 0,0:01:27.70,0:01:29.37,Default,,0,0,0,,However, if you're new to the
Dialogue: 0,0:01:29.45,0:01:31.38,Default,,0,0,0,,system, let's walk over the two
Dialogue: 0,0:01:31.38,0:01:33.06,Default,,0,0,0,,building blocks for this.
Dialogue: 0,0:01:33.47,0:01:34.76,Default,,0,0,0,,We have the UI touch.
Dialogue: 0,0:01:35.14,0:01:37.28,Default,,0,0,0,,The UI touch is a representation
Dialogue: 0,0:01:37.60,0:01:39.90,Default,,0,0,0,,of a finger touching the screen.
Dialogue: 0,0:01:40.18,0:01:43.18,Default,,0,0,0,,So UI moves from begin, why I
Dialogue: 0,0:01:43.18,0:01:45.26,Default,,0,0,0,,move to cancel, or end it, and
Dialogue: 0,0:01:45.26,0:01:47.02,Default,,0,0,0,,represents one interaction with
Dialogue: 0,0:01:47.08,0:01:47.63,Default,,0,0,0,,the screen.
Dialogue: 0,0:01:48.05,0:01:49.36,Default,,0,0,0,,And on top of that we have
Dialogue: 0,0:01:49.45,0:01:50.97,Default,,0,0,0,,UIGestureRecognizer, a more
Dialogue: 0,0:01:50.97,0:01:52.12,Default,,0,0,0,,powerful abstraction.
Dialogue: 0,0:01:52.73,0:01:54.27,Default,,0,0,0,,UIGestureRecognizer can be
Dialogue: 0,0:01:54.27,0:01:56.09,Default,,0,0,0,,configured with a target and
Dialogue: 0,0:01:56.09,0:01:57.83,Default,,0,0,0,,action and put on a UI view.
Dialogue: 0,0:01:59.01,0:02:00.33,Default,,0,0,0,,And we have gesture recognizer
Dialogue: 0,0:02:00.33,0:02:02.00,Default,,0,0,0,,for all sorts of common
Dialogue: 0,0:02:02.00,0:02:04.25,Default,,0,0,0,,interactions, tap, pan, and
Dialogue: 0,0:02:04.25,0:02:04.71,Default,,0,0,0,,pinch.
Dialogue: 0,0:02:05.62,0:02:06.85,Default,,0,0,0,,And we have the gesture
Dialogue: 0,0:02:06.85,0:02:08.29,Default,,0,0,0,,recognizer system actually
Dialogue: 0,0:02:08.29,0:02:09.81,Default,,0,0,0,,coordinating between those.
Dialogue: 0,0:02:10.13,0:02:11.60,Default,,0,0,0,,And that's what I will be
Dialogue: 0,0:02:11.65,0:02:12.51,Default,,0,0,0,,focusing about.
Dialogue: 0,0:02:13.23,0:02:14.78,Default,,0,0,0,,And I will do this using a
Dialogue: 0,0:02:14.87,0:02:15.86,Default,,0,0,0,,simple example.
Dialogue: 0,0:02:16.61,0:02:18.37,Default,,0,0,0,,Like the AssistiveTouch widget.
Dialogue: 0,0:02:18.78,0:02:20.51,Default,,0,0,0,,You have a widget that it
Dialogue: 0,0:02:20.51,0:02:23.41,Default,,0,0,0,,recognizes a tap and you can pan
Dialogue: 0,0:02:23.41,0:02:23.98,Default,,0,0,0,,it around.
Dialogue: 0,0:02:24.66,0:02:26.40,Default,,0,0,0,,And maybe you even do regular
Dialogue: 0,0:02:26.40,0:02:27.70,Default,,0,0,0,,responder based touch handling
Dialogue: 0,0:02:27.70,0:02:29.59,Default,,0,0,0,,on it to pass through some
Dialogue: 0,0:02:29.59,0:02:30.20,Default,,0,0,0,,touches.
Dialogue: 0,0:02:30.57,0:02:32.21,Default,,0,0,0,,So this example is very simple
Dialogue: 0,0:02:32.21,0:02:33.18,Default,,0,0,0,,and purposefully so.
Dialogue: 0,0:02:33.18,0:02:35.00,Default,,0,0,0,,I don't want you to think about
Dialogue: 0,0:02:35.00,0:02:36.99,Default,,0,0,0,,this example in particular.
Dialogue: 0,0:02:36.99,0:02:38.38,Default,,0,0,0,,I want you to think about your
Dialogue: 0,0:02:38.38,0:02:39.16,Default,,0,0,0,,gesture setups.
Dialogue: 0,0:02:39.60,0:02:41.45,Default,,0,0,0,,So where the secrets of
Dialogue: 0,0:02:41.45,0:02:43.33,Default,,0,0,0,,[inaudible] I'm explaining is
Dialogue: 0,0:02:43.33,0:02:44.81,Default,,0,0,0,,fitting in your setups and how
Dialogue: 0,0:02:44.81,0:02:46.17,Default,,0,0,0,,you can improve yours.
Dialogue: 0,0:02:46.54,0:02:47.92,Default,,0,0,0,,So let's go through this
Dialogue: 0,0:02:47.92,0:02:48.30,Default,,0,0,0,,example.
Dialogue: 0,0:02:48.30,0:02:50.20,Default,,0,0,0,,We have a view and we have the
Dialogue: 0,0:02:50.43,0:02:51.83,Default,,0,0,0,,responder based touch handling
Dialogue: 0,0:02:51.83,0:02:53.03,Default,,0,0,0,,implemented on the view.
Dialogue: 0,0:02:53.39,0:02:55.71,Default,,0,0,0,,And also we begin with one tap
Dialogue: 0,0:02:55.71,0:02:56.66,Default,,0,0,0,,gesture recognizer.
Dialogue: 0,0:02:57.69,0:03:00.83,Default,,0,0,0,,So when a touch goes down on
Dialogue: 0,0:03:00.83,0:03:02.75,Default,,0,0,0,,this view, it begins in its
Dialogue: 0,0:03:02.75,0:03:03.62,Default,,0,0,0,,state began.
Dialogue: 0,0:03:04.02,0:03:05.69,Default,,0,0,0,,And the first thing that happens
Dialogue: 0,0:03:05.69,0:03:07.54,Default,,0,0,0,,is the gesture recognizer system
Dialogue: 0,0:03:07.80,0:03:09.37,Default,,0,0,0,,is delivering it to all gesture
Dialogue: 0,0:03:09.37,0:03:10.93,Default,,0,0,0,,recognizers interested in that
Dialogue: 0,0:03:10.99,0:03:11.37,Default,,0,0,0,,touch.
Dialogue: 0,0:03:11.76,0:03:13.11,Default,,0,0,0,,That means the tap gesture
Dialogue: 0,0:03:13.11,0:03:14.47,Default,,0,0,0,,recognizer in our case.
Dialogue: 0,0:03:14.97,0:03:16.21,Default,,0,0,0,,And the tap gesture recognizer
Dialogue: 0,0:03:16.31,0:03:18.54,Default,,0,0,0,,takes the touch and keeps its
Dialogue: 0,0:03:18.54,0:03:19.99,Default,,0,0,0,,state in its initial state that
Dialogue: 0,0:03:20.02,0:03:20.75,Default,,0,0,0,,it's possible.
Dialogue: 0,0:03:21.41,0:03:23.58,Default,,0,0,0,,And by receiving the touch, it
Dialogue: 0,0:03:23.58,0:03:25.09,Default,,0,0,0,,will be marked as being
Dialogue: 0,0:03:25.31,0:03:26.89,Default,,0,0,0,,including in this interaction.
Dialogue: 0,0:03:27.59,0:03:29.06,Default,,0,0,0,,And after the gesture recognizer
Dialogue: 0,0:03:29.38,0:03:31.66,Default,,0,0,0,,have their go we move on and
Dialogue: 0,0:03:31.66,0:03:33.13,Default,,0,0,0,,deliver that touch into this
Dialogue: 0,0:03:33.13,0:03:34.38,Default,,0,0,0,,state, to the touch handling
Dialogue: 0,0:03:34.38,0:03:34.64,Default,,0,0,0,,methods.
Dialogue: 0,0:03:35.59,0:03:37.84,Default,,0,0,0,,And when we lift up again, then
Dialogue: 0,0:03:38.05,0:03:39.62,Default,,0,0,0,,the touch moves its state to end
Dialogue: 0,0:03:39.62,0:03:40.86,Default,,0,0,0,,it and will be delivered again
Dialogue: 0,0:03:40.86,0:03:42.36,Default,,0,0,0,,first to the gesture recognizer
Dialogue: 0,0:03:42.45,0:03:42.87,Default,,0,0,0,,system.
Dialogue: 0,0:03:43.07,0:03:45.74,Default,,0,0,0,,And the tap gesture recognizer
Dialogue: 0,0:03:45.74,0:03:47.14,Default,,0,0,0,,in this case will recognize by
Dialogue: 0,0:03:47.21,0:03:48.77,Default,,0,0,0,,setting its state to end.
Dialogue: 0,0:03:48.77,0:03:49.87,Default,,0,0,0,,This is how your gesture
Dialogue: 0,0:03:49.87,0:03:52.55,Default,,0,0,0,,recognizers signal that they
Dialogue: 0,0:03:52.55,0:03:53.11,Default,,0,0,0,,recognize.
Dialogue: 0,0:03:53.20,0:03:54.19,Default,,0,0,0,,They move their state.
Dialogue: 0,0:03:54.56,0:03:55.60,Default,,0,0,0,,And the gesture recognizer
Dialogue: 0,0:03:55.66,0:03:58.76,Default,,0,0,0,,system, in turn, will now take
Dialogue: 0,0:03:58.76,0:04:00.64,Default,,0,0,0,,this marked state and send out
Dialogue: 0,0:04:00.74,0:04:02.20,Default,,0,0,0,,the action for this tap gesture
Dialogue: 0,0:04:02.20,0:04:02.78,Default,,0,0,0,,recognizer.
Dialogue: 0,0:04:05.07,0:04:07.35,Default,,0,0,0,,And after that, we continue
Dialogue: 0,0:04:07.35,0:04:10.07,Default,,0,0,0,,onward with sending the UITouch
Dialogue: 0,0:04:10.34,0:04:11.71,Default,,0,0,0,,to the touch handling methods.
Dialogue: 0,0:04:11.89,0:04:12.97,Default,,0,0,0,,The responder based one.
Dialogue: 0,0:04:13.41,0:04:14.91,Default,,0,0,0,,And as you notice we send it
Dialogue: 0,0:04:14.91,0:04:16.53,Default,,0,0,0,,onwards as cancelled and not as
Dialogue: 0,0:04:16.53,0:04:16.96,Default,,0,0,0,,ended.
Dialogue: 0,0:04:17.52,0:04:18.77,Default,,0,0,0,,So why do we do that?
Dialogue: 0,0:04:19.47,0:04:20.76,Default,,0,0,0,,That is because gesture
Dialogue: 0,0:04:20.76,0:04:23.14,Default,,0,0,0,,recognizers hate the regular
Dialogue: 0,0:04:23.29,0:04:25.34,Default,,0,0,0,,touch handling methods, and you
Dialogue: 0,0:04:25.34,0:04:26.77,Default,,0,0,0,,have wasted influence set.
Dialogue: 0,0:04:26.77,0:04:28.06,Default,,0,0,0,,So there are three properties on
Dialogue: 0,0:04:28.06,0:04:29.31,Default,,0,0,0,,your gesture recognizer that you
Dialogue: 0,0:04:29.31,0:04:32.00,Default,,0,0,0,,can set and the first two are
Dialogue: 0,0:04:32.00,0:04:33.23,Default,,0,0,0,,delaysTouchesEnded and
Dialogue: 0,0:04:33.23,0:04:34.56,Default,,0,0,0,,cancelsTouchesInView.
Dialogue: 0,0:04:35.08,0:04:36.80,Default,,0,0,0,,Both of them are set to true as
Dialogue: 0,0:04:36.80,0:04:38.29,Default,,0,0,0,,default and lead to the behavior
Dialogue: 0,0:04:38.29,0:04:39.18,Default,,0,0,0,,we just saw.
Dialogue: 0,0:04:39.18,0:04:40.87,Default,,0,0,0,,That you deliver the touch as
Dialogue: 0,0:04:40.97,0:04:42.64,Default,,0,0,0,,cancelled if a gesture
Dialogue: 0,0:04:42.64,0:04:43.86,Default,,0,0,0,,recognizer recognizes.
Dialogue: 0,0:04:44.45,0:04:45.68,Default,,0,0,0,,And you have a third one that is
Dialogue: 0,0:04:45.74,0:04:47.02,Default,,0,0,0,,delaysTouchesBegan.
Dialogue: 0,0:04:47.02,0:04:48.53,Default,,0,0,0,,And if you turn that to a yes
Dialogue: 0,0:04:48.60,0:04:50.19,Default,,0,0,0,,then the regular responder based
Dialogue: 0,0:04:50.19,0:04:52.09,Default,,0,0,0,,handling will not even see the
Dialogue: 0,0:04:52.12,0:04:53.07,Default,,0,0,0,,touch if your gesture
Dialogue: 0,0:04:53.07,0:04:53.82,Default,,0,0,0,,recognizes.
Dialogue: 0,0:04:54.33,0:04:56.56,Default,,0,0,0,,So the takeaway here is that the
Dialogue: 0,0:04:56.56,0:04:58.12,Default,,0,0,0,,gesture recognizer system comes
Dialogue: 0,0:04:58.12,0:04:59.46,Default,,0,0,0,,first in touch delivery.
Dialogue: 0,0:05:00.04,0:05:01.98,Default,,0,0,0,,That means that it's one of the
Dialogue: 0,0:05:01.98,0:05:03.50,Default,,0,0,0,,many reasons why you should move
Dialogue: 0,0:05:03.50,0:05:05.50,Default,,0,0,0,,on to actually implement gesture
Dialogue: 0,0:05:05.50,0:05:06.99,Default,,0,0,0,,recognizers or use our system
Dialogue: 0,0:05:06.99,0:05:08.18,Default,,0,0,0,,gesture recognizer whereas
Dialogue: 0,0:05:08.22,0:05:09.50,Default,,0,0,0,,implementing the touch handling
Dialogue: 0,0:05:09.50,0:05:09.89,Default,,0,0,0,,methods.
Dialogue: 0,0:05:10.22,0:05:11.59,Default,,0,0,0,,And only if you need to, you
Dialogue: 0,0:05:11.59,0:05:12.44,Default,,0,0,0,,should implement them.
Dialogue: 0,0:05:12.92,0:05:14.95,Default,,0,0,0,,So let's expand on our example
Dialogue: 0,0:05:15.54,0:05:17.88,Default,,0,0,0,,and add another recognizer to
Dialogue: 0,0:05:17.88,0:05:18.86,Default,,0,0,0,,make it a little bit more
Dialogue: 0,0:05:18.86,0:05:19.33,Default,,0,0,0,,interesting.
Dialogue: 0,0:05:19.60,0:05:21.40,Default,,0,0,0,,So let's add the pan gesture
Dialogue: 0,0:05:21.40,0:05:22.96,Default,,0,0,0,,recognizer to this.
Dialogue: 0,0:05:23.12,0:05:24.66,Default,,0,0,0,,And again, we follow a touch
Dialogue: 0,0:05:24.66,0:05:26.45,Default,,0,0,0,,sequence of a touch going down.
Dialogue: 0,0:05:27.28,0:05:29.20,Default,,0,0,0,,And it's -- it will be delivered
Dialogue: 0,0:05:29.20,0:05:30.48,Default,,0,0,0,,as began to all the gesture
Dialogue: 0,0:05:30.48,0:05:32.06,Default,,0,0,0,,recognizers interested in this.
Dialogue: 0,0:05:32.47,0:05:34.22,Default,,0,0,0,,And the gesture recognizers will
Dialogue: 0,0:05:34.22,0:05:36.60,Default,,0,0,0,,start out possible and be marked
Dialogue: 0,0:05:36.73,0:05:38.20,Default,,0,0,0,,because they received a touch as
Dialogue: 0,0:05:38.20,0:05:39.42,Default,,0,0,0,,interest as part of this
Dialogue: 0,0:05:39.42,0:05:40.73,Default,,0,0,0,,interaction by the system.
Dialogue: 0,0:05:41.55,0:05:43.11,Default,,0,0,0,,And then we will deliver this
Dialogue: 0,0:05:43.60,0:05:44.64,Default,,0,0,0,,touch again to the touch
Dialogue: 0,0:05:44.64,0:05:45.78,Default,,0,0,0,,handling methods and began.
Dialogue: 0,0:05:46.61,0:05:48.05,Default,,0,0,0,,Now we move the touch.
Dialogue: 0,0:05:48.05,0:05:51.25,Default,,0,0,0,,And if we move the touch, this
Dialogue: 0,0:05:51.25,0:05:53.39,Default,,0,0,0,,is delivered to the gesture and
Dialogue: 0,0:05:53.39,0:05:54.86,Default,,0,0,0,,the pan gesture, in this case,
Dialogue: 0,0:05:55.47,0:05:57.19,Default,,0,0,0,,will recognize because we moved
Dialogue: 0,0:05:57.19,0:05:59.71,Default,,0,0,0,,enough that the pan gesture will
Dialogue: 0,0:05:59.71,0:06:00.22,Default,,0,0,0,,recognize.
Dialogue: 0,0:06:00.66,0:06:02.22,Default,,0,0,0,,And it will do so by moving its
Dialogue: 0,0:06:02.25,0:06:03.12,Default,,0,0,0,,state to began.
Dialogue: 0,0:06:03.95,0:06:05.25,Default,,0,0,0,,However, we didn't move enough
Dialogue: 0,0:06:05.30,0:06:06.54,Default,,0,0,0,,for the tap gesture recognizer
Dialogue: 0,0:06:06.54,0:06:07.45,Default,,0,0,0,,to actually fail.
Dialogue: 0,0:06:07.45,0:06:08.62,Default,,0,0,0,,So we didn't exceed the
Dialogue: 0,0:06:08.62,0:06:09.49,Default,,0,0,0,,allowable movement.
Dialogue: 0,0:06:09.56,0:06:11.31,Default,,0,0,0,,So the tap gesture recognizer on
Dialogue: 0,0:06:11.31,0:06:13.71,Default,,0,0,0,,its own will stay in the state
Dialogue: 0,0:06:13.79,0:06:14.37,Default,,0,0,0,,possible.
Dialogue: 0,0:06:15.49,0:06:18.17,Default,,0,0,0,,However, in this case, it still
Dialogue: 0,0:06:18.36,0:06:18.92,Default,,0,0,0,,will fail.
Dialogue: 0,0:06:19.15,0:06:20.14,Default,,0,0,0,,That is because of another
Dialogue: 0,0:06:20.14,0:06:21.88,Default,,0,0,0,,aspect of the gesture recognizer
Dialogue: 0,0:06:21.95,0:06:22.34,Default,,0,0,0,,system.
Dialogue: 0,0:06:22.69,0:06:24.11,Default,,0,0,0,,In its default configuration
Dialogue: 0,0:06:24.11,0:06:26.07,Default,,0,0,0,,only gesture recognizer will
Dialogue: 0,0:06:26.07,0:06:27.43,Default,,0,0,0,,recognize and win and will
Dialogue: 0,0:06:27.43,0:06:28.98,Default,,0,0,0,,exclude all the others.
Dialogue: 0,0:06:29.43,0:06:30.79,Default,,0,0,0,,And this is what happened here.
Dialogue: 0,0:06:31.36,0:06:34.41,Default,,0,0,0,,And note that the began actually
Dialogue: 0,0:06:34.41,0:06:35.39,Default,,0,0,0,,will be sent by the gesture
Dialogue: 0,0:06:35.39,0:06:38.29,Default,,0,0,0,,recognizer system and the touch
Dialogue: 0,0:06:38.29,0:06:39.46,Default,,0,0,0,,handling will be sent as
Dialogue: 0,0:06:39.56,0:06:41.28,Default,,0,0,0,,cancelled already again because
Dialogue: 0,0:06:41.28,0:06:42.44,Default,,0,0,0,,the pan gesture recognizer
Dialogue: 0,0:06:42.74,0:06:44.85,Default,,0,0,0,,cancels touches in view and
Dialogue: 0,0:06:45.10,0:06:46.92,Default,,0,0,0,,therefore it began, it will be
Dialogue: 0,0:06:46.92,0:06:48.16,Default,,0,0,0,,cancelled which is an
Dialogue: 0,0:06:48.16,0:06:49.79,Default,,0,0,0,,interesting thing to look at
Dialogue: 0,0:06:49.79,0:06:51.74,Default,,0,0,0,,because your finger is still on
Dialogue: 0,0:06:51.74,0:06:53.71,Default,,0,0,0,,the screen and the gesture
Dialogue: 0,0:06:53.71,0:06:55.71,Default,,0,0,0,,recognizer see it as such but
Dialogue: 0,0:06:55.85,0:06:57.16,Default,,0,0,0,,your responder based handling
Dialogue: 0,0:06:57.16,0:06:57.51,Default,,0,0,0,,doesn't.
Dialogue: 0,0:06:57.81,0:06:59.25,Default,,0,0,0,,So that's something to think
Dialogue: 0,0:06:59.25,0:06:59.58,Default,,0,0,0,,about.
Dialogue: 0,0:07:00.17,0:07:03.15,Default,,0,0,0,,And then if you lift the touch,
Dialogue: 0,0:07:03.90,0:07:05.39,Default,,0,0,0,,it will move its state to ended.
Dialogue: 0,0:07:05.39,0:07:06.83,Default,,0,0,0,,And this ended will be delivered
Dialogue: 0,0:07:07.19,0:07:08.49,Default,,0,0,0,,again to the gesture recognizer
Dialogue: 0,0:07:08.49,0:07:09.20,Default,,0,0,0,,system first.
Dialogue: 0,0:07:09.98,0:07:11.25,Default,,0,0,0,,The pan gesture recognizer will
Dialogue: 0,0:07:11.25,0:07:14.57,Default,,0,0,0,,move its state to ended and mark
Dialogue: 0,0:07:14.57,0:07:16.77,Default,,0,0,0,,itself to one -- its action
Dialogue: 0,0:07:16.77,0:07:17.33,Default,,0,0,0,,being sent.
Dialogue: 0,0:07:18.08,0:07:19.26,Default,,0,0,0,,And then you might think that
Dialogue: 0,0:07:19.26,0:07:20.46,Default,,0,0,0,,the tap gesture recognizer will
Dialogue: 0,0:07:20.46,0:07:21.88,Default,,0,0,0,,also see the ended because you
Dialogue: 0,0:07:21.88,0:07:23.27,Default,,0,0,0,,usually see all the touch
Dialogue: 0,0:07:23.27,0:07:25.54,Default,,0,0,0,,sequences in your handling
Dialogue: 0,0:07:25.74,0:07:26.33,Default,,0,0,0,,methods.
Dialogue: 0,0:07:26.66,0:07:27.96,Default,,0,0,0,,However, because it failed you
Dialogue: 0,0:07:27.96,0:07:28.43,Default,,0,0,0,,don't.
Dialogue: 0,0:07:28.97,0:07:30.36,Default,,0,0,0,,And that's very important if you
Dialogue: 0,0:07:30.36,0:07:31.14,Default,,0,0,0,,do your [inaudible] gesture
Dialogue: 0,0:07:31.14,0:07:31.67,Default,,0,0,0,,recognizer.
Dialogue: 0,0:07:31.78,0:07:32.74,Default,,0,0,0,,So whenever your gesture
Dialogue: 0,0:07:32.74,0:07:34.69,Default,,0,0,0,,recognizer fails, you need to
Dialogue: 0,0:07:34.69,0:07:36.07,Default,,0,0,0,,reset all your state and make
Dialogue: 0,0:07:36.07,0:07:37.85,Default,,0,0,0,,sure that you don't leave behind
Dialogue: 0,0:07:37.85,0:07:39.99,Default,,0,0,0,,old references to touches that
Dialogue: 0,0:07:39.99,0:07:41.23,Default,,0,0,0,,you didn't receive an end or
Dialogue: 0,0:07:41.23,0:07:41.86,Default,,0,0,0,,cancel for.
Dialogue: 0,0:07:41.99,0:07:44.17,Default,,0,0,0,,The ideal place for this is
Dialogue: 0,0:07:44.17,0:07:46.21,Default,,0,0,0,,reset in your custom, your
Dialogue: 0,0:07:46.21,0:07:48.05,Default,,0,0,0,,gesture recognizer subtasks.
Dialogue: 0,0:07:49.13,0:07:50.38,Default,,0,0,0,,And then finally the gesture
Dialogue: 0,0:07:50.38,0:07:51.75,Default,,0,0,0,,recognizer system sends out the
Dialogue: 0,0:07:51.86,0:07:53.28,Default,,0,0,0,,ended -- the pan gesture
Dialogue: 0,0:07:53.37,0:07:54.23,Default,,0,0,0,,recognizer action.
Dialogue: 0,0:07:55.81,0:07:57.16,Default,,0,0,0,,So what you just saw was
Dialogue: 0,0:07:57.23,0:07:57.96,Default,,0,0,0,,exclusion.
Dialogue: 0,0:07:58.14,0:07:59.25,Default,,0,0,0,,This is something that happens
Dialogue: 0,0:07:59.25,0:08:00.40,Default,,0,0,0,,whenever the state change and
Dialogue: 0,0:08:00.40,0:08:01.68,Default,,0,0,0,,you have a way to influence
Dialogue: 0,0:08:01.74,0:08:02.04,Default,,0,0,0,,that.
Dialogue: 0,0:08:02.04,0:08:03.93,Default,,0,0,0,,So in your UIGestureRecognizer
Dialogue: 0,0:08:03.93,0:08:05.60,Default,,0,0,0,,delegate you have the method,
Dialogue: 0,0:08:05.94,0:08:07.03,Default,,0,0,0,,gesture recognizer should
Dialogue: 0,0:08:07.03,0:08:08.69,Default,,0,0,0,,recognize simultaneously with
Dialogue: 0,0:08:09.27,0:08:11.16,Default,,0,0,0,,and you can opt in to not be
Dialogue: 0,0:08:11.16,0:08:11.74,Default,,0,0,0,,excluded.
Dialogue: 0,0:08:12.33,0:08:13.58,Default,,0,0,0,,Note that this is the only thing
Dialogue: 0,0:08:13.58,0:08:14.13,Default,,0,0,0,,you can do.
Dialogue: 0,0:08:14.13,0:08:16.82,Default,,0,0,0,,If any of the participants wants
Dialogue: 0,0:08:16.86,0:08:18.32,Default,,0,0,0,,to recognize simultaneously,
Dialogue: 0,0:08:18.55,0:08:19.03,Default,,0,0,0,,they will.
Dialogue: 0,0:08:19.03,0:08:20.79,Default,,0,0,0,,You have no way to prevent that.
Dialogue: 0,0:08:21.85,0:08:23.57,Default,,0,0,0,,And on the UIGestureRecognizer
Dialogue: 0,0:08:24.86,0:08:26.67,Default,,0,0,0,,itself, you have the inverse
Dialogue: 0,0:08:26.67,0:08:28.05,Default,,0,0,0,,logic which can prevent -- and
Dialogue: 0,0:08:28.05,0:08:29.74,Default,,0,0,0,,can prevent it by in your sub
Dialogue: 0,0:08:29.74,0:08:30.05,Default,,0,0,0,,classes.
Dialogue: 0,0:08:30.37,0:08:33.12,Default,,0,0,0,,So you can do this for gesture
Dialogue: 0,0:08:33.12,0:08:34.73,Default,,0,0,0,,recognizers that you know you
Dialogue: 0,0:08:34.73,0:08:36.51,Default,,0,0,0,,want to recognize simultaneously
Dialogue: 0,0:08:36.51,0:08:36.70,Default,,0,0,0,,with.
Dialogue: 0,0:08:37.62,0:08:38.98,Default,,0,0,0,,So let's see how this looks.
Dialogue: 0,0:08:42.58,0:08:44.38,Default,,0,0,0,,So again we have our setup.
Dialogue: 0,0:08:45.10,0:08:47.02,Default,,0,0,0,,Our touch goes down and began.
Dialogue: 0,0:08:47.64,0:08:48.83,Default,,0,0,0,,And nothing changed in the
Dialogue: 0,0:08:48.83,0:08:49.40,Default,,0,0,0,,beginning.
Dialogue: 0,0:08:50.77,0:08:53.36,Default,,0,0,0,,It moves, again, far enough for
Dialogue: 0,0:08:53.36,0:08:54.74,Default,,0,0,0,,the pan recognizer to recognize
Dialogue: 0,0:08:54.74,0:08:56.06,Default,,0,0,0,,but not far enough for the tap
Dialogue: 0,0:08:56.06,0:08:59.41,Default,,0,0,0,,recognizer to fail on its own.
Dialogue: 0,0:09:00.00,0:09:01.10,Default,,0,0,0,,And at this point and time, the
Dialogue: 0,0:09:01.10,0:09:02.55,Default,,0,0,0,,gesture recognizer system will
Dialogue: 0,0:09:02.55,0:09:04.14,Default,,0,0,0,,perform exclusion because state
Dialogue: 0,0:09:04.29,0:09:04.73,Default,,0,0,0,,change.
Dialogue: 0,0:09:04.73,0:09:06.95,Default,,0,0,0,,So the included gesture
Dialogue: 0,0:09:06.95,0:09:08.97,Default,,0,0,0,,recognizers have changed the
Dialogue: 0,0:09:08.97,0:09:09.44,Default,,0,0,0,,state.
Dialogue: 0,0:09:09.49,0:09:12.02,Default,,0,0,0,,So we ask and this is where the
Dialogue: 0,0:09:12.02,0:09:13.53,Default,,0,0,0,,delegate callback gets called
Dialogue: 0,0:09:13.84,0:09:15.16,Default,,0,0,0,,and you return true.
Dialogue: 0,0:09:15.61,0:09:17.33,Default,,0,0,0,,And if you return true, the tap
Dialogue: 0,0:09:17.33,0:09:18.31,Default,,0,0,0,,gesture recognizer will be
Dialogue: 0,0:09:18.31,0:09:19.24,Default,,0,0,0,,allowed to continue.
Dialogue: 0,0:09:19.69,0:09:22.23,Default,,0,0,0,,And the pan gesture recognizer's
Dialogue: 0,0:09:22.23,0:09:25.98,Default,,0,0,0,,action will be sent.
Dialogue: 0,0:09:26.15,0:09:27.77,Default,,0,0,0,,And if you lift the finger now,
Dialogue: 0,0:09:27.77,0:09:30.69,Default,,0,0,0,,the began, the pan gesture
Dialogue: 0,0:09:30.69,0:09:32.22,Default,,0,0,0,,recognizer will move to ended
Dialogue: 0,0:09:32.56,0:09:33.23,Default,,0,0,0,,and finish.
Dialogue: 0,0:09:33.57,0:09:34.76,Default,,0,0,0,,And the tap gesture recognizer
Dialogue: 0,0:09:34.76,0:09:36.15,Default,,0,0,0,,will also move to ended and
Dialogue: 0,0:09:36.15,0:09:36.66,Default,,0,0,0,,finish.
Dialogue: 0,0:09:37.10,0:09:39.01,Default,,0,0,0,,So it's important to know that
Dialogue: 0,0:09:39.07,0:09:40.33,Default,,0,0,0,,the gesture recognizers will
Dialogue: 0,0:09:40.33,0:09:42.23,Default,,0,0,0,,change the state before the
Dialogue: 0,0:09:42.23,0:09:43.95,Default,,0,0,0,,system actually reconciles them.
Dialogue: 0,0:09:44.28,0:09:46.12,Default,,0,0,0,,That means, at this point, the
Dialogue: 0,0:09:46.12,0:09:46.98,Default,,0,0,0,,gesture recognizer should
Dialogue: 0,0:09:46.98,0:09:48.46,Default,,0,0,0,,recognize simultaneously will be
Dialogue: 0,0:09:48.46,0:09:50.10,Default,,0,0,0,,asked again because we have a
Dialogue: 0,0:09:50.10,0:09:51.48,Default,,0,0,0,,state change and you still need
Dialogue: 0,0:09:51.48,0:09:53.26,Default,,0,0,0,,to report true in this delegate
Dialogue: 0,0:09:53.26,0:09:54.89,Default,,0,0,0,,method if you want both to fire.
Dialogue: 0,0:09:56.21,0:09:57.12,Default,,0,0,0,,And now that both have
Dialogue: 0,0:09:57.16,0:09:58.40,Default,,0,0,0,,recognized, there is another
Dialogue: 0,0:09:58.40,0:09:59.63,Default,,0,0,0,,thing that's interesting.
Dialogue: 0,0:09:59.98,0:10:01.36,Default,,0,0,0,,If you have simultaneous
Dialogue: 0,0:10:01.36,0:10:02.46,Default,,0,0,0,,recognition of gesture
Dialogue: 0,0:10:02.46,0:10:04.68,Default,,0,0,0,,recognizers, once the action
Dialogue: 0,0:10:04.92,0:10:07.24,Default,,0,0,0,,will be sent, you don't -- you
Dialogue: 0,0:10:07.24,0:10:08.70,Default,,0,0,0,,can't rely on a specific order.
Dialogue: 0,0:10:09.14,0:10:10.48,Default,,0,0,0,,So the pan and the tap gesture
Dialogue: 0,0:10:10.48,0:10:11.73,Default,,0,0,0,,recognizer will fire because
Dialogue: 0,0:10:11.73,0:10:12.24,Default,,0,0,0,,they're recognized
Dialogue: 0,0:10:12.24,0:10:14.99,Default,,0,0,0,,simultaneously but you have no
Dialogue: 0,0:10:14.99,0:10:16.42,Default,,0,0,0,,guarantee in which order that
Dialogue: 0,0:10:17.31,0:10:18.64,Default,,0,0,0,,will happen.
Dialogue: 0,0:10:18.75,0:10:21.89,Default,,0,0,0,,So that's all and well but now
Dialogue: 0,0:10:21.89,0:10:23.74,Default,,0,0,0,,we have a little bit of a pan
Dialogue: 0,0:10:23.74,0:10:24.94,Default,,0,0,0,,and the tap and maybe that's not
Dialogue: 0,0:10:24.94,0:10:25.51,Default,,0,0,0,,what we want.
Dialogue: 0,0:10:25.87,0:10:28.71,Default,,0,0,0,,If we want the pan recognizer to
Dialogue: 0,0:10:28.71,0:10:30.12,Default,,0,0,0,,actually wait until the tap
Dialogue: 0,0:10:30.12,0:10:32.21,Default,,0,0,0,,recognizer has exceeded its
Dialogue: 0,0:10:32.21,0:10:34.53,Default,,0,0,0,,allowable movement, then we have
Dialogue: 0,0:10:34.53,0:10:36.52,Default,,0,0,0,,another way to do that and that
Dialogue: 0,0:10:36.52,0:10:37.55,Default,,0,0,0,,way is called failure
Dialogue: 0,0:10:37.55,0:10:38.44,Default,,0,0,0,,requirements.
Dialogue: 0,0:10:39.06,0:10:41.42,Default,,0,0,0,,And failure requirements, you
Dialogue: 0,0:10:41.42,0:10:43.24,Default,,0,0,0,,can set up between two gesture
Dialogue: 0,0:10:43.24,0:10:43.99,Default,,0,0,0,,recognizers.
Dialogue: 0,0:10:44.85,0:10:46.29,Default,,0,0,0,,For example with required to
Dialogue: 0,0:10:46.29,0:10:47.97,Default,,0,0,0,,fail statically and this is the
Dialogue: 0,0:10:47.97,0:10:48.69,Default,,0,0,0,,preferred one.
Dialogue: 0,0:10:48.69,0:10:50.19,Default,,0,0,0,,And what that means is that one
Dialogue: 0,0:10:50.19,0:10:52.29,Default,,0,0,0,,recognizer requires another one
Dialogue: 0,0:10:52.29,0:10:53.88,Default,,0,0,0,,to fail before it sends its
Dialogue: 0,0:10:53.88,0:10:54.31,Default,,0,0,0,,action.
Dialogue: 0,0:10:54.70,0:10:56.59,Default,,0,0,0,,It still would traverse its
Dialogue: 0,0:10:56.59,0:10:58.72,Default,,0,0,0,,state but it waits to send its
Dialogue: 0,0:10:59.63,0:10:59.78,Default,,0,0,0,,action.
Dialogue: 0,0:11:00.49,0:11:02.48,Default,,0,0,0,,And if you need more dynamic and
Dialogue: 0,0:11:02.48,0:11:04.28,Default,,0,0,0,,one dynamic way to do that you
Dialogue: 0,0:11:04.36,0:11:05.58,Default,,0,0,0,,can do so also in the
Dialogue: 0,0:11:05.58,0:11:07.12,Default,,0,0,0,,UIGestureRecognizer delegate
Dialogue: 0,0:11:07.66,0:11:08.84,Default,,0,0,0,,with the two methods gesture
Dialogue: 0,0:11:08.84,0:11:09.82,Default,,0,0,0,,recognizer should require
Dialogue: 0,0:11:09.82,0:11:11.51,Default,,0,0,0,,failure of and gesture
Dialogue: 0,0:11:11.51,0:11:13.09,Default,,0,0,0,,recognizer should be required to
Dialogue: 0,0:11:13.09,0:11:13.85,Default,,0,0,0,,fail by.
Dialogue: 0,0:11:14.53,0:11:15.67,Default,,0,0,0,,And note that those go both
Dialogue: 0,0:11:15.74,0:11:16.14,Default,,0,0,0,,ways.
Dialogue: 0,0:11:16.27,0:11:17.91,Default,,0,0,0,,You need to make sure to agree
Dialogue: 0,0:11:17.91,0:11:20.04,Default,,0,0,0,,in your implementation with what
Dialogue: 0,0:11:20.04,0:11:21.49,Default,,0,0,0,,your answer here because
Dialogue: 0,0:11:21.49,0:11:23.62,Default,,0,0,0,,depending on the UI more complex
Dialogue: 0,0:11:23.71,0:11:25.17,Default,,0,0,0,,gesture setup, that might be
Dialogue: 0,0:11:25.17,0:11:26.77,Default,,0,0,0,,called the one way or the other
Dialogue: 0,0:11:26.77,0:11:27.78,Default,,0,0,0,,way first.
Dialogue: 0,0:11:28.09,0:11:30.40,Default,,0,0,0,,So that needs to be the same,
Dialogue: 0,0:11:30.73,0:11:32.11,Default,,0,0,0,,otherwise, it might lead to
Dialogue: 0,0:11:32.11,0:11:33.56,Default,,0,0,0,,several bugs.
Dialogue: 0,0:11:35.16,0:11:36.38,Default,,0,0,0,,And you have the same in the
Dialogue: 0,0:11:36.38,0:11:38.26,Default,,0,0,0,,UIGestureRecognizer subclasses
Dialogue: 0,0:11:38.46,0:11:39.64,Default,,0,0,0,,where you can implement your
Dialogue: 0,0:11:39.64,0:11:40.85,Default,,0,0,0,,require failure or should be
Dialogue: 0,0:11:40.85,0:11:42.29,Default,,0,0,0,,required to fail by.
Dialogue: 0,0:11:42.76,0:11:44.41,Default,,0,0,0,,Again those directions are more
Dialogue: 0,0:11:44.41,0:11:46.74,Default,,0,0,0,,for a channel mechanism.
Dialogue: 0,0:11:47.45,0:11:49.44,Default,,0,0,0,,Let's also look into how this
Dialogue: 0,0:11:49.44,0:11:50.06,Default,,0,0,0,,works.
Dialogue: 0,0:11:50.33,0:11:52.02,Default,,0,0,0,,So we have setup our static
Dialogue: 0,0:11:52.02,0:11:53.53,Default,,0,0,0,,failure requirement between the
Dialogue: 0,0:11:53.58,0:11:55.09,Default,,0,0,0,,pan recognizer and the tap
Dialogue: 0,0:11:55.09,0:11:55.96,Default,,0,0,0,,recognizer.
Dialogue: 0,0:11:56.69,0:11:59.95,Default,,0,0,0,,And again, our touch goes down.
Dialogue: 0,0:11:59.95,0:12:02.09,Default,,0,0,0,,The state start out as possible.
Dialogue: 0,0:12:02.88,0:12:04.23,Default,,0,0,0,,Then we move the touch.
Dialogue: 0,0:12:04.99,0:12:07.67,Default,,0,0,0,,And the move will be delivered
Dialogue: 0,0:12:07.84,0:12:09.30,Default,,0,0,0,,to both gesture recognizers and
Dialogue: 0,0:12:09.30,0:12:10.78,Default,,0,0,0,,the pan recognizer will begin
Dialogue: 0,0:12:11.03,0:12:12.31,Default,,0,0,0,,and the tap recognizer will stay
Dialogue: 0,0:12:12.31,0:12:12.84,Default,,0,0,0,,possible.
Dialogue: 0,0:12:13.67,0:12:15.08,Default,,0,0,0,,However because the existing
Dialogue: 0,0:12:15.13,0:12:16.82,Default,,0,0,0,,failure requirement, the pan
Dialogue: 0,0:12:16.82,0:12:18.29,Default,,0,0,0,,recognizer will not send its
Dialogue: 0,0:12:18.29,0:12:19.65,Default,,0,0,0,,action at this point and time.
Dialogue: 0,0:12:22.03,0:12:23.40,Default,,0,0,0,,So going on, moving a little bit
Dialogue: 0,0:12:23.45,0:12:24.87,Default,,0,0,0,,further, but still not far
Dialogue: 0,0:12:24.87,0:12:26.32,Default,,0,0,0,,enough to fail the tap gesture
Dialogue: 0,0:12:26.32,0:12:28.59,Default,,0,0,0,,recognizer we will move, and the
Dialogue: 0,0:12:28.59,0:12:30.11,Default,,0,0,0,,pan recognizer will change its
Dialogue: 0,0:12:30.18,0:12:31.55,Default,,0,0,0,,state to changed.
Dialogue: 0,0:12:33.39,0:12:34.80,Default,,0,0,0,,And the tap recognizer will stay
Dialogue: 0,0:12:34.80,0:12:36.51,Default,,0,0,0,,possible but still the failure
Dialogue: 0,0:12:36.51,0:12:38.04,Default,,0,0,0,,requirement is not fulfilled.
Dialogue: 0,0:12:38.26,0:12:40.39,Default,,0,0,0,,So that means still no action.
Dialogue: 0,0:12:40.96,0:12:42.97,Default,,0,0,0,,And it is at this point and time
Dialogue: 0,0:12:42.97,0:12:45.12,Default,,0,0,0,,if you would move further away
Dialogue: 0,0:12:45.44,0:12:47.12,Default,,0,0,0,,then the tap recognizer would
Dialogue: 0,0:12:47.12,0:12:49.01,Default,,0,0,0,,fail and by failing would allow
Dialogue: 0,0:12:49.01,0:12:50.43,Default,,0,0,0,,the pan recognizer to send its
Dialogue: 0,0:12:50.43,0:12:50.90,Default,,0,0,0,,action.
Dialogue: 0,0:12:51.72,0:12:54.01,Default,,0,0,0,,And there's an important message
Dialogue: 0,0:12:54.01,0:12:54.34,Default,,0,0,0,,in there.
Dialogue: 0,0:12:54.34,0:12:56.01,Default,,0,0,0,,If the pan recognizer sends its
Dialogue: 0,0:12:56.01,0:12:57.37,Default,,0,0,0,,action as this point and time,
Dialogue: 0,0:12:57.66,0:12:58.90,Default,,0,0,0,,it will send its action in its
Dialogue: 0,0:12:58.90,0:12:59.71,Default,,0,0,0,,state began.
Dialogue: 0,0:13:00.19,0:13:01.84,Default,,0,0,0,,Although it already is in state
Dialogue: 0,0:13:01.84,0:13:03.41,Default,,0,0,0,,change because we make sure the
Dialogue: 0,0:13:03.41,0:13:04.84,Default,,0,0,0,,client see a consistent picture
Dialogue: 0,0:13:05.11,0:13:07.77,Default,,0,0,0,,of this but the important part,
Dialogue: 0,0:13:08.13,0:13:09.49,Default,,0,0,0,,you should never inspect the
Dialogue: 0,0:13:09.49,0:13:11.33,Default,,0,0,0,,gesture recognizer state outside
Dialogue: 0,0:13:11.33,0:13:13.19,Default,,0,0,0,,of its action method and think
Dialogue: 0,0:13:13.19,0:13:14.52,Default,,0,0,0,,you know exactly what the state
Dialogue: 0,0:13:14.52,0:13:16.38,Default,,0,0,0,,is, because only in the action
Dialogue: 0,0:13:16.38,0:13:17.61,Default,,0,0,0,,method that is defined.
Dialogue: 0,0:13:18.90,0:13:20.79,Default,,0,0,0,,But now let's go even further
Dialogue: 0,0:13:20.79,0:13:23.08,Default,,0,0,0,,and just lift the touch and the
Dialogue: 0,0:13:23.08,0:13:24.41,Default,,0,0,0,,touch then moves into the state
Dialogue: 0,0:13:24.41,0:13:26.03,Default,,0,0,0,,into ended and will be
Dialogue: 0,0:13:26.03,0:13:26.43,Default,,0,0,0,,delivered.
Dialogue: 0,0:13:26.43,0:13:27.77,Default,,0,0,0,,The pan recognizer move its
Dialogue: 0,0:13:27.77,0:13:29.25,Default,,0,0,0,,state to ended and recognizes.
Dialogue: 0,0:13:29.56,0:13:30.98,Default,,0,0,0,,The tap gesture recognizer moves
Dialogue: 0,0:13:30.98,0:13:32.00,Default,,0,0,0,,its state into ended and
Dialogue: 0,0:13:32.00,0:13:32.69,Default,,0,0,0,,recognizes.
Dialogue: 0,0:13:35.30,0:13:37.08,Default,,0,0,0,,But now still no action.
Dialogue: 0,0:13:37.08,0:13:38.50,Default,,0,0,0,,So we have a complete set of
Dialogue: 0,0:13:38.50,0:13:40.24,Default,,0,0,0,,state changes in the pan gesture
Dialogue: 0,0:13:40.24,0:13:41.68,Default,,0,0,0,,recognizer but it never send out
Dialogue: 0,0:13:41.68,0:13:43.41,Default,,0,0,0,,its action, because the tap
Dialogue: 0,0:13:43.41,0:13:45.50,Default,,0,0,0,,recognizer did recognize and
Dialogue: 0,0:13:45.50,0:13:47.17,Default,,0,0,0,,therefore no failure requirement
Dialogue: 0,0:13:47.34,0:13:48.08,Default,,0,0,0,,was fulfilled.
Dialogue: 0,0:13:48.58,0:13:50.15,Default,,0,0,0,,And the tap gesture recognizer
Dialogue: 0,0:13:50.15,0:13:51.67,Default,,0,0,0,,will finally send its action.
Dialogue: 0,0:13:52.14,0:13:53.93,Default,,0,0,0,,So that is failure requirements.
Dialogue: 0,0:13:54.12,0:13:55.60,Default,,0,0,0,,Failure requirements really just
Dialogue: 0,0:13:55.65,0:13:57.21,Default,,0,0,0,,prevent the extra send of a
Dialogue: 0,0:13:57.21,0:13:58.16,Default,,0,0,0,,gesture recognizer.
Dialogue: 0,0:13:58.53,0:14:01.87,Default,,0,0,0,,And you should be aware of that.
Dialogue: 0,0:14:02.08,0:14:03.33,Default,,0,0,0,,Let's look at this picture for a
Dialogue: 0,0:14:03.33,0:14:03.76,Default,,0,0,0,,moment.
Dialogue: 0,0:14:03.76,0:14:06.11,Default,,0,0,0,,So this is a regular settings
Dialogue: 0,0:14:06.75,0:14:08.66,Default,,0,0,0,,screen and think about how many
Dialogue: 0,0:14:08.66,0:14:10.11,Default,,0,0,0,,gesture recognizers are ready to
Dialogue: 0,0:14:10.50,0:14:11.74,Default,,0,0,0,,drop into action on this screen.
Dialogue: 0,0:14:11.80,0:14:14.78,Default,,0,0,0,,Just think of a number.
Dialogue: 0,0:14:14.95,0:14:17.92,Default,,0,0,0,,Yeah. It is 163.
Dialogue: 0,0:14:19.62,0:14:21.13,Default,,0,0,0,,That sounds quite a lot because
Dialogue: 0,0:14:21.13,0:14:23.28,Default,,0,0,0,,it is but our gesture recognizer
Dialogue: 0,0:14:23.28,0:14:25.24,Default,,0,0,0,,system is built for that and the
Dialogue: 0,0:14:25.24,0:14:26.51,Default,,0,0,0,,way we deal with this is we
Dialogue: 0,0:14:26.51,0:14:27.59,Default,,0,0,0,,narrow that down.
Dialogue: 0,0:14:27.92,0:14:29.60,Default,,0,0,0,,And for example, if a touch goes
Dialogue: 0,0:14:29.74,0:14:31.70,Default,,0,0,0,,down to the -- to this switch
Dialogue: 0,0:14:31.70,0:14:33.85,Default,,0,0,0,,here, we narrowed down the
Dialogue: 0,0:14:33.85,0:14:35.59,Default,,0,0,0,,interest gesture recognizers for
Dialogue: 0,0:14:35.66,0:14:35.88,Default,,0,0,0,,you.
Dialogue: 0,0:14:36.71,0:14:38.86,Default,,0,0,0,,And in this case that leaves
Dialogue: 0,0:14:38.86,0:14:39.72,Default,,0,0,0,,about seven.
Dialogue: 0,0:14:40.04,0:14:41.44,Default,,0,0,0,,And seven is really a good
Dialogue: 0,0:14:41.77,0:14:42.64,Default,,0,0,0,,number to deal with.
Dialogue: 0,0:14:43.13,0:14:44.41,Default,,0,0,0,,So how do we do this?
Dialogue: 0,0:14:44.71,0:14:46.47,Default,,0,0,0,,So in channel, we do hit testing
Dialogue: 0,0:14:46.47,0:14:48.17,Default,,0,0,0,,as soon as a touch goes down.
Dialogue: 0,0:14:48.17,0:14:50.04,Default,,0,0,0,,And this hit testing is done by
Dialogue: 0,0:14:50.04,0:14:51.35,Default,,0,0,0,,walking the view hierarchy.
Dialogue: 0,0:14:51.35,0:14:52.97,Default,,0,0,0,,Starting from window and asking
Dialogue: 0,0:14:52.97,0:14:55.24,Default,,0,0,0,,the hit testing methods if a
Dialogue: 0,0:14:55.24,0:14:56.99,Default,,0,0,0,,touch is inside of a view.
Dialogue: 0,0:14:56.99,0:14:58.20,Default,,0,0,0,,And when we find the deepest
Dialogue: 0,0:14:58.30,0:15:00.41,Default,,0,0,0,,view, we keep that and assign
Dialogue: 0,0:15:00.41,0:15:01.21,Default,,0,0,0,,that to the touch.
Dialogue: 0,0:15:05.48,0:15:07.39,Default,,0,0,0,,And this is a short overview
Dialogue: 0,0:15:07.39,0:15:07.99,Default,,0,0,0,,about this.
Dialogue: 0,0:15:07.99,0:15:10.37,Default,,0,0,0,,So you have hit test and point
Dialogue: 0,0:15:10.37,0:15:10.89,Default,,0,0,0,,inside.
Dialogue: 0,0:15:11.72,0:15:15.22,Default,,0,0,0,,In here this is your override
Dialogue: 0,0:15:15.22,0:15:15.63,Default,,0,0,0,,points.
Dialogue: 0,0:15:15.89,0:15:17.99,Default,,0,0,0,,Note that if you override this
Dialogue: 0,0:15:17.99,0:15:19.91,Default,,0,0,0,,to extend or contract your hit
Dialogue: 0,0:15:19.91,0:15:21.03,Default,,0,0,0,,testing area, you should
Dialogue: 0,0:15:21.03,0:15:22.93,Default,,0,0,0,,override both of them to agree
Dialogue: 0,0:15:23.42,0:15:23.97,Default,,0,0,0,,again.
Dialogue: 0,0:15:24.50,0:15:26.81,Default,,0,0,0,,Also note that the event in this
Dialogue: 0,0:15:26.84,0:15:28.21,Default,,0,0,0,,queue is not yet fully formed
Dialogue: 0,0:15:28.21,0:15:29.40,Default,,0,0,0,,because hit test is the first
Dialogue: 0,0:15:29.40,0:15:29.92,Default,,0,0,0,,thing we do.
Dialogue: 0,0:15:30.35,0:15:32.03,Default,,0,0,0,,That means that if you inspect
Dialogue: 0,0:15:32.03,0:15:33.94,Default,,0,0,0,,the touches of the event, they
Dialogue: 0,0:15:33.94,0:15:35.43,Default,,0,0,0,,might not be there because it's
Dialogue: 0,0:15:35.43,0:15:36.65,Default,,0,0,0,,really -- we deal with one after
Dialogue: 0,0:15:36.65,0:15:38.07,Default,,0,0,0,,another and then add the touches
Dialogue: 0,0:15:38.07,0:15:38.63,Default,,0,0,0,,to the event.
Dialogue: 0,0:15:39.01,0:15:40.23,Default,,0,0,0,,So that might be surprising to
Dialogue: 0,0:15:40.23,0:15:42.16,Default,,0,0,0,,you but that's how it is on hit
Dialogue: 0,0:15:42.19,0:15:42.58,Default,,0,0,0,,testing.
Dialogue: 0,0:15:42.58,0:15:43.82,Default,,0,0,0,,So the only thing you can ask
Dialogue: 0,0:15:43.89,0:15:45.31,Default,,0,0,0,,the event is kind of its
Dialogue: 0,0:15:45.31,0:15:48.15,Default,,0,0,0,,existence in the callback and
Dialogue: 0,0:15:48.28,0:15:49.83,Default,,0,0,0,,it's type.
Dialogue: 0,0:15:50.30,0:15:52.22,Default,,0,0,0,,There are more properties that
Dialogue: 0,0:15:52.29,0:15:53.40,Default,,0,0,0,,influence hit testing.
Dialogue: 0,0:15:53.44,0:15:55.28,Default,,0,0,0,,For example, in UIView there is
Dialogue: 0,0:15:55.28,0:15:56.50,Default,,0,0,0,,user interaction is enabled.
Dialogue: 0,0:15:56.50,0:15:57.85,Default,,0,0,0,,This is one of the most
Dialogue: 0,0:15:57.85,0:15:58.50,Default,,0,0,0,,important ones.
Dialogue: 0,0:15:58.85,0:16:01.38,Default,,0,0,0,,This is usually true other -- if
Dialogue: 0,0:16:01.38,0:16:03.24,Default,,0,0,0,,you didn't change it but for
Dialogue: 0,0:16:03.24,0:16:05.22,Default,,0,0,0,,example, for an image view that
Dialogue: 0,0:16:05.22,0:16:07.59,Default,,0,0,0,,is false by default.
Dialogue: 0,0:16:07.87,0:16:09.09,Default,,0,0,0,,So you need to switch it to yes
Dialogue: 0,0:16:09.12,0:16:10.69,Default,,0,0,0,,otherwise you don't have any hit
Dialogue: 0,0:16:10.72,0:16:11.67,Default,,0,0,0,,testing on this one.
Dialogue: 0,0:16:12.06,0:16:13.39,Default,,0,0,0,,And there's alpha and is hidden
Dialogue: 0,0:16:13.39,0:16:14.93,Default,,0,0,0,,which we use to actually guard
Dialogue: 0,0:16:14.98,0:16:16.60,Default,,0,0,0,,hit testing so if something is
Dialogue: 0,0:16:16.60,0:16:18.85,Default,,0,0,0,,invisible we don't hit test it
Dialogue: 0,0:16:19.20,0:16:21.52,Default,,0,0,0,,but in your customs subclasses
Dialogue: 0,0:16:21.52,0:16:23.23,Default,,0,0,0,,you really need to also adhere
Dialogue: 0,0:16:23.23,0:16:23.58,Default,,0,0,0,,to that.
Dialogue: 0,0:16:23.92,0:16:24.79,Default,,0,0,0,,And then there's -- it's
Dialogue: 0,0:16:24.79,0:16:26.87,Default,,0,0,0,,multiple touch enabled which for
Dialogue: 0,0:16:26.87,0:16:28.75,Default,,0,0,0,,historical reasons defaults to
Dialogue: 0,0:16:28.75,0:16:30.44,Default,,0,0,0,,no but doesn't affect the
Dialogue: 0,0:16:30.44,0:16:31.72,Default,,0,0,0,,gesture recognizer system.
Dialogue: 0,0:16:31.72,0:16:34.23,Default,,0,0,0,,So if you ever did come in a
Dialogue: 0,0:16:34.23,0:16:35.66,Default,,0,0,0,,situation where you actually
Dialogue: 0,0:16:35.66,0:16:37.10,Default,,0,0,0,,have working gesture [inaudible]
Dialogue: 0,0:16:37.16,0:16:38.95,Default,,0,0,0,,and everything but your
Dialogue: 0,0:16:38.95,0:16:40.14,Default,,0,0,0,,responder based touch handling
Dialogue: 0,0:16:40.14,0:16:41.71,Default,,0,0,0,,code only ever saw one touch,
Dialogue: 0,0:16:41.71,0:16:43.91,Default,,0,0,0,,then probably one view in your
Dialogue: 0,0:16:43.91,0:16:45.99,Default,,0,0,0,,hierarchy did have set this to
Dialogue: 0,0:16:45.99,0:16:46.68,Default,,0,0,0,,no still.
Dialogue: 0,0:16:46.72,0:16:47.78,Default,,0,0,0,,You just need to set this to
Dialogue: 0,0:16:47.89,0:16:48.15,Default,,0,0,0,,true.
Dialogue: 0,0:16:48.60,0:16:49.85,Default,,0,0,0,,And then, of course, there's
Dialogue: 0,0:16:49.85,0:16:51.57,Default,,0,0,0,,UIViewAnimationOptions when we
Dialogue: 0,0:16:51.57,0:16:53.65,Default,,0,0,0,,default you out of end user
Dialogue: 0,0:16:53.65,0:16:54.26,Default,,0,0,0,,interaction.
Dialogue: 0,0:16:54.68,0:16:57.65,Default,,0,0,0,,And that's not because we don't
Dialogue: 0,0:16:57.65,0:16:59.11,Default,,0,0,0,,want you to hit test during user
Dialogue: 0,0:16:59.11,0:17:01.18,Default,,0,0,0,,interaction, it's more because
Dialogue: 0,0:17:01.18,0:17:02.55,Default,,0,0,0,,you really need to do additional
Dialogue: 0,0:17:02.55,0:17:03.73,Default,,0,0,0,,work if you enable this.
Dialogue: 0,0:17:04.04,0:17:05.21,Default,,0,0,0,,So you need to override hit
Dialogue: 0,0:17:05.21,0:17:06.37,Default,,0,0,0,,testing in point and side
Dialogue: 0,0:17:06.37,0:17:07.02,Default,,0,0,0,,[phonetic] for this to work
Dialogue: 0,0:17:07.07,0:17:07.34,Default,,0,0,0,,well.
Dialogue: 0,0:17:08.30,0:17:09.47,Default,,0,0,0,,And we talked about this in the
Dialogue: 0,0:17:09.47,0:17:10.84,Default,,0,0,0,,past if presentation layer
Dialogue: 0,0:17:10.84,0:17:11.98,Default,,0,0,0,,versus model layer tells you
Dialogue: 0,0:17:11.98,0:17:13.21,Default,,0,0,0,,something then you're probably
Dialogue: 0,0:17:13.98,0:17:14.21,Default,,0,0,0,,good.
Dialogue: 0,0:17:14.47,0:17:16.20,Default,,0,0,0,,If not, please really watch that
Dialogue: 0,0:17:16.20,0:17:16.57,Default,,0,0,0,,talk.
Dialogue: 0,0:17:17.04,0:17:19.36,Default,,0,0,0,,And also last year we added the
Dialogue: 0,0:17:19.36,0:17:21.71,Default,,0,0,0,,UIViewPropertyAnimator and it
Dialogue: 0,0:17:21.71,0:17:23.05,Default,,0,0,0,,actually helps you with hit
Dialogue: 0,0:17:23.05,0:17:24.30,Default,,0,0,0,,testing during animations.
Dialogue: 0,0:17:24.75,0:17:26.39,Default,,0,0,0,,However, there is this property
Dialogue: 0,0:17:26.39,0:17:27.77,Default,,0,0,0,,that is manual hit testing
Dialogue: 0,0:17:27.77,0:17:29.16,Default,,0,0,0,,enabled and you have to set it
Dialogue: 0,0:17:29.64,0:17:32.08,Default,,0,0,0,,to true to make -- to do custom
Dialogue: 0,0:17:32.08,0:17:33.30,Default,,0,0,0,,interesting and more complex
Dialogue: 0,0:17:33.30,0:17:33.94,Default,,0,0,0,,scenarios.
Dialogue: 0,0:17:34.46,0:17:37.01,Default,,0,0,0,,So let's go back to our hit
Dialogue: 0,0:17:37.01,0:17:38.21,Default,,0,0,0,,testing in the view hierarchy.
Dialogue: 0,0:17:38.57,0:17:39.92,Default,,0,0,0,,Now that we have hit tested.
Dialogue: 0,0:17:40.21,0:17:41.48,Default,,0,0,0,,We walk back up the view
Dialogue: 0,0:17:41.48,0:17:42.80,Default,,0,0,0,,hierarchy and collect all the
Dialogue: 0,0:17:42.80,0:17:44.30,Default,,0,0,0,,gesture recognizers on those
Dialogue: 0,0:17:44.34,0:17:44.83,Default,,0,0,0,,views.
Dialogue: 0,0:17:45.06,0:17:46.59,Default,,0,0,0,,This is our base set of gesture
Dialogue: 0,0:17:46.59,0:17:49.67,Default,,0,0,0,,recognizers we consider for this
Dialogue: 0,0:17:49.67,0:17:53.21,Default,,0,0,0,,interaction but there is more
Dialogue: 0,0:17:53.21,0:17:54.52,Default,,0,0,0,,you can customize on this.
Dialogue: 0,0:17:54.52,0:17:55.73,Default,,0,0,0,,So you have a callback.
Dialogue: 0,0:17:55.79,0:17:56.91,Default,,0,0,0,,UIGestureRecognizer should
Dialogue: 0,0:17:56.91,0:17:57.67,Default,,0,0,0,,receive touch.
Dialogue: 0,0:17:58.08,0:18:00.50,Default,,0,0,0,,If you return false from that,
Dialogue: 0,0:18:00.50,0:18:03.20,Default,,0,0,0,,you can actually exclude a
Dialogue: 0,0:18:03.20,0:18:04.45,Default,,0,0,0,,gesture recognizer from
Dialogue: 0,0:18:04.45,0:18:05.70,Default,,0,0,0,,participating at all.
Dialogue: 0,0:18:05.70,0:18:07.35,Default,,0,0,0,,So it will never see that touch.
Dialogue: 0,0:18:07.58,0:18:09.06,Default,,0,0,0,,It's also a great break point
Dialogue: 0,0:18:09.06,0:18:10.83,Default,,0,0,0,,for you to see if your gesture
Dialogue: 0,0:18:11.56,0:18:13.25,Default,,0,0,0,,recognizer plays -- gets a
Dialogue: 0,0:18:13.25,0:18:15.25,Default,,0,0,0,,chance to actually play with the
Dialogue: 0,0:18:15.25,0:18:15.89,Default,,0,0,0,,interaction.
Dialogue: 0,0:18:16.28,0:18:17.75,Default,,0,0,0,,And there's a point little later
Dialogue: 0,0:18:17.75,0:18:18.99,Default,,0,0,0,,on that gesture recognizer
Dialogue: 0,0:18:18.99,0:18:20.39,Default,,0,0,0,,should begin also could create
Dialogue: 0,0:18:20.39,0:18:21.47,Default,,0,0,0,,problem for debugging.
Dialogue: 0,0:18:21.76,0:18:23.30,Default,,0,0,0,,And this is asked whenever a
Dialogue: 0,0:18:23.36,0:18:24.83,Default,,0,0,0,,gesture recognizer really tries
Dialogue: 0,0:18:24.87,0:18:26.81,Default,,0,0,0,,to begin and you can say no.
Dialogue: 0,0:18:26.94,0:18:28.76,Default,,0,0,0,,False in this case.
Dialogue: 0,0:18:29.06,0:18:31.11,Default,,0,0,0,,And if you do so, it will fail.
Dialogue: 0,0:18:31.11,0:18:33.36,Default,,0,0,0,,It will not -- it will fulfill
Dialogue: 0,0:18:33.36,0:18:34.94,Default,,0,0,0,,its failure requirements by
Dialogue: 0,0:18:34.94,0:18:36.92,Default,,0,0,0,,failing and its also a good
Dialogue: 0,0:18:37.20,0:18:39.39,Default,,0,0,0,,point to look into.
Dialogue: 0,0:18:39.56,0:18:41.06,Default,,0,0,0,,There's static properties is
Dialogue: 0,0:18:41.06,0:18:42.66,Default,,0,0,0,,enabled on UIGestureRecognizer.
Dialogue: 0,0:18:42.66,0:18:45.14,Default,,0,0,0,,You can set that to false
Dialogue: 0,0:18:45.14,0:18:47.03,Default,,0,0,0,,temporarily if you know your
Dialogue: 0,0:18:47.03,0:18:48.40,Default,,0,0,0,,state and you want to do that
Dialogue: 0,0:18:48.74,0:18:49.96,Default,,0,0,0,,statically, that is very
Dialogue: 0,0:18:49.96,0:18:50.49,Default,,0,0,0,,helpful.
Dialogue: 0,0:18:50.72,0:18:52.54,Default,,0,0,0,,And you also that trick we
Dialogue: 0,0:18:52.54,0:18:54.69,Default,,0,0,0,,talked about more often that
Dialogue: 0,0:18:54.99,0:18:57.06,Default,,0,0,0,,when you set this to false while
Dialogue: 0,0:18:57.06,0:18:58.58,Default,,0,0,0,,it recognizes, it will fail.
Dialogue: 0,0:18:58.86,0:19:00.16,Default,,0,0,0,,And if you set it immediately to
Dialogue: 0,0:19:00.25,0:19:01.77,Default,,0,0,0,,true again, your gesture
Dialogue: 0,0:19:01.77,0:19:04.23,Default,,0,0,0,,recognizer will begin respond to
Dialogue: 0,0:19:04.23,0:19:05.36,Default,,0,0,0,,the next touch sequence
Dialogue: 0,0:19:05.39,0:19:05.87,Default,,0,0,0,,directly.
Dialogue: 0,0:19:06.78,0:19:07.93,Default,,0,0,0,,And there's the allowed touch
Dialogue: 0,0:19:07.98,0:19:09.53,Default,,0,0,0,,types which default to all the
Dialogue: 0,0:19:09.53,0:19:11.69,Default,,0,0,0,,touch types that is direct,
Dialogue: 0,0:19:11.69,0:19:13.09,Default,,0,0,0,,indirect, and stylus.
Dialogue: 0,0:19:13.66,0:19:16.00,Default,,0,0,0,,But you can narrow it down to
Dialogue: 0,0:19:16.00,0:19:17.66,Default,,0,0,0,,just the stylus or just direct
Dialogue: 0,0:19:17.66,0:19:21.00,Default,,0,0,0,,touches, but if you really want
Dialogue: 0,0:19:21.28,0:19:23.01,Default,,0,0,0,,gestures to recognize between
Dialogue: 0,0:19:23.01,0:19:24.18,Default,,0,0,0,,different touch types you also
Dialogue: 0,0:19:24.18,0:19:25.86,Default,,0,0,0,,have to set requires exclusive
Dialogue: 0,0:19:25.86,0:19:27.55,Default,,0,0,0,,touch type to true.
Dialogue: 0,0:19:27.94,0:19:29.70,Default,,0,0,0,,Only then you can really do a
Dialogue: 0,0:19:29.70,0:19:31.17,Default,,0,0,0,,pinch between a pencil and a
Dialogue: 0,0:19:31.17,0:19:31.80,Default,,0,0,0,,direct touch.
Dialogue: 0,0:19:32.21,0:19:33.13,Default,,0,0,0,,Otherwise you can't.
Dialogue: 0,0:19:33.83,0:19:34.86,Default,,0,0,0,,Speaking of properties.
Dialogue: 0,0:19:34.86,0:19:36.21,Default,,0,0,0,,We have new properties for you
Dialogue: 0,0:19:36.39,0:19:37.89,Default,,0,0,0,,in iOS 11.
Dialogue: 0,0:19:37.89,0:19:39.09,Default,,0,0,0,,And that's a name.
Dialogue: 0,0:19:39.66,0:19:40.85,Default,,0,0,0,,Sounds simple but it's really
Dialogue: 0,0:19:40.85,0:19:42.26,Default,,0,0,0,,helpful because we encourage you
Dialogue: 0,0:19:42.26,0:19:43.36,Default,,0,0,0,,to actually use all of our
Dialogue: 0,0:19:43.36,0:19:44.44,Default,,0,0,0,,gesture recognizer and just
Dialogue: 0,0:19:44.44,0:19:45.26,Default,,0,0,0,,configure them.
Dialogue: 0,0:19:45.58,0:19:47.04,Default,,0,0,0,,So you can add an additional
Dialogue: 0,0:19:47.04,0:19:47.25,Default,,0,0,0,,name.
Dialogue: 0,0:19:47.25,0:19:48.40,Default,,0,0,0,,So in debugging you don't have
Dialogue: 0,0:19:48.47,0:19:49.71,Default,,0,0,0,,to look above the action method
Dialogue: 0,0:19:50.15,0:19:52.21,Default,,0,0,0,,and do that but only use that
Dialogue: 0,0:19:52.21,0:19:54.00,Default,,0,0,0,,for debugging.
Dialogue: 0,0:19:54.00,0:19:56.18,Default,,0,0,0,,We will not guarantee you that
Dialogue: 0,0:19:56.18,0:19:58.05,Default,,0,0,0,,we will mess with this by the
Dialogue: 0,0:19:58.05,0:19:58.49,Default,,0,0,0,,system.
Dialogue: 0,0:19:59.68,0:20:01.84,Default,,0,0,0,,And speaking about debugging.
Dialogue: 0,0:20:01.84,0:20:03.97,Default,,0,0,0,,We also have the break point
Dialogue: 0,0:20:03.97,0:20:05.08,Default,,0,0,0,,opportunities in gesture
Dialogue: 0,0:20:05.08,0:20:06.41,Default,,0,0,0,,recognizer should receive touch
Dialogue: 0,0:20:06.98,0:20:08.64,Default,,0,0,0,,to actually see if your setup
Dialogue: 0,0:20:08.68,0:20:09.15,Default,,0,0,0,,does work.
Dialogue: 0,0:20:09.50,0:20:11.12,Default,,0,0,0,,There's touches begin
Dialogue: 0,0:20:11.12,0:20:12.23,Default,,0,0,0,,[inaudible] responder base touch
Dialogue: 0,0:20:12.23,0:20:14.37,Default,,0,0,0,,handling method that helps you
Dialogue: 0,0:20:14.82,0:20:16.21,Default,,0,0,0,,look into the state of a gesture
Dialogue: 0,0:20:16.21,0:20:17.74,Default,,0,0,0,,recognizer system in a known
Dialogue: 0,0:20:17.78,0:20:19.11,Default,,0,0,0,,state as you have seen -- you've
Dialogue: 0,0:20:19.16,0:20:20.95,Default,,0,0,0,,seen the order how we do this.
Dialogue: 0,0:20:21.25,0:20:22.61,Default,,0,0,0,,Now you can look into that and
Dialogue: 0,0:20:22.61,0:20:25.87,Default,,0,0,0,,actually know what the values
Dialogue: 0,0:20:25.87,0:20:26.34,Default,,0,0,0,,mean.
Dialogue: 0,0:20:26.74,0:20:28.11,Default,,0,0,0,,And you can look at the gesture
Dialogue: 0,0:20:28.11,0:20:29.77,Default,,0,0,0,,recognizer of a touch, for
Dialogue: 0,0:20:29.77,0:20:31.89,Default,,0,0,0,,example, or you can look at the
Dialogue: 0,0:20:31.89,0:20:33.02,Default,,0,0,0,,touches for some gesture
Dialogue: 0,0:20:33.02,0:20:34.99,Default,,0,0,0,,recognizer by asking the event
Dialogue: 0,0:20:35.35,0:20:38.08,Default,,0,0,0,,or you can also collect the
Dialogue: 0,0:20:38.08,0:20:39.73,Default,,0,0,0,,gesture recognizers through the
Dialogue: 0,0:20:39.73,0:20:41.09,Default,,0,0,0,,view [inaudible] debugging
Dialogue: 0,0:20:41.09,0:20:41.43,Default,,0,0,0,,session.
Dialogue: 0,0:20:43.36,0:20:45.13,Default,,0,0,0,,Some words on custom
Dialogue: 0,0:20:45.13,0:20:46.18,Default,,0,0,0,,UIGestureRecognizers.
Dialogue: 0,0:20:46.66,0:20:47.95,Default,,0,0,0,,You should always begin late and
Dialogue: 0,0:20:48.00,0:20:48.79,Default,,0,0,0,,fail fast.
Dialogue: 0,0:20:49.19,0:20:50.90,Default,,0,0,0,,That means if you begin too
Dialogue: 0,0:20:50.90,0:20:52.09,Default,,0,0,0,,early, for example, in touches
Dialogue: 0,0:20:52.13,0:20:53.90,Default,,0,0,0,,begin you don't give any other
Dialogue: 0,0:20:53.90,0:20:55.74,Default,,0,0,0,,gesture recognizer the chance to
Dialogue: 0,0:20:55.74,0:20:56.83,Default,,0,0,0,,be not excluded.
Dialogue: 0,0:20:57.28,0:20:57.89,Default,,0,0,0,,This is bad.
Dialogue: 0,0:20:57.89,0:20:59.14,Default,,0,0,0,,So you should begin as late as
Dialogue: 0,0:20:59.17,0:21:00.79,Default,,0,0,0,,you can by still preserving the
Dialogue: 0,0:21:00.79,0:21:01.76,Default,,0,0,0,,intent of your gesture
Dialogue: 0,0:21:01.76,0:21:02.33,Default,,0,0,0,,recognizer.
Dialogue: 0,0:21:02.76,0:21:05.15,Default,,0,0,0,,And you also should fail fast so
Dialogue: 0,0:21:05.15,0:21:06.70,Default,,0,0,0,,you don't hang around failure
Dialogue: 0,0:21:06.70,0:21:08.01,Default,,0,0,0,,requirements of other gesture
Dialogue: 0,0:21:08.01,0:21:10.07,Default,,0,0,0,,recognizers which is very
Dialogue: 0,0:21:10.07,0:21:11.93,Default,,0,0,0,,important and you should also
Dialogue: 0,0:21:11.93,0:21:13.56,Default,,0,0,0,,always whenever you have seen a
Dialogue: 0,0:21:13.56,0:21:16.04,Default,,0,0,0,,touch move to the state to fail
Dialogue: 0,0:21:16.09,0:21:17.40,Default,,0,0,0,,even if we didn't move out of
Dialogue: 0,0:21:17.40,0:21:18.46,Default,,0,0,0,,possible, because you have to be
Dialogue: 0,0:21:18.46,0:21:19.81,Default,,0,0,0,,marked as being part of this
Dialogue: 0,0:21:19.81,0:21:21.17,Default,,0,0,0,,interaction and otherwise you
Dialogue: 0,0:21:21.17,0:21:23.03,Default,,0,0,0,,hang your system.
Dialogue: 0,0:21:23.03,0:21:24.53,Default,,0,0,0,,Also be serious about ignoring
Dialogue: 0,0:21:24.53,0:21:25.02,Default,,0,0,0,,touches.
Dialogue: 0,0:21:25.08,0:21:27.12,Default,,0,0,0,,Ignore them properly not just by
Dialogue: 0,0:21:27.12,0:21:28.23,Default,,0,0,0,,not handling them.
Dialogue: 0,0:21:28.61,0:21:30.02,Default,,0,0,0,,You should also call ignore.
Dialogue: 0,0:21:30.35,0:21:31.86,Default,,0,0,0,,That's for event on your custom
Dialogue: 0,0:21:31.86,0:21:33.68,Default,,0,0,0,,gesture recognizer subclass,
Dialogue: 0,0:21:33.68,0:21:34.89,Default,,0,0,0,,otherwise your touches will be
Dialogue: 0,0:21:34.89,0:21:36.86,Default,,0,0,0,,delayed although you weren't
Dialogue: 0,0:21:36.86,0:21:37.86,Default,,0,0,0,,even interested in them.
Dialogue: 0,0:21:38.42,0:21:39.66,Default,,0,0,0,,And also don't forget touches
Dialogue: 0,0:21:39.70,0:21:41.70,Default,,0,0,0,,cancelled as always.
Dialogue: 0,0:21:42.00,0:21:43.66,Default,,0,0,0,,And this becomes more important
Dialogue: 0,0:21:43.66,0:21:44.87,Default,,0,0,0,,this year because we cancel
Dialogue: 0,0:21:44.87,0:21:46.18,Default,,0,0,0,,touches more often with drag and
Dialogue: 0,0:21:46.18,0:21:46.45,Default,,0,0,0,,drop.
Dialogue: 0,0:21:47.75,0:21:50.12,Default,,0,0,0,,So your takeaway from here
Dialogue: 0,0:21:50.12,0:21:51.85,Default,,0,0,0,,should be revisit your setups.
Dialogue: 0,0:21:51.85,0:21:52.90,Default,,0,0,0,,Look into your gesture
Dialogue: 0,0:21:52.90,0:21:55.01,Default,,0,0,0,,recognizer setups and try to
Dialogue: 0,0:21:55.89,0:21:57.35,Default,,0,0,0,,make sense of the information
Dialogue: 0,0:21:57.35,0:21:58.58,Default,,0,0,0,,you've just heard and put them
Dialogue: 0,0:21:58.64,0:21:58.98,Default,,0,0,0,,together.
Dialogue: 0,0:21:59.86,0:22:01.02,Default,,0,0,0,,Revisit your exclusion and
Dialogue: 0,0:22:01.02,0:22:02.15,Default,,0,0,0,,failure requirements.
Dialogue: 0,0:22:02.15,0:22:03.61,Default,,0,0,0,,When you use one or the other,
Dialogue: 0,0:22:03.83,0:22:05.16,Default,,0,0,0,,how many simultaneous gesture
Dialogue: 0,0:22:05.16,0:22:06.36,Default,,0,0,0,,recognizers do you want to
Dialogue: 0,0:22:06.36,0:22:07.55,Default,,0,0,0,,achieve the same effect?
Dialogue: 0,0:22:09.25,0:22:10.75,Default,,0,0,0,,And also are your gesture
Dialogue: 0,0:22:10.75,0:22:12.34,Default,,0,0,0,,recognizers on the right views?
Dialogue: 0,0:22:12.34,0:22:13.56,Default,,0,0,0,,Are they deep enough?
Dialogue: 0,0:22:13.67,0:22:14.96,Default,,0,0,0,,The deeper you move them, the
Dialogue: 0,0:22:14.96,0:22:16.53,Default,,0,0,0,,less interference is with other
Dialogue: 0,0:22:16.53,0:22:17.31,Default,,0,0,0,,gesture recognizers.
Dialogue: 0,0:22:17.36,0:22:18.44,Default,,0,0,0,,The higher you move them the
Dialogue: 0,0:22:18.44,0:22:20.71,Default,,0,0,0,,more general you can make them.
Dialogue: 0,0:22:21.13,0:22:22.27,Default,,0,0,0,,So you these things you should
Dialogue: 0,0:22:22.34,0:22:22.90,Default,,0,0,0,,think about.
Dialogue: 0,0:22:23.86,0:22:26.28,Default,,0,0,0,,And by that, I want to hand over
Dialogue: 0,0:22:26.28,0:22:27.71,Default,,0,0,0,,to Glen for system gesture
Dialogue: 0,0:22:27.71,0:22:28.21,Default,,0,0,0,,interaction.
Dialogue: 0,0:22:28.60,0:22:28.88,Default,,0,0,0,,Thank you.
Dialogue: 0,0:22:29.52,0:22:35.55,Default,,0,0,0,,[ Clapping ]
Dialogue: 0,0:22:36.05,0:22:36.69,Default,,0,0,0,,>> Thanks, Dom.
Dialogue: 0,0:22:36.69,0:22:39.45,Default,,0,0,0,,My name is Glen Low.
Dialogue: 0,0:22:39.45,0:22:41.51,Default,,0,0,0,,I'm a software engineer with
Dialogue: 0,0:22:41.51,0:22:42.01,Default,,0,0,0,,UIkit.
Dialogue: 0,0:22:42.40,0:22:43.67,Default,,0,0,0,,I'm here to tell you about some
Dialogue: 0,0:22:43.67,0:22:45.71,Default,,0,0,0,,brand new API to improve the way
Dialogue: 0,0:22:45.71,0:22:46.94,Default,,0,0,0,,you to interact with the system
Dialogue: 0,0:22:47.35,0:22:48.53,Default,,0,0,0,,gesture recognizers.
Dialogue: 0,0:22:49.24,0:22:50.44,Default,,0,0,0,,But first a little
Dialogue: 0,0:22:50.44,0:22:51.06,Default,,0,0,0,,entertainment.
Dialogue: 0,0:22:52.23,0:22:53.98,Default,,0,0,0,,After a hard's day coding, this
Dialogue: 0,0:22:54.02,0:22:55.41,Default,,0,0,0,,software engineer needs to play.
Dialogue: 0,0:22:55.77,0:22:58.38,Default,,0,0,0,,So I fire up my demo bots and
Dialogue: 0,0:22:58.38,0:22:59.60,Default,,0,0,0,,move the robot around by
Dialogue: 0,0:22:59.60,0:23:00.55,Default,,0,0,0,,dragging up and down on the
Dialogue: 0,0:23:00.55,0:23:01.51,Default,,0,0,0,,virtual controls.
Dialogue: 0,0:23:01.51,0:23:03.13,Default,,0,0,0,,You see it on the upper right of
Dialogue: 0,0:23:03.13,0:23:03.72,Default,,0,0,0,,the screen.
Dialogue: 0,0:23:03.94,0:23:05.00,Default,,0,0,0,,The gray circles.
Dialogue: 0,0:23:05.96,0:23:06.98,Default,,0,0,0,,And it looks like this.
Dialogue: 0,0:23:08.47,0:23:11.18,Default,,0,0,0,,My little robot has to change
Dialogue: 0,0:23:11.18,0:23:13.28,Default,,0,0,0,,the bad robots into good robots.
Dialogue: 0,0:23:14.61,0:23:16.33,Default,,0,0,0,,As you see I'm doing quite well.
Dialogue: 0,0:23:17.80,0:23:19.04,Default,,0,0,0,,I think I missed one.
Dialogue: 0,0:23:19.04,0:23:20.47,Default,,0,0,0,,I need to get -- I need to go
Dialogue: 0,0:23:20.47,0:23:22.59,Default,,0,0,0,,down to get that one.
Dialogue: 0,0:23:23.77,0:23:25.97,Default,,0,0,0,,No oops, what happened?
Dialogue: 0,0:23:26.19,0:23:27.36,Default,,0,0,0,,I got that new cover sheet
Dialogue: 0,0:23:27.36,0:23:27.81,Default,,0,0,0,,instead?
Dialogue: 0,0:23:28.39,0:23:30.98,Default,,0,0,0,,That's not quite the user
Dialogue: 0,0:23:30.98,0:23:32.03,Default,,0,0,0,,experience we're looking for
Dialogue: 0,0:23:32.03,0:23:32.91,Default,,0,0,0,,here, is it?
Dialogue: 0,0:23:33.95,0:23:35.43,Default,,0,0,0,,So what exactly went wrong?
Dialogue: 0,0:23:36.72,0:23:38.17,Default,,0,0,0,,Well, we currently have a few
Dialogue: 0,0:23:38.32,0:23:40.82,Default,,0,0,0,,special gestures we call system
Dialogue: 0,0:23:40.82,0:23:41.39,Default,,0,0,0,,gestures.
Dialogue: 0,0:23:41.85,0:23:44.67,Default,,0,0,0,,You swipe up from the bottom,
Dialogue: 0,0:23:44.67,0:23:46.15,Default,,0,0,0,,you get the multitasking and
Dialogue: 0,0:23:46.15,0:23:46.47,Default,,0,0,0,,dock.
Dialogue: 0,0:23:47.46,0:23:49.80,Default,,0,0,0,,Swiping out from the -- to the
Dialogue: 0,0:23:50.01,0:23:52.01,Default,,0,0,0,,side brings in the slide over.
Dialogue: 0,0:23:52.65,0:23:55.00,Default,,0,0,0,,Swiping it from the top brings
Dialogue: 0,0:23:55.05,0:23:56.50,Default,,0,0,0,,down the cover sheet.
Dialogue: 0,0:23:57.67,0:23:59.86,Default,,0,0,0,,Now these special system
Dialogue: 0,0:23:59.86,0:24:02.15,Default,,0,0,0,,gestures recognizers fight with
Dialogue: 0,0:24:02.15,0:24:03.20,Default,,0,0,0,,your apps own gesture
Dialogue: 0,0:24:03.43,0:24:06.11,Default,,0,0,0,,recognizers and responders to
Dialogue: 0,0:24:06.11,0:24:07.09,Default,,0,0,0,,try and get to the touches
Dialogue: 0,0:24:07.09,0:24:07.21,Default,,0,0,0,,first.
Dialogue: 0,0:24:07.21,0:24:09.18,Default,,0,0,0,,So what could we do?
Dialogue: 0,0:24:10.50,0:24:12.04,Default,,0,0,0,,Well we do make an exception for
Dialogue: 0,0:24:12.10,0:24:13.04,Default,,0,0,0,,gesture recognizers.
Dialogue: 0,0:24:13.63,0:24:15.39,Default,,0,0,0,,Your tap, pinch, rotate, and
Dialogue: 0,0:24:15.39,0:24:17.65,Default,,0,0,0,,long press gesture recognizers
Dialogue: 0,0:24:17.65,0:24:18.97,Default,,0,0,0,,can [inaudible] touches at the
Dialogue: 0,0:24:19.02,0:24:21.02,Default,,0,0,0,,same time as a system gesture
Dialogue: 0,0:24:21.05,0:24:21.95,Default,,0,0,0,,recognizes.
Dialogue: 0,0:24:22.68,0:24:23.98,Default,,0,0,0,,Although sometimes they will get
Dialogue: 0,0:24:23.98,0:24:26.31,Default,,0,0,0,,cancelled if it's obvious later
Dialogue: 0,0:24:26.31,0:24:27.87,Default,,0,0,0,,on that it's actually a system
Dialogue: 0,0:24:27.87,0:24:28.21,Default,,0,0,0,,gesture.
Dialogue: 0,0:24:28.84,0:24:31.02,Default,,0,0,0,,That's why just tapping on a
Dialogue: 0,0:24:31.58,0:24:32.74,Default,,0,0,0,,button at the bottom won't
Dialogue: 0,0:24:32.74,0:24:34.28,Default,,0,0,0,,actually accidentally bring up
Dialogue: 0,0:24:34.28,0:24:36.11,Default,,0,0,0,,the dock.
Dialogue: 0,0:24:36.11,0:24:37.71,Default,,0,0,0,,That's because that's based on a
Dialogue: 0,0:24:37.74,0:24:39.02,Default,,0,0,0,,tap gesture recognizer.
Dialogue: 0,0:24:40.03,0:24:42.25,Default,,0,0,0,,On the other hand, we have pan
Dialogue: 0,0:24:42.96,0:24:44.29,Default,,0,0,0,,and swipe recognizers as well as
Dialogue: 0,0:24:44.29,0:24:46.29,Default,,0,0,0,,your old school responders.
Dialogue: 0,0:24:46.59,0:24:47.87,Default,,0,0,0,,While these will get the touches
Dialogue: 0,0:24:47.92,0:24:49.65,Default,,0,0,0,,after the system gesture
Dialogue: 0,0:24:49.65,0:24:51.14,Default,,0,0,0,,recognizers are done with them.
Dialogue: 0,0:24:51.73,0:24:53.06,Default,,0,0,0,,So when our users swipe from the
Dialogue: 0,0:24:53.06,0:24:54.62,Default,,0,0,0,,bottom, do you really want to
Dialogue: 0,0:24:54.62,0:24:56.63,Default,,0,0,0,,bring up the dock or do he want
Dialogue: 0,0:24:56.82,0:24:59.30,Default,,0,0,0,,to pan your view?
Dialogue: 0,0:24:59.52,0:25:03.28,Default,,0,0,0,,Well, we had to guess whether to
Dialogue: 0,0:25:03.40,0:25:04.59,Default,,0,0,0,,defer that system gesture.
Dialogue: 0,0:25:05.51,0:25:06.99,Default,,0,0,0,,For example, if your app
Dialogue: 0,0:25:06.99,0:25:09.12,Default,,0,0,0,,happened to hide the status bar,
Dialogue: 0,0:25:09.45,0:25:10.59,Default,,0,0,0,,we would defer bringing up the
Dialogue: 0,0:25:10.59,0:25:13.07,Default,,0,0,0,,dock but it was hard to guess
Dialogue: 0,0:25:13.07,0:25:14.27,Default,,0,0,0,,right all the time.
Dialogue: 0,0:25:14.47,0:25:16.54,Default,,0,0,0,,And really who knows best what
Dialogue: 0,0:25:16.54,0:25:17.39,Default,,0,0,0,,your user wants?
Dialogue: 0,0:25:18.62,0:25:21.08,Default,,0,0,0,,For iOS 11, you can now tell us
Dialogue: 0,0:25:21.46,0:25:22.98,Default,,0,0,0,,when to defer and where to
Dialogue: 0,0:25:23.06,0:25:23.36,Default,,0,0,0,,defer.
Dialogue: 0,0:25:24.78,0:25:25.59,Default,,0,0,0,,No more guesses.
Dialogue: 0,0:25:25.91,0:25:27.63,Default,,0,0,0,,You are not responsible for
Dialogue: 0,0:25:28.07,0:25:30.04,Default,,0,0,0,,deciding whether to defer system
Dialogue: 0,0:25:30.04,0:25:31.07,Default,,0,0,0,,gestures or not.
Dialogue: 0,0:25:32.27,0:25:33.87,Default,,0,0,0,,This means if your app hides the
Dialogue: 0,0:25:33.87,0:25:35.57,Default,,0,0,0,,status bar, we don't
Dialogue: 0,0:25:35.57,0:25:37.02,Default,,0,0,0,,automatically defer the dock
Dialogue: 0,0:25:37.13,0:25:37.56,Default,,0,0,0,,anymore.
Dialogue: 0,0:25:38.72,0:25:41.74,Default,,0,0,0,,What does this look like?
Dialogue: 0,0:25:42.20,0:25:43.84,Default,,0,0,0,,Instead you need to use this new
Dialogue: 0,0:25:43.84,0:25:46.51,Default,,0,0,0,,API we call ScreenEdgesDeferring
Dialogue: 0,0:25:46.61,0:25:47.90,Default,,0,0,0,,System Gestures.
Dialogue: 0,0:25:48.63,0:25:50.93,Default,,0,0,0,,This API lets you declare which
Dialogue: 0,0:25:50.93,0:25:52.55,Default,,0,0,0,,edges you want us to defer
Dialogue: 0,0:25:52.81,0:25:54.67,Default,,0,0,0,,system gestures in favor of your
Dialogue: 0,0:25:54.67,0:25:56.79,Default,,0,0,0,,own gesture recognizers.
Dialogue: 0,0:25:57.48,0:25:58.66,Default,,0,0,0,,In your view controllers,
Dialogue: 0,0:25:58.80,0:26:01.43,Default,,0,0,0,,override preferredScreenEdges
Dialogue: 0,0:26:01.95,0:26:03.71,Default,,0,0,0,,Deferring System Gesutres to
Dialogue: 0,0:26:03.71,0:26:05.05,Default,,0,0,0,,return the screen edges for
Dialogue: 0,0:26:05.05,0:26:05.61,Default,,0,0,0,,deferring.
Dialogue: 0,0:26:06.36,0:26:10.22,Default,,0,0,0,,Then whenever you want to return
Dialogue: 0,0:26:10.22,0:26:12.47,Default,,0,0,0,,something different, call
Dialogue: 0,0:26:12.68,0:26:14.77,Default,,0,0,0,,setNeedsUpdateOfScreen Edges
Dialogue: 0,0:26:14.81,0:26:16.74,Default,,0,0,0,,Deferring System Gestures.
Dialogue: 0,0:26:17.39,0:26:18.94,Default,,0,0,0,,Let's have a look at what is
Dialogue: 0,0:26:19.30,0:26:21.49,Default,,0,0,0,,this referral actually achieves.
Dialogue: 0,0:26:24.35,0:26:26.15,Default,,0,0,0,,Now when the user starts off in
Dialogue: 0,0:26:26.96,0:26:28.35,Default,,0,0,0,,the bottom, your gesture
Dialogue: 0,0:26:28.35,0:26:29.86,Default,,0,0,0,,recognizers and responders get
Dialogue: 0,0:26:29.86,0:26:31.00,Default,,0,0,0,,the touches immediately.
Dialogue: 0,0:26:31.67,0:26:33.81,Default,,0,0,0,,At the same time, we show a
Dialogue: 0,0:26:35.04,0:26:36.12,Default,,0,0,0,,tongue [phonetic], or a
Dialogue: 0,0:26:36.56,0:26:38.47,Default,,0,0,0,,[inaudible] so the user can see
Dialogue: 0,0:26:38.47,0:26:39.65,Default,,0,0,0,,that they can do more.
Dialogue: 0,0:26:40.33,0:26:41.88,Default,,0,0,0,,Swiping up from the bottom a
Dialogue: 0,0:26:41.94,0:26:43.65,Default,,0,0,0,,second time, then brings up the
Dialogue: 0,0:26:43.65,0:26:43.97,Default,,0,0,0,,dock.
Dialogue: 0,0:26:51.31,0:26:53.36,Default,,0,0,0,,One more method if you're
Dialogue: 0,0:26:53.36,0:26:54.97,Default,,0,0,0,,writing it all in container view
Dialogue: 0,0:26:54.97,0:26:55.48,Default,,0,0,0,,controller.
Dialogue: 0,0:26:56.25,0:26:57.24,Default,,0,0,0,,Most of the time this
Dialogue: 0,0:26:57.24,0:26:58.46,Default,,0,0,0,,[inaudible] for container view
Dialogue: 0,0:26:58.46,0:26:59.66,Default,,0,0,0,,controller is actually in the
Dialogue: 0,0:26:59.66,0:27:00.54,Default,,0,0,0,,child view controller.
Dialogue: 0,0:27:00.63,0:27:02.73,Default,,0,0,0,,So you'll want to return the
Dialogue: 0,0:27:02.73,0:27:04.49,Default,,0,0,0,,right one in your override of
Dialogue: 0,0:27:04.81,0:27:06.75,Default,,0,0,0,,childViewController For Screen
Dialogue: 0,0:27:06.75,0:27:08.30,Default,,0,0,0,,EdgesDeferring System Gestures
Dialogue: 0,0:27:08.90,0:27:10.69,Default,,0,0,0,,which, I think, is like the new
Dialogue: 0,0:27:10.69,0:27:12.02,Default,,0,0,0,,candidate for the longest method
Dialogue: 0,0:27:12.02,0:27:12.85,Default,,0,0,0,,name in iOS.
Dialogue: 0,0:27:13.53,0:27:16.07,Default,,0,0,0,,Now that you have all this power
Dialogue: 0,0:27:16.07,0:27:18.38,Default,,0,0,0,,at your fingertips, when should
Dialogue: 0,0:27:18.38,0:27:19.67,Default,,0,0,0,,you use it?
Dialogue: 0,0:27:20.28,0:27:23.97,Default,,0,0,0,,The short answer is don't do it.
Dialogue: 0,0:27:24.68,0:27:26.48,Default,,0,0,0,,Well why am I here, right?
Dialogue: 0,0:27:26.87,0:27:28.63,Default,,0,0,0,,The long answer, though, think
Dialogue: 0,0:27:28.63,0:27:30.95,Default,,0,0,0,,hard and long about when to use
Dialogue: 0,0:27:30.95,0:27:32.69,Default,,0,0,0,,it and why is that?
Dialogue: 0,0:27:33.28,0:27:35.02,Default,,0,0,0,,Well number one, your user is
Dialogue: 0,0:27:35.02,0:27:36.33,Default,,0,0,0,,familiar with swiping up to get
Dialogue: 0,0:27:36.33,0:27:37.89,Default,,0,0,0,,the dock and other system
Dialogue: 0,0:27:37.89,0:27:38.43,Default,,0,0,0,,gestures.
Dialogue: 0,0:27:38.43,0:27:40.52,Default,,0,0,0,,So using this API actually
Dialogue: 0,0:27:40.52,0:27:41.50,Default,,0,0,0,,breaks the intuition.
Dialogue: 0,0:27:41.65,0:27:43.48,Default,,0,0,0,,It breaks the expectation of
Dialogue: 0,0:27:43.48,0:27:44.32,Default,,0,0,0,,what actually happens.
Dialogue: 0,0:27:45.32,0:27:47.47,Default,,0,0,0,,Also if you're using tap, pinch,
Dialogue: 0,0:27:47.51,0:27:49.63,Default,,0,0,0,,rotate, and long press gesture
Dialogue: 0,0:27:49.63,0:27:51.36,Default,,0,0,0,,recognizers as we talked about
Dialogue: 0,0:27:51.36,0:27:52.82,Default,,0,0,0,,before, you're going to get
Dialogue: 0,0:27:52.82,0:27:54.15,Default,,0,0,0,,these touches first anyway
Dialogue: 0,0:27:54.15,0:27:55.83,Default,,0,0,0,,without even touching an API.
Dialogue: 0,0:27:56.68,0:28:00.48,Default,,0,0,0,,Third we reserve the right to
Dialogue: 0,0:28:00.48,0:28:02.47,Default,,0,0,0,,ignore or modify the suggested
Dialogue: 0,0:28:02.47,0:28:03.57,Default,,0,0,0,,edges for deferring.
Dialogue: 0,0:28:04.57,0:28:05.78,Default,,0,0,0,,So don't rely on the system
Dialogue: 0,0:28:05.78,0:28:07.62,Default,,0,0,0,,doing exactly what you asked it
Dialogue: 0,0:28:08.15,0:28:09.00,Default,,0,0,0,,to do.
Dialogue: 0,0:28:09.23,0:28:12.67,Default,,0,0,0,,And finally this API is for when
Dialogue: 0,0:28:12.67,0:28:14.06,Default,,0,0,0,,you really expect the user's
Dialogue: 0,0:28:14.12,0:28:16.17,Default,,0,0,0,,full attention interacting the
Dialogue: 0,0:28:16.17,0:28:18.05,Default,,0,0,0,,whole screen for long periods.
Dialogue: 0,0:28:18.35,0:28:20.32,Default,,0,0,0,,For example, if you're writing a
Dialogue: 0,0:28:20.32,0:28:22.72,Default,,0,0,0,,game or drawing apps ask
Dialogue: 0,0:28:22.72,0:28:24.88,Default,,0,0,0,,yourself, is your app really
Dialogue: 0,0:28:24.95,0:28:26.31,Default,,0,0,0,,that immersive enough to use
Dialogue: 0,0:28:26.31,0:28:26.81,Default,,0,0,0,,this API?
Dialogue: 0,0:28:28.30,0:28:29.75,Default,,0,0,0,,So on that note, I'd like to
Dialogue: 0,0:28:29.75,0:28:31.94,Default,,0,0,0,,hand you over to my colleague,
Dialogue: 0,0:28:32.03,0:28:34.53,Default,,0,0,0,,Mike Turner, who will talk to
Dialogue: 0,0:28:34.53,0:28:36.33,Default,,0,0,0,,you about how to work with drag
Dialogue: 0,0:28:37.08,0:28:37.57,Default,,0,0,0,,and drop.
Dialogue: 0,0:28:37.67,0:28:37.98,Default,,0,0,0,,Mikey?
Dialogue: 0,0:28:38.52,0:28:43.50,Default,,0,0,0,,[ Clapping ]
Dialogue: 0,0:28:46.42,0:28:47.41,Default,,0,0,0,,Thanks Glow.
Dialogue: 0,0:28:50.68,0:28:53.31,Default,,0,0,0,,So as you've seen with iOS 11,
Dialogue: 0,0:28:53.31,0:28:54.21,Default,,0,0,0,,we have a lot of great new
Dialogue: 0,0:28:54.21,0:28:55.63,Default,,0,0,0,,features and near the top of
Dialogue: 0,0:28:55.63,0:28:57.07,Default,,0,0,0,,that list is drag and drop.
Dialogue: 0,0:28:57.48,0:28:59.13,Default,,0,0,0,,And with drag and drop, the
Dialogue: 0,0:28:59.33,0:29:01.70,Default,,0,0,0,,users have an opportunity to
Dialogue: 0,0:29:01.70,0:29:03.01,Default,,0,0,0,,interact with your application
Dialogue: 0,0:29:03.01,0:29:04.27,Default,,0,0,0,,in exciting new ways.
Dialogue: 0,0:29:04.85,0:29:06.60,Default,,0,0,0,,But there is some things you'll
Dialogue: 0,0:29:06.60,0:29:09.02,Default,,0,0,0,,need to know about how to best
Dialogue: 0,0:29:09.02,0:29:10.69,Default,,0,0,0,,interact with drag and drop with
Dialogue: 0,0:29:10.69,0:29:11.65,Default,,0,0,0,,some of the existing gesture
Dialogue: 0,0:29:11.65,0:29:12.86,Default,,0,0,0,,recognizers in your application.
Dialogue: 0,0:29:13.19,0:29:14.09,Default,,0,0,0,,So I'd like to start with a
Dialogue: 0,0:29:14.09,0:29:15.49,Default,,0,0,0,,brief example of showing you how
Dialogue: 0,0:29:15.49,0:29:18.28,Default,,0,0,0,,you can make a view implement
Dialogue: 0,0:29:18.28,0:29:19.88,Default,,0,0,0,,drag and then what happens to
Dialogue: 0,0:29:19.88,0:29:20.59,Default,,0,0,0,,your existing gesture
Dialogue: 0,0:29:20.59,0:29:21.69,Default,,0,0,0,,recognizers when you do so.
Dialogue: 0,0:29:22.36,0:29:24.11,Default,,0,0,0,,So in iOS 11, we added a new
Dialogue: 0,0:29:24.11,0:29:25.88,Default,,0,0,0,,class called UIDragInteraction.
Dialogue: 0,0:29:26.50,0:29:28.14,Default,,0,0,0,,UIDragInteraction is really
Dialogue: 0,0:29:28.24,0:29:29.30,Default,,0,0,0,,super simple to use.
Dialogue: 0,0:29:29.30,0:29:30.22,Default,,0,0,0,,It's very familiar.
Dialogue: 0,0:29:30.49,0:29:31.39,Default,,0,0,0,,Similar to the pattern of
Dialogue: 0,0:29:31.39,0:29:33.01,Default,,0,0,0,,gesture recognizer or adding a
Dialogue: 0,0:29:33.01,0:29:34.77,Default,,0,0,0,,subview to a view and you just
Dialogue: 0,0:29:34.77,0:29:35.90,Default,,0,0,0,,initialize one of these with a
Dialogue: 0,0:29:35.90,0:29:37.32,Default,,0,0,0,,delegate of your choice and you
Dialogue: 0,0:29:37.32,0:29:38.67,Default,,0,0,0,,call add interaction on a view.
Dialogue: 0,0:29:38.67,0:29:39.97,Default,,0,0,0,,And that's pretty much all you
Dialogue: 0,0:29:39.97,0:29:40.42,Default,,0,0,0,,got to do.
Dialogue: 0,0:29:40.42,0:29:41.14,Default,,0,0,0,,You got to implement one
Dialogue: 0,0:29:41.14,0:29:42.70,Default,,0,0,0,,delegate API and you have drag.
Dialogue: 0,0:29:43.24,0:29:43.76,Default,,0,0,0,,Really simple.
Dialogue: 0,0:29:44.06,0:29:46.24,Default,,0,0,0,,So let's look at a quick
Dialogue: 0,0:29:46.24,0:29:47.55,Default,,0,0,0,,demonstration of what a view
Dialogue: 0,0:29:47.55,0:29:49.32,Default,,0,0,0,,looks like when you add a drag
Dialogue: 0,0:29:49.32,0:29:50.07,Default,,0,0,0,,interaction to it.
Dialogue: 0,0:29:50.33,0:29:51.50,Default,,0,0,0,,And here we're going to long
Dialogue: 0,0:29:51.50,0:29:52.83,Default,,0,0,0,,press on the view and then move
Dialogue: 0,0:29:52.83,0:29:53.51,Default,,0,0,0,,a little bit.
Dialogue: 0,0:29:54.66,0:29:56.05,Default,,0,0,0,,So when you long press, the view
Dialogue: 0,0:29:56.05,0:29:57.36,Default,,0,0,0,,lifts up off the screen.
Dialogue: 0,0:29:57.36,0:29:58.62,Default,,0,0,0,,When you move, it kind of tears
Dialogue: 0,0:29:58.62,0:29:59.66,Default,,0,0,0,,out of your application.
Dialogue: 0,0:30:00.66,0:30:01.92,Default,,0,0,0,,So let's see how drag
Dialogue: 0,0:30:01.92,0:30:03.08,Default,,0,0,0,,interaction accomplished this
Dialogue: 0,0:30:03.14,0:30:03.98,Default,,0,0,0,,behavior in your app.
Dialogue: 0,0:30:05.15,0:30:05.99,Default,,0,0,0,,So when we added the drag
Dialogue: 0,0:30:05.99,0:30:07.12,Default,,0,0,0,,interaction, it gets added to a
Dialogue: 0,0:30:07.12,0:30:08.68,Default,,0,0,0,,new interactions array on
Dialogue: 0,0:30:08.68,0:30:09.13,Default,,0,0,0,,UIView.
Dialogue: 0,0:30:09.69,0:30:11.00,Default,,0,0,0,,And the drag interaction, in
Dialogue: 0,0:30:11.00,0:30:12.14,Default,,0,0,0,,turn, creates some gesture
Dialogue: 0,0:30:12.14,0:30:13.54,Default,,0,0,0,,recognizers on its behalf.
Dialogue: 0,0:30:13.95,0:30:15.18,Default,,0,0,0,,Attaches them to your view and
Dialogue: 0,0:30:15.18,0:30:16.22,Default,,0,0,0,,becomes the delegate of those
Dialogue: 0,0:30:16.22,0:30:17.07,Default,,0,0,0,,gesture recognizers.
Dialogue: 0,0:30:17.21,0:30:18.33,Default,,0,0,0,,And it creates gesture
Dialogue: 0,0:30:18.33,0:30:19.77,Default,,0,0,0,,recognizers for initiating the
Dialogue: 0,0:30:19.77,0:30:21.45,Default,,0,0,0,,drag, managing relationships
Dialogue: 0,0:30:21.45,0:30:23.53,Default,,0,0,0,,with other gesture recognizers,
Dialogue: 0,0:30:23.53,0:30:25.20,Default,,0,0,0,,and adding additional items to
Dialogue: 0,0:30:25.20,0:30:26.28,Default,,0,0,0,,an existing drag in the
Dialogue: 0,0:30:26.28,0:30:26.82,Default,,0,0,0,,application.
Dialogue: 0,0:30:27.43,0:30:30.42,Default,,0,0,0,,So to make this example a little
Dialogue: 0,0:30:30.42,0:30:32.81,Default,,0,0,0,,bit more concrete, let's add our
Dialogue: 0,0:30:32.81,0:30:34.53,Default,,0,0,0,,own UILongPressGestureRecognizer
Dialogue: 0,0:30:34.53,0:30:35.87,Default,,0,0,0,,to the view and we'll wire that
Dialogue: 0,0:30:35.87,0:30:38.35,Default,,0,0,0,,up to an action that will pop an
Dialogue: 0,0:30:38.53,0:30:40.02,Default,,0,0,0,,activity view controller up for
Dialogue: 0,0:30:40.02,0:30:40.73,Default,,0,0,0,,this image.
Dialogue: 0,0:30:41.30,0:30:43.06,Default,,0,0,0,,So here when we get the gesture
Dialogue: 0,0:30:43.06,0:30:44.29,Default,,0,0,0,,recognizer state began, we're
Dialogue: 0,0:30:44.29,0:30:45.41,Default,,0,0,0,,going to present an activity
Dialogue: 0,0:30:45.41,0:30:47.05,Default,,0,0,0,,view controller and we get the
Dialogue: 0,0:30:47.05,0:30:48.28,Default,,0,0,0,,gesture recognizer state cancel,
Dialogue: 0,0:30:48.28,0:30:49.35,Default,,0,0,0,,we're going to dismiss that
Dialogue: 0,0:30:49.35,0:30:50.32,Default,,0,0,0,,activity view controller.
Dialogue: 0,0:30:51.69,0:30:52.51,Default,,0,0,0,,So let's look at that same
Dialogue: 0,0:30:52.51,0:30:53.92,Default,,0,0,0,,example again where we long
Dialogue: 0,0:30:53.92,0:30:55.72,Default,,0,0,0,,press on the view and move.
Dialogue: 0,0:30:56.15,0:30:57.31,Default,,0,0,0,,Now that we have our own
Dialogue: 0,0:30:57.31,0:30:58.74,Default,,0,0,0,,UILongPressGestureRecognizer
Dialogue: 0,0:30:58.74,0:30:59.25,Default,,0,0,0,,alongside.
Dialogue: 0,0:31:00.63,0:31:02.95,Default,,0,0,0,,So here we long press and move.
Dialogue: 0,0:31:03.96,0:31:05.18,Default,,0,0,0,,And I didn't see any activity
Dialogue: 0,0:31:05.18,0:31:05.89,Default,,0,0,0,,view controller there.
Dialogue: 0,0:31:07.15,0:31:08.26,Default,,0,0,0,,And that's because your long
Dialogue: 0,0:31:08.26,0:31:09.45,Default,,0,0,0,,press gesture recognizers are
Dialogue: 0,0:31:09.45,0:31:11.01,Default,,0,0,0,,now delayed when they're
Dialogue: 0,0:31:11.01,0:31:12.87,Default,,0,0,0,,alongside a UI drag interaction.
Dialogue: 0,0:31:14.11,0:31:15.36,Default,,0,0,0,,So let's adjust our user
Dialogue: 0,0:31:15.36,0:31:16.43,Default,,0,0,0,,interaction a little bit here to
Dialogue: 0,0:31:16.50,0:31:17.52,Default,,0,0,0,,see if we can get the activity
Dialogue: 0,0:31:17.52,0:31:18.53,Default,,0,0,0,,view controller to show up.
Dialogue: 0,0:31:19.01,0:31:20.33,Default,,0,0,0,,This time we'll long press and
Dialogue: 0,0:31:20.33,0:31:22.09,Default,,0,0,0,,we'll hold for just a little bit
Dialogue: 0,0:31:22.19,0:31:23.61,Default,,0,0,0,,and then we'll move.
Dialogue: 0,0:31:24.52,0:31:26.99,Default,,0,0,0,,So here we long press, hold, and
Dialogue: 0,0:31:26.99,0:31:27.37,Default,,0,0,0,,then move.
Dialogue: 0,0:31:27.81,0:31:29.08,Default,,0,0,0,,So here we saw the activity view
Dialogue: 0,0:31:29.08,0:31:30.87,Default,,0,0,0,,controller briefly and then it
Dialogue: 0,0:31:30.87,0:31:31.67,Default,,0,0,0,,was dismissed.
Dialogue: 0,0:31:32.29,0:31:34.70,Default,,0,0,0,,And that's because a beginning
Dialogue: 0,0:31:34.70,0:31:36.37,Default,,0,0,0,,drag will cancel the touch you
Dialogue: 0,0:31:36.37,0:31:37.70,Default,,0,0,0,,used to begin that drag in your
Dialogue: 0,0:31:37.70,0:31:38.25,Default,,0,0,0,,application.
Dialogue: 0,0:31:38.71,0:31:39.97,Default,,0,0,0,,So we'll send touches cancelled
Dialogue: 0,0:31:40.03,0:31:41.14,Default,,0,0,0,,for that touch to the app.
Dialogue: 0,0:31:41.46,0:31:42.58,Default,,0,0,0,,The app will then send it to its
Dialogue: 0,0:31:42.61,0:31:43.47,Default,,0,0,0,,gesture recognizers and
Dialogue: 0,0:31:43.47,0:31:44.15,Default,,0,0,0,,responders.
Dialogue: 0,0:31:44.47,0:31:45.48,Default,,0,0,0,,The gesture recognizer will then
Dialogue: 0,0:31:45.48,0:31:47.31,Default,,0,0,0,,send the cancelled state to its
Dialogue: 0,0:31:47.31,0:31:49.37,Default,,0,0,0,,action and thus dismissing that
Dialogue: 0,0:31:49.37,0:31:50.33,Default,,0,0,0,,activity view controller.
Dialogue: 0,0:31:52.02,0:31:53.78,Default,,0,0,0,,So in a compact trait
Dialogue: 0,0:31:53.78,0:31:56.04,Default,,0,0,0,,environment, adaptivity will
Dialogue: 0,0:31:56.36,0:31:57.47,Default,,0,0,0,,take that presentation of the
Dialogue: 0,0:31:57.47,0:31:58.61,Default,,0,0,0,,activity view controller and
Dialogue: 0,0:31:58.61,0:32:00.01,Default,,0,0,0,,it'll turn into an action sheet.
Dialogue: 0,0:32:00.58,0:32:01.79,Default,,0,0,0,,So let's see what happens in
Dialogue: 0,0:32:01.79,0:32:02.45,Default,,0,0,0,,that case.
Dialogue: 0,0:32:03.14,0:32:03.99,Default,,0,0,0,,So we'll long press.
Dialogue: 0,0:32:04.31,0:32:06.64,Default,,0,0,0,,Hold for a bit and then move in
Dialogue: 0,0:32:06.64,0:32:07.71,Default,,0,0,0,,a compact trait environment.
Dialogue: 0,0:32:08.96,0:32:10.00,Default,,0,0,0,,Here we long press.
Dialogue: 0,0:32:10.60,0:32:11.22,Default,,0,0,0,,Hold and move.
Dialogue: 0,0:32:12.00,0:32:13.37,Default,,0,0,0,,No activity view controller
Dialogue: 0,0:32:13.37,0:32:13.62,Default,,0,0,0,,again.
Dialogue: 0,0:32:14.47,0:32:16.30,Default,,0,0,0,,So let's see what happens here.
Dialogue: 0,0:32:16.57,0:32:17.65,Default,,0,0,0,,Your long presses are being
Dialogue: 0,0:32:17.65,0:32:19.43,Default,,0,0,0,,delayed until the touch ends in
Dialogue: 0,0:32:19.43,0:32:20.87,Default,,0,0,0,,this case because in a compact
Dialogue: 0,0:32:20.87,0:32:22.69,Default,,0,0,0,,trait environment, most of the
Dialogue: 0,0:32:22.75,0:32:24.31,Default,,0,0,0,,presentations turn into modal
Dialogue: 0,0:32:24.31,0:32:26.10,Default,,0,0,0,,presentation styles or action
Dialogue: 0,0:32:26.10,0:32:27.76,Default,,0,0,0,,sheets that would cover the
Dialogue: 0,0:32:27.76,0:32:29.06,Default,,0,0,0,,impending drag and that's not a
Dialogue: 0,0:32:29.06,0:32:30.20,Default,,0,0,0,,great user experience.
Dialogue: 0,0:32:31.24,0:32:32.49,Default,,0,0,0,,So let's look at how we can
Dialogue: 0,0:32:32.49,0:32:33.96,Default,,0,0,0,,adjust our user interaction here
Dialogue: 0,0:32:34.31,0:32:35.38,Default,,0,0,0,,to get that activity view
Dialogue: 0,0:32:35.38,0:32:35.79,Default,,0,0,0,,controller.
Dialogue: 0,0:32:35.99,0:32:37.94,Default,,0,0,0,,So we'll long press and lift.
Dialogue: 0,0:32:39.33,0:32:41.60,Default,,0,0,0,,So we long press and then lift
Dialogue: 0,0:32:41.60,0:32:42.05,Default,,0,0,0,,the touch.
Dialogue: 0,0:32:42.05,0:32:43.09,Default,,0,0,0,,And there you have it.
Dialogue: 0,0:32:43.35,0:32:44.99,Default,,0,0,0,,Your action sheet is up with the
Dialogue: 0,0:32:44.99,0:32:45.96,Default,,0,0,0,,activity view controller.
Dialogue: 0,0:32:47.56,0:32:49.63,Default,,0,0,0,,So UIDragInteraction also has
Dialogue: 0,0:32:49.75,0:32:51.49,Default,,0,0,0,,some built in ability to add
Dialogue: 0,0:32:51.76,0:32:53.39,Default,,0,0,0,,additional items to a drag and
Dialogue: 0,0:32:53.39,0:32:55.42,Default,,0,0,0,,as I said, it creates another
Dialogue: 0,0:32:55.42,0:32:57.74,Default,,0,0,0,,gesture recognizer to perform
Dialogue: 0,0:32:57.74,0:32:58.31,Default,,0,0,0,,this ability.
Dialogue: 0,0:32:59.28,0:33:00.55,Default,,0,0,0,,So here, this is a quick
Dialogue: 0,0:33:00.55,0:33:01.10,Default,,0,0,0,,demonstration.
Dialogue: 0,0:33:01.10,0:33:02.77,Default,,0,0,0,,We had a long press and move.
Dialogue: 0,0:33:02.77,0:33:04.74,Default,,0,0,0,,And then we can tap again on the
Dialogue: 0,0:33:04.74,0:33:06.33,Default,,0,0,0,,view to add additional items.
Dialogue: 0,0:33:07.25,0:33:09.22,Default,,0,0,0,,And it handles that tap for you
Dialogue: 0,0:33:09.47,0:33:10.39,Default,,0,0,0,,but you do have a way of
Dialogue: 0,0:33:10.39,0:33:11.38,Default,,0,0,0,,influencing this.
Dialogue: 0,0:33:11.94,0:33:13.34,Default,,0,0,0,,First this is an optional
Dialogue: 0,0:33:13.34,0:33:13.78,Default,,0,0,0,,behavior.
Dialogue: 0,0:33:13.78,0:33:15.69,Default,,0,0,0,,So the delegate method, items
Dialogue: 0,0:33:15.69,0:33:17.13,Default,,0,0,0,,for adding to on the
Dialogue: 0,0:33:17.13,0:33:18.73,Default,,0,0,0,,UIDragInteraction is optional.
Dialogue: 0,0:33:18.80,0:33:20.18,Default,,0,0,0,,You don't implement, you won't
Dialogue: 0,0:33:20.18,0:33:21.64,Default,,0,0,0,,get the adding behavior but if
Dialogue: 0,0:33:21.64,0:33:22.82,Default,,0,0,0,,you do implement it, you can
Dialogue: 0,0:33:22.82,0:33:24.64,Default,,0,0,0,,conditionally return zero items
Dialogue: 0,0:33:24.64,0:33:26.15,Default,,0,0,0,,in this API to continue
Dialogue: 0,0:33:26.39,0:33:27.79,Default,,0,0,0,,processing this touch as you
Dialogue: 0,0:33:27.79,0:33:29.59,Default,,0,0,0,,normally would in your app.
Dialogue: 0,0:33:31.26,0:33:33.04,Default,,0,0,0,,So it's really quite simple to
Dialogue: 0,0:33:33.04,0:33:34.41,Default,,0,0,0,,adapt your application when
Dialogue: 0,0:33:34.41,0:33:35.79,Default,,0,0,0,,you're using UIDragInteraction.
Dialogue: 0,0:33:36.05,0:33:37.59,Default,,0,0,0,,It's pretty much hands off but
Dialogue: 0,0:33:37.59,0:33:40.00,Default,,0,0,0,,you need a few basic concepts to
Dialogue: 0,0:33:40.26,0:33:41.25,Default,,0,0,0,,get you the rest of the way.
Dialogue: 0,0:33:41.25,0:33:42.92,Default,,0,0,0,,And the first thing you do is
Dialogue: 0,0:33:42.92,0:33:44.28,Default,,0,0,0,,just examine your existing
Dialogue: 0,0:33:44.28,0:33:44.91,Default,,0,0,0,,actions.
Dialogue: 0,0:33:45.18,0:33:46.53,Default,,0,0,0,,Do they make sense alongside
Dialogue: 0,0:33:46.53,0:33:47.53,Default,,0,0,0,,UIDragInteraction?
Dialogue: 0,0:33:47.87,0:33:49.59,Default,,0,0,0,,In some cases, UIDragInteraction
Dialogue: 0,0:33:49.59,0:33:50.67,Default,,0,0,0,,might replace some of that
Dialogue: 0,0:33:50.67,0:33:52.22,Default,,0,0,0,,existing functionality that you
Dialogue: 0,0:33:52.22,0:33:53.47,Default,,0,0,0,,had from a UILongPress.
Dialogue: 0,0:33:54.49,0:33:55.89,Default,,0,0,0,,And you need to be careful
Dialogue: 0,0:33:55.89,0:33:57.40,Default,,0,0,0,,presenting modal UI when you
Dialogue: 0,0:33:57.40,0:33:59.28,Default,,0,0,0,,have a long press -- excuse me,
Dialogue: 0,0:33:59.28,0:33:59.61,Default,,0,0,0,,when you have a
Dialogue: 0,0:33:59.61,0:34:00.53,Default,,0,0,0,,UIDragInteraction.
Dialogue: 0,0:34:00.86,0:34:03.38,Default,,0,0,0,,And that's because in a standard
Dialogue: 0,0:34:03.38,0:34:05.40,Default,,0,0,0,,trait environment, it's going to
Dialogue: 0,0:34:05.40,0:34:06.83,Default,,0,0,0,,be delayed and it might end be
Dialogue: 0,0:34:06.83,0:34:08.24,Default,,0,0,0,,presenting over top of the drag
Dialogue: 0,0:34:08.52,0:34:09.29,Default,,0,0,0,,and you need to take the
Dialogue: 0,0:34:09.29,0:34:10.28,Default,,0,0,0,,appropriate action here.
Dialogue: 0,0:34:11.29,0:34:12.65,Default,,0,0,0,,And then you need to handle the
Dialogue: 0,0:34:12.65,0:34:14.09,Default,,0,0,0,,cancelled state in your
Dialogue: 0,0:34:14.09,0:34:15.00,Default,,0,0,0,,UIGestureRecognizers.
Dialogue: 0,0:34:15.42,0:34:16.82,Default,,0,0,0,,As you see when the drag begins,
Dialogue: 0,0:34:16.82,0:34:17.92,Default,,0,0,0,,we send touch is cancelled.
Dialogue: 0,0:34:18.02,0:34:19.25,Default,,0,0,0,,So if you're not handling the
Dialogue: 0,0:34:19.25,0:34:20.47,Default,,0,0,0,,cancelled state in your gesture
Dialogue: 0,0:34:20.47,0:34:21.93,Default,,0,0,0,,recognizer you won't have the
Dialogue: 0,0:34:21.93,0:34:23.01,Default,,0,0,0,,opportunity to take the
Dialogue: 0,0:34:23.01,0:34:24.49,Default,,0,0,0,,appropriate action in our
Dialogue: 0,0:34:24.49,0:34:25.96,Default,,0,0,0,,example that was dismissing the
Dialogue: 0,0:34:25.96,0:34:26.97,Default,,0,0,0,,activity view controller.
Dialogue: 0,0:34:27.63,0:34:29.09,Default,,0,0,0,,And you need to remember one
Dialogue: 0,0:34:29.09,0:34:31.53,Default,,0,0,0,,really important but super cool
Dialogue: 0,0:34:31.53,0:34:33.32,Default,,0,0,0,,part of UIDragInteraction and
Dialogue: 0,0:34:33.32,0:34:34.71,Default,,0,0,0,,that's your app is fully
Dialogue: 0,0:34:34.71,0:34:35.91,Default,,0,0,0,,interactive during a drag.
Dialogue: 0,0:34:36.61,0:34:38.17,Default,,0,0,0,,So you might have some
Dialogue: 0,0:34:38.21,0:34:39.55,Default,,0,0,0,,interaction that you wouldn't
Dialogue: 0,0:34:39.55,0:34:39.95,Default,,0,0,0,,expect.
Dialogue: 0,0:34:39.95,0:34:41.85,Default,,0,0,0,,So you've been warned on that.
Dialogue: 0,0:34:43.86,0:34:45.99,Default,,0,0,0,,So Dom came up here and told us
Dialogue: 0,0:34:45.99,0:34:48.03,Default,,0,0,0,,about how you can best leverage
Dialogue: 0,0:34:48.08,0:34:50.79,Default,,0,0,0,,the gesture recognizer system to
Dialogue: 0,0:34:50.79,0:34:52.39,Default,,0,0,0,,get the setup that you want and
Dialogue: 0,0:34:52.39,0:34:53.46,Default,,0,0,0,,how you can use failure
Dialogue: 0,0:34:53.46,0:34:55.95,Default,,0,0,0,,requirements and exclusion to
Dialogue: 0,0:34:55.95,0:34:57.07,Default,,0,0,0,,influence how gesture
Dialogue: 0,0:34:57.07,0:34:58.34,Default,,0,0,0,,recognizers fire with each
Dialogue: 0,0:34:58.34,0:34:58.53,Default,,0,0,0,,other.
Dialogue: 0,0:34:59.44,0:35:01.28,Default,,0,0,0,,And he made the important point
Dialogue: 0,0:35:01.28,0:35:02.71,Default,,0,0,0,,of the gesture recognizers come
Dialogue: 0,0:35:02.78,0:35:03.13,Default,,0,0,0,,first.
Dialogue: 0,0:35:03.94,0:35:05.82,Default,,0,0,0,,So when we send touches through
Dialogue: 0,0:35:05.82,0:35:06.84,Default,,0,0,0,,application the gesture
Dialogue: 0,0:35:06.84,0:35:08.77,Default,,0,0,0,,recognizers can block your
Dialogue: 0,0:35:08.77,0:35:10.16,Default,,0,0,0,,responder based touch handling.
Dialogue: 0,0:35:10.37,0:35:11.52,Default,,0,0,0,,So you should always attempt to
Dialogue: 0,0:35:11.52,0:35:12.81,Default,,0,0,0,,use gesture recognizers when at
Dialogue: 0,0:35:12.81,0:35:14.28,Default,,0,0,0,,all possible to get the best
Dialogue: 0,0:35:14.28,0:35:14.79,Default,,0,0,0,,results.
Dialogue: 0,0:35:15.44,0:35:19.01,Default,,0,0,0,,And Glen told us how we can use
Dialogue: 0,0:35:19.01,0:35:20.79,Default,,0,0,0,,the new system gesture deferring
Dialogue: 0,0:35:20.79,0:35:24.12,Default,,0,0,0,,APIs to give preference to the
Dialogue: 0,0:35:24.12,0:35:25.47,Default,,0,0,0,,gesture recognizers within our
Dialogue: 0,0:35:25.47,0:35:27.37,Default,,0,0,0,,application when swiping from
Dialogue: 0,0:35:27.37,0:35:27.94,Default,,0,0,0,,the edges.
Dialogue: 0,0:35:28.35,0:35:29.49,Default,,0,0,0,,And you should use these very
Dialogue: 0,0:35:29.49,0:35:30.81,Default,,0,0,0,,sparingly, you know, in full
Dialogue: 0,0:35:30.81,0:35:31.88,Default,,0,0,0,,screen situations.
Dialogue: 0,0:35:32.19,0:35:33.13,Default,,0,0,0,,Things where your users are
Dialogue: 0,0:35:33.13,0:35:34.85,Default,,0,0,0,,going to expect interaction in
Dialogue: 0,0:35:34.85,0:35:36.22,Default,,0,0,0,,your app and not the system
Dialogue: 0,0:35:36.22,0:35:36.70,Default,,0,0,0,,behavior.
Dialogue: 0,0:35:37.07,0:35:37.99,Default,,0,0,0,,So very sparingly.
Dialogue: 0,0:35:38.81,0:35:40.65,Default,,0,0,0,,And finally, we had a brief talk
Dialogue: 0,0:35:40.65,0:35:42.44,Default,,0,0,0,,about how you can adapt your app
Dialogue: 0,0:35:42.92,0:35:44.69,Default,,0,0,0,,to use UIDragInteraction and
Dialogue: 0,0:35:44.69,0:35:45.53,Default,,0,0,0,,it's really quite simple.
Dialogue: 0,0:35:46.46,0:35:47.50,Default,,0,0,0,,So I hope you add
Dialogue: 0,0:35:47.50,0:35:49.06,Default,,0,0,0,,UIDragInteraction to most of
Dialogue: 0,0:35:49.06,0:35:49.58,Default,,0,0,0,,your views.
Dialogue: 0,0:35:50.99,0:35:52.66,Default,,0,0,0,,And for more information, you
Dialogue: 0,0:35:52.99,0:35:54.78,Default,,0,0,0,,can see the video in replay on
Dialogue: 0,0:35:54.78,0:35:55.68,Default,,0,0,0,,the following website.
Dialogue: 0,0:35:56.09,0:35:57.86,Default,,0,0,0,,We have some great past sessions
Dialogue: 0,0:35:57.86,0:35:59.13,Default,,0,0,0,,that go in-depth on handling
Dialogue: 0,0:35:59.13,0:36:00.30,Default,,0,0,0,,events in UIkit.
Dialogue: 0,0:36:00.43,0:36:01.30,Default,,0,0,0,,If you haven't seen them, I
Dialogue: 0,0:36:01.34,0:36:02.40,Default,,0,0,0,,highly would recommend those.
Dialogue: 0,0:36:03.28,0:36:05.42,Default,,0,0,0,,And we have some other sessions
Dialogue: 0,0:36:05.42,0:36:06.74,Default,,0,0,0,,related to drag and drop and
Dialogue: 0,0:36:06.74,0:36:08.47,Default,,0,0,0,,animations that you should check
Dialogue: 0,0:36:08.47,0:36:09.98,Default,,0,0,0,,out, and have a great WWDC.
Dialogue: 0,0:36:10.52,0:36:15.50,Default,,0,0,0,,[ Applause ]
