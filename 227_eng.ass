[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:22.81,0:00:23.41,Default,,0,0,0,,>> Good morning.
Dialogue: 0,0:00:27.59,0:00:29.78,Default,,0,0,0,,Welcome to Session 227, Data
Dialogue: 0,0:00:29.78,0:00:30.93,Default,,0,0,0,,Delivery with Drag and Drop.
Dialogue: 0,0:00:31.56,0:00:33.20,Default,,0,0,0,,My name is Dave Rahardja, and
Dialogue: 0,0:00:33.20,0:00:34.45,Default,,0,0,0,,I'm joined here, today, by my
Dialogue: 0,0:00:34.45,0:00:35.64,Default,,0,0,0,,colleague Tanu, who's going to
Dialogue: 0,0:00:35.64,0:00:36.48,Default,,0,0,0,,be operating the demos.
Dialogue: 0,0:00:40.41,0:00:41.60,Default,,0,0,0,,So, if you've been following
Dialogue: 0,0:00:41.60,0:00:43.11,Default,,0,0,0,,along in our series of Drag and
Dialogue: 0,0:00:43.11,0:00:44.89,Default,,0,0,0,,Drop sessions, this diagram
Dialogue: 0,0:00:44.89,0:00:46.15,Default,,0,0,0,,should be pretty familiar to
Dialogue: 0,0:00:46.39,0:00:46.66,Default,,0,0,0,,you.
Dialogue: 0,0:00:47.48,0:00:48.89,Default,,0,0,0,,During this session, we're going
Dialogue: 0,0:00:48.89,0:00:50.64,Default,,0,0,0,,to be focusing on this part of
Dialogue: 0,0:00:50.64,0:00:53.03,Default,,0,0,0,,the diagram, Item Providers.
Dialogue: 0,0:00:53.71,0:00:55.24,Default,,0,0,0,,Now, Item Providers are
Dialogue: 0,0:00:55.24,0:00:57.25,Default,,0,0,0,,fundamental to the way data is
Dialogue: 0,0:00:57.25,0:00:58.97,Default,,0,0,0,,transferred between applications
Dialogue: 0,0:00:58.97,0:00:59.77,Default,,0,0,0,,in drag and drop.
Dialogue: 0,0:01:00.66,0:01:02.35,Default,,0,0,0,,So, in this session, we're going
Dialogue: 0,0:01:02.35,0:01:05.07,Default,,0,0,0,,to cover four topics about item
Dialogue: 0,0:01:05.07,0:01:05.61,Default,,0,0,0,,providers.
Dialogue: 0,0:01:05.92,0:01:07.02,Default,,0,0,0,,We're going to cover some
Dialogue: 0,0:01:07.02,0:01:07.75,Default,,0,0,0,,basics.
Dialogue: 0,0:01:08.46,0:01:09.72,Default,,0,0,0,,We're going to talk about how
Dialogue: 0,0:01:09.72,0:01:12.00,Default,,0,0,0,,uniform type identifiers help
Dialogue: 0,0:01:12.00,0:01:13.56,Default,,0,0,0,,your apps to be more compatible
Dialogue: 0,0:01:13.56,0:01:16.07,Default,,0,0,0,,with others in the system.
Dialogue: 0,0:01:16.84,0:01:18.42,Default,,0,0,0,,We're going to cover how you can
Dialogue: 0,0:01:18.42,0:01:20.61,Default,,0,0,0,,create model classes that work
Dialogue: 0,0:01:20.61,0:01:21.92,Default,,0,0,0,,really well with drag and drop.
Dialogue: 0,0:01:23.27,0:01:24.09,Default,,0,0,0,,And finally, we're going to
Dialogue: 0,0:01:24.09,0:01:25.63,Default,,0,0,0,,close out by covering some
Dialogue: 0,0:01:25.63,0:01:27.66,Default,,0,0,0,,advanced topics that'll add some
Dialogue: 0,0:01:27.66,0:01:29.17,Default,,0,0,0,,real polish to your apps in our
Dialogue: 0,0:01:29.17,0:01:29.69,Default,,0,0,0,,ecosystem.
Dialogue: 0,0:01:30.91,0:01:31.81,Default,,0,0,0,,So, let's get started.
Dialogue: 0,0:01:34.18,0:01:35.21,Default,,0,0,0,,Let's talk about some
Dialogue: 0,0:01:35.21,0:01:36.77,Default,,0,0,0,,NSItemProvider basics.
Dialogue: 0,0:01:37.26,0:01:38.70,Default,,0,0,0,,So, what's an NSItemProvider?
Dialogue: 0,0:01:39.76,0:01:43.41,Default,,0,0,0,,Simply put, an NSItemProvider is
Dialogue: 0,0:01:43.41,0:01:44.23,Default,,0,0,0,,a data promise.
Dialogue: 0,0:01:46.06,0:01:47.92,Default,,0,0,0,,All data is loaded through drag
Dialogue: 0,0:01:47.92,0:01:50.62,Default,,0,0,0,,and drop asynchronously and on
Dialogue: 0,0:01:50.62,0:01:51.00,Default,,0,0,0,,demand.
Dialogue: 0,0:01:52.51,0:01:55.00,Default,,0,0,0,,An NSItemProvider can also, help
Dialogue: 0,0:01:55.00,0:01:57.31,Default,,0,0,0,,you to provide progress and
Dialogue: 0,0:01:57.31,0:01:58.91,Default,,0,0,0,,cancellation of data transfer.
Dialogue: 0,0:02:00.33,0:02:01.74,Default,,0,0,0,,And it is supported widely in
Dialogue: 0,0:02:01.74,0:02:02.20,Default,,0,0,0,,our API.
Dialogue: 0,0:02:02.20,0:02:04.68,Default,,0,0,0,,Of course, in drag and drop, but
Dialogue: 0,0:02:04.68,0:02:06.89,Default,,0,0,0,,also in UIPasteConfiguration.
Dialogue: 0,0:02:07.54,0:02:08.69,Default,,0,0,0,,And we've added API for
Dialogue: 0,0:02:08.74,0:02:10.25,Default,,0,0,0,,UIPasteboard, so that you can
Dialogue: 0,0:02:10.25,0:02:12.13,Default,,0,0,0,,use NSItemProvider directly with
Dialogue: 0,0:02:12.74,0:02:12.81,Default,,0,0,0,,it.
Dialogue: 0,0:02:15.68,0:02:17.31,Default,,0,0,0,,So, what does it mean to provide
Dialogue: 0,0:02:17.31,0:02:18.52,Default,,0,0,0,,data or promise data?
Dialogue: 0,0:02:19.80,0:02:21.29,Default,,0,0,0,,Providing data to an
Dialogue: 0,0:02:21.29,0:02:23.01,Default,,0,0,0,,NSItemProvider is really simple.
Dialogue: 0,0:02:23.89,0:02:25.36,Default,,0,0,0,,All you have to do is create an
Dialogue: 0,0:02:25.36,0:02:27.27,Default,,0,0,0,,NSItemProvider and pass it an
Dialogue: 0,0:02:27.27,0:02:29.14,Default,,0,0,0,,object that is suitable for use.
Dialogue: 0,0:02:29.59,0:02:31.13,Default,,0,0,0,,Now, a lot of our system
Dialogue: 0,0:02:31.33,0:02:33.04,Default,,0,0,0,,provided classes, such as
Dialogue: 0,0:02:33.04,0:02:35.66,Default,,0,0,0,,UIImage in a string, in its
Dialogue: 0,0:02:35.66,0:02:37.47,Default,,0,0,0,,attributed string can be used
Dialogue: 0,0:02:37.47,0:02:37.85,Default,,0,0,0,,this way.
Dialogue: 0,0:02:38.01,0:02:39.25,Default,,0,0,0,,And we'll see in a few slides
Dialogue: 0,0:02:39.25,0:02:40.16,Default,,0,0,0,,now, how you can make your
Dialogue: 0,0:02:40.16,0:02:41.74,Default,,0,0,0,,classes work in this fashion, as
Dialogue: 0,0:02:41.74,0:02:41.90,Default,,0,0,0,,well.
Dialogue: 0,0:02:43.58,0:02:46.36,Default,,0,0,0,,Once you provide the data, it
Dialogue: 0,0:02:46.36,0:02:47.55,Default,,0,0,0,,can be retrieved by the
Dialogue: 0,0:02:47.55,0:02:49.30,Default,,0,0,0,,receiving application equally
Dialogue: 0,0:02:49.30,0:02:51.26,Default,,0,0,0,,simply, by calling the
Dialogue: 0,0:02:51.26,0:02:52.88,Default,,0,0,0,,loadObject method on the
Dialogue: 0,0:02:52.88,0:02:56.83,Default,,0,0,0,,itemProvider, therein.
Dialogue: 0,0:02:57.12,0:02:59.96,Default,,0,0,0,,Remember that data transfer is
Dialogue: 0,0:02:59.96,0:03:01.89,Default,,0,0,0,,asynchronous and that your
Dialogue: 0,0:03:01.89,0:03:03.46,Default,,0,0,0,,completionHandlers will be
Dialogue: 0,0:03:03.46,0:03:05.84,Default,,0,0,0,,called on a nonmain cue.
Dialogue: 0,0:03:06.20,0:03:07.61,Default,,0,0,0,,So, if you're going to update
Dialogue: 0,0:03:07.76,0:03:10.62,Default,,0,0,0,,the UI with your received data,
Dialogue: 0,0:03:11.25,0:03:12.99,Default,,0,0,0,,be sure to dispatch back to the
Dialogue: 0,0:03:12.99,0:03:15.25,Default,,0,0,0,,main queue before you call UIKit
Dialogue: 0,0:03:15.52,0:03:15.96,Default,,0,0,0,,methods.
Dialogue: 0,0:03:15.96,0:03:16.91,Default,,0,0,0,,And you're going to see this
Dialogue: 0,0:03:17.01,0:03:18.53,Default,,0,0,0,,brought up a few times.
Dialogue: 0,0:03:19.22,0:03:21.38,Default,,0,0,0,,So, to show you how easy it is
Dialogue: 0,0:03:21.38,0:03:23.13,Default,,0,0,0,,to use NSItemProviders, we're
Dialogue: 0,0:03:23.13,0:03:24.58,Default,,0,0,0,,going to start with a demo.
Dialogue: 0,0:03:24.68,0:03:24.90,Default,,0,0,0,,Tanu.
Dialogue: 0,0:03:26.52,0:03:32.78,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:03:33.28,0:03:34.35,Default,,0,0,0,,>> Good morning, everyone.
Dialogue: 0,0:03:35.12,0:03:36.44,Default,,0,0,0,,You've now heard of drag and
Dialogue: 0,0:03:36.44,0:03:38.19,Default,,0,0,0,,drop and NSItemProviders.
Dialogue: 0,0:03:38.95,0:03:39.87,Default,,0,0,0,,But now, you're probably
Dialogue: 0,0:03:39.87,0:03:41.49,Default,,0,0,0,,wondering how to use these in
Dialogue: 0,0:03:41.49,0:03:42.02,Default,,0,0,0,,your own apps.
Dialogue: 0,0:03:42.95,0:03:44.62,Default,,0,0,0,,My name is Tanu Singhal, and
Dialogue: 0,0:03:44.62,0:03:46.47,Default,,0,0,0,,I'll show you a simple demo that
Dialogue: 0,0:03:46.47,0:03:47.81,Default,,0,0,0,,will help you get started with
Dialogue: 0,0:03:48.02,0:03:48.95,Default,,0,0,0,,NSItemProviders.
Dialogue: 0,0:04:01.56,0:04:03.77,Default,,0,0,0,,We have an app, here, that has a
Dialogue: 0,0:04:03.77,0:04:05.20,Default,,0,0,0,,list of customers for our
Dialogue: 0,0:04:05.25,0:04:05.77,Default,,0,0,0,,product.
Dialogue: 0,0:04:05.77,0:04:08.16,Default,,0,0,0,,Now, I met some new people who
Dialogue: 0,0:04:08.16,0:04:09.80,Default,,0,0,0,,are also interested in trying
Dialogue: 0,0:04:09.80,0:04:10.65,Default,,0,0,0,,out this product.
Dialogue: 0,0:04:11.16,0:04:12.72,Default,,0,0,0,,So, I noted their names down in
Dialogue: 0,0:04:12.72,0:04:13.33,Default,,0,0,0,,Reminders.
Dialogue: 0,0:04:14.51,0:04:16.55,Default,,0,0,0,,It would be nice if could drag a
Dialogue: 0,0:04:16.55,0:04:19.31,Default,,0,0,0,,name and drop it into my app.
Dialogue: 0,0:04:19.82,0:04:20.84,Default,,0,0,0,,So, how do we do this?
Dialogue: 0,0:04:22.01,0:04:22.74,Default,,0,0,0,,Let's look at the
Dialogue: 0,0:04:22.74,0:04:24.32,Default,,0,0,0,,TableViewController for our
Dialogue: 0,0:04:24.32,0:04:25.77,Default,,0,0,0,,Contacts app.
Dialogue: 0,0:04:26.56,0:04:28.72,Default,,0,0,0,,Before I start typing I want you
Dialogue: 0,0:04:28.72,0:04:30.50,Default,,0,0,0,,to know that we made the sample
Dialogue: 0,0:04:30.50,0:04:31.85,Default,,0,0,0,,code for this available on the
Dialogue: 0,0:04:31.85,0:04:32.77,Default,,0,0,0,,developer website.
Dialogue: 0,0:04:33.17,0:04:34.32,Default,,0,0,0,,So, you don't have to worry
Dialogue: 0,0:04:34.32,0:04:35.72,Default,,0,0,0,,about jotting down everything,
Dialogue: 0,0:04:35.72,0:04:36.17,Default,,0,0,0,,right now.
Dialogue: 0,0:04:36.96,0:04:41.10,Default,,0,0,0,,In the TableViewController, I'll
Dialogue: 0,0:04:41.25,0:04:42.69,Default,,0,0,0,,add a TableViewDropDelegate.
Dialogue: 0,0:04:44.04,0:04:45.62,Default,,0,0,0,,Let's also set this delegate.
Dialogue: 0,0:04:45.73,0:04:49.52,Default,,0,0,0,,You may have heard of the
Dialogue: 0,0:04:49.52,0:04:51.52,Default,,0,0,0,,TableViewDropDelegate in
Dialogue: 0,0:04:51.52,0:04:52.36,Default,,0,0,0,,previous sessions.
Dialogue: 0,0:04:53.05,0:04:54.96,Default,,0,0,0,,But if you haven't, then don't
Dialogue: 0,0:04:54.96,0:04:55.32,Default,,0,0,0,,worry.
Dialogue: 0,0:04:55.67,0:04:57.64,Default,,0,0,0,,Because for now, we only need to
Dialogue: 0,0:04:57.64,0:04:59.42,Default,,0,0,0,,implement one method called
Dialogue: 0,0:04:59.42,0:05:00.96,Default,,0,0,0,,TableView performDropWith
Dialogue: 0,0:05:00.96,0:05:01.64,Default,,0,0,0,,coordinator.
Dialogue: 0,0:05:02.20,0:05:05.46,Default,,0,0,0,,In this method, I'll iterate
Dialogue: 0,0:05:05.46,0:05:08.21,Default,,0,0,0,,over the drag items provided by
Dialogue: 0,0:05:08.21,0:05:09.13,Default,,0,0,0,,the ItemProvider.
Dialogue: 0,0:05:09.50,0:05:10.73,Default,,0,0,0,,Sorry, the dragItems provider by
Dialogue: 0,0:05:10.73,0:05:11.40,Default,,0,0,0,,the coordinator.
Dialogue: 0,0:05:11.86,0:05:15.54,Default,,0,0,0,,Now, each dragItem has its own
Dialogue: 0,0:05:15.54,0:05:16.43,Default,,0,0,0,,itemProvider.
Dialogue: 0,0:05:16.43,0:05:18.80,Default,,0,0,0,,And we can check whether the
Dialogue: 0,0:05:18.96,0:05:20.79,Default,,0,0,0,,itemProvider can load objects of
Dialogue: 0,0:05:20.79,0:05:21.56,Default,,0,0,0,,a certain type.
Dialogue: 0,0:05:22.47,0:05:23.65,Default,,0,0,0,,So, I'm going to check if the
Dialogue: 0,0:05:23.65,0:05:25.58,Default,,0,0,0,,itemProvider can load a string.
Dialogue: 0,0:05:26.26,0:05:27.70,Default,,0,0,0,,For that, I'll call the
Dialogue: 0,0:05:27.70,0:05:29.22,Default,,0,0,0,,canLoadObject method.
Dialogue: 0,0:05:30.25,0:05:32.84,Default,,0,0,0,,If it can load it, then I'll
Dialogue: 0,0:05:32.84,0:05:34.51,Default,,0,0,0,,call the loadObject method.
Dialogue: 0,0:05:34.64,0:05:36.80,Default,,0,0,0,,And the completionHandler of
Dialogue: 0,0:05:36.80,0:05:39.09,Default,,0,0,0,,this loadObject method will give
Dialogue: 0,0:05:39.09,0:05:40.87,Default,,0,0,0,,me an object which will be a
Dialogue: 0,0:05:40.87,0:05:43.15,Default,,0,0,0,,string that I can use to update
Dialogue: 0,0:05:43.15,0:05:45.23,Default,,0,0,0,,my data models, as well as my
Dialogue: 0,0:05:45.23,0:05:45.48,Default,,0,0,0,,UI.
Dialogue: 0,0:05:46.42,0:05:50.21,Default,,0,0,0,,One thing to note is that the
Dialogue: 0,0:05:50.21,0:05:51.84,Default,,0,0,0,,completionHandler is on the
Dialogue: 0,0:05:51.84,0:05:52.76,Default,,0,0,0,,background thread.
Dialogue: 0,0:05:53.50,0:05:55.03,Default,,0,0,0,,So, if you want to make any
Dialogue: 0,0:05:55.03,0:05:56.46,Default,,0,0,0,,changes to your UI, then you
Dialogue: 0,0:05:56.46,0:05:57.76,Default,,0,0,0,,need to go back to the main
Dialogue: 0,0:05:57.76,0:05:58.99,Default,,0,0,0,,thread, and then make those
Dialogue: 0,0:05:59.03,0:05:59.52,Default,,0,0,0,,changes.
Dialogue: 0,0:06:00.32,0:06:03.89,Default,,0,0,0,,So, let me dispatch my main
Dialogue: 0,0:06:03.89,0:06:04.36,Default,,0,0,0,,queue.
Dialogue: 0,0:06:05.23,0:06:06.61,Default,,0,0,0,,And in the main thread I'll use
Dialogue: 0,0:06:06.98,0:06:09.23,Default,,0,0,0,,the string object, and I'll
Dialogue: 0,0:06:09.23,0:06:10.73,Default,,0,0,0,,insert it into the TableView.
Dialogue: 0,0:06:11.94,0:06:13.54,Default,,0,0,0,,This code is ready to run, now.
Dialogue: 0,0:06:17.66,0:06:19.12,Default,,0,0,0,,Wait just a moment.
Dialogue: 0,0:06:19.82,0:06:22.65,Default,,0,0,0,,And this time, I can drag a name
Dialogue: 0,0:06:22.65,0:06:24.75,Default,,0,0,0,,from Reminders and drop it into
Dialogue: 0,0:06:24.75,0:06:25.89,Default,,0,0,0,,my app.
Dialogue: 0,0:06:31.39,0:06:33.47,Default,,0,0,0,,The canLoadObject and LoadObject
Dialogue: 0,0:06:33.47,0:06:35.12,Default,,0,0,0,,methods can also be used for
Dialogue: 0,0:06:35.17,0:06:36.98,Default,,0,0,0,,other system types, like
Dialogue: 0,0:06:36.98,0:06:38.49,Default,,0,0,0,,attributed strings, URLs,
Dialogue: 0,0:06:38.61,0:06:40.12,Default,,0,0,0,,images, and even colors.
Dialogue: 0,0:06:40.20,0:06:42.13,Default,,0,0,0,,So, now that you've seen how
Dialogue: 0,0:06:42.19,0:06:44.26,Default,,0,0,0,,straightforward it is to handle
Dialogue: 0,0:06:44.26,0:06:46.57,Default,,0,0,0,,system objects in your using
Dialogue: 0,0:06:46.57,0:06:48.62,Default,,0,0,0,,itemProviders, I would encourage
Dialogue: 0,0:06:48.69,0:06:50.81,Default,,0,0,0,,all of you to try out these
Dialogue: 0,0:06:50.81,0:06:51.27,Default,,0,0,0,,APIs.
Dialogue: 0,0:06:51.79,0:06:53.56,Default,,0,0,0,,Up next, Dave will talk about
Dialogue: 0,0:06:53.56,0:06:54.82,Default,,0,0,0,,Progress and Cancellation.
Dialogue: 0,0:06:58.52,0:07:01.62,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:07:02.12,0:07:02.91,Default,,0,0,0,,>> Thank you, Tanu.
Dialogue: 0,0:07:06.74,0:07:08.64,Default,,0,0,0,,So, that covers the basics about
Dialogue: 0,0:07:08.64,0:07:10.20,Default,,0,0,0,,how to use NSItemProviders in
Dialogue: 0,0:07:10.20,0:07:10.97,Default,,0,0,0,,your application.
Dialogue: 0,0:07:11.20,0:07:12.12,Default,,0,0,0,,It was really simple.
Dialogue: 0,0:07:12.87,0:07:13.94,Default,,0,0,0,,Now, let's talk about progress
Dialogue: 0,0:07:13.94,0:07:14.68,Default,,0,0,0,,and cancellation.
Dialogue: 0,0:07:16.10,0:07:18.06,Default,,0,0,0,,When you retrieve data using
Dialogue: 0,0:07:18.10,0:07:20.94,Default,,0,0,0,,NSItemProviders, we return a
Dialogue: 0,0:07:20.94,0:07:22.93,Default,,0,0,0,,progress object to you that
Dialogue: 0,0:07:23.54,0:07:25.35,Default,,0,0,0,,allows you to track the progress
Dialogue: 0,0:07:25.35,0:07:27.06,Default,,0,0,0,,of data transfer as it occurs.
Dialogue: 0,0:07:27.28,0:07:30.44,Default,,0,0,0,,The progress object has two
Dialogue: 0,0:07:30.44,0:07:31.60,Default,,0,0,0,,interesting properties on it,
Dialogue: 0,0:07:31.60,0:07:32.73,Default,,0,0,0,,that you might want to observe.
Dialogue: 0,0:07:33.56,0:07:34.68,Default,,0,0,0,,The first, is the
Dialogue: 0,0:07:34.68,0:07:36.39,Default,,0,0,0,,fractionCompleted property,
Dialogue: 0,0:07:36.70,0:07:38.31,Default,,0,0,0,,which tells you from zero to
Dialogue: 0,0:07:38.31,0:07:40.12,Default,,0,0,0,,one, how much of the data has
Dialogue: 0,0:07:40.12,0:07:40.71,Default,,0,0,0,,been transferred.
Dialogue: 0,0:07:41.45,0:07:44.16,Default,,0,0,0,,And the second, is an isFinished
Dialogue: 0,0:07:44.16,0:07:46.20,Default,,0,0,0,,property that tells you that the
Dialogue: 0,0:07:46.20,0:07:47.16,Default,,0,0,0,,data transfer has been
Dialogue: 0,0:07:47.16,0:07:48.69,Default,,0,0,0,,completed, whether it is
Dialogue: 0,0:07:48.69,0:07:49.46,Default,,0,0,0,,successful or not.
Dialogue: 0,0:07:51.29,0:07:53.13,Default,,0,0,0,,You can use key value observing
Dialogue: 0,0:07:53.13,0:07:55.94,Default,,0,0,0,,to watch these two properties
Dialogue: 0,0:07:56.20,0:07:58.99,Default,,0,0,0,,and update your UI accordingly.
Dialogue: 0,0:07:59.40,0:08:00.90,Default,,0,0,0,,Such as by providing your own
Dialogue: 0,0:08:00.94,0:08:02.28,Default,,0,0,0,,progress indicator and
Dialogue: 0,0:08:02.28,0:08:03.97,Default,,0,0,0,,cancellation button.
Dialogue: 0,0:08:05.30,0:08:07.48,Default,,0,0,0,,There is a cancel method on the
Dialogue: 0,0:08:07.48,0:08:09.01,Default,,0,0,0,,progress object that will
Dialogue: 0,0:08:09.01,0:08:10.29,Default,,0,0,0,,immediately cancel the data
Dialogue: 0,0:08:10.29,0:08:11.21,Default,,0,0,0,,transfer, as well.
Dialogue: 0,0:08:11.72,0:08:14.54,Default,,0,0,0,,When you call he cancel method
Dialogue: 0,0:08:14.75,0:08:16.21,Default,,0,0,0,,on the return progress object,
Dialogue: 0,0:08:16.82,0:08:18.27,Default,,0,0,0,,your receiving application will
Dialogue: 0,0:08:18.27,0:08:20.31,Default,,0,0,0,,receive, will get a callback on
Dialogue: 0,0:08:20.31,0:08:22.16,Default,,0,0,0,,the completionHandler with an
Dialogue: 0,0:08:22.20,0:08:23.93,Default,,0,0,0,,error in it, regardless of
Dialogue: 0,0:08:23.93,0:08:24.94,Default,,0,0,0,,whether or not the source
Dialogue: 0,0:08:24.94,0:08:26.81,Default,,0,0,0,,application has cancelled their
Dialogue: 0,0:08:27.09,0:08:27.70,Default,,0,0,0,,data providing.
Dialogue: 0,0:08:30.77,0:08:32.96,Default,,0,0,0,,You get one progress object per
Dialogue: 0,0:08:32.96,0:08:33.88,Default,,0,0,0,,load request.
Dialogue: 0,0:08:34.44,0:08:36.06,Default,,0,0,0,,However, there's an overall
Dialogue: 0,0:08:36.06,0:08:37.74,Default,,0,0,0,,progress object that you can get
Dialogue: 0,0:08:37.74,0:08:39.92,Default,,0,0,0,,from the UIDropSession that
Dialogue: 0,0:08:39.92,0:08:42.29,Default,,0,0,0,,allows you to monitor and cancel
Dialogue: 0,0:08:42.29,0:08:44.76,Default,,0,0,0,,the entire remaining data
Dialogue: 0,0:08:44.81,0:08:46.13,Default,,0,0,0,,transfer in progress.
Dialogue: 0,0:08:46.13,0:08:49.72,Default,,0,0,0,,So, now that we've covered the
Dialogue: 0,0:08:49.72,0:08:51.60,Default,,0,0,0,,basics, let's talk about
Dialogue: 0,0:08:51.60,0:08:53.16,Default,,0,0,0,,maximizing compatibility.
Dialogue: 0,0:08:53.66,0:08:57.51,Default,,0,0,0,,You want your application to
Dialogue: 0,0:08:57.79,0:08:59.49,Default,,0,0,0,,provide data to as many other
Dialogue: 0,0:08:59.49,0:09:01.28,Default,,0,0,0,,applications on the system, as
Dialogue: 0,0:09:01.28,0:09:01.70,Default,,0,0,0,,possible.
Dialogue: 0,0:09:02.89,0:09:05.47,Default,,0,0,0,,And receive drops from as many
Dialogue: 0,0:09:05.47,0:09:06.84,Default,,0,0,0,,applications, as possible, as
Dialogue: 0,0:09:06.84,0:09:07.05,Default,,0,0,0,,well.
Dialogue: 0,0:09:07.90,0:09:10.84,Default,,0,0,0,,The key to understanding how to
Dialogue: 0,0:09:10.84,0:09:13.35,Default,,0,0,0,,maximize compatibility is
Dialogue: 0,0:09:13.35,0:09:15.14,Default,,0,0,0,,understanding uniform type
Dialogue: 0,0:09:15.14,0:09:15.83,Default,,0,0,0,,identifiers.
Dialogue: 0,0:09:16.94,0:09:18.31,Default,,0,0,0,,So, let's recap.
Dialogue: 0,0:09:19.47,0:09:22.47,Default,,0,0,0,,One NSItemProvider represents
Dialogue: 0,0:09:22.47,0:09:24.36,Default,,0,0,0,,one thing that the user is
Dialogue: 0,0:09:24.36,0:09:25.99,Default,,0,0,0,,dragging across the glass.
Dialogue: 0,0:09:27.01,0:09:29.19,Default,,0,0,0,,However, there can be multiple
Dialogue: 0,0:09:29.19,0:09:30.38,Default,,0,0,0,,representations that you can
Dialogue: 0,0:09:30.38,0:09:32.11,Default,,0,0,0,,make available for every item
Dialogue: 0,0:09:32.11,0:09:33.45,Default,,0,0,0,,that the user is dragging.
Dialogue: 0,0:09:33.45,0:09:35.60,Default,,0,0,0,,Let me give you an example.
Dialogue: 0,0:09:36.67,0:09:37.82,Default,,0,0,0,,If you're writing a vector
Dialogue: 0,0:09:37.82,0:09:39.48,Default,,0,0,0,,drawing program, for example,
Dialogue: 0,0:09:40.11,0:09:41.50,Default,,0,0,0,,you could offer a native file
Dialogue: 0,0:09:41.50,0:09:43.82,Default,,0,0,0,,format for best quality as the
Dialogue: 0,0:09:43.82,0:09:44.77,Default,,0,0,0,,thing that you're dragging.
Dialogue: 0,0:09:46.13,0:09:47.55,Default,,0,0,0,,But you might also offer
Dialogue: 0,0:09:47.55,0:09:51.06,Default,,0,0,0,,conversions to PDF, PNG, or even
Dialogue: 0,0:09:51.06,0:09:53.18,Default,,0,0,0,,JPG, so that you can drop this
Dialogue: 0,0:09:53.18,0:09:55.04,Default,,0,0,0,,item on a variety of destination
Dialogue: 0,0:09:55.04,0:09:55.75,Default,,0,0,0,,applications.
Dialogue: 0,0:09:56.02,0:09:59.39,Default,,0,0,0,,Uniform type identifiers allow
Dialogue: 0,0:09:59.39,0:10:01.67,Default,,0,0,0,,you to tag these representations
Dialogue: 0,0:10:01.80,0:10:02.79,Default,,0,0,0,,with unique strings that
Dialogue: 0,0:10:02.79,0:10:05.46,Default,,0,0,0,,identify the kinds of data that
Dialogue: 0,0:10:05.46,0:10:07.98,Default,,0,0,0,,you're putting up for the drag.
Dialogue: 0,0:10:09.58,0:10:11.05,Default,,0,0,0,,For a native file format, you
Dialogue: 0,0:10:11.05,0:10:12.26,Default,,0,0,0,,can define your own strings,
Dialogue: 0,0:10:12.26,0:10:12.77,Default,,0,0,0,,such as
Dialogue: 0,0:10:12.77,0:10:14.54,Default,,0,0,0,,com.yourcompany.vector-drawing.
Dialogue: 0,0:10:15.79,0:10:17.99,Default,,0,0,0,,And for commonly known types,
Dialogue: 0,0:10:18.02,0:10:21.33,Default,,0,0,0,,such as PDF and PNG, you can use
Dialogue: 0,0:10:21.42,0:10:22.98,Default,,0,0,0,,the symbols defined in mobile
Dialogue: 0,0:10:22.98,0:10:28.21,Default,,0,0,0,,core services to tag them.
Dialogue: 0,0:10:28.42,0:10:30.19,Default,,0,0,0,,Now, fidelity order matters.
Dialogue: 0,0:10:30.90,0:10:32.78,Default,,0,0,0,,The order in which you register
Dialogue: 0,0:10:32.88,0:10:35.09,Default,,0,0,0,,your representations should
Dialogue: 0,0:10:35.16,0:10:36.75,Default,,0,0,0,,correspond to the order of
Dialogue: 0,0:10:36.75,0:10:38.99,Default,,0,0,0,,quality that you're making
Dialogue: 0,0:10:38.99,0:10:40.45,Default,,0,0,0,,available to the destination.
Dialogue: 0,0:10:41.27,0:10:42.77,Default,,0,0,0,,Usually, the highest fidelity
Dialogue: 0,0:10:42.77,0:10:43.92,Default,,0,0,0,,would be your internal data
Dialogue: 0,0:10:43.92,0:10:44.85,Default,,0,0,0,,representation type.
Dialogue: 0,0:10:45.20,0:10:47.89,Default,,0,0,0,,And then, followed by the next
Dialogue: 0,0:10:47.89,0:10:49.93,Default,,0,0,0,,high fidelity common type, and
Dialogue: 0,0:10:49.93,0:10:51.43,Default,,0,0,0,,so on and so forth.
Dialogue: 0,0:10:52.02,0:10:55.18,Default,,0,0,0,,Now, one tip to remember when
Dialogue: 0,0:10:55.18,0:10:57.05,Default,,0,0,0,,using type identifiers to
Dialogue: 0,0:10:57.05,0:10:59.34,Default,,0,0,0,,register your representations,
Dialogue: 0,0:10:59.86,0:11:03.22,Default,,0,0,0,,is that there are uniform type
Dialogue: 0,0:11:03.22,0:11:04.93,Default,,0,0,0,,identifiers that correspond to
Dialogue: 0,0:11:04.93,0:11:06.36,Default,,0,0,0,,abstract types.
Dialogue: 0,0:11:06.54,0:11:09.63,Default,,0,0,0,,Such as data, or plain text, or
Dialogue: 0,0:11:09.66,0:11:10.10,Default,,0,0,0,,image.
Dialogue: 0,0:11:11.52,0:11:12.93,Default,,0,0,0,,Avoid these.
Dialogue: 0,0:11:13.79,0:11:16.92,Default,,0,0,0,,Instead, use concrete data types
Dialogue: 0,0:11:17.41,0:11:18.91,Default,,0,0,0,,that help the consumer of your
Dialogue: 0,0:11:18.91,0:11:21.48,Default,,0,0,0,,data interpret the bytes that
Dialogue: 0,0:11:21.48,0:11:22.49,Default,,0,0,0,,you're going to send over to
Dialogue: 0,0:11:22.49,0:11:22.72,Default,,0,0,0,,them.
Dialogue: 0,0:11:23.74,0:11:25.23,Default,,0,0,0,,So, for example, use
Dialogue: 0,0:11:25.23,0:11:26.93,Default,,0,0,0,,utf8-plain-text, instead of
Dialogue: 0,0:11:27.16,0:11:28.24,Default,,0,0,0,,plain-text.
Dialogue: 0,0:11:28.95,0:11:30.56,Default,,0,0,0,,Or probably .png instead of
Dialogue: 0,0:11:30.56,0:11:32.52,Default,,0,0,0,,image, so that the receiver can
Dialogue: 0,0:11:32.52,0:11:33.39,Default,,0,0,0,,interpret your data.
Dialogue: 0,0:11:35.72,0:11:37.44,Default,,0,0,0,,Of course, for your private type
Dialogue: 0,0:11:37.44,0:11:38.62,Default,,0,0,0,,identifier, you're free to
Dialogue: 0,0:11:38.62,0:11:40.33,Default,,0,0,0,,define your own data types and
Dialogue: 0,0:11:40.33,0:11:41.00,Default,,0,0,0,,byte layouts.
Dialogue: 0,0:11:43.58,0:11:46.60,Default,,0,0,0,,So, you've seen how these
Dialogue: 0,0:11:46.60,0:11:48.54,Default,,0,0,0,,multiple representations allow
Dialogue: 0,0:11:48.54,0:11:50.20,Default,,0,0,0,,you to maximize compatibility.
Dialogue: 0,0:11:50.91,0:11:52.40,Default,,0,0,0,,But you didn't see any of this
Dialogue: 0,0:11:52.54,0:11:54.42,Default,,0,0,0,,type identifiers being used in
Dialogue: 0,0:11:54.42,0:11:56.02,Default,,0,0,0,,our initial example code of
Dialogue: 0,0:11:56.08,0:11:58.13,Default,,0,0,0,,creating NSItemProviders.
Dialogue: 0,0:11:58.45,0:11:59.64,Default,,0,0,0,,So, how did this work together?
Dialogue: 0,0:12:01.38,0:12:04.20,Default,,0,0,0,,This is where we talk about
Dialogue: 0,0:12:04.20,0:12:05.99,Default,,0,0,0,,creating model classes that
Dialogue: 0,0:12:05.99,0:12:07.50,Default,,0,0,0,,harness the power of both
Dialogue: 0,0:12:07.50,0:12:08.79,Default,,0,0,0,,multiple representations for
Dialogue: 0,0:12:08.79,0:12:09.57,Default,,0,0,0,,compatibility.
Dialogue: 0,0:12:10.42,0:12:12.01,Default,,0,0,0,,And the simplicity of using
Dialogue: 0,0:12:12.01,0:12:13.52,Default,,0,0,0,,objects to initialize
Dialogue: 0,0:12:13.52,0:12:14.35,Default,,0,0,0,,itemProviders.
Dialogue: 0,0:12:15.27,0:12:19.37,Default,,0,0,0,,To create model classes that
Dialogue: 0,0:12:19.37,0:12:21.25,Default,,0,0,0,,work well with drag and drop,
Dialogue: 0,0:12:21.37,0:12:23.68,Default,,0,0,0,,we're going to talk about two
Dialogue: 0,0:12:24.28,0:12:26.47,Default,,0,0,0,,protocols that help you to do
Dialogue: 0,0:12:26.47,0:12:26.70,Default,,0,0,0,,this.
Dialogue: 0,0:12:27.40,0:12:29.56,Default,,0,0,0,,NSItemProviderReading and
Dialogue: 0,0:12:29.56,0:12:30.81,Default,,0,0,0,,NSItemProviderWriting.
Dialogue: 0,0:12:32.04,0:12:32.97,Default,,0,0,0,,Let's talk about the writing
Dialogue: 0,0:12:32.97,0:12:33.72,Default,,0,0,0,,protocol, first.
Dialogue: 0,0:12:34.76,0:12:36.95,Default,,0,0,0,,NSItemProviderWriting exports
Dialogue: 0,0:12:36.95,0:12:39.55,Default,,0,0,0,,data from your model object and
Dialogue: 0,0:12:40.26,0:12:43.25,Default,,0,0,0,,NSItemProviderReading imports
Dialogue: 0,0:12:43.25,0:12:45.41,Default,,0,0,0,,data and creates a model object
Dialogue: 0,0:12:45.82,0:12:47.23,Default,,0,0,0,,from a representation.
Dialogue: 0,0:12:47.78,0:12:52.34,Default,,0,0,0,,And by adopting these protocols,
Dialogue: 0,0:12:52.67,0:12:54.72,Default,,0,0,0,,you can maintain the conversion
Dialogue: 0,0:12:54.72,0:12:56.84,Default,,0,0,0,,between your model objects and
Dialogue: 0,0:12:56.84,0:12:58.45,Default,,0,0,0,,multiple representations with
Dialogue: 0,0:12:58.45,0:13:02.55,Default,,0,0,0,,your model object and not with
Dialogue: 0,0:13:04.24,0:13:04.71,Default,,0,0,0,,the UI code.
Dialogue: 0,0:13:05.05,0:13:06.22,Default,,0,0,0,,So, let's take a look at
Dialogue: 0,0:13:06.22,0:13:07.33,Default,,0,0,0,,NSItemProviderWriting.
Dialogue: 0,0:13:07.45,0:13:10.80,Default,,0,0,0,,This is what it looks like.
Dialogue: 0,0:13:11.81,0:13:13.48,Default,,0,0,0,,There are only two things that
Dialogue: 0,0:13:13.48,0:13:15.77,Default,,0,0,0,,you need to implement to conform
Dialogue: 0,0:13:15.77,0:13:16.48,Default,,0,0,0,,to this protocol.
Dialogue: 0,0:13:17.36,0:13:18.80,Default,,0,0,0,,The first is a
Dialogue: 0,0:13:18.80,0:13:21.04,Default,,0,0,0,,writableTypeIdentifiersForItem
Dialogue: 0,0:13:21.04,0:13:22.24,Default,,0,0,0,,Provider property.
Dialogue: 0,0:13:23.05,0:13:24.70,Default,,0,0,0,,This is the list of the type
Dialogue: 0,0:13:24.70,0:13:26.52,Default,,0,0,0,,identifiers that you can export
Dialogue: 0,0:13:27.12,0:13:28.05,Default,,0,0,0,,in fidelity order.
Dialogue: 0,0:13:28.47,0:13:29.74,Default,,0,0,0,,Highest fidelity first.
Dialogue: 0,0:13:30.28,0:13:33.65,Default,,0,0,0,,And then, a loadData method
Dialogue: 0,0:13:34.71,0:13:35.99,Default,,0,0,0,,which will take that
Dialogue: 0,0:13:35.99,0:13:37.06,Default,,0,0,0,,typeIdentifier that has been
Dialogue: 0,0:13:37.06,0:13:38.29,Default,,0,0,0,,requested by the other
Dialogue: 0,0:13:38.34,0:13:39.19,Default,,0,0,0,,application.
Dialogue: 0,0:13:39.27,0:13:40.51,Default,,0,0,0,,Which will call a
Dialogue: 0,0:13:40.76,0:13:43.22,Default,,0,0,0,,completionHandler, either with
Dialogue: 0,0:13:43.22,0:13:44.26,Default,,0,0,0,,the data that you've made
Dialogue: 0,0:13:44.26,0:13:47.57,Default,,0,0,0,,available or with an error.
Dialogue: 0,0:13:47.77,0:13:49.27,Default,,0,0,0,,By implementing this protocol,
Dialogue: 0,0:13:49.72,0:13:52.75,Default,,0,0,0,,the UI code can look like this
Dialogue: 0,0:13:54.30,0:13:56.53,Default,,0,0,0,,and our framework code will do
Dialogue: 0,0:13:56.53,0:13:58.63,Default,,0,0,0,,the equivalent of this, for you.
Dialogue: 0,0:13:59.14,0:14:03.61,Default,,0,0,0,,All right.
Dialogue: 0,0:14:03.78,0:14:05.24,Default,,0,0,0,,Let's take a look at the reading
Dialogue: 0,0:14:05.24,0:14:05.64,Default,,0,0,0,,protocol.
Dialogue: 0,0:14:06.04,0:14:07.48,Default,,0,0,0,,The reading protocol is, of
Dialogue: 0,0:14:07.48,0:14:08.90,Default,,0,0,0,,course, the other end of the
Dialogue: 0,0:14:08.90,0:14:09.13,Default,,0,0,0,,pipe.
Dialogue: 0,0:14:09.72,0:14:13.91,Default,,0,0,0,,It too, has two things that you
Dialogue: 0,0:14:13.91,0:14:14.56,Default,,0,0,0,,need to implement.
Dialogue: 0,0:14:15.44,0:14:17.13,Default,,0,0,0,,The first is the list of
Dialogue: 0,0:14:17.13,0:14:19.76,Default,,0,0,0,,readable type identifiers in
Dialogue: 0,0:14:19.76,0:14:20.87,Default,,0,0,0,,fidelity order, also.
Dialogue: 0,0:14:21.26,0:14:23.39,Default,,0,0,0,,And the second, is that
Dialogue: 0,0:14:23.39,0:14:26.31,Default,,0,0,0,,initializer that will take a NS
Dialogue: 0,0:14:26.31,0:14:28.68,Default,,0,0,0,,data block, a NS data object,
Dialogue: 0,0:14:29.34,0:14:31.32,Default,,0,0,0,,which should be used to
Dialogue: 0,0:14:32.31,0:14:33.59,Default,,0,0,0,,initialize the instance of your
Dialogue: 0,0:14:33.64,0:14:33.98,Default,,0,0,0,,object.
Dialogue: 0,0:14:39.05,0:14:40.53,Default,,0,0,0,,When you implement this protocol
Dialogue: 0,0:14:40.97,0:14:42.74,Default,,0,0,0,,the UI code can look like this,
Dialogue: 0,0:14:42.88,0:14:43.87,Default,,0,0,0,,a canLoadObject.
Dialogue: 0,0:14:44.64,0:14:45.74,Default,,0,0,0,,You can pass it to your vector
Dialogue: 0,0:14:45.74,0:14:46.57,Default,,0,0,0,,drawing object.
Dialogue: 0,0:14:47.59,0:14:48.94,Default,,0,0,0,,And when you call the
Dialogue: 0,0:14:48.94,0:14:51.41,Default,,0,0,0,,loadObject, our framework code
Dialogue: 0,0:14:51.41,0:14:53.92,Default,,0,0,0,,will matchmake the two lists of
Dialogue: 0,0:14:54.00,0:14:55.29,Default,,0,0,0,,type identifiers, both from the
Dialogue: 0,0:14:55.29,0:14:56.49,Default,,0,0,0,,provider and the consumer.
Dialogue: 0,0:14:57.00,0:14:59.31,Default,,0,0,0,,To find the best match to ensure
Dialogue: 0,0:14:59.31,0:15:00.89,Default,,0,0,0,,that the highest quality data is
Dialogue: 0,0:15:00.89,0:15:02.12,Default,,0,0,0,,used to create an instance of
Dialogue: 0,0:15:02.12,0:15:03.05,Default,,0,0,0,,your object.
Dialogue: 0,0:15:04.45,0:15:07.10,Default,,0,0,0,,So, in short, to make model
Dialogue: 0,0:15:07.10,0:15:08.85,Default,,0,0,0,,classes that work well with drag
Dialogue: 0,0:15:08.85,0:15:10.93,Default,,0,0,0,,and drop, you should create,
Dialogue: 0,0:15:11.11,0:15:13.65,Default,,0,0,0,,these classes should conform to
Dialogue: 0,0:15:13.70,0:15:15.89,Default,,0,0,0,,NSItemProvider reading and
Dialogue: 0,0:15:15.89,0:15:16.85,Default,,0,0,0,,writing protocols.
Dialogue: 0,0:15:17.82,0:15:18.98,Default,,0,0,0,,Because these are Objective-C
Dialogue: 0,0:15:18.98,0:15:20.92,Default,,0,0,0,,protocols, your model classes
Dialogue: 0,0:15:20.92,0:15:22.31,Default,,0,0,0,,should also inherit from
Dialogue: 0,0:15:22.31,0:15:22.87,Default,,0,0,0,,NSObject.
Dialogue: 0,0:15:23.29,0:15:25.89,Default,,0,0,0,,And when you do this, you can
Dialogue: 0,0:15:25.89,0:15:27.49,Default,,0,0,0,,use your classes and your
Dialogue: 0,0:15:27.49,0:15:29.56,Default,,0,0,0,,objects wherever NSItemProvider
Dialogue: 0,0:15:29.56,0:15:31.89,Default,,0,0,0,,is supported, drag and drop, and
Dialogue: 0,0:15:32.01,0:15:34.53,Default,,0,0,0,,UIPasteConfiguration, and also,
Dialogue: 0,0:15:34.53,0:15:35.83,Default,,0,0,0,,with the new API in
Dialogue: 0,0:15:36.18,0:15:37.03,Default,,0,0,0,,UIPasteboard.
Dialogue: 0,0:15:38.41,0:15:39.73,Default,,0,0,0,,So, to show you how this is done
Dialogue: 0,0:15:39.73,0:15:41.50,Default,,0,0,0,,in code, I'm going to ask Tanu
Dialogue: 0,0:15:41.75,0:15:42.56,Default,,0,0,0,,to do another demo.
Dialogue: 0,0:15:45.52,0:15:48.58,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:15:49.08,0:15:49.81,Default,,0,0,0,,>> Hello, again.
Dialogue: 0,0:15:50.78,0:15:52.30,Default,,0,0,0,,In the previous demo, we learned
Dialogue: 0,0:15:52.30,0:15:54.30,Default,,0,0,0,,to load simple system objects
Dialogue: 0,0:15:54.30,0:15:54.93,Default,,0,0,0,,like strings.
Dialogue: 0,0:15:55.61,0:15:57.97,Default,,0,0,0,,Now, let's see how we can drag a
Dialogue: 0,0:15:57.97,0:15:59.89,Default,,0,0,0,,rich contact card from the
Dialogue: 0,0:15:59.89,0:16:02.18,Default,,0,0,0,,Contacts app and drop that into
Dialogue: 0,0:16:02.18,0:16:02.92,Default,,0,0,0,,our app.
Dialogue: 0,0:16:07.63,0:16:09.76,Default,,0,0,0,,To do this, I've created a class
Dialogue: 0,0:16:10.19,0:16:11.38,Default,,0,0,0,,called ContactCard.
Dialogue: 0,0:16:12.27,0:16:13.74,Default,,0,0,0,,This holds the name, phone
Dialogue: 0,0:16:13.74,0:16:15.44,Default,,0,0,0,,number, and photo for a contact.
Dialogue: 0,0:16:15.44,0:16:18.49,Default,,0,0,0,,Now, I'm going to go back into
Dialogue: 0,0:16:18.49,0:16:20.02,Default,,0,0,0,,the TableView controller, and
Dialogue: 0,0:16:20.30,0:16:22.08,Default,,0,0,0,,this is the performDrop method
Dialogue: 0,0:16:22.08,0:16:23.59,Default,,0,0,0,,that we implemented, before.
Dialogue: 0,0:16:24.76,0:16:26.72,Default,,0,0,0,,Last time, we were trying to
Dialogue: 0,0:16:26.72,0:16:27.56,Default,,0,0,0,,load a string.
Dialogue: 0,0:16:28.19,0:16:30.34,Default,,0,0,0,,Now, we want to load a contact
Dialogue: 0,0:16:30.34,0:16:30.74,Default,,0,0,0,,card.
Dialogue: 0,0:16:31.69,0:16:33.50,Default,,0,0,0,,So, I'll replace all instances
Dialogue: 0,0:16:33.58,0:16:35.81,Default,,0,0,0,,of NSSTring with ContactCard.
Dialogue: 0,0:16:40.20,0:16:41.60,Default,,0,0,0,,Since we are requesting a
Dialogue: 0,0:16:41.60,0:16:43.17,Default,,0,0,0,,contact card the
Dialogue: 0,0:16:43.17,0:16:44.90,Default,,0,0,0,,completionHandler will directly
Dialogue: 0,0:16:44.90,0:16:46.71,Default,,0,0,0,,give me a contact card object,
Dialogue: 0,0:16:46.71,0:16:49.29,Default,,0,0,0,,and I can use that to insert
Dialogue: 0,0:16:49.29,0:16:50.28,Default,,0,0,0,,into my TableView.
Dialogue: 0,0:16:50.28,0:16:52.93,Default,,0,0,0,,Now, this should have worked,
Dialogue: 0,0:16:52.93,0:16:53.26,Default,,0,0,0,,right?
Dialogue: 0,0:16:53.97,0:16:55.38,Default,,0,0,0,,But the reason we're getting
Dialogue: 0,0:16:55.47,0:16:57.34,Default,,0,0,0,,errors, here, is because the
Dialogue: 0,0:16:57.34,0:16:59.07,Default,,0,0,0,,NSItemProvider does not
Dialogue: 0,0:16:59.07,0:17:00.90,Default,,0,0,0,,recognize my ContactCard class.
Dialogue: 0,0:17:01.36,0:17:03.33,Default,,0,0,0,,So, we need to do a little work
Dialogue: 0,0:17:03.33,0:17:04.20,Default,,0,0,0,,to conform to the
Dialogue: 0,0:17:04.20,0:17:05.39,Default,,0,0,0,,NSItemProvider.
Dialogue: 0,0:17:05.45,0:17:08.60,Default,,0,0,0,,Let's look at the ContactCard
Dialogue: 0,0:17:08.60,0:17:09.13,Default,,0,0,0,,class, again.
Dialogue: 0,0:17:09.13,0:17:12.09,Default,,0,0,0,,And here, I'm going to implement
Dialogue: 0,0:17:12.15,0:17:14.02,Default,,0,0,0,,the NSItemProviderReading
Dialogue: 0,0:17:14.02,0:17:14.58,Default,,0,0,0,,protocol.
Dialogue: 0,0:17:15.28,0:17:16.14,Default,,0,0,0,,This will tell the
Dialogue: 0,0:17:16.14,0:17:18.46,Default,,0,0,0,,NSItemProvider that I can read
Dialogue: 0,0:17:18.46,0:17:19.74,Default,,0,0,0,,data that it provides.
Dialogue: 0,0:17:21.22,0:17:24.06,Default,,0,0,0,,Now, I need to specify the types
Dialogue: 0,0:17:24.22,0:17:26.03,Default,,0,0,0,,of identifiers that I can read.
Dialogue: 0,0:17:26.51,0:17:29.31,Default,,0,0,0,,My ContactCard class can read
Dialogue: 0,0:17:29.31,0:17:31.63,Default,,0,0,0,,either a vCard, or it can read
Dialogue: 0,0:17:31.69,0:17:33.06,Default,,0,0,0,,plain text.
Dialogue: 0,0:17:33.37,0:17:34.96,Default,,0,0,0,,Note that these need to be
Dialogue: 0,0:17:35.03,0:17:37.54,Default,,0,0,0,,specified in descending order of
Dialogue: 0,0:17:37.58,0:17:38.09,Default,,0,0,0,,fidelity.
Dialogue: 0,0:17:38.94,0:17:40.58,Default,,0,0,0,,If we specified plain text
Dialogue: 0,0:17:40.69,0:17:43.01,Default,,0,0,0,,first, then we would always get
Dialogue: 0,0:17:43.01,0:17:44.37,Default,,0,0,0,,called back for plain text.
Dialogue: 0,0:17:44.87,0:17:46.80,Default,,0,0,0,,Even when a more rich vCard type
Dialogue: 0,0:17:46.80,0:17:47.55,Default,,0,0,0,,was available.
Dialogue: 0,0:17:48.02,0:17:50.66,Default,,0,0,0,,So, after we've specified the
Dialogue: 0,0:17:50.66,0:17:52.92,Default,,0,0,0,,types we can read, we're going
Dialogue: 0,0:17:53.04,0:17:55.62,Default,,0,0,0,,to set up an initializer where
Dialogue: 0,0:17:55.62,0:17:56.93,Default,,0,0,0,,we'll actually read the data
Dialogue: 0,0:17:57.04,0:17:58.17,Default,,0,0,0,,from the itemProvider.
Dialogue: 0,0:17:58.17,0:18:01.20,Default,,0,0,0,,One of the arguments in this
Dialogue: 0,0:18:01.25,0:18:02.23,Default,,0,0,0,,initializer is the
Dialogue: 0,0:18:02.27,0:18:03.26,Default,,0,0,0,,typeIdentifier.
Dialogue: 0,0:18:04.05,0:18:06.04,Default,,0,0,0,,So, I can use that to figure out
Dialogue: 0,0:18:06.39,0:18:08.13,Default,,0,0,0,,what type of data I received.
Dialogue: 0,0:18:08.56,0:18:11.16,Default,,0,0,0,,If I got a vCard, I'll use a
Dialogue: 0,0:18:11.21,0:18:12.94,Default,,0,0,0,,helper method to set the phone
Dialogue: 0,0:18:12.94,0:18:14.25,Default,,0,0,0,,number, picture, and all the
Dialogue: 0,0:18:14.25,0:18:15.52,Default,,0,0,0,,other information I need.
Dialogue: 0,0:18:15.52,0:18:17.62,Default,,0,0,0,,If I just got plain text, I'm
Dialogue: 0,0:18:18.08,0:18:19.38,Default,,0,0,0,,going to set the name for my
Dialogue: 0,0:18:19.38,0:18:20.24,Default,,0,0,0,,contact card.
Dialogue: 0,0:18:21.59,0:18:24.38,Default,,0,0,0,,Now, when we run this, those
Dialogue: 0,0:18:24.45,0:18:25.58,Default,,0,0,0,,errors are resolved.
Dialogue: 0,0:18:26.30,0:18:26.93,Default,,0,0,0,,This is because the
Dialogue: 0,0:18:26.93,0:18:29.21,Default,,0,0,0,,NSItemProvider understands our
Dialogue: 0,0:18:29.21,0:18:29.93,Default,,0,0,0,,class, now.
Dialogue: 0,0:18:30.51,0:18:33.66,Default,,0,0,0,,So, this time, I can drag and
Dialogue: 0,0:18:33.66,0:18:35.06,Default,,0,0,0,,name from the Contacts app on
Dialogue: 0,0:18:35.06,0:18:37.20,Default,,0,0,0,,the right, and drop it into my
Dialogue: 0,0:18:37.20,0:18:37.31,Default,,0,0,0,,app.
Dialogue: 0,0:18:38.12,0:18:40.42,Default,,0,0,0,,As you can see, we loaded the
Dialogue: 0,0:18:40.42,0:18:41.93,Default,,0,0,0,,name, phone number, as well as
Dialogue: 0,0:18:41.93,0:18:43.41,Default,,0,0,0,,the photo for this contact.
Dialogue: 0,0:18:44.03,0:18:47.32,Default,,0,0,0,,Note that we can still drag out
Dialogue: 0,0:18:47.32,0:18:50.30,Default,,0,0,0,,plain text, like from the
Dialogue: 0,0:18:50.36,0:18:51.78,Default,,0,0,0,,Reminders app, again.
Dialogue: 0,0:18:52.53,0:18:54.25,Default,,0,0,0,,And this works, because our
Dialogue: 0,0:18:54.84,0:18:56.84,Default,,0,0,0,,ContactCard class not only
Dialogue: 0,0:18:56.84,0:18:58.45,Default,,0,0,0,,handles vCards, but it also
Dialogue: 0,0:18:58.50,0:18:59.50,Default,,0,0,0,,handles plain text.
Dialogue: 0,0:18:59.71,0:19:01.73,Default,,0,0,0,,So, this is what we wanted.
Dialogue: 0,0:19:02.02,0:19:03.40,Default,,0,0,0,,And our users really like this
Dialogue: 0,0:19:03.44,0:19:03.85,Default,,0,0,0,,feature.
Dialogue: 0,0:19:04.57,0:19:06.71,Default,,0,0,0,,But now, we have another feature
Dialogue: 0,0:19:06.71,0:19:07.18,Default,,0,0,0,,request.
Dialogue: 0,0:19:07.86,0:19:09.79,Default,,0,0,0,,They want the ability to drag
Dialogue: 0,0:19:09.79,0:19:12.28,Default,,0,0,0,,out contacts from our app and
Dialogue: 0,0:19:12.28,0:19:14.93,Default,,0,0,0,,drop it into other apps.
Dialogue: 0,0:19:15.48,0:19:16.80,Default,,0,0,0,,In order to implement that,
Dialogue: 0,0:19:17.64,0:19:20.34,Default,,0,0,0,,we'll have to conform to another
Dialogue: 0,0:19:20.34,0:19:21.83,Default,,0,0,0,,protocol called
Dialogue: 0,0:19:21.83,0:19:23.91,Default,,0,0,0,,NSItemProviderWriting protocol.
Dialogue: 0,0:19:24.48,0:19:28.17,Default,,0,0,0,,As part of this protocol, I'll
Dialogue: 0,0:19:28.17,0:19:31.38,Default,,0,0,0,,specify the types of identifiers
Dialogue: 0,0:19:31.38,0:19:32.12,Default,,0,0,0,,that I can write.
Dialogue: 0,0:19:33.25,0:19:34.87,Default,,0,0,0,,My class can again, write either
Dialogue: 0,0:19:34.87,0:19:38.37,Default,,0,0,0,,a vCard or plain text.
Dialogue: 0,0:19:38.37,0:19:40.76,Default,,0,0,0,,After this, we need to specify a
Dialogue: 0,0:19:40.76,0:19:41.80,Default,,0,0,0,,loadData method.
Dialogue: 0,0:19:41.80,0:19:45.10,Default,,0,0,0,,In this method, we'll create the
Dialogue: 0,0:19:45.16,0:19:47.51,Default,,0,0,0,,data that we want to provide to
Dialogue: 0,0:19:47.51,0:19:48.50,Default,,0,0,0,,the itemProvider.
Dialogue: 0,0:19:49.13,0:19:51.47,Default,,0,0,0,,So, based on the type
Dialogue: 0,0:19:51.47,0:19:52.85,Default,,0,0,0,,identifier, I can create
Dialogue: 0,0:19:52.85,0:19:55.33,Default,,0,0,0,,different types of data and I'll
Dialogue: 0,0:19:55.33,0:19:56.43,Default,,0,0,0,,just pass it to the
Dialogue: 0,0:19:56.43,0:19:57.48,Default,,0,0,0,,completionHandler.
Dialogue: 0,0:19:58.00,0:20:00.00,Default,,0,0,0,,Now, we have completed the
Dialogue: 0,0:20:00.00,0:20:02.11,Default,,0,0,0,,implementation for the
Dialogue: 0,0:20:02.11,0:20:03.98,Default,,0,0,0,,NSItemProviderWriting protocol.
Dialogue: 0,0:20:05.47,0:20:06.88,Default,,0,0,0,,There's just one last thing to
Dialogue: 0,0:20:06.88,0:20:07.13,Default,,0,0,0,,do.
Dialogue: 0,0:20:07.13,0:20:09.72,Default,,0,0,0,,We need to go back into our
Dialogue: 0,0:20:09.72,0:20:12.19,Default,,0,0,0,,TableViewController and tell the
Dialogue: 0,0:20:12.19,0:20:14.32,Default,,0,0,0,,TableView that it can be used to
Dialogue: 0,0:20:14.32,0:20:15.55,Default,,0,0,0,,drag out items.
Dialogue: 0,0:20:16.53,0:20:19.29,Default,,0,0,0,,To do this, I'll implement the
Dialogue: 0,0:20:19.29,0:20:20.61,Default,,0,0,0,,TableViewDragDelegate.
Dialogue: 0,0:20:21.26,0:20:23.46,Default,,0,0,0,,We need to set this delegate,
Dialogue: 0,0:20:23.51,0:20:23.99,Default,,0,0,0,,too.
Dialogue: 0,0:20:24.54,0:20:27.89,Default,,0,0,0,,And for this delegate, we'll
Dialogue: 0,0:20:27.89,0:20:30.19,Default,,0,0,0,,implement one method called
Dialogue: 0,0:20:30.19,0:20:31.56,Default,,0,0,0,,itemsForBeginning session.
Dialogue: 0,0:20:32.12,0:20:35.68,Default,,0,0,0,,In this method, I'm going to
Dialogue: 0,0:20:35.68,0:20:37.10,Default,,0,0,0,,create an itemProvider.
Dialogue: 0,0:20:37.10,0:20:39.59,Default,,0,0,0,,And you can see that I'm able to
Dialogue: 0,0:20:39.59,0:20:42.17,Default,,0,0,0,,pass a ContactCard object
Dialogue: 0,0:20:42.24,0:20:44.20,Default,,0,0,0,,directly to the itemProvider's
Dialogue: 0,0:20:44.26,0:20:45.06,Default,,0,0,0,,initializer.
Dialogue: 0,0:20:45.59,0:20:47.65,Default,,0,0,0,,This works only because we
Dialogue: 0,0:20:47.65,0:20:48.67,Default,,0,0,0,,implemented the
Dialogue: 0,0:20:48.67,0:20:50.36,Default,,0,0,0,,NSItemProviderWriting protocol.
Dialogue: 0,0:20:51.69,0:20:53.45,Default,,0,0,0,,Let's run this code, now.
Dialogue: 0,0:21:02.13,0:21:03.36,Default,,0,0,0,,And I would like to share a
Dialogue: 0,0:21:03.36,0:21:05.19,Default,,0,0,0,,contact with my colleague on
Dialogue: 0,0:21:05.34,0:21:05.92,Default,,0,0,0,,Messages.
Dialogue: 0,0:21:07.21,0:21:09.61,Default,,0,0,0,,So, let me drag out Dinesh's
Dialogue: 0,0:21:09.61,0:21:11.09,Default,,0,0,0,,contact and drop it.
Dialogue: 0,0:21:11.88,0:21:16.46,Default,,0,0,0,,As you can see, we were able to
Dialogue: 0,0:21:16.81,0:21:18.36,Default,,0,0,0,,send out the name, phone number,
Dialogue: 0,0:21:18.36,0:21:19.32,Default,,0,0,0,,as well as the photo.
Dialogue: 0,0:21:19.68,0:21:20.86,Default,,0,0,0,,Which is what we were trying to
Dialogue: 0,0:21:20.86,0:21:21.47,Default,,0,0,0,,accomplish.
Dialogue: 0,0:21:21.76,0:21:24.80,Default,,0,0,0,,So, now we have learned how the
Dialogue: 0,0:21:24.80,0:21:26.33,Default,,0,0,0,,NSItemProvider reading and
Dialogue: 0,0:21:26.33,0:21:30.33,Default,,0,0,0,,writing protocols can be used to
Dialogue: 0,0:21:31.06,0:21:33.56,Default,,0,0,0,,transfer data using custom class
Dialogue: 0,0:21:33.56,0:21:34.15,Default,,0,0,0,,objects.
Dialogue: 0,0:21:35.04,0:21:36.29,Default,,0,0,0,,These are really powerful
Dialogue: 0,0:21:36.29,0:21:38.19,Default,,0,0,0,,protocols and we think you'll
Dialogue: 0,0:21:38.22,0:21:39.81,Default,,0,0,0,,find them extremely useful when
Dialogue: 0,0:21:39.81,0:21:41.27,Default,,0,0,0,,you implement drag and drop in
Dialogue: 0,0:21:41.27,0:21:41.83,Default,,0,0,0,,your own apps.
Dialogue: 0,0:21:42.42,0:21:44.52,Default,,0,0,0,,Up next, Dave will cover some
Dialogue: 0,0:21:44.52,0:21:45.45,Default,,0,0,0,,advanced topics.
Dialogue: 0,0:21:46.52,0:21:51.96,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:21:52.46,0:21:53.18,Default,,0,0,0,,>> Thanks, Tanu.
Dialogue: 0,0:21:54.40,0:21:57.94,Default,,0,0,0,,So, cool. All right.
Dialogue: 0,0:21:58.07,0:21:59.21,Default,,0,0,0,,Next, we're going to cover some
Dialogue: 0,0:21:59.21,0:22:00.07,Default,,0,0,0,,advanced topics.
Dialogue: 0,0:22:00.43,0:22:01.97,Default,,0,0,0,,These are just some collection
Dialogue: 0,0:22:01.97,0:22:03.59,Default,,0,0,0,,of things that is very good to
Dialogue: 0,0:22:03.59,0:22:04.47,Default,,0,0,0,,know, when you're going to
Dialogue: 0,0:22:04.47,0:22:05.56,Default,,0,0,0,,polish your app so that it
Dialogue: 0,0:22:05.56,0:22:06.95,Default,,0,0,0,,shines in the drag-and-drop
Dialogue: 0,0:22:06.95,0:22:07.50,Default,,0,0,0,,environment.
Dialogue: 0,0:22:09.23,0:22:10.06,Default,,0,0,0,,The first thing we're going to
Dialogue: 0,0:22:10.06,0:22:11.62,Default,,0,0,0,,cover is data marshaling.
Dialogue: 0,0:22:12.87,0:22:14.02,Default,,0,0,0,,So, if you look at the
Dialogue: 0,0:22:14.02,0:22:16.71,Default,,0,0,0,,NSItemProvider API in iOS 11,
Dialogue: 0,0:22:17.27,0:22:18.56,Default,,0,0,0,,you'll discover that there are
Dialogue: 0,0:22:18.56,0:22:20.42,Default,,0,0,0,,three ways you can provide data.
Dialogue: 0,0:22:21.55,0:22:23.33,Default,,0,0,0,,You can provide data as a data
Dialogue: 0,0:22:23.33,0:22:24.42,Default,,0,0,0,,object, obviously.
Dialogue: 0,0:22:25.41,0:22:27.18,Default,,0,0,0,,But you can also provide data as
Dialogue: 0,0:22:27.18,0:22:30.31,Default,,0,0,0,,a file or a folder on your file
Dialogue: 0,0:22:30.31,0:22:30.78,Default,,0,0,0,,storage.
Dialogue: 0,0:22:31.30,0:22:35.13,Default,,0,0,0,,Third, you can provide the data
Dialogue: 0,0:22:35.13,0:22:37.30,Default,,0,0,0,,as a reference into a File
Dialogue: 0,0:22:37.30,0:22:37.80,Default,,0,0,0,,Provider.
Dialogue: 0,0:22:38.23,0:22:39.35,Default,,0,0,0,,We'll talk about File Providers
Dialogue: 0,0:22:39.35,0:22:39.82,Default,,0,0,0,,more, later.
Dialogue: 0,0:22:42.32,0:22:45.03,Default,,0,0,0,,Similarly, the receiver of the
Dialogue: 0,0:22:45.03,0:22:46.76,Default,,0,0,0,,data can retrieve data in three
Dialogue: 0,0:22:46.76,0:22:47.60,Default,,0,0,0,,different ways.
Dialogue: 0,0:22:48.35,0:22:50.53,Default,,0,0,0,,They can copy it as their own NS
Dialogue: 0,0:22:50.53,0:22:51.11,Default,,0,0,0,,data object.
Dialogue: 0,0:22:52.31,0:22:54.44,Default,,0,0,0,,They can copy a file or a folder
Dialogue: 0,0:22:54.44,0:22:55.33,Default,,0,0,0,,into their container.
Dialogue: 0,0:22:55.87,0:22:59.09,Default,,0,0,0,,And they can attempt to open the
Dialogue: 0,0:22:59.09,0:23:00.37,Default,,0,0,0,,file in place.
Dialogue: 0,0:23:02.50,0:23:04.94,Default,,0,0,0,,So, three ways to provide data,
Dialogue: 0,0:23:04.94,0:23:07.10,Default,,0,0,0,,and three ways to consume it.
Dialogue: 0,0:23:07.38,0:23:08.61,Default,,0,0,0,,What do you have to do to make
Dialogue: 0,0:23:08.61,0:23:10.29,Default,,0,0,0,,sure that data transfer happens
Dialogue: 0,0:23:10.29,0:23:11.72,Default,,0,0,0,,seamlessly, and that the data is
Dialogue: 0,0:23:11.72,0:23:12.87,Default,,0,0,0,,made available in the correct
Dialogue: 0,0:23:12.93,0:23:13.27,Default,,0,0,0,,format?
Dialogue: 0,0:23:14.72,0:23:15.86,Default,,0,0,0,,Well, the good news is you have
Dialogue: 0,0:23:15.86,0:23:16.47,Default,,0,0,0,,to do nothing.
Dialogue: 0,0:23:16.74,0:23:19.30,Default,,0,0,0,,We do it for you.
Dialogue: 0,0:23:19.57,0:23:21.41,Default,,0,0,0,,Data marshaling makes sure that
Dialogue: 0,0:23:21.41,0:23:22.84,Default,,0,0,0,,the provider of the data can
Dialogue: 0,0:23:22.84,0:23:24.20,Default,,0,0,0,,provide and consume the
Dialogue: 0,0:23:24.20,0:23:26.42,Default,,0,0,0,,information in the way that's
Dialogue: 0,0:23:26.80,0:23:29.02,Default,,0,0,0,,most convenient for them.
Dialogue: 0,0:23:29.62,0:23:31.67,Default,,0,0,0,,If you provide a file and then,
Dialogue: 0,0:23:31.67,0:23:33.54,Default,,0,0,0,,you consume it as a data, we
Dialogue: 0,0:23:33.54,0:23:34.89,Default,,0,0,0,,will read the file into an
Dialogue: 0,0:23:34.89,0:23:35.91,Default,,0,0,0,,NSData object for you.
Dialogue: 0,0:23:36.42,0:23:39.21,Default,,0,0,0,,If you provide an NSData and you
Dialogue: 0,0:23:39.21,0:23:40.66,Default,,0,0,0,,ask for a file copy, we'll write
Dialogue: 0,0:23:40.66,0:23:43.07,Default,,0,0,0,,it to file storage and give you
Dialogue: 0,0:23:43.07,0:23:44.23,Default,,0,0,0,,your L reference to it.
Dialogue: 0,0:23:45.16,0:23:47.25,Default,,0,0,0,,If they provided a folder and
Dialogue: 0,0:23:47.25,0:23:49.11,Default,,0,0,0,,you asked for NSData, we will
Dialogue: 0,0:23:49.11,0:23:50.28,Default,,0,0,0,,zip up the contents of the
Dialogue: 0,0:23:50.28,0:23:52.18,Default,,0,0,0,,folder and give you an NSData of
Dialogue: 0,0:23:52.21,0:23:52.90,Default,,0,0,0,,the zip file.
Dialogue: 0,0:23:53.43,0:23:56.83,Default,,0,0,0,,And if they provide a reference
Dialogue: 0,0:23:56.83,0:23:59.29,Default,,0,0,0,,to a file provider and you ask
Dialogue: 0,0:23:59.29,0:24:02.86,Default,,0,0,0,,for a file copy, we will call in
Dialogue: 0,0:24:02.86,0:24:03.92,Default,,0,0,0,,the promises for the file
Dialogue: 0,0:24:03.92,0:24:05.80,Default,,0,0,0,,provider and make a copy on your
Dialogue: 0,0:24:05.80,0:24:05.98,Default,,0,0,0,,behalf.
Dialogue: 0,0:24:10.08,0:24:10.33,Default,,0,0,0,,All right.
Dialogue: 0,0:24:11.13,0:24:12.91,Default,,0,0,0,,So, we've seen how progress and
Dialogue: 0,0:24:12.91,0:24:14.29,Default,,0,0,0,,cancellation worked from the
Dialogue: 0,0:24:14.29,0:24:14.99,Default,,0,0,0,,consumer side.
Dialogue: 0,0:24:15.54,0:24:17.04,Default,,0,0,0,,So, I want to talk a little bit
Dialogue: 0,0:24:17.04,0:24:18.03,Default,,0,0,0,,about how progress and
Dialogue: 0,0:24:18.03,0:24:19.93,Default,,0,0,0,,cancellation works on the
Dialogue: 0,0:24:19.93,0:24:20.62,Default,,0,0,0,,provider's side.
Dialogue: 0,0:24:21.65,0:24:22.95,Default,,0,0,0,,I'm going to show you a block of
Dialogue: 0,0:24:22.95,0:24:23.54,Default,,0,0,0,,code, here.
Dialogue: 0,0:24:23.85,0:24:25.10,Default,,0,0,0,,Don't worry that it's a dense
Dialogue: 0,0:24:25.13,0:24:26.09,Default,,0,0,0,,block of code, because I'm going
Dialogue: 0,0:24:26.09,0:24:27.21,Default,,0,0,0,,to highlight the parts that are
Dialogue: 0,0:24:27.21,0:24:28.43,Default,,0,0,0,,most important.
Dialogue: 0,0:24:29.38,0:24:30.97,Default,,0,0,0,,This is a loadData
Dialogue: 0,0:24:31.78,0:24:33.43,Default,,0,0,0,,implementation for our
Dialogue: 0,0:24:33.43,0:24:34.81,Default,,0,0,0,,NSItemProviderWriting.
Dialogue: 0,0:24:36.16,0:24:38.37,Default,,0,0,0,,In which you are going to use a
Dialogue: 0,0:24:38.37,0:24:39.47,Default,,0,0,0,,dataLoader object to
Dialogue: 0,0:24:39.47,0:24:40.99,Default,,0,0,0,,incrementally load data.
Dialogue: 0,0:24:41.49,0:24:44.97,Default,,0,0,0,,To provide progress and
Dialogue: 0,0:24:44.97,0:24:47.14,Default,,0,0,0,,cancellation support, the first
Dialogue: 0,0:24:47.14,0:24:48.08,Default,,0,0,0,,thing you have to do is create
Dialogue: 0,0:24:48.08,0:24:49.26,Default,,0,0,0,,your own progress object.
Dialogue: 0,0:24:50.30,0:24:51.45,Default,,0,0,0,,In this case, we're creating one
Dialogue: 0,0:24:51.45,0:24:53.09,Default,,0,0,0,,with a UnitCount of 100 as a
Dialogue: 0,0:24:53.09,0:24:53.61,Default,,0,0,0,,percentage.
Dialogue: 0,0:24:54.16,0:24:57.05,Default,,0,0,0,,On that progress object, you can
Dialogue: 0,0:24:57.05,0:24:58.69,Default,,0,0,0,,attach a cancellationHandler
Dialogue: 0,0:24:58.97,0:25:00.03,Default,,0,0,0,,that will be called when the
Dialogue: 0,0:25:00.03,0:25:01.53,Default,,0,0,0,,consumer of your data calls
Dialogue: 0,0:25:01.65,0:25:03.10,Default,,0,0,0,,cancel on their instance of the
Dialogue: 0,0:25:03.10,0:25:03.83,Default,,0,0,0,,progress object.
Dialogue: 0,0:25:03.91,0:25:06.66,Default,,0,0,0,,In this case, all we're doing is
Dialogue: 0,0:25:06.66,0:25:08.08,Default,,0,0,0,,setting a local variable from
Dialogue: 0,0:25:08.08,0:25:10.41,Default,,0,0,0,,true to false, which should stop
Dialogue: 0,0:25:10.41,0:25:12.60,Default,,0,0,0,,the dataLoader from loading the
Dialogue: 0,0:25:12.60,0:25:13.23,Default,,0,0,0,,next chunk.
Dialogue: 0,0:25:14.17,0:25:17.72,Default,,0,0,0,,As the dataLoader progresses,
Dialogue: 0,0:25:17.72,0:25:18.62,Default,,0,0,0,,you can update the
Dialogue: 0,0:25:18.62,0:25:20.07,Default,,0,0,0,,completedUnitCount on your
Dialogue: 0,0:25:20.07,0:25:22.19,Default,,0,0,0,,progress object to drive the
Dialogue: 0,0:25:22.19,0:25:23.22,Default,,0,0,0,,progress indicator on the
Dialogue: 0,0:25:23.22,0:25:23.63,Default,,0,0,0,,receiver.
Dialogue: 0,0:25:24.67,0:25:25.98,Default,,0,0,0,,And of course, you have to
Dialogue: 0,0:25:25.98,0:25:27.38,Default,,0,0,0,,return your own progress object
Dialogue: 0,0:25:27.95,0:25:30.03,Default,,0,0,0,,so that we can type it over to
Dialogue: 0,0:25:30.12,0:25:33.42,Default,,0,0,0,,the other side.
Dialogue: 0,0:25:33.63,0:25:33.87,Default,,0,0,0,,All right.
Dialogue: 0,0:25:33.91,0:25:34.63,Default,,0,0,0,,Switching gears, now.
Dialogue: 0,0:25:35.07,0:25:36.01,Default,,0,0,0,,We're going to talk about some
Dialogue: 0,0:25:36.01,0:25:40.58,Default,,0,0,0,,features that help you to polish
Dialogue: 0,0:25:40.58,0:25:43.58,Default,,0,0,0,,your data representations when
Dialogue: 0,0:25:43.58,0:25:45.60,Default,,0,0,0,,creating suites of apps.
Dialogue: 0,0:25:45.60,0:25:48.05,Default,,0,0,0,,So, we're going to talk about
Dialogue: 0,0:25:48.05,0:25:49.58,Default,,0,0,0,,Per-Representation Visibility.
Dialogue: 0,0:25:50.08,0:25:51.64,Default,,0,0,0,,Remember, you can provide
Dialogue: 0,0:25:51.64,0:25:53.03,Default,,0,0,0,,multiple representations of your
Dialogue: 0,0:25:53.03,0:25:54.62,Default,,0,0,0,,data in NSItemProvider.
Dialogue: 0,0:25:55.73,0:25:57.15,Default,,0,0,0,,You can restrict the visibility
Dialogue: 0,0:25:57.15,0:25:59.56,Default,,0,0,0,,of each representation to either
Dialogue: 0,0:25:59.56,0:26:01.32,Default,,0,0,0,,visible to only your source
Dialogue: 0,0:26:01.32,0:26:02.01,Default,,0,0,0,,application.
Dialogue: 0,0:26:02.83,0:26:04.82,Default,,0,0,0,,To the applications that are
Dialogue: 0,0:26:04.82,0:26:06.97,Default,,0,0,0,,assigned by your team, so in
Dialogue: 0,0:26:06.97,0:26:08.85,Default,,0,0,0,,your suite of apps, or to
Dialogue: 0,0:26:08.85,0:26:09.29,Default,,0,0,0,,everyone.
Dialogue: 0,0:26:09.82,0:26:12.51,Default,,0,0,0,,You can use this property to
Dialogue: 0,0:26:12.51,0:26:15.99,Default,,0,0,0,,hide private types that you are
Dialogue: 0,0:26:15.99,0:26:18.12,Default,,0,0,0,,rapidly maintaining with
Dialogue: 0,0:26:18.12,0:26:19.41,Default,,0,0,0,,versions of your application
Dialogue: 0,0:26:19.41,0:26:19.76,Default,,0,0,0,,suite.
Dialogue: 0,0:26:20.06,0:26:20.93,Default,,0,0,0,,So, you don't have to worry
Dialogue: 0,0:26:20.93,0:26:23.47,Default,,0,0,0,,about third parties serializing
Dialogue: 0,0:26:23.47,0:26:24.85,Default,,0,0,0,,your data to disc.
Dialogue: 0,0:26:25.34,0:26:29.59,Default,,0,0,0,,In a similar vein, you have a
Dialogue: 0,0:26:29.76,0:26:30.96,Default,,0,0,0,,team data property on
Dialogue: 0,0:26:31.06,0:26:31.84,Default,,0,0,0,,NSItemProvider.
Dialogue: 0,0:26:32.66,0:26:35.40,Default,,0,0,0,,This is an eight kilobyte data
Dialogue: 0,0:26:35.40,0:26:37.18,Default,,0,0,0,,block that you can attach
Dialogue: 0,0:26:37.18,0:26:38.87,Default,,0,0,0,,through an NSItemProvider.
Dialogue: 0,0:26:39.19,0:26:40.90,Default,,0,0,0,,They are only visible to other
Dialogue: 0,0:26:40.90,0:26:42.42,Default,,0,0,0,,applications in your team.
Dialogue: 0,0:26:43.60,0:26:45.71,Default,,0,0,0,,You can use this to improve your
Dialogue: 0,0:26:45.71,0:26:46.92,Default,,0,0,0,,UI in any way you see fit,
Dialogue: 0,0:26:47.21,0:26:48.23,Default,,0,0,0,,during a drag.
Dialogue: 0,0:26:48.32,0:26:50.02,Default,,0,0,0,,This is metadata, and can be
Dialogue: 0,0:26:50.02,0:26:51.56,Default,,0,0,0,,retrieved even before the user
Dialogue: 0,0:26:51.56,0:26:52.33,Default,,0,0,0,,lifts their finger.
Dialogue: 0,0:26:56.02,0:26:56.59,Default,,0,0,0,,All right.
Dialogue: 0,0:26:56.96,0:26:58.29,Default,,0,0,0,,There is a suggestedName
Dialogue: 0,0:26:58.32,0:27:00.25,Default,,0,0,0,,property on the NSItemProvider.
Dialogue: 0,0:27:01.43,0:27:02.92,Default,,0,0,0,,If you provide a string for the
Dialogue: 0,0:27:02.92,0:27:04.93,Default,,0,0,0,,suggested name, we will use it
Dialogue: 0,0:27:04.93,0:27:06.12,Default,,0,0,0,,as a file name when the
Dialogue: 0,0:27:06.12,0:27:08.65,Default,,0,0,0,,retriever writes your data to
Dialogue: 0,0:27:08.95,0:27:09.58,Default,,0,0,0,,disc.
Dialogue: 0,0:27:10.60,0:27:11.99,Default,,0,0,0,,This is especially useful, of
Dialogue: 0,0:27:11.99,0:27:13.08,Default,,0,0,0,,course, when you're providing an
Dialogue: 0,0:27:13.08,0:27:13.42,Default,,0,0,0,,NSData.
Dialogue: 0,0:27:17.50,0:27:18.84,Default,,0,0,0,,And the last property I want to
Dialogue: 0,0:27:18.84,0:27:20.71,Default,,0,0,0,,talk about is Preferred
Dialogue: 0,0:27:21.01,0:27:22.44,Default,,0,0,0,,Presentation Size.
Dialogue: 0,0:27:23.19,0:27:26.91,Default,,0,0,0,,This is a CG size property that
Dialogue: 0,0:27:26.91,0:27:28.65,Default,,0,0,0,,you can provide to give a hint
Dialogue: 0,0:27:28.92,0:27:31.13,Default,,0,0,0,,to the receiver about how big
Dialogue: 0,0:27:31.13,0:27:32.45,Default,,0,0,0,,your representation's going to
Dialogue: 0,0:27:32.45,0:27:34.10,Default,,0,0,0,,end up after they've laid out.
Dialogue: 0,0:27:34.74,0:27:36.33,Default,,0,0,0,,This is used, for example, by
Dialogue: 0,0:27:36.33,0:27:38.95,Default,,0,0,0,,Mail, to drop images into the
Dialogue: 0,0:27:38.95,0:27:40.63,Default,,0,0,0,,Mail Compose sheet, into the
Dialogue: 0,0:27:40.63,0:27:42.88,Default,,0,0,0,,destination layout, even before
Dialogue: 0,0:27:42.88,0:27:43.62,Default,,0,0,0,,the data arrives.
Dialogue: 0,0:27:47.68,0:27:49.02,Default,,0,0,0,,And finally, I'm going to talk
Dialogue: 0,0:27:49.02,0:27:50.55,Default,,0,0,0,,about File Providers.
Dialogue: 0,0:27:51.08,0:27:52.56,Default,,0,0,0,,So, File Providers is a whole
Dialogue: 0,0:27:52.56,0:27:53.63,Default,,0,0,0,,other topic, on its own.
Dialogue: 0,0:27:54.46,0:27:57.05,Default,,0,0,0,,But a short summary can be said
Dialogue: 0,0:27:57.05,0:27:57.75,Default,,0,0,0,,as follows.
Dialogue: 0,0:27:58.25,0:27:59.60,Default,,0,0,0,,A File Provider is an app
Dialogue: 0,0:27:59.60,0:28:00.12,Default,,0,0,0,,extension.
Dialogue: 0,0:28:00.65,0:28:03.58,Default,,0,0,0,,This app extension allows data
Dialogue: 0,0:28:03.58,0:28:05.20,Default,,0,0,0,,transfer from a network
Dialogue: 0,0:28:05.20,0:28:06.91,Default,,0,0,0,,download, for example, to
Dialogue: 0,0:28:06.91,0:28:08.49,Default,,0,0,0,,continue even if your main
Dialogue: 0,0:28:08.49,0:28:10.16,Default,,0,0,0,,application has been terminated.
Dialogue: 0,0:28:11.42,0:28:14.07,Default,,0,0,0,,For long running drags, this is
Dialogue: 0,0:28:14.07,0:28:15.13,Default,,0,0,0,,especially useful.
Dialogue: 0,0:28:15.24,0:28:17.89,Default,,0,0,0,,Because as the user waits for a
Dialogue: 0,0:28:17.89,0:28:19.69,Default,,0,0,0,,download to occur, they may
Dialogue: 0,0:28:19.69,0:28:21.49,Default,,0,0,0,,navigate away from your app, and
Dialogue: 0,0:28:21.70,0:28:23.57,Default,,0,0,0,,your app could get terminated.
Dialogue: 0,0:28:25.34,0:28:28.20,Default,,0,0,0,,If you provide a URL to a file
Dialogue: 0,0:28:28.20,0:28:29.36,Default,,0,0,0,,inside a File Provider
Dialogue: 0,0:28:29.36,0:28:31.96,Default,,0,0,0,,container, the File Provider
Dialogue: 0,0:28:31.96,0:28:33.46,Default,,0,0,0,,extension will continue to serve
Dialogue: 0,0:28:33.46,0:28:35.38,Default,,0,0,0,,the data transfer request, even
Dialogue: 0,0:28:35.38,0:28:36.89,Default,,0,0,0,,though your UI application is
Dialogue: 0,0:28:36.89,0:28:37.43,Default,,0,0,0,,terminated.
Dialogue: 0,0:28:37.91,0:28:39.23,Default,,0,0,0,,And that increases the chances
Dialogue: 0,0:28:39.23,0:28:40.20,Default,,0,0,0,,that your data is going to be
Dialogue: 0,0:28:40.20,0:28:41.20,Default,,0,0,0,,transferred successfully.
Dialogue: 0,0:28:41.75,0:28:45.91,Default,,0,0,0,,And as an added bonus, if you
Dialogue: 0,0:28:46.23,0:28:47.45,Default,,0,0,0,,create a File Provider that
Dialogue: 0,0:28:47.45,0:28:49.25,Default,,0,0,0,,appears in the file's app, we
Dialogue: 0,0:28:49.63,0:28:51.37,Default,,0,0,0,,will allow you to drag and drop
Dialogue: 0,0:28:51.37,0:28:52.86,Default,,0,0,0,,URLs that can be opened in
Dialogue: 0,0:28:52.86,0:28:53.24,Default,,0,0,0,,place.
Dialogue: 0,0:28:53.74,0:28:54.84,Default,,0,0,0,,Which means that multiple
Dialogue: 0,0:28:54.84,0:28:57.09,Default,,0,0,0,,applications can access that
Dialogue: 0,0:28:57.09,0:28:58.90,Default,,0,0,0,,same file, instead of getting
Dialogue: 0,0:28:58.90,0:28:59.57,Default,,0,0,0,,their own copy.
Dialogue: 0,0:29:01.42,0:29:02.44,Default,,0,0,0,,There's some really great
Dialogue: 0,0:29:02.44,0:29:03.81,Default,,0,0,0,,information available in the
Dialogue: 0,0:29:03.81,0:29:04.94,Default,,0,0,0,,following two sessions.
Dialogue: 0,0:29:05.99,0:29:06.97,Default,,0,0,0,,I highly recommend that you
Dialogue: 0,0:29:06.97,0:29:08.35,Default,,0,0,0,,attend them, if you are
Dialogue: 0,0:29:08.35,0:29:09.49,Default,,0,0,0,,interested in providing File
Dialogue: 0,0:29:09.49,0:29:11.64,Default,,0,0,0,,Providers in the context of drag
Dialogue: 0,0:29:12.08,0:29:14.57,Default,,0,0,0,,and drop.
Dialogue: 0,0:29:14.75,0:29:15.05,Default,,0,0,0,,All right.
Dialogue: 0,0:29:16.60,0:29:17.87,Default,,0,0,0,,Next, we're going to take a look
Dialogue: 0,0:29:17.87,0:29:19.00,Default,,0,0,0,,at what we can do with files in
Dialogue: 0,0:29:19.00,0:29:20.55,Default,,0,0,0,,drag and drop, by having Tanu do
Dialogue: 0,0:29:20.55,0:29:20.98,Default,,0,0,0,,another demo.
Dialogue: 0,0:29:21.52,0:29:26.00,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:29:26.50,0:29:27.25,Default,,0,0,0,,>> Hope you are ready for
Dialogue: 0,0:29:27.25,0:29:28.01,Default,,0,0,0,,another demo.
Dialogue: 0,0:29:28.74,0:29:30.98,Default,,0,0,0,,In the previous demo, we saw how
Dialogue: 0,0:29:30.98,0:29:32.61,Default,,0,0,0,,we could drag and drop simple
Dialogue: 0,0:29:32.66,0:29:34.20,Default,,0,0,0,,system objects, as well as
Dialogue: 0,0:29:34.28,0:29:35.53,Default,,0,0,0,,custom class objects.
Dialogue: 0,0:29:36.21,0:29:38.03,Default,,0,0,0,,Now, let's see how we can handle
Dialogue: 0,0:29:38.12,0:29:38.57,Default,,0,0,0,,files.
Dialogue: 0,0:29:38.87,0:29:40.86,Default,,0,0,0,,We'll look at our customer's
Dialogue: 0,0:29:40.86,0:29:41.27,Default,,0,0,0,,app, again.
Dialogue: 0,0:29:41.27,0:29:43.68,Default,,0,0,0,,And for some people, here, we
Dialogue: 0,0:29:43.68,0:29:45.80,Default,,0,0,0,,have additional data.
Dialogue: 0,0:29:46.98,0:29:48.42,Default,,0,0,0,,Like for Adam, we know what
Dialogue: 0,0:29:48.49,0:29:49.65,Default,,0,0,0,,products he's purchased.
Dialogue: 0,0:29:49.91,0:29:52.59,Default,,0,0,0,,Now, I would like to drag out
Dialogue: 0,0:29:52.59,0:29:55.42,Default,,0,0,0,,this file into another app and
Dialogue: 0,0:29:55.42,0:29:56.74,Default,,0,0,0,,potentially edit it, there.
Dialogue: 0,0:29:57.98,0:30:00.67,Default,,0,0,0,,To implement this, I'll look at
Dialogue: 0,0:30:00.67,0:30:02.80,Default,,0,0,0,,the ContactDetailsViewController
Dialogue: 0,0:30:02.80,0:30:03.95,Default,,0,0,0,,in my customer's app.
Dialogue: 0,0:30:04.29,0:30:09.70,Default,,0,0,0,,Over here, we will add a drag
Dialogue: 0,0:30:09.70,0:30:12.16,Default,,0,0,0,,interaction to the attachment
Dialogue: 0,0:30:12.16,0:30:13.50,Default,,0,0,0,,image that we just saw.
Dialogue: 0,0:30:15.14,0:30:17.39,Default,,0,0,0,,Let's also, implement the Drag
Dialogue: 0,0:30:17.39,0:30:18.43,Default,,0,0,0,,Interaction Delegate, right
Dialogue: 0,0:30:18.43,0:30:19.81,Default,,0,0,0,,here, because we have set the
Dialogue: 0,0:30:19.81,0:30:20.84,Default,,0,0,0,,delegate to self.
Dialogue: 0,0:30:22.14,0:30:23.43,Default,,0,0,0,,You may have heard of the drag
Dialogue: 0,0:30:23.43,0:30:24.82,Default,,0,0,0,,interaction delegate in previous
Dialogue: 0,0:30:24.85,0:30:25.33,Default,,0,0,0,,sessions.
Dialogue: 0,0:30:26.16,0:30:27.32,Default,,0,0,0,,If you're interested in learning
Dialogue: 0,0:30:27.32,0:30:28.76,Default,,0,0,0,,more about this delegate, I
Dialogue: 0,0:30:28.76,0:30:30.60,Default,,0,0,0,,would encourage you to check out
Dialogue: 0,0:30:30.60,0:30:32.54,Default,,0,0,0,,the video for Session 213 on
Dialogue: 0,0:30:32.54,0:30:33.52,Default,,0,0,0,,Mastering Drag and Drop.
Dialogue: 0,0:30:33.59,0:30:35.73,Default,,0,0,0,,For the purposes of this demo,
Dialogue: 0,0:30:35.73,0:30:37.52,Default,,0,0,0,,though, we'll only look at one
Dialogue: 0,0:30:37.68,0:30:39.36,Default,,0,0,0,,method, called itemsForBeginning
Dialogue: 0,0:30:39.42,0:30:39.89,Default,,0,0,0,,session.
Dialogue: 0,0:30:40.44,0:30:44.07,Default,,0,0,0,,In this method, we'll create a
Dialogue: 0,0:30:44.07,0:30:47.05,Default,,0,0,0,,new itemProvider, and on the
Dialogue: 0,0:30:47.26,0:30:50.32,Default,,0,0,0,,itemProvider we'll call a method
Dialogue: 0,0:30:50.48,0:30:50.68,Default,,0,0,0,,called
Dialogue: 0,0:30:50.68,0:30:52.35,Default,,0,0,0,,registerFileRepresentation.
Dialogue: 0,0:30:52.61,0:30:54.77,Default,,0,0,0,,This method takes four
Dialogue: 0,0:30:54.82,0:30:55.40,Default,,0,0,0,,arguments.
Dialogue: 0,0:30:56.13,0:30:58.18,Default,,0,0,0,,The first one is the type
Dialogue: 0,0:30:58.18,0:30:58.80,Default,,0,0,0,,identifier.
Dialogue: 0,0:30:58.80,0:31:01.14,Default,,0,0,0,,Our attachment file was actually
Dialogue: 0,0:31:01.14,0:31:01.68,Default,,0,0,0,,an image.
Dialogue: 0,0:31:01.68,0:31:03.58,Default,,0,0,0,,So, I've set the type identifier
Dialogue: 0,0:31:03.67,0:31:04.34,Default,,0,0,0,,to JPEG.
Dialogue: 0,0:31:05.45,0:31:07.18,Default,,0,0,0,,The second parameter is file
Dialogue: 0,0:31:07.18,0:31:07.77,Default,,0,0,0,,options.
Dialogue: 0,0:31:08.58,0:31:10.79,Default,,0,0,0,,This can be used to specify if
Dialogue: 0,0:31:10.79,0:31:12.76,Default,,0,0,0,,we want other apps to open our
Dialogue: 0,0:31:12.76,0:31:14.96,Default,,0,0,0,,file in place, or if we want
Dialogue: 0,0:31:14.96,0:31:15.86,Default,,0,0,0,,them to make a copy.
Dialogue: 0,0:31:15.86,0:31:17.99,Default,,0,0,0,,We would like them to open our
Dialogue: 0,0:31:17.99,0:31:19.72,Default,,0,0,0,,file in place, so we can see the
Dialogue: 0,0:31:19.75,0:31:20.50,Default,,0,0,0,,changes they make.
Dialogue: 0,0:31:20.50,0:31:23.21,Default,,0,0,0,,The third parameter is
Dialogue: 0,0:31:23.21,0:31:23.90,Default,,0,0,0,,visibility.
Dialogue: 0,0:31:24.61,0:31:26.30,Default,,0,0,0,,This can be your own process,
Dialogue: 0,0:31:26.64,0:31:28.24,Default,,0,0,0,,your team, or all.
Dialogue: 0,0:31:28.38,0:31:29.90,Default,,0,0,0,,I've just set it to all.
Dialogue: 0,0:31:30.79,0:31:32.18,Default,,0,0,0,,Finally, we have the
Dialogue: 0,0:31:32.18,0:31:33.20,Default,,0,0,0,,completionHandler.
Dialogue: 0,0:31:33.20,0:31:35.56,Default,,0,0,0,,And we are going to pass the URL
Dialogue: 0,0:31:35.63,0:31:38.03,Default,,0,0,0,,file into this
Dialogue: 0,0:31:39.10,0:31:40.59,Default,,0,0,0,,completionHandler.
Dialogue: 0,0:31:40.59,0:31:44.15,Default,,0,0,0,,So, let's get the URL, first.
Dialogue: 0,0:31:44.15,0:31:45.90,Default,,0,0,0,,Over here, I have a helper
Dialogue: 0,0:31:45.90,0:31:48.47,Default,,0,0,0,,method that grabs the URL for my
Dialogue: 0,0:31:48.63,0:31:50.36,Default,,0,0,0,,file from a File Provider.
Dialogue: 0,0:31:50.56,0:31:52.95,Default,,0,0,0,,I need to use a File Provider
Dialogue: 0,0:31:53.09,0:31:54.75,Default,,0,0,0,,only when I'm opening files in
Dialogue: 0,0:31:54.81,0:31:55.28,Default,,0,0,0,,place.
Dialogue: 0,0:31:56.03,0:31:57.65,Default,,0,0,0,,If I wanted other apps to make a
Dialogue: 0,0:31:57.71,0:31:59.80,Default,,0,0,0,,copy, then I do not need a File
Dialogue: 0,0:31:59.80,0:32:00.27,Default,,0,0,0,,Provider.
Dialogue: 0,0:32:00.27,0:32:01.60,Default,,0,0,0,,I could have just provided a
Dialogue: 0,0:32:01.60,0:32:02.55,Default,,0,0,0,,local URL.
Dialogue: 0,0:32:03.04,0:32:04.76,Default,,0,0,0,,We'll pass this URL to the
Dialogue: 0,0:32:04.76,0:32:06.11,Default,,0,0,0,,completionHandler.
Dialogue: 0,0:32:06.11,0:32:10.03,Default,,0,0,0,,Now, our itemProvider is set up.
Dialogue: 0,0:32:10.03,0:32:11.83,Default,,0,0,0,,And we can use this to create a
Dialogue: 0,0:32:11.83,0:32:12.77,Default,,0,0,0,,drag item.
Dialogue: 0,0:32:13.30,0:32:16.34,Default,,0,0,0,,With this, the code is ready to
Dialogue: 0,0:32:16.34,0:32:16.75,Default,,0,0,0,,run.
Dialogue: 0,0:32:23.66,0:32:26.08,Default,,0,0,0,,So, now I can drag out this
Dialogue: 0,0:32:26.18,0:32:26.61,Default,,0,0,0,,file.
Dialogue: 0,0:32:27.97,0:32:30.44,Default,,0,0,0,,And let me open another app
Dialogue: 0,0:32:30.74,0:32:31.57,Default,,0,0,0,,where I'll drop it.
Dialogue: 0,0:32:38.22,0:32:39.73,Default,,0,0,0,,So, we'll drag out the data,
Dialogue: 0,0:32:40.23,0:32:42.20,Default,,0,0,0,,drop it into a document editing
Dialogue: 0,0:32:42.20,0:32:42.28,Default,,0,0,0,,app.
Dialogue: 0,0:32:43.00,0:32:45.36,Default,,0,0,0,,And I'm concerned now, that Adam
Dialogue: 0,0:32:45.36,0:32:46.74,Default,,0,0,0,,is buying a lot of products from
Dialogue: 0,0:32:46.74,0:32:47.70,Default,,0,0,0,,our competitor.
Dialogue: 0,0:32:48.17,0:32:51.18,Default,,0,0,0,,So, let me highlight this and
Dialogue: 0,0:32:51.18,0:32:52.23,Default,,0,0,0,,save these changes.
Dialogue: 0,0:32:52.83,0:32:54.83,Default,,0,0,0,,So, since our document editing
Dialogue: 0,0:32:54.83,0:32:56.15,Default,,0,0,0,,app actually used the URL
Dialogue: 0,0:32:56.15,0:32:57.76,Default,,0,0,0,,provided by the customer's app,
Dialogue: 0,0:32:58.55,0:33:00.85,Default,,0,0,0,,you'll see that we got the same
Dialogue: 0,0:33:00.85,0:33:02.44,Default,,0,0,0,,changes back in our customer's
Dialogue: 0,0:33:02.44,0:33:02.51,Default,,0,0,0,,app.
Dialogue: 0,0:33:03.52,0:33:07.34,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:33:07.84,0:33:08.81,Default,,0,0,0,,Glad you like that.
Dialogue: 0,0:33:10.22,0:33:12.28,Default,,0,0,0,,We've now seen how to handle
Dialogue: 0,0:33:12.28,0:33:14.37,Default,,0,0,0,,system objects, custom class
Dialogue: 0,0:33:14.37,0:33:16.76,Default,,0,0,0,,objects, as well as files.
Dialogue: 0,0:33:17.95,0:33:19.47,Default,,0,0,0,,We have a wide range of APIs
Dialogue: 0,0:33:19.47,0:33:21.16,Default,,0,0,0,,that you can adopt.
Dialogue: 0,0:33:21.16,0:33:22.57,Default,,0,0,0,,And we look forward to seeing
Dialogue: 0,0:33:22.73,0:33:23.67,Default,,0,0,0,,how you use them.
Dialogue: 0,0:33:23.90,0:33:25.59,Default,,0,0,0,,Back to Dave, to summarize.
Dialogue: 0,0:33:27.52,0:33:30.90,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:33:31.40,0:33:32.52,Default,,0,0,0,,>> Thank you, Tanu.
Dialogue: 0,0:33:34.08,0:33:35.14,Default,,0,0,0,,All right.
Dialogue: 0,0:33:35.33,0:33:36.27,Default,,0,0,0,,Let's recap.
Dialogue: 0,0:33:37.74,0:33:39.29,Default,,0,0,0,,During this session, we've seen
Dialogue: 0,0:33:39.52,0:33:41.67,Default,,0,0,0,,how an NSItemProvider is
Dialogue: 0,0:33:41.79,0:33:43.59,Default,,0,0,0,,fundamental to the way data is
Dialogue: 0,0:33:43.59,0:33:45.72,Default,,0,0,0,,transferred between applications
Dialogue: 0,0:33:46.10,0:33:46.79,Default,,0,0,0,,in Drag and Drop.
Dialogue: 0,0:33:48.20,0:33:49.33,Default,,0,0,0,,We've seen how multiple
Dialogue: 0,0:33:49.33,0:33:50.85,Default,,0,0,0,,representations allow your
Dialogue: 0,0:33:50.85,0:33:52.87,Default,,0,0,0,,applications to maximize
Dialogue: 0,0:33:52.87,0:33:54.21,Default,,0,0,0,,compatibility with other
Dialogue: 0,0:33:54.21,0:33:55.03,Default,,0,0,0,,applications.
Dialogue: 0,0:33:56.13,0:33:57.94,Default,,0,0,0,,And we've seen how data is
Dialogue: 0,0:33:57.94,0:34:00.26,Default,,0,0,0,,transferred asynchronously with
Dialogue: 0,0:34:00.33,0:34:02.26,Default,,0,0,0,,progress in a cancellable
Dialogue: 0,0:34:02.26,0:34:02.94,Default,,0,0,0,,fashion.
Dialogue: 0,0:34:05.32,0:34:06.25,Default,,0,0,0,,We've also seen how
Dialogue: 0,0:34:06.25,0:34:07.91,Default,,0,0,0,,NSItemProvider reading and
Dialogue: 0,0:34:07.91,0:34:09.43,Default,,0,0,0,,writing protocols allow you to
Dialogue: 0,0:34:09.43,0:34:11.98,Default,,0,0,0,,make model classes that work
Dialogue: 0,0:34:11.98,0:34:13.97,Default,,0,0,0,,well with drag-and-drop UI code.
Dialogue: 0,0:34:14.49,0:34:18.48,Default,,0,0,0,,And how visibility and team data
Dialogue: 0,0:34:18.73,0:34:20.72,Default,,0,0,0,,allows you to create suites of
Dialogue: 0,0:34:20.72,0:34:22.26,Default,,0,0,0,,apps that work in especially
Dialogue: 0,0:34:22.26,0:34:24.91,Default,,0,0,0,,well together during drag and
Dialogue: 0,0:34:26.34,0:34:26.69,Default,,0,0,0,,drop.
Dialogue: 0,0:34:26.69,0:34:28.49,Default,,0,0,0,,And finally, we've seen how File
Dialogue: 0,0:34:28.49,0:34:30.77,Default,,0,0,0,,Providers afford you the ability
Dialogue: 0,0:34:30.77,0:34:32.99,Default,,0,0,0,,to open files in place as the
Dialogue: 0,0:34:32.99,0:34:36.82,Default,,0,0,0,,result of drag and drop.
Dialogue: 0,0:34:36.94,0:34:38.24,Default,,0,0,0,,For more information, please
Dialogue: 0,0:34:38.24,0:34:39.58,Default,,0,0,0,,visit our developer website,
Dialogue: 0,0:34:39.58,0:34:41.23,Default,,0,0,0,,Session 227.
Dialogue: 0,0:34:41.72,0:34:45.37,Default,,0,0,0,,And I highly encourage you to
Dialogue: 0,0:34:45.37,0:34:47.36,Default,,0,0,0,,attend the File Provider related
Dialogue: 0,0:34:47.36,0:34:50.03,Default,,0,0,0,,sessions, today and tomorrow, to
Dialogue: 0,0:34:50.03,0:34:51.20,Default,,0,0,0,,learn more about how to create
Dialogue: 0,0:34:51.20,0:34:53.03,Default,,0,0,0,,File Providers for your own
Dialogue: 0,0:34:53.03,0:34:53.64,Default,,0,0,0,,applications.
Dialogue: 0,0:34:53.64,0:34:56.04,Default,,0,0,0,,If you haven't seen the first
Dialogue: 0,0:34:56.04,0:34:57.81,Default,,0,0,0,,three sessions on Drag and Drop,
Dialogue: 0,0:34:57.81,0:34:58.99,Default,,0,0,0,,I highly recommend that you
Dialogue: 0,0:34:58.99,0:34:59.93,Default,,0,0,0,,review them on video.
Dialogue: 0,0:35:00.43,0:35:02.61,Default,,0,0,0,,Thank you, for your attention,
Dialogue: 0,0:35:02.61,0:35:03.98,Default,,0,0,0,,and have a great WWDC.
Dialogue: 0,0:35:04.52,0:35:08.50,Default,,0,0,0,,[ Applause ]
