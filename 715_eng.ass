[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:22.50,0:00:22.98,Default,,0,0,0,,>> Welcome everybody.
Dialogue: 0,0:00:23.52,0:00:27.55,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:00:28.05,0:00:30.38,Default,,0,0,0,,My name is Eric Tamura, and I am
Dialogue: 0,0:00:30.38,0:00:31.63,Default,,0,0,0,,a manager on the file systems
Dialogue: 0,0:00:31.63,0:00:33.88,Default,,0,0,0,,team primarily for iOS and our
Dialogue: 0,0:00:33.88,0:00:35.24,Default,,0,0,0,,embedded devices, and I'll be
Dialogue: 0,0:00:35.75,0:00:37.74,Default,,0,0,0,,talking to you about what's new
Dialogue: 0,0:00:37.74,0:00:38.62,Default,,0,0,0,,in Apple file system.
Dialogue: 0,0:00:38.72,0:00:39.96,Default,,0,0,0,,I'll also be accompanied by
Dialogue: 0,0:00:39.96,0:00:42.06,Default,,0,0,0,,Pavel Sokolov, who's a manager
Dialogue: 0,0:00:42.06,0:00:43.89,Default,,0,0,0,,of the file systems team largely
Dialogue: 0,0:00:43.89,0:00:45.66,Default,,0,0,0,,for the Mac.
Dialogue: 0,0:00:45.87,0:00:46.92,Default,,0,0,0,,So let's get started.
Dialogue: 0,0:00:48.41,0:00:49.41,Default,,0,0,0,,So this presentation will
Dialogue: 0,0:00:49.41,0:00:51.13,Default,,0,0,0,,roughly be divided into two
Dialogue: 0,0:00:51.13,0:00:51.66,Default,,0,0,0,,sections.
Dialogue: 0,0:00:52.02,0:00:52.84,Default,,0,0,0,,I'll tell you a little bit more
Dialogue: 0,0:00:52.84,0:00:55.15,Default,,0,0,0,,about what's new for iOS as well
Dialogue: 0,0:00:55.23,0:00:57.88,Default,,0,0,0,,as tvOS, watchOS, and then Pavel
Dialogue: 0,0:00:57.88,0:00:59.07,Default,,0,0,0,,will come up and tell you all
Dialogue: 0,0:00:59.07,0:01:01.22,Default,,0,0,0,,about what's new on macOS.
Dialogue: 0,0:01:01.68,0:01:06.56,Default,,0,0,0,,So let's jump right in.
Dialogue: 0,0:01:07.29,0:01:10.15,Default,,0,0,0,,So last year I got up on the
Dialogue: 0,0:01:10.15,0:01:11.58,Default,,0,0,0,,stage at this conference, and I
Dialogue: 0,0:01:11.58,0:01:13.60,Default,,0,0,0,,told all of you that Apple
Dialogue: 0,0:01:14.07,0:01:15.09,Default,,0,0,0,,[inaudible] Apple file system,
Dialogue: 0,0:01:15.21,0:01:17.27,Default,,0,0,0,,as the default for all devices
Dialogue: 0,0:01:17.27,0:01:19.39,Default,,0,0,0,,starting in 2017, and we've
Dialogue: 0,0:01:19.39,0:01:20.36,Default,,0,0,0,,certainly done that.
Dialogue: 0,0:01:20.36,0:01:23.19,Default,,0,0,0,,So as of iOS 10.3 as well as our
Dialogue: 0,0:01:23.19,0:01:26.27,Default,,0,0,0,,tvOS and watchOS analogs, all
Dialogue: 0,0:01:26.27,0:01:28.70,Default,,0,0,0,,devices have been migrated to
Dialogue: 0,0:01:28.77,0:01:28.89,Default,,0,0,0,,APFS.
Dialogue: 0,0:01:28.89,0:01:30.69,Default,,0,0,0,,We'll tell you a little bit more
Dialogue: 0,0:01:30.69,0:01:31.15,Default,,0,0,0,,about that.
Dialogue: 0,0:01:32.08,0:01:32.81,Default,,0,0,0,,We'll talk a little bit more
Dialogue: 0,0:01:32.81,0:01:33.99,Default,,0,0,0,,about the conversion process,
Dialogue: 0,0:01:33.99,0:01:35.30,Default,,0,0,0,,how did devices actually move
Dialogue: 0,0:01:35.30,0:01:38.77,Default,,0,0,0,,from HFS+ to APFS, and then a
Dialogue: 0,0:01:38.77,0:01:40.63,Default,,0,0,0,,little bit on normalization and
Dialogue: 0,0:01:40.63,0:01:42.35,Default,,0,0,0,,case sensitivity, particularly
Dialogue: 0,0:01:42.44,0:01:44.83,Default,,0,0,0,,as it relates to iOS devices.
Dialogue: 0,0:01:45.74,0:01:46.71,Default,,0,0,0,,So let's talk about that
Dialogue: 0,0:01:46.75,0:01:47.21,Default,,0,0,0,,conversion.
Dialogue: 0,0:01:47.31,0:01:52.00,Default,,0,0,0,,So at this point, millions,
Dialogue: 0,0:01:52.00,0:01:53.18,Default,,0,0,0,,literally hundreds of millions
Dialogue: 0,0:01:53.18,0:01:54.23,Default,,0,0,0,,of devices have now been
Dialogue: 0,0:01:54.23,0:01:56.73,Default,,0,0,0,,converted successfully to APFS.
Dialogue: 0,0:01:57.52,0:02:04.06,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:02:04.56,0:02:06.92,Default,,0,0,0,,So starting on iOS 10.3 as well
Dialogue: 0,0:02:06.92,0:02:10.27,Default,,0,0,0,,as tvOS and watchOS, Apple file
Dialogue: 0,0:02:10.27,0:02:11.29,Default,,0,0,0,,system became the default.
Dialogue: 0,0:02:11.29,0:02:12.71,Default,,0,0,0,,We had millions of devices
Dialogue: 0,0:02:12.71,0:02:13.19,Default,,0,0,0,,converted.
Dialogue: 0,0:02:14.12,0:02:14.89,Default,,0,0,0,,And one of the things you might
Dialogue: 0,0:02:14.89,0:02:16.06,Default,,0,0,0,,have realized that this update
Dialogue: 0,0:02:16.06,0:02:17.10,Default,,0,0,0,,actually does free up some
Dialogue: 0,0:02:17.10,0:02:19.15,Default,,0,0,0,,storage for end users.
Dialogue: 0,0:02:19.54,0:02:20.91,Default,,0,0,0,,In particular, there was space
Dialogue: 0,0:02:20.91,0:02:22.68,Default,,0,0,0,,previously occupied by the prior
Dialogue: 0,0:02:22.68,0:02:24.28,Default,,0,0,0,,volume manager, lightweight
Dialogue: 0,0:02:24.28,0:02:25.22,Default,,0,0,0,,volume manager, which is no
Dialogue: 0,0:02:25.22,0:02:26.11,Default,,0,0,0,,longer needed, and we were able
Dialogue: 0,0:02:26.11,0:02:27.64,Default,,0,0,0,,to free up that space and give
Dialogue: 0,0:02:27.64,0:02:29.17,Default,,0,0,0,,it back to users.
Dialogue: 0,0:02:29.86,0:02:30.86,Default,,0,0,0,,One of the other things is that
Dialogue: 0,0:02:30.86,0:02:32.51,Default,,0,0,0,,starting in iOS 11, we are able
Dialogue: 0,0:02:32.51,0:02:34.09,Default,,0,0,0,,to start taking advantage of the
Dialogue: 0,0:02:34.09,0:02:36.58,Default,,0,0,0,,APFS capabilities in iOS and
Dialogue: 0,0:02:36.58,0:02:37.79,Default,,0,0,0,,tvOS and watchOS.
Dialogue: 0,0:02:37.79,0:02:39.72,Default,,0,0,0,,Particularly iOS where iCloud
Dialogue: 0,0:02:39.72,0:02:42.15,Default,,0,0,0,,backup can now use Snapshots in
Dialogue: 0,0:02:42.15,0:02:43.37,Default,,0,0,0,,order to take a stable copy of
Dialogue: 0,0:02:43.37,0:02:45.29,Default,,0,0,0,,the file system and upload
Dialogue: 0,0:02:45.29,0:02:46.90,Default,,0,0,0,,everything to the Cloud without
Dialogue: 0,0:02:46.90,0:02:48.44,Default,,0,0,0,,worrying about whether or not a
Dialogue: 0,0:02:48.44,0:02:50.14,Default,,0,0,0,,process might be modifying a
Dialogue: 0,0:02:50.14,0:02:52.22,Default,,0,0,0,,file and getting rights
Dialogue: 0,0:02:52.22,0:02:52.77,Default,,0,0,0,,intermingled.
Dialogue: 0,0:02:52.87,0:02:54.60,Default,,0,0,0,,And finally we've been listening
Dialogue: 0,0:02:54.60,0:02:56.02,Default,,0,0,0,,to developer feedback in order
Dialogue: 0,0:02:56.02,0:02:57.76,Default,,0,0,0,,to improve and refine the file
Dialogue: 0,0:02:57.76,0:02:59.26,Default,,0,0,0,,system and all the software that
Dialogue: 0,0:02:59.26,0:02:59.96,Default,,0,0,0,,we've been working on.
Dialogue: 0,0:03:00.48,0:03:02.19,Default,,0,0,0,,So let's talk a little bit about
Dialogue: 0,0:03:02.19,0:03:03.29,Default,,0,0,0,,that conversion process.
Dialogue: 0,0:03:03.62,0:03:09.20,Default,,0,0,0,,So the APFS conversion occurs in
Dialogue: 0,0:03:09.20,0:03:11.59,Default,,0,0,0,,line during the update to iOS
Dialogue: 0,0:03:11.82,0:03:13.20,Default,,0,0,0,,10.3 and beyond.
Dialogue: 0,0:03:13.20,0:03:14.28,Default,,0,0,0,,So whether you're moving to iOS
Dialogue: 0,0:03:14.28,0:03:17.96,Default,,0,0,0,,10.3, 10.3.2 or even iOS 11 from
Dialogue: 0,0:03:17.96,0:03:19.13,Default,,0,0,0,,some prior update, it will
Dialogue: 0,0:03:19.13,0:03:20.81,Default,,0,0,0,,automatically get converted.
Dialogue: 0,0:03:21.53,0:03:22.51,Default,,0,0,0,,And one of the reasons that we
Dialogue: 0,0:03:22.51,0:03:23.28,Default,,0,0,0,,were able to do this so
Dialogue: 0,0:03:23.28,0:03:24.69,Default,,0,0,0,,successfully is that we actually
Dialogue: 0,0:03:24.69,0:03:26.75,Default,,0,0,0,,employed a dry run conversion
Dialogue: 0,0:03:27.02,0:03:29.80,Default,,0,0,0,,during iOS 10.0, 10.1, and 10.2
Dialogue: 0,0:03:29.80,0:03:31.78,Default,,0,0,0,,and be able to track how the
Dialogue: 0,0:03:31.78,0:03:33.60,Default,,0,0,0,,health of our conversion process
Dialogue: 0,0:03:33.87,0:03:34.77,Default,,0,0,0,,was actually going.
Dialogue: 0,0:03:35.67,0:03:37.03,Default,,0,0,0,,And we've also been monitoring
Dialogue: 0,0:03:37.03,0:03:39.14,Default,,0,0,0,,the health of the conversion
Dialogue: 0,0:03:39.14,0:03:41.39,Default,,0,0,0,,during iOS 10.3 and beyond
Dialogue: 0,0:03:41.39,0:03:44.32,Default,,0,0,0,,updates, and we've been watching
Dialogue: 0,0:03:44.32,0:03:44.78,Default,,0,0,0,,that as well.
Dialogue: 0,0:03:45.69,0:03:47.71,Default,,0,0,0,,Finally, we've been also looking
Dialogue: 0,0:03:47.71,0:03:49.38,Default,,0,0,0,,at the numbers and statistics
Dialogue: 0,0:03:49.38,0:03:50.27,Default,,0,0,0,,and everything that we're
Dialogue: 0,0:03:50.69,0:03:51.75,Default,,0,0,0,,watching and be able to improve
Dialogue: 0,0:03:51.75,0:03:53.51,Default,,0,0,0,,and refine the conversion on the
Dialogue: 0,0:03:53.51,0:03:54.44,Default,,0,0,0,,Mac as well.
Dialogue: 0,0:03:55.45,0:03:57.19,Default,,0,0,0,,So sometimes an illustration can
Dialogue: 0,0:03:57.19,0:03:59.22,Default,,0,0,0,,help make this easier to
Dialogue: 0,0:03:59.22,0:04:00.81,Default,,0,0,0,,understand, so I've got one
Dialogue: 0,0:04:00.81,0:04:00.99,Default,,0,0,0,,here.
Dialogue: 0,0:04:02.01,0:04:03.50,Default,,0,0,0,,So let's assume that this
Dialogue: 0,0:04:03.79,0:04:05.65,Default,,0,0,0,,rectangle represents the
Dialogue: 0,0:04:05.75,0:04:08.24,Default,,0,0,0,,entirety of a block device and
Dialogue: 0,0:04:08.24,0:04:09.66,Default,,0,0,0,,on the far left you'll notice
Dialogue: 0,0:04:09.66,0:04:11.09,Default,,0,0,0,,that there's and SB that really
Dialogue: 0,0:04:11.09,0:04:12.97,Default,,0,0,0,,refers to the superblock or the
Dialogue: 0,0:04:12.97,0:04:14.53,Default,,0,0,0,,HFS+ volume header.
Dialogue: 0,0:04:15.07,0:04:16.53,Default,,0,0,0,,Let's say for simplification we
Dialogue: 0,0:04:16.53,0:04:18.98,Default,,0,0,0,,have three metadata regions that
Dialogue: 0,0:04:18.98,0:04:20.75,Default,,0,0,0,,report all the entirety of what
Dialogue: 0,0:04:20.75,0:04:21.81,Default,,0,0,0,,the file system might be
Dialogue: 0,0:04:22.03,0:04:23.10,Default,,0,0,0,,tracking, things like file
Dialogue: 0,0:04:23.10,0:04:25.51,Default,,0,0,0,,names, time stamps, where the
Dialogue: 0,0:04:25.51,0:04:26.88,Default,,0,0,0,,blocks actually live on disk,
Dialogue: 0,0:04:26.88,0:04:28.24,Default,,0,0,0,,and that we also have two
Dialogue: 0,0:04:28.24,0:04:30.08,Default,,0,0,0,,regions labeled file data, and
Dialogue: 0,0:04:30.64,0:04:31.53,Default,,0,0,0,,if you recall during the
Dialogue: 0,0:04:31.53,0:04:32.93,Default,,0,0,0,,conversion process the goal is
Dialogue: 0,0:04:32.93,0:04:35.18,Default,,0,0,0,,to only replace the metadata and
Dialogue: 0,0:04:35.18,0:04:36.52,Default,,0,0,0,,not touch the file data.
Dialogue: 0,0:04:36.52,0:04:37.83,Default,,0,0,0,,We want that to stay exactly
Dialogue: 0,0:04:37.83,0:04:39.76,Default,,0,0,0,,where it is as if nothing had
Dialogue: 0,0:04:39.76,0:04:41.23,Default,,0,0,0,,happened to it.
Dialogue: 0,0:04:42.25,0:04:43.01,Default,,0,0,0,,So the first thing that we're
Dialogue: 0,0:04:43.01,0:04:44.82,Default,,0,0,0,,going to do is identify exactly
Dialogue: 0,0:04:44.82,0:04:46.43,Default,,0,0,0,,where the metadata is, and as
Dialogue: 0,0:04:46.43,0:04:48.28,Default,,0,0,0,,we're walking through it we'll
Dialogue: 0,0:04:48.28,0:04:49.66,Default,,0,0,0,,start writing it into the free
Dialogue: 0,0:04:49.66,0:04:52.23,Default,,0,0,0,,space of the HFS+ volume.
Dialogue: 0,0:04:52.72,0:04:54.78,Default,,0,0,0,,And what this gives us is crash
Dialogue: 0,0:04:54.78,0:04:55.92,Default,,0,0,0,,protection and the ability to
Dialogue: 0,0:04:55.92,0:04:56.89,Default,,0,0,0,,recover in the event that
Dialogue: 0,0:04:56.89,0:04:58.14,Default,,0,0,0,,conversion doesn't actually
Dialogue: 0,0:04:58.14,0:04:58.57,Default,,0,0,0,,succeed.
Dialogue: 0,0:04:59.64,0:05:00.97,Default,,0,0,0,,Now the metadata is identified.
Dialogue: 0,0:05:01.71,0:05:02.84,Default,,0,0,0,,We'll then start to write it out
Dialogue: 0,0:05:02.84,0:05:04.76,Default,,0,0,0,,to disk, and at this point, if
Dialogue: 0,0:05:04.76,0:05:05.90,Default,,0,0,0,,we were doing a dry-run
Dialogue: 0,0:05:05.90,0:05:07.59,Default,,0,0,0,,conversion, we'd end here.
Dialogue: 0,0:05:08.51,0:05:10.40,Default,,0,0,0,,If we're completing the process,
Dialogue: 0,0:05:11.13,0:05:12.96,Default,,0,0,0,,we will write the new superblock
Dialogue: 0,0:05:13.03,0:05:14.77,Default,,0,0,0,,on top of the old one, and now
Dialogue: 0,0:05:14.77,0:05:17.02,Default,,0,0,0,,we have an APFS volume.
Dialogue: 0,0:05:17.75,0:05:18.99,Default,,0,0,0,,The final step is to simply
Dialogue: 0,0:05:18.99,0:05:20.35,Default,,0,0,0,,remove the metadata that was
Dialogue: 0,0:05:20.41,0:05:22.54,Default,,0,0,0,,previously occupied by the HFS+
Dialogue: 0,0:05:22.54,0:05:23.00,Default,,0,0,0,,content.
Dialogue: 0,0:05:23.82,0:05:25.74,Default,,0,0,0,,We'll do that, and at this point
Dialogue: 0,0:05:25.74,0:05:28.01,Default,,0,0,0,,it's a completely converted APFS
Dialogue: 0,0:05:28.18,0:05:28.55,Default,,0,0,0,,volume.
Dialogue: 0,0:05:28.90,0:05:33.58,Default,,0,0,0,,So now a quick word on Unicode.
Dialogue: 0,0:05:35.46,0:05:37.01,Default,,0,0,0,,So if you know anything about
Dialogue: 0,0:05:37.01,0:05:37.87,Default,,0,0,0,,Unicode, you know there's
Dialogue: 0,0:05:37.87,0:05:39.48,Default,,0,0,0,,actually multiple variants, but
Dialogue: 0,0:05:39.48,0:05:40.84,Default,,0,0,0,,for the purpose of discussion
Dialogue: 0,0:05:40.84,0:05:43.11,Default,,0,0,0,,here, I will only be referring
Dialogue: 0,0:05:43.42,0:05:45.52,Default,,0,0,0,,two really, which are NFC and
Dialogue: 0,0:05:45.52,0:05:47.16,Default,,0,0,0,,NFD, and these roughly
Dialogue: 0,0:05:47.16,0:05:48.55,Default,,0,0,0,,correspond to precomposed
Dialogue: 0,0:05:48.55,0:05:50.54,Default,,0,0,0,,characters versus decomposed
Dialogue: 0,0:05:50.54,0:05:51.13,Default,,0,0,0,,characters.
Dialogue: 0,0:05:51.75,0:05:53.41,Default,,0,0,0,,And what this means is that you
Dialogue: 0,0:05:53.41,0:05:54.39,Default,,0,0,0,,can actually store the same
Dialogue: 0,0:05:54.39,0:05:55.91,Default,,0,0,0,,character visually, the same
Dialogue: 0,0:05:55.91,0:05:57.06,Default,,0,0,0,,visual representation can
Dialogue: 0,0:05:57.06,0:05:58.82,Default,,0,0,0,,actually be stored multiple ways
Dialogue: 0,0:05:59.14,0:06:00.28,Default,,0,0,0,,depending on which form you're
Dialogue: 0,0:06:00.28,0:06:00.61,Default,,0,0,0,,using.
Dialogue: 0,0:06:01.36,0:06:03.85,Default,,0,0,0,,Now prior to iOS 11, APFS stored
Dialogue: 0,0:06:04.14,0:06:05.96,Default,,0,0,0,,file names as nonnormalized
Dialogue: 0,0:06:06.25,0:06:08.43,Default,,0,0,0,,UTF-8, and what this means is
Dialogue: 0,0:06:08.43,0:06:09.95,Default,,0,0,0,,that if you have a file with one
Dialogue: 0,0:06:09.95,0:06:11.95,Default,,0,0,0,,representation versus the other,
Dialogue: 0,0:06:12.11,0:06:13.44,Default,,0,0,0,,they will actually be treated as
Dialogue: 0,0:06:13.44,0:06:14.38,Default,,0,0,0,,different file names for the
Dialogue: 0,0:06:14.38,0:06:16.82,Default,,0,0,0,,purposes of lookup and creation
Dialogue: 0,0:06:16.82,0:06:17.58,Default,,0,0,0,,and comparison.
Dialogue: 0,0:06:18.33,0:06:19.76,Default,,0,0,0,,So let's give another example to
Dialogue: 0,0:06:20.22,0:06:21.41,Default,,0,0,0,,make this easier to understand.
Dialogue: 0,0:06:22.18,0:06:23.27,Default,,0,0,0,,Let's say we have the character
Dialogue: 0,0:06:23.55,0:06:25.07,Default,,0,0,0,,n with tilde or [foreign
Dialogue: 0,0:06:25.14,0:06:26.18,Default,,0,0,0,,language] in Spanish.
Dialogue: 0,0:06:26.55,0:06:27.65,Default,,0,0,0,,You can represent this as the
Dialogue: 0,0:06:27.69,0:06:29.93,Default,,0,0,0,,Unicode hex f1 character.
Dialogue: 0,0:06:30.67,0:06:31.85,Default,,0,0,0,,Alternatively, you can also
Dialogue: 0,0:06:31.85,0:06:33.61,Default,,0,0,0,,store it as a decomposed
Dialogue: 0,0:06:33.61,0:06:34.70,Default,,0,0,0,,character in which the n is
Dialogue: 0,0:06:34.70,0:06:36.37,Default,,0,0,0,,stored separately from the
Dialogue: 0,0:06:36.37,0:06:36.73,Default,,0,0,0,,tilde.
Dialogue: 0,0:06:36.80,0:06:39.36,Default,,0,0,0,,Now in this case, on the right
Dialogue: 0,0:06:39.36,0:06:40.85,Default,,0,0,0,,the n and the tilde will be
Dialogue: 0,0:06:40.85,0:06:41.96,Default,,0,0,0,,stored as two separate code
Dialogue: 0,0:06:41.96,0:06:43.15,Default,,0,0,0,,points; however, they will be
Dialogue: 0,0:06:43.35,0:06:44.83,Default,,0,0,0,,treated as having to be combined
Dialogue: 0,0:06:44.83,0:06:46.63,Default,,0,0,0,,for the purposes of visually
Dialogue: 0,0:06:46.63,0:06:48.33,Default,,0,0,0,,representing that character on
Dialogue: 0,0:06:48.33,0:06:48.86,Default,,0,0,0,,your screen.
Dialogue: 0,0:06:51.78,0:06:56.54,Default,,0,0,0,,So the problem is that even if
Dialogue: 0,0:06:56.54,0:06:58.29,Default,,0,0,0,,the file system is taking care
Dialogue: 0,0:06:58.29,0:06:59.57,Default,,0,0,0,,to treat these as separate,
Dialogue: 0,0:06:59.57,0:07:00.53,Default,,0,0,0,,that's not necessarily what the
Dialogue: 0,0:07:00.53,0:07:04.68,Default,,0,0,0,,rest of the system expects and
Dialogue: 0,0:07:04.68,0:07:05.33,Default,,0,0,0,,interacts with.
Dialogue: 0,0:07:05.33,0:07:06.18,Default,,0,0,0,,This might be well-defined
Dialogue: 0,0:07:06.18,0:07:07.79,Default,,0,0,0,,behavior for NFS; however, you
Dialogue: 0,0:07:07.79,0:07:08.71,Default,,0,0,0,,want to make sure that the
Dialogue: 0,0:07:08.71,0:07:10.64,Default,,0,0,0,,entire software stack from file
Dialogue: 0,0:07:10.64,0:07:11.68,Default,,0,0,0,,system all the way up to
Dialogue: 0,0:07:11.68,0:07:13.33,Default,,0,0,0,,foundation and above is able to
Dialogue: 0,0:07:13.33,0:07:14.22,Default,,0,0,0,,treat everything properly.
Dialogue: 0,0:07:14.95,0:07:16.45,Default,,0,0,0,,So in order to rectify this,
Dialogue: 0,0:07:16.45,0:07:18.28,Default,,0,0,0,,we're introducing two new
Dialogue: 0,0:07:18.28,0:07:20.17,Default,,0,0,0,,normalization schemes for Apple
Dialogue: 0,0:07:20.17,0:07:20.83,Default,,0,0,0,,file system.
Dialogue: 0,0:07:21.23,0:07:22.87,Default,,0,0,0,,We have a native scheme as well
Dialogue: 0,0:07:22.87,0:07:24.22,Default,,0,0,0,,as a runtime normalization
Dialogue: 0,0:07:24.22,0:07:24.62,Default,,0,0,0,,scheme.
Dialogue: 0,0:07:24.96,0:07:26.69,Default,,0,0,0,,Now the native normalization
Dialogue: 0,0:07:26.69,0:07:28.49,Default,,0,0,0,,scheme is available in your high
Dialogue: 0,0:07:28.49,0:07:29.93,Default,,0,0,0,,Sierra beta that you got earlier
Dialogue: 0,0:07:29.93,0:07:31.80,Default,,0,0,0,,this week for case-sensitive
Dialogue: 0,0:07:31.99,0:07:32.97,Default,,0,0,0,,volumes only.
Dialogue: 0,0:07:33.12,0:07:34.90,Default,,0,0,0,,For case insensitive content,
Dialogue: 0,0:07:34.90,0:07:36.49,Default,,0,0,0,,Pavel will get up on stage in a
Dialogue: 0,0:07:36.49,0:07:37.68,Default,,0,0,0,,little bit and tell you all
Dialogue: 0,0:07:37.68,0:07:38.21,Default,,0,0,0,,about that.
Dialogue: 0,0:07:38.95,0:07:40.00,Default,,0,0,0,,The native normalization is
Dialogue: 0,0:07:40.00,0:07:42.80,Default,,0,0,0,,coming soon for iOS 11 for erase
Dialogue: 0,0:07:42.80,0:07:43.49,Default,,0,0,0,,restores only.
Dialogue: 0,0:07:43.49,0:07:45.21,Default,,0,0,0,,This means if you plugged in the
Dialogue: 0,0:07:45.21,0:07:47.29,Default,,0,0,0,,phone or other device to iTunes
Dialogue: 0,0:07:47.29,0:07:49.24,Default,,0,0,0,,and did a restore to factory
Dialogue: 0,0:07:49.24,0:07:51.17,Default,,0,0,0,,settings starting with iOS 11
Dialogue: 0,0:07:51.37,0:07:52.64,Default,,0,0,0,,will automatically pick this up.
Dialogue: 0,0:07:53.29,0:07:54.49,Default,,0,0,0,,However, we don't want anyone to
Dialogue: 0,0:07:54.49,0:07:56.15,Default,,0,0,0,,have to erase install in order
Dialogue: 0,0:07:56.15,0:07:57.54,Default,,0,0,0,,to get this behavior.
Dialogue: 0,0:07:57.66,0:07:59.77,Default,,0,0,0,,So we're also introducing a new
Dialogue: 0,0:07:59.77,0:08:01.82,Default,,0,0,0,,runtime normalization mechanism,
Dialogue: 0,0:08:01.87,0:08:03.06,Default,,0,0,0,,and the runtime normalization
Dialogue: 0,0:08:03.06,0:08:04.05,Default,,0,0,0,,will automatically convert
Dialogue: 0,0:08:04.05,0:08:06.99,Default,,0,0,0,,between the NFC content versus
Dialogue: 0,0:08:06.99,0:08:09.29,Default,,0,0,0,,the NFD for the purposes of file
Dialogue: 0,0:08:09.29,0:08:10.66,Default,,0,0,0,,comparison, being able to do
Dialogue: 0,0:08:10.93,0:08:11.45,Default,,0,0,0,,lookups.
Dialogue: 0,0:08:11.45,0:08:12.60,Default,,0,0,0,,If it doesn't find one, it will
Dialogue: 0,0:08:12.60,0:08:13.91,Default,,0,0,0,,automatically look up with the
Dialogue: 0,0:08:13.91,0:08:15.39,Default,,0,0,0,,other to make sure that your app
Dialogue: 0,0:08:15.44,0:08:17.13,Default,,0,0,0,,doesn't receive an ENOENT
Dialogue: 0,0:08:17.13,0:08:17.89,Default,,0,0,0,,[phonetic] error back from the
Dialogue: 0,0:08:17.89,0:08:18.44,Default,,0,0,0,,file system.
Dialogue: 0,0:08:19.37,0:08:20.38,Default,,0,0,0,,And a future update will
Dialogue: 0,0:08:20.38,0:08:22.08,Default,,0,0,0,,automatically convert devices
Dialogue: 0,0:08:22.08,0:08:24.70,Default,,0,0,0,,from whatever form they were in,
Dialogue: 0,0:08:24.70,0:08:25.96,Default,,0,0,0,,if they were already migrated
Dialogue: 0,0:08:25.96,0:08:28.48,Default,,0,0,0,,starting in 10.3 or 10.3.2 to
Dialogue: 0,0:08:28.48,0:08:31.05,Default,,0,0,0,,the new form in a future update.
Dialogue: 0,0:08:31.83,0:08:35.11,Default,,0,0,0,,So that's the update for iOS,
Dialogue: 0,0:08:35.11,0:08:36.06,Default,,0,0,0,,and with that, I'm going to hand
Dialogue: 0,0:08:36.06,0:08:37.30,Default,,0,0,0,,it off to Pavel, who is going to
Dialogue: 0,0:08:37.30,0:08:37.98,Default,,0,0,0,,tell you all about the Mac.
Dialogue: 0,0:08:38.52,0:08:43.52,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:08:44.52,0:08:49.72,Default,,0,0,0,,[ Background Noise ]
Dialogue: 0,0:08:50.22,0:08:51.22,Default,,0,0,0,,>> Good morning everyone.
Dialogue: 0,0:08:51.62,0:08:53.73,Default,,0,0,0,,My name is Pavel Sokolov, and I
Dialogue: 0,0:08:53.73,0:08:56.54,Default,,0,0,0,,manage file system team in
Dialogue: 0,0:08:56.54,0:08:56.84,Default,,0,0,0,,Apple.
Dialogue: 0,0:08:57.71,0:08:59.02,Default,,0,0,0,,Today I'm going to talk to you
Dialogue: 0,0:08:59.02,0:09:02.93,Default,,0,0,0,,about what's new in macOS with
Dialogue: 0,0:09:03.15,0:09:05.63,Default,,0,0,0,,regards to APFS.
Dialogue: 0,0:09:05.84,0:09:06.46,Default,,0,0,0,,Let's begin.
Dialogue: 0,0:09:08.02,0:09:10.52,Default,,0,0,0,,So first, I would like to talk
Dialogue: 0,0:09:10.52,0:09:12.60,Default,,0,0,0,,to you about what features are
Dialogue: 0,0:09:12.60,0:09:14.71,Default,,0,0,0,,here just in case you missed the
Dialogue: 0,0:09:14.71,0:09:15.98,Default,,0,0,0,,presentation from the previous
Dialogue: 0,0:09:15.98,0:09:16.23,Default,,0,0,0,,year.
Dialogue: 0,0:09:19.42,0:09:22.02,Default,,0,0,0,,Important features that we
Dialogue: 0,0:09:22.25,0:09:23.74,Default,,0,0,0,,have-- first of all, I would
Dialogue: 0,0:09:23.74,0:09:27.07,Default,,0,0,0,,like to remind you that APFS is
Dialogue: 0,0:09:27.31,0:09:29.34,Default,,0,0,0,,available to every
Dialogue: 0,0:09:29.66,0:09:31.04,Default,,0,0,0,,Apple-supported platform.
Dialogue: 0,0:09:31.42,0:09:35.01,Default,,0,0,0,,It works on iOS, tvOS, even on
Dialogue: 0,0:09:35.01,0:09:37.14,Default,,0,0,0,,your watch, and macOS, of
Dialogue: 0,0:09:37.14,0:09:37.40,Default,,0,0,0,,course.
Dialogue: 0,0:09:38.68,0:09:40.71,Default,,0,0,0,,One of the awesome features is
Dialogue: 0,0:09:40.71,0:09:41.24,Default,,0,0,0,,cloning.
Dialogue: 0,0:09:41.63,0:09:44.03,Default,,0,0,0,,It allows you to do fast copies
Dialogue: 0,0:09:44.03,0:09:44.78,Default,,0,0,0,,of the files.
Dialogue: 0,0:09:45.19,0:09:46.60,Default,,0,0,0,,It employs our copy-on-write
Dialogue: 0,0:09:46.60,0:09:48.73,Default,,0,0,0,,technology that also powers our
Dialogue: 0,0:09:48.73,0:09:49.38,Default,,0,0,0,,Snapshots.
Dialogue: 0,0:09:50.18,0:09:55.09,Default,,0,0,0,,Snapshots allow you to take a
Dialogue: 0,0:09:55.18,0:09:56.02,Default,,0,0,0,,[inaudible] Snapshot of your
Dialogue: 0,0:09:56.02,0:09:57.67,Default,,0,0,0,,file system, entire file system,
Dialogue: 0,0:09:57.92,0:09:59.85,Default,,0,0,0,,remember it's date, and later
Dialogue: 0,0:09:59.98,0:10:01.75,Default,,0,0,0,,possibly return to it.
Dialogue: 0,0:10:02.47,0:10:03.93,Default,,0,0,0,,We will also natively support
Dialogue: 0,0:10:03.93,0:10:04.56,Default,,0,0,0,,encryption.
Dialogue: 0,0:10:05.08,0:10:07.31,Default,,0,0,0,,We have space sharing.
Dialogue: 0,0:10:07.74,0:10:08.94,Default,,0,0,0,,I'm going to talk to you about
Dialogue: 0,0:10:08.94,0:10:10.66,Default,,0,0,0,,that a little bit later, and we
Dialogue: 0,0:10:10.66,0:10:11.98,Default,,0,0,0,,introduce defragmentation.
Dialogue: 0,0:10:14.16,0:10:17.12,Default,,0,0,0,,How will get to APFS you might
Dialogue: 0,0:10:17.12,0:10:17.45,Default,,0,0,0,,wonder?
Dialogue: 0,0:10:18.21,0:10:20.35,Default,,0,0,0,,So let's talk a little bit about
Dialogue: 0,0:10:21.16,0:10:21.27,Default,,0,0,0,,that.
Dialogue: 0,0:10:21.48,0:10:23.10,Default,,0,0,0,,Actually, all you have to do is
Dialogue: 0,0:10:23.10,0:10:25.49,Default,,0,0,0,,simply call a new macOS High
Dialogue: 0,0:10:25.49,0:10:27.59,Default,,0,0,0,,Sierra and your system volume
Dialogue: 0,0:10:28.06,0:10:29.42,Default,,0,0,0,,could automatically be converted
Dialogue: 0,0:10:29.51,0:10:30.16,Default,,0,0,0,,by installer.
Dialogue: 0,0:10:30.74,0:10:33.48,Default,,0,0,0,,In case you wonder what happens
Dialogue: 0,0:10:33.48,0:10:35.16,Default,,0,0,0,,with other volumes, they are not
Dialogue: 0,0:10:35.16,0:10:36.08,Default,,0,0,0,,going to be automatically
Dialogue: 0,0:10:36.08,0:10:37.58,Default,,0,0,0,,converted, but you can still
Dialogue: 0,0:10:37.58,0:10:38.55,Default,,0,0,0,,manually do so.
Dialogue: 0,0:10:39.44,0:10:42.76,Default,,0,0,0,,If you convert multiple volumes,
Dialogue: 0,0:10:43.15,0:10:44.59,Default,,0,0,0,,the important point to remember
Dialogue: 0,0:10:44.59,0:10:46.77,Default,,0,0,0,,after conversion each volume
Dialogue: 0,0:10:46.77,0:10:48.35,Default,,0,0,0,,becomes APFS container.
Dialogue: 0,0:10:48.62,0:10:49.97,Default,,0,0,0,,I'm going to talk about that a
Dialogue: 0,0:10:49.97,0:10:50.65,Default,,0,0,0,,little bit later.
Dialogue: 0,0:10:51.59,0:10:53.14,Default,,0,0,0,,And multiple containers do not
Dialogue: 0,0:10:53.14,0:10:53.74,Default,,0,0,0,,share space.
Dialogue: 0,0:10:55.11,0:10:56.69,Default,,0,0,0,,Space sharing is one of the most
Dialogue: 0,0:10:56.69,0:10:58.78,Default,,0,0,0,,important and awesome features
Dialogue: 0,0:10:58.78,0:11:00.18,Default,,0,0,0,,that's going to save you space.
Dialogue: 0,0:11:01.75,0:11:03.11,Default,,0,0,0,,And we would like you to take
Dialogue: 0,0:11:03.11,0:11:04.43,Default,,0,0,0,,advantage of that, and I can
Dialogue: 0,0:11:04.43,0:11:07.50,Default,,0,0,0,,show you how.
Dialogue: 0,0:11:08.20,0:11:11.09,Default,,0,0,0,,You might wonder what volumes
Dialogue: 0,0:11:11.09,0:11:12.15,Default,,0,0,0,,are supported, what we can
Dialogue: 0,0:11:12.15,0:11:13.84,Default,,0,0,0,,convert APFS.
Dialogue: 0,0:11:14.98,0:11:17.71,Default,,0,0,0,,We can convert HFS+ volumes,
Dialogue: 0,0:11:18.31,0:11:22.15,Default,,0,0,0,,CoreStorage, Fusion, and even
Dialogue: 0,0:11:22.15,0:11:23.32,Default,,0,0,0,,FileVault encrypted.
Dialogue: 0,0:11:24.57,0:11:26.18,Default,,0,0,0,,They all become APFS
Dialogue: 0,0:11:27.33,0:11:28.00,Default,,0,0,0,,automatically.
Dialogue: 0,0:11:28.64,0:11:34.22,Default,,0,0,0,,If you'd like to do a manual
Dialogue: 0,0:11:34.22,0:11:37.26,Default,,0,0,0,,conversion of your existing
Dialogue: 0,0:11:37.26,0:11:39.78,Default,,0,0,0,,volume, all you have to do is go
Dialogue: 0,0:11:39.78,0:11:40.95,Default,,0,0,0,,to disk utility [inaudible],
Dialogue: 0,0:11:41.78,0:11:43.51,Default,,0,0,0,,right click on the volume,
Dialogue: 0,0:11:43.94,0:11:46.37,Default,,0,0,0,,select convert to APFS, and here
Dialogue: 0,0:11:46.48,0:11:46.90,Default,,0,0,0,,you go.
Dialogue: 0,0:11:48.02,0:11:51.25,Default,,0,0,0,,As I mentioned, if you do so,
Dialogue: 0,0:11:51.25,0:11:54.10,Default,,0,0,0,,the volume becomes a container
Dialogue: 0,0:11:55.42,0:11:56.73,Default,,0,0,0,,and continues do not share
Dialogue: 0,0:11:56.73,0:11:57.14,Default,,0,0,0,,space.
Dialogue: 0,0:11:57.78,0:11:59.23,Default,,0,0,0,,We would recommend if you have
Dialogue: 0,0:11:59.23,0:12:00.63,Default,,0,0,0,,multiple volumes and would like
Dialogue: 0,0:12:00.63,0:12:01.59,Default,,0,0,0,,to take advantage of that
Dialogue: 0,0:12:01.59,0:12:03.68,Default,,0,0,0,,feature that you actually go and
Dialogue: 0,0:12:03.68,0:12:05.03,Default,,0,0,0,,add volumes to the system
Dialogue: 0,0:12:05.03,0:12:07.92,Default,,0,0,0,,container and move your data
Dialogue: 0,0:12:08.66,0:12:08.78,Default,,0,0,0,,over.
Dialogue: 0,0:12:09.02,0:12:10.10,Default,,0,0,0,,Why space sharing is so
Dialogue: 0,0:12:10.10,0:12:11.00,Default,,0,0,0,,important and what's so good
Dialogue: 0,0:12:11.00,0:12:11.39,Default,,0,0,0,,about it?
Dialogue: 0,0:12:12.31,0:12:13.81,Default,,0,0,0,,Let's talk a little bit about
Dialogue: 0,0:12:13.81,0:12:13.98,Default,,0,0,0,,that.
Dialogue: 0,0:12:14.70,0:12:18.89,Default,,0,0,0,,Here's the typical volume layout
Dialogue: 0,0:12:18.89,0:12:20.42,Default,,0,0,0,,that you might have as a
Dialogue: 0,0:12:20.42,0:12:20.97,Default,,0,0,0,,developer.
Dialogue: 0,0:12:22.16,0:12:23.75,Default,,0,0,0,,You probably have multiple
Dialogue: 0,0:12:23.75,0:12:24.34,Default,,0,0,0,,volumes, right?
Dialogue: 0,0:12:24.86,0:12:28.52,Default,,0,0,0,,What's the deal with multiple
Dialogue: 0,0:12:28.52,0:12:30.89,Default,,0,0,0,,volumes is as you start running
Dialogue: 0,0:12:30.89,0:12:32.39,Default,,0,0,0,,out of space in each of them,
Dialogue: 0,0:12:33.70,0:12:35.32,Default,,0,0,0,,you might have a little bit of
Dialogue: 0,0:12:35.40,0:12:37.00,Default,,0,0,0,,free space here, a little bit of
Dialogue: 0,0:12:37.00,0:12:39.15,Default,,0,0,0,,free space there, but you do not
Dialogue: 0,0:12:39.15,0:12:40.42,Default,,0,0,0,,have enough in one single
Dialogue: 0,0:12:40.42,0:12:42.19,Default,,0,0,0,,location so when you try to copy
Dialogue: 0,0:12:42.19,0:12:45.83,Default,,0,0,0,,your files, nothing you can do.
Dialogue: 0,0:12:46.09,0:12:50.31,Default,,0,0,0,,In APFS world, the container is
Dialogue: 0,0:12:50.50,0:12:52.48,Default,,0,0,0,,a partition on your volume, and
Dialogue: 0,0:12:52.48,0:12:55.05,Default,,0,0,0,,volumes share the free space of
Dialogue: 0,0:12:55.05,0:12:55.80,Default,,0,0,0,,that partition.
Dialogue: 0,0:12:56.95,0:12:58.07,Default,,0,0,0,,So let's look at that picture.
Dialogue: 0,0:12:58.33,0:13:01.16,Default,,0,0,0,,In a typical case, you would
Dialogue: 0,0:13:01.16,0:13:02.35,Default,,0,0,0,,have a GPT header, [inaudible]
Dialogue: 0,0:13:02.35,0:13:05.09,Default,,0,0,0,,service partition, and
Dialogue: 0,0:13:05.36,0:13:06.73,Default,,0,0,0,,[inaudible] each volume is a
Dialogue: 0,0:13:06.73,0:13:07.32,Default,,0,0,0,,partition.
Dialogue: 0,0:13:07.59,0:13:10.77,Default,,0,0,0,,In APFS world, as I said, we
Dialogue: 0,0:13:10.99,0:13:12.58,Default,,0,0,0,,have eight containers of this
Dialogue: 0,0:13:12.63,0:13:13.58,Default,,0,0,0,,partition and volume [inaudible]
Dialogue: 0,0:13:13.58,0:13:15.14,Default,,0,0,0,,side of it.
Dialogue: 0,0:13:15.60,0:13:16.60,Default,,0,0,0,,Let's say you want to fill up
Dialogue: 0,0:13:16.60,0:13:17.12,Default,,0,0,0,,the space.
Dialogue: 0,0:13:17.48,0:13:19.79,Default,,0,0,0,,As you can see in HFS you run
Dialogue: 0,0:13:19.79,0:13:20.08,Default,,0,0,0,,out.
Dialogue: 0,0:13:21.01,0:13:22.76,Default,,0,0,0,,In APFS, you still can use your
Dialogue: 0,0:13:22.76,0:13:27.18,Default,,0,0,0,,free space and have your data
Dialogue: 0,0:13:28.18,0:13:28.28,Default,,0,0,0,,here.
Dialogue: 0,0:13:28.50,0:13:30.15,Default,,0,0,0,,Let's explore the cloning.
Dialogue: 0,0:13:31.74,0:13:32.95,Default,,0,0,0,,Cloning is [inaudible].
Dialogue: 0,0:13:32.95,0:13:34.28,Default,,0,0,0,,It allows you to make fast
Dialogue: 0,0:13:34.28,0:13:35.30,Default,,0,0,0,,copies of the files.
Dialogue: 0,0:13:36.00,0:13:38.19,Default,,0,0,0,,In this particular case, let's
Dialogue: 0,0:13:38.19,0:13:39.40,Default,,0,0,0,,take a local [inaudible] file.
Dialogue: 0,0:13:39.40,0:13:42.04,Default,,0,0,0,,It has a couple of blocks, and
Dialogue: 0,0:13:42.95,0:13:44.59,Default,,0,0,0,,traditionally if you copy a file
Dialogue: 0,0:13:44.89,0:13:46.41,Default,,0,0,0,,you have to copy the data over,
Dialogue: 0,0:13:46.41,0:13:47.67,Default,,0,0,0,,and that takes time.
Dialogue: 0,0:13:48.13,0:13:49.70,Default,,0,0,0,,Not only it takes time, it takes
Dialogue: 0,0:13:49.70,0:13:50.01,Default,,0,0,0,,space.
Dialogue: 0,0:13:51.15,0:13:54.18,Default,,0,0,0,,In APFS, all we have to do is to
Dialogue: 0,0:13:54.18,0:13:55.47,Default,,0,0,0,,record the references to that
Dialogue: 0,0:13:55.47,0:13:57.63,Default,,0,0,0,,file, remember where the file
Dialogue: 0,0:13:57.63,0:14:02.19,Default,,0,0,0,,is, and only your metadata is
Dialogue: 0,0:14:02.19,0:14:02.39,Default,,0,0,0,,[inaudible].
Dialogue: 0,0:14:02.39,0:14:04.39,Default,,0,0,0,,It's also because it's fast and
Dialogue: 0,0:14:04.44,0:14:05.71,Default,,0,0,0,,you don't waste space.
Dialogue: 0,0:14:06.63,0:14:08.72,Default,,0,0,0,,You might wonder what happens if
Dialogue: 0,0:14:08.72,0:14:09.74,Default,,0,0,0,,I have to modify the file.
Dialogue: 0,0:14:10.67,0:14:12.63,Default,,0,0,0,,It's a single copy after all.
Dialogue: 0,0:14:13.71,0:14:15.77,Default,,0,0,0,,What happens is that copy and
Dialogue: 0,0:14:15.77,0:14:18.45,Default,,0,0,0,,write technology kicks in, and
Dialogue: 0,0:14:18.92,0:14:21.75,Default,,0,0,0,,the new file data is located in
Dialogue: 0,0:14:21.75,0:14:23.44,Default,,0,0,0,,the free space, and we just
Dialogue: 0,0:14:23.44,0:14:24.83,Default,,0,0,0,,create yet additional reference.
Dialogue: 0,0:14:26.13,0:14:31.00,Default,,0,0,0,,Quite simple, saves you space.
Dialogue: 0,0:14:31.21,0:14:33.46,Default,,0,0,0,,Let's explore another
Dialogue: 0,0:14:33.46,0:14:35.19,Default,,0,0,0,,interesting aspect of APFS is
Dialogue: 0,0:14:35.19,0:14:35.94,Default,,0,0,0,,sparse files.
Dialogue: 0,0:14:35.94,0:14:37.42,Default,,0,0,0,,Let me give you an example.
Dialogue: 0,0:14:37.89,0:14:40.88,Default,,0,0,0,,Let's say you have a picture of
Dialogue: 0,0:14:40.92,0:14:43.36,Default,,0,0,0,,a cat on your desktop, something
Dialogue: 0,0:14:43.36,0:14:47.72,Default,,0,0,0,,like that, and you want to edit
Dialogue: 0,0:14:48.37,0:14:48.45,Default,,0,0,0,,it.
Dialogue: 0,0:14:51.32,0:14:53.78,Default,,0,0,0,,Well let's say in APFS world and
Dialogue: 0,0:14:53.78,0:14:55.91,Default,,0,0,0,,both in HFS world, you would
Dialogue: 0,0:14:55.91,0:14:57.73,Default,,0,0,0,,have the same initial view.
Dialogue: 0,0:14:58.38,0:15:00.61,Default,,0,0,0,,You have a file that's 1
Dialogue: 0,0:15:00.61,0:15:02.48,Default,,0,0,0,,megabyte in size, is
Dialogue: 0,0:15:02.48,0:15:04.41,Default,,0,0,0,,[inaudible], and you want to
Dialogue: 0,0:15:04.41,0:15:06.12,Default,,0,0,0,,edit that.
Dialogue: 0,0:15:06.24,0:15:07.27,Default,,0,0,0,,What would happen if your
Dialogue: 0,0:15:07.27,0:15:09.33,Default,,0,0,0,,application for example decides
Dialogue: 0,0:15:09.40,0:15:11.46,Default,,0,0,0,,to seek past the end of the file
Dialogue: 0,0:15:11.46,0:15:12.92,Default,,0,0,0,,and do additional write.
Dialogue: 0,0:15:13.80,0:15:15.18,Default,,0,0,0,,Here's where the difference is.
Dialogue: 0,0:15:16.29,0:15:19.52,Default,,0,0,0,,In HFS, the file system would
Dialogue: 0,0:15:19.52,0:15:21.90,Default,,0,0,0,,fill the space that you seek
Dialogue: 0,0:15:22.38,0:15:25.07,Default,,0,0,0,,after with zeros, and your file
Dialogue: 0,0:15:25.07,0:15:28.02,Default,,0,0,0,,would be 3 megabytes of size,
Dialogue: 0,0:15:28.02,0:15:28.21,Default,,0,0,0,,right?
Dialogue: 0,0:15:29.25,0:15:30.60,Default,,0,0,0,,So mega portion of the file
Dialogue: 0,0:15:30.60,0:15:32.01,Default,,0,0,0,,would be zeroed out by the file
Dialogue: 0,0:15:32.01,0:15:33.44,Default,,0,0,0,,system, and it would take your
Dialogue: 0,0:15:33.44,0:15:33.83,Default,,0,0,0,,space.
Dialogue: 0,0:15:34.82,0:15:36.75,Default,,0,0,0,,In APFS, what you would have is
Dialogue: 0,0:15:36.75,0:15:37.51,Default,,0,0,0,,a sparse file.
Dialogue: 0,0:15:38.81,0:15:40.90,Default,,0,0,0,,So middle portion of the file,
Dialogue: 0,0:15:40.90,0:15:42.38,Default,,0,0,0,,still logically here, if you
Dialogue: 0,0:15:42.42,0:15:44.61,Default,,0,0,0,,read from that, you would read
Dialogue: 0,0:15:44.61,0:15:46.66,Default,,0,0,0,,zeros, but physically it takes
Dialogue: 0,0:15:46.66,0:15:47.39,Default,,0,0,0,,only two blocks.
Dialogue: 0,0:15:48.47,0:15:50.52,Default,,0,0,0,,Again, saves you space, makes
Dialogue: 0,0:15:50.52,0:15:52.61,Default,,0,0,0,,your life faster, but you have
Dialogue: 0,0:15:52.66,0:15:53.72,Default,,0,0,0,,to be aware of that feature.
Dialogue: 0,0:15:54.16,0:15:57.37,Default,,0,0,0,,So as you can see, there are two
Dialogue: 0,0:15:57.37,0:15:57.94,Default,,0,0,0,,sizes.
Dialogue: 0,0:15:58.84,0:16:00.43,Default,,0,0,0,,Logical size and the physical
Dialogue: 0,0:16:00.43,0:16:00.73,Default,,0,0,0,,size.
Dialogue: 0,0:16:00.73,0:16:03.49,Default,,0,0,0,,You need to be aware of that,
Dialogue: 0,0:16:04.11,0:16:06.57,Default,,0,0,0,,but it actually becomes a little
Dialogue: 0,0:16:06.57,0:16:08.39,Default,,0,0,0,,bit more complicated if you put
Dialogue: 0,0:16:08.39,0:16:11.73,Default,,0,0,0,,Snapshots or clones into the
Dialogue: 0,0:16:12.50,0:16:12.72,Default,,0,0,0,,picture.
Dialogue: 0,0:16:12.81,0:16:15.21,Default,,0,0,0,,So let's explore that a little
Dialogue: 0,0:16:15.21,0:16:15.66,Default,,0,0,0,,bit.
Dialogue: 0,0:16:15.71,0:16:18.56,Default,,0,0,0,,How big is your file is
Dialogue: 0,0:16:18.56,0:16:18.72,Default,,0,0,0,,[inaudible].
Dialogue: 0,0:16:18.72,0:16:20.99,Default,,0,0,0,,Let's say the same situation
Dialogue: 0,0:16:20.99,0:16:23.37,Default,,0,0,0,,applies and you have a file that
Dialogue: 0,0:16:23.37,0:16:25.14,Default,,0,0,0,,sparse, only takes two blocks
Dialogue: 0,0:16:25.14,0:16:25.94,Default,,0,0,0,,and just going to take a
Dialogue: 0,0:16:25.94,0:16:28.15,Default,,0,0,0,,Snapshot, record the location of
Dialogue: 0,0:16:28.15,0:16:30.18,Default,,0,0,0,,those blocks, and now we want to
Dialogue: 0,0:16:30.18,0:16:31.11,Default,,0,0,0,,modify the file.
Dialogue: 0,0:16:31.59,0:16:34.66,Default,,0,0,0,,As you see, copy and write
Dialogue: 0,0:16:34.66,0:16:35.71,Default,,0,0,0,,technique kicks in, will
Dialogue: 0,0:16:35.71,0:16:38.03,Default,,0,0,0,,allocate new space for the new
Dialogue: 0,0:16:38.03,0:16:39.02,Default,,0,0,0,,block that you just wrote.
Dialogue: 0,0:16:40.50,0:16:41.59,Default,,0,0,0,,So how big is your file?
Dialogue: 0,0:16:42.04,0:16:43.88,Default,,0,0,0,,It's still three megabytes,
Dialogue: 0,0:16:44.01,0:16:44.26,Default,,0,0,0,,right?
Dialogue: 0,0:16:45.64,0:16:47.62,Default,,0,0,0,,Physically you still only have
Dialogue: 0,0:16:47.70,0:16:49.80,Default,,0,0,0,,two blocks for it allocated, but
Dialogue: 0,0:16:49.80,0:16:51.64,Default,,0,0,0,,[inaudible] delete the file, you
Dialogue: 0,0:16:51.64,0:16:53.18,Default,,0,0,0,,only get the one block back,
Dialogue: 0,0:16:53.30,0:16:54.51,Default,,0,0,0,,important thing that you need to
Dialogue: 0,0:16:54.51,0:16:57.00,Default,,0,0,0,,be aware about.
Dialogue: 0,0:16:57.09,0:17:00.01,Default,,0,0,0,,So let's talk a little bit about
Dialogue: 0,0:17:00.01,0:17:02.11,Default,,0,0,0,,next important aspect in your
Dialogue: 0,0:17:02.11,0:17:04.19,Default,,0,0,0,,file system is Unicodes and
Dialogue: 0,0:17:04.19,0:17:05.83,Default,,0,0,0,,normalization support.
Dialogue: 0,0:17:07.78,0:17:10.80,Default,,0,0,0,,As you guys all know, that's
Dialogue: 0,0:17:10.91,0:17:12.79,Default,,0,0,0,,almost invisible until we have
Dialogue: 0,0:17:12.79,0:17:13.35,Default,,0,0,0,,problems.
Dialogue: 0,0:17:14.52,0:17:17.03,Default,,0,0,0,,So let's explore how the world
Dialogue: 0,0:17:17.03,0:17:19.76,Default,,0,0,0,,differs in APFS versus HFS.
Dialogue: 0,0:17:20.36,0:17:23.08,Default,,0,0,0,,By default, APFS is case
Dialogue: 0,0:17:23.08,0:17:25.35,Default,,0,0,0,,insensitive and normalization
Dialogue: 0,0:17:25.35,0:17:27.65,Default,,0,0,0,,insensitive, unlike HFS, which
Dialogue: 0,0:17:27.65,0:17:28.76,Default,,0,0,0,,is case insensitive and
Dialogue: 0,0:17:28.76,0:17:29.93,Default,,0,0,0,,normalizing file system.
Dialogue: 0,0:17:30.77,0:17:31.76,Default,,0,0,0,,What makes the difference?
Dialogue: 0,0:17:32.18,0:17:35.35,Default,,0,0,0,,Actually pretty simple.
Dialogue: 0,0:17:35.35,0:17:37.78,Default,,0,0,0,,In APFS, we keep the file names
Dialogue: 0,0:17:37.90,0:17:39.66,Default,,0,0,0,,in exactly the same way you pass
Dialogue: 0,0:17:39.66,0:17:40.24,Default,,0,0,0,,it to us.
Dialogue: 0,0:17:41.50,0:17:43.44,Default,,0,0,0,,We compute case insensitive and
Dialogue: 0,0:17:43.44,0:17:44.76,Default,,0,0,0,,normalization insensitive
Dialogue: 0,0:17:45.41,0:17:46.23,Default,,0,0,0,,[inaudible] together with the
Dialogue: 0,0:17:46.23,0:17:47.79,Default,,0,0,0,,file name and store it together.
Dialogue: 0,0:17:49.07,0:17:50.90,Default,,0,0,0,,So when you want to do a lookup,
Dialogue: 0,0:17:51.14,0:17:52.98,Default,,0,0,0,,we perform the same hashing
Dialogue: 0,0:17:52.98,0:17:53.53,Default,,0,0,0,,approach.
Dialogue: 0,0:17:54.33,0:17:55.75,Default,,0,0,0,,We do hash comparison, and
Dialogue: 0,0:17:55.75,0:17:57.24,Default,,0,0,0,,that's how we can find the name
Dialogue: 0,0:17:57.24,0:17:57.98,Default,,0,0,0,,fast and efficient.
Dialogue: 0,0:18:00.18,0:18:04.69,Default,,0,0,0,,Important caveat here, if you do
Dialogue: 0,0:18:04.78,0:18:06.01,Default,,0,0,0,,a [inaudible] of directory
Dialogue: 0,0:18:06.01,0:18:07.63,Default,,0,0,0,,structure, the names would come
Dialogue: 0,0:18:07.63,0:18:09.26,Default,,0,0,0,,out in the order of the hash,
Dialogue: 0,0:18:09.53,0:18:13.83,Default,,0,0,0,,not in the order of natural
Dialogue: 0,0:18:13.83,0:18:16.29,Default,,0,0,0,,lexicographical comparison like
Dialogue: 0,0:18:16.29,0:18:17.27,Default,,0,0,0,,you normally would expect.
Dialogue: 0,0:18:18.48,0:18:19.72,Default,,0,0,0,,We're also supporting Unicode
Dialogue: 0,0:18:19.72,0:18:22.71,Default,,0,0,0,,9.0, unlike HFS that supports
Dialogue: 0,0:18:22.71,0:18:23.34,Default,,0,0,0,,3.2.
Dialogue: 0,0:18:23.90,0:18:26.69,Default,,0,0,0,,We do not allow unassigned code
Dialogue: 0,0:18:26.69,0:18:29.65,Default,,0,0,0,,points unlike HFS, and this is
Dialogue: 0,0:18:29.65,0:18:31.04,Default,,0,0,0,,done for the sake of future
Dialogue: 0,0:18:31.04,0:18:31.87,Default,,0,0,0,,compatibility.
Dialogue: 0,0:18:32.32,0:18:34.29,Default,,0,0,0,,So whenever new Unicode standard
Dialogue: 0,0:18:34.29,0:18:36.05,Default,,0,0,0,,emerges, you can easily take
Dialogue: 0,0:18:36.05,0:18:37.68,Default,,0,0,0,,advantage of that by replacing
Dialogue: 0,0:18:37.68,0:18:38.54,Default,,0,0,0,,folds and tables.
Dialogue: 0,0:18:39.72,0:18:41.44,Default,,0,0,0,,In APFS, we support canonical
Dialogue: 0,0:18:41.44,0:18:43.79,Default,,0,0,0,,folds unlike in HFS, which
Dialogue: 0,0:18:43.86,0:18:45.35,Default,,0,0,0,,supports simplified folds, and
Dialogue: 0,0:18:45.63,0:18:47.14,Default,,0,0,0,,canonical folding is better
Dialogue: 0,0:18:47.38,0:18:48.76,Default,,0,0,0,,because it allows you natural
Dialogue: 0,0:18:48.76,0:18:50.21,Default,,0,0,0,,sorts and quarter in the same
Dialogue: 0,0:18:50.21,0:18:51.86,Default,,0,0,0,,way that users expect.
Dialogue: 0,0:18:52.37,0:18:56.02,Default,,0,0,0,,Let's talk a little bit about
Dialogue: 0,0:18:56.02,0:18:58.41,Default,,0,0,0,,Unicode 9.0 and why that's a big
Dialogue: 0,0:18:58.41,0:18:58.65,Default,,0,0,0,,deal.
Dialogue: 0,0:18:58.72,0:19:00.95,Default,,0,0,0,,You might wonder, who cares
Dialogue: 0,0:19:00.95,0:19:02.63,Default,,0,0,0,,about Unicode version.
Dialogue: 0,0:19:03.40,0:19:04.28,Default,,0,0,0,,Well, you should.
Dialogue: 0,0:19:05.96,0:19:07.96,Default,,0,0,0,,Unicode 9.0 makes your
Dialogue: 0,0:19:07.96,0:19:09.43,Default,,0,0,0,,applications truly global.
Dialogue: 0,0:19:09.79,0:19:13.81,Default,,0,0,0,,For example, in Unicode 8, the
Dialogue: 0,0:19:13.81,0:19:15.41,Default,,0,0,0,,support for Native American
Dialogue: 0,0:19:15.41,0:19:17.08,Default,,0,0,0,,Cherokee was added, and now we
Dialogue: 0,0:19:17.40,0:19:20.01,Default,,0,0,0,,have lower case symbols and
Dialogue: 0,0:19:20.23,0:19:21.99,Default,,0,0,0,,capital symbols to properly
Dialogue: 0,0:19:21.99,0:19:22.52,Default,,0,0,0,,support it.
Dialogue: 0,0:19:23.33,0:19:24.66,Default,,0,0,0,,We support pretty much
Dialogue: 0,0:19:24.76,0:19:26.26,Default,,0,0,0,,everything language that's
Dialogue: 0,0:19:26.26,0:19:28.13,Default,,0,0,0,,written and understood by man,
Dialogue: 0,0:19:28.93,0:19:30.46,Default,,0,0,0,,and if that's not global, I
Dialogue: 0,0:19:30.46,0:19:33.78,Default,,0,0,0,,don't know what is.
Dialogue: 0,0:19:34.00,0:19:35.39,Default,,0,0,0,,We support latest emojis.
Dialogue: 0,0:19:36.21,0:19:37.14,Default,,0,0,0,,You might wonder why?
Dialogue: 0,0:19:37.14,0:19:41.49,Default,,0,0,0,,Of course, because it
Dialogue: 0,0:19:41.49,0:19:42.44,Default,,0,0,0,,[inaudible].
Dialogue: 0,0:19:42.44,0:19:46.13,Default,,0,0,0,,And you might think, okay, HFS
Dialogue: 0,0:19:46.16,0:19:47.26,Default,,0,0,0,,supported that too.
Dialogue: 0,0:19:47.42,0:19:48.38,Default,,0,0,0,,So what's the big deal?
Dialogue: 0,0:19:48.76,0:19:50.54,Default,,0,0,0,,The big deal is actually
Dialogue: 0,0:19:50.54,0:19:51.20,Default,,0,0,0,,correctness.
Dialogue: 0,0:19:51.93,0:19:55.01,Default,,0,0,0,,HFS supported that sacrificed
Dialogue: 0,0:19:55.05,0:19:56.55,Default,,0,0,0,,some aspects of correctness.
Dialogue: 0,0:19:56.81,0:20:00.57,Default,,0,0,0,,Now the folds in APFS is
Dialogue: 0,0:20:00.79,0:20:02.56,Default,,0,0,0,,completely Unicode 9.0
Dialogue: 0,0:20:02.56,0:20:06.59,Default,,0,0,0,,compatible and for some of them,
Dialogue: 0,0:20:06.59,0:20:09.28,Default,,0,0,0,,we just were certain rules
Dialogue: 0,0:20:09.28,0:20:11.38,Default,,0,0,0,,succeed, let's say like capital
Dialogue: 0,0:20:11.38,0:20:12.97,Default,,0,0,0,,I was taught in Turkish language
Dialogue: 0,0:20:13.38,0:20:16.84,Default,,0,0,0,,or sharp S in German, they would
Dialogue: 0,0:20:16.84,0:20:17.92,Default,,0,0,0,,be capitalized properly.
Dialogue: 0,0:20:19.03,0:20:21.36,Default,,0,0,0,,Let's talk a little bit about
Dialogue: 0,0:20:21.36,0:20:21.99,Default,,0,0,0,,boot support.
Dialogue: 0,0:20:22.76,0:20:24.43,Default,,0,0,0,,Of course APFS is bootable.
Dialogue: 0,0:20:24.88,0:20:26.16,Default,,0,0,0,,You would like to boot your Mac,
Dialogue: 0,0:20:27.17,0:20:27.27,Default,,0,0,0,,right?
Dialogue: 0,0:20:28.07,0:20:29.81,Default,,0,0,0,,And will have embedded EFT
Dialogue: 0,0:20:29.81,0:20:30.32,Default,,0,0,0,,driver.
Dialogue: 0,0:20:31.08,0:20:32.33,Default,,0,0,0,,What embedded means in that
Dialogue: 0,0:20:32.33,0:20:34.36,Default,,0,0,0,,particular case is the driver
Dialogue: 0,0:20:34.36,0:20:36.26,Default,,0,0,0,,actually baked in a file system
Dialogue: 0,0:20:36.26,0:20:37.58,Default,,0,0,0,,for [inaudible] and it's very
Dialogue: 0,0:20:37.58,0:20:41.08,Default,,0,0,0,,easy, can be loaded by third
Dialogue: 0,0:20:41.08,0:20:43.67,Default,,0,0,0,,parties that support virtual
Dialogue: 0,0:20:43.67,0:20:44.18,Default,,0,0,0,,machines.
Dialogue: 0,0:20:44.84,0:20:46.31,Default,,0,0,0,,You don't really have to
Dialogue: 0,0:20:47.00,0:20:49.27,Default,,0,0,0,,complete the full driver and the
Dialogue: 0,0:20:49.27,0:20:50.38,Default,,0,0,0,,standard full format.
Dialogue: 0,0:20:50.71,0:20:52.06,Default,,0,0,0,,All you have to do is follow a
Dialogue: 0,0:20:52.06,0:20:53.16,Default,,0,0,0,,couple of pointers from the
Dialogue: 0,0:20:53.16,0:20:55.08,Default,,0,0,0,,superblock and load the driver
Dialogue: 0,0:20:55.08,0:20:57.00,Default,,0,0,0,,that's baked into the volume
Dialogue: 0,0:20:57.00,0:20:57.38,Default,,0,0,0,,itself.
Dialogue: 0,0:20:58.55,0:21:00.34,Default,,0,0,0,,That makes it future approved so
Dialogue: 0,0:21:00.34,0:21:02.43,Default,,0,0,0,,in case volume format changes
Dialogue: 0,0:21:03.01,0:21:04.98,Default,,0,0,0,,all you have to do is just load
Dialogue: 0,0:21:04.98,0:21:06.39,Default,,0,0,0,,new driver from the new volume.
Dialogue: 0,0:21:07.42,0:21:08.75,Default,,0,0,0,,We can boot from encrypted
Dialogue: 0,0:21:08.75,0:21:09.24,Default,,0,0,0,,drives.
Dialogue: 0,0:21:09.38,0:21:10.95,Default,,0,0,0,,We can boot from fusion drives.
Dialogue: 0,0:21:11.67,0:21:13.32,Default,,0,0,0,,An encryption boot actually
Dialogue: 0,0:21:13.32,0:21:14.19,Default,,0,0,0,,makes it more secure.
Dialogue: 0,0:21:14.81,0:21:17.08,Default,,0,0,0,,Let's talk a little bit about
Dialogue: 0,0:21:17.08,0:21:18.08,Default,,0,0,0,,security and encryption.
Dialogue: 0,0:21:19.48,0:21:20.86,Default,,0,0,0,,We support the same FileVault
Dialogue: 0,0:21:20.86,0:21:23.16,Default,,0,0,0,,model that we used to.
Dialogue: 0,0:21:24.15,0:21:26.18,Default,,0,0,0,,We have converted for existing
Dialogue: 0,0:21:26.18,0:21:28.26,Default,,0,0,0,,FileVault volumes.
Dialogue: 0,0:21:29.16,0:21:31.64,Default,,0,0,0,,We support the same recovery
Dialogue: 0,0:21:31.69,0:21:33.51,Default,,0,0,0,,keys and not only will we
Dialogue: 0,0:21:33.51,0:21:34.79,Default,,0,0,0,,support the same mechanisms, we
Dialogue: 0,0:21:34.79,0:21:36.82,Default,,0,0,0,,will also make it compatible so
Dialogue: 0,0:21:36.82,0:21:38.48,Default,,0,0,0,,whenever you convert, you
Dialogue: 0,0:21:38.48,0:21:40.33,Default,,0,0,0,,preserve your existing recovery
Dialogue: 0,0:21:40.33,0:21:41.48,Default,,0,0,0,,keys, you preserve your existing
Dialogue: 0,0:21:41.48,0:21:42.00,Default,,0,0,0,,passwords.
Dialogue: 0,0:21:42.16,0:21:43.30,Default,,0,0,0,,You do not have to move your
Dialogue: 0,0:21:43.30,0:21:44.64,Default,,0,0,0,,data all over the place, and
Dialogue: 0,0:21:44.67,0:21:45.96,Default,,0,0,0,,conversion doesn't take that
Dialogue: 0,0:21:45.96,0:21:46.46,Default,,0,0,0,,much time.
Dialogue: 0,0:21:47.59,0:21:48.66,Default,,0,0,0,,Also important point, your
Dialogue: 0,0:21:48.66,0:21:50.20,Default,,0,0,0,,Snapshots are encrypted as well,
Dialogue: 0,0:21:50.90,0:21:52.53,Default,,0,0,0,,and that means if you took a
Dialogue: 0,0:21:52.53,0:21:54.53,Default,,0,0,0,,Snapshot at some point and you
Dialogue: 0,0:21:54.53,0:21:56.12,Default,,0,0,0,,didn't have a password, and then
Dialogue: 0,0:21:56.12,0:21:57.99,Default,,0,0,0,,you enabled encryption, your old
Dialogue: 0,0:21:57.99,0:22:00.56,Default,,0,0,0,,data is protected as well.
Dialogue: 0,0:22:01.08,0:22:02.51,Default,,0,0,0,,We support Fusion drives.
Dialogue: 0,0:22:02.51,0:22:05.05,Default,,0,0,0,,The he same features that you
Dialogue: 0,0:22:05.05,0:22:06.46,Default,,0,0,0,,used to have before are still
Dialogue: 0,0:22:06.46,0:22:08.91,Default,,0,0,0,,there, is write back cache and
Dialogue: 0,0:22:08.91,0:22:09.47,Default,,0,0,0,,read cache.
Dialogue: 0,0:22:09.75,0:22:11.45,Default,,0,0,0,,To take advantage of faster SSD
Dialogue: 0,0:22:11.45,0:22:13.48,Default,,0,0,0,,devices, we made small
Dialogue: 0,0:22:13.48,0:22:15.62,Default,,0,0,0,,improvement, and now all your
Dialogue: 0,0:22:15.62,0:22:17.33,Default,,0,0,0,,metadata always going to be on
Dialogue: 0,0:22:17.36,0:22:19.80,Default,,0,0,0,,SSD, that makes this a little
Dialogue: 0,0:22:19.98,0:22:20.81,Default,,0,0,0,,bit faster.
Dialogue: 0,0:22:20.81,0:22:25.04,Default,,0,0,0,,Another important feature is
Dialogue: 0,0:22:25.04,0:22:25.95,Default,,0,0,0,,defragmentation.
Dialogue: 0,0:22:26.83,0:22:27.87,Default,,0,0,0,,We support intelligent
Dialogue: 0,0:22:27.87,0:22:28.47,Default,,0,0,0,,defragmenter.
Dialogue: 0,0:22:29.46,0:22:30.49,Default,,0,0,0,,What makes it intelligent?
Dialogue: 0,0:22:30.49,0:22:31.90,Default,,0,0,0,,It's smart enough to understand
Dialogue: 0,0:22:32.04,0:22:33.27,Default,,0,0,0,,[inaudible] performance first to
Dialogue: 0,0:22:33.27,0:22:35.11,Default,,0,0,0,,most were which files were most
Dialogue: 0,0:22:35.11,0:22:37.11,Default,,0,0,0,,fragmented and it defragments
Dialogue: 0,0:22:37.11,0:22:37.79,Default,,0,0,0,,them first.
Dialogue: 0,0:22:38.26,0:22:40.53,Default,,0,0,0,,It defragments only hard drives,
Dialogue: 0,0:22:41.12,0:22:43.63,Default,,0,0,0,,and defragmentation happens when
Dialogue: 0,0:22:43.63,0:22:45.27,Default,,0,0,0,,your machine is idle and it
Dialogue: 0,0:22:45.27,0:22:46.38,Default,,0,0,0,,doesn't interfere with your
Dialogue: 0,0:22:46.38,0:22:47.51,Default,,0,0,0,,normal workflow.
Dialogue: 0,0:22:51.12,0:22:53.75,Default,,0,0,0,,Another interesting topic is
Dialogue: 0,0:22:53.75,0:22:54.38,Default,,0,0,0,,Snapshots.
Dialogue: 0,0:22:55.49,0:22:57.08,Default,,0,0,0,,Let's explore this a little bit.
Dialogue: 0,0:22:58.22,0:23:00.38,Default,,0,0,0,,So what happens is imagine you
Dialogue: 0,0:23:00.38,0:23:01.94,Default,,0,0,0,,have a file system, a couple of
Dialogue: 0,0:23:01.94,0:23:03.97,Default,,0,0,0,,files here, and you want to
Dialogue: 0,0:23:03.97,0:23:05.36,Default,,0,0,0,,remember the state of that file
Dialogue: 0,0:23:05.36,0:23:06.99,Default,,0,0,0,,system for future reference.
Dialogue: 0,0:23:07.51,0:23:11.21,Default,,0,0,0,,What happens here, will remember
Dialogue: 0,0:23:11.28,0:23:13.21,Default,,0,0,0,,all the references to all the
Dialogue: 0,0:23:13.21,0:23:15.60,Default,,0,0,0,,files, create a Snapshot of the
Dialogue: 0,0:23:15.60,0:23:18.80,Default,,0,0,0,,metadata and record it.
Dialogue: 0,0:23:18.80,0:23:19.98,Default,,0,0,0,,If you later make [inaudible] to
Dialogue: 0,0:23:20.08,0:23:22.24,Default,,0,0,0,,your file system, let's say you
Dialogue: 0,0:23:22.24,0:23:25.62,Default,,0,0,0,,[inaudible] file, the same copy
Dialogue: 0,0:23:25.62,0:23:26.73,Default,,0,0,0,,on the write technology kicks
Dialogue: 0,0:23:26.73,0:23:30.30,Default,,0,0,0,,in, will allocate space in a new
Dialogue: 0,0:23:30.30,0:23:32.25,Default,,0,0,0,,location, write your files.
Dialogue: 0,0:23:32.57,0:23:34.30,Default,,0,0,0,,Your existing blocks are intact.
Dialogue: 0,0:23:34.83,0:23:36.60,Default,,0,0,0,,Now let's say you delete a file.
Dialogue: 0,0:23:37.81,0:23:39.27,Default,,0,0,0,,The blocks are not actually
Dialogue: 0,0:23:39.27,0:23:41.21,Default,,0,0,0,,gone, only the reference to that
Dialogue: 0,0:23:41.27,0:23:44.46,Default,,0,0,0,,block is gone.
Dialogue: 0,0:23:44.61,0:23:46.83,Default,,0,0,0,,So later if you want to revert
Dialogue: 0,0:23:46.86,0:23:49.16,Default,,0,0,0,,to a Snapshot, it will restore
Dialogue: 0,0:23:49.16,0:23:51.02,Default,,0,0,0,,the state the way it used to be.
Dialogue: 0,0:23:51.93,0:23:53.84,Default,,0,0,0,,For example, your [inaudible]
Dialogue: 0,0:23:54.00,0:23:56.52,Default,,0,0,0,,will be gone, and the file that
Dialogue: 0,0:23:56.52,0:23:59.78,Default,,0,0,0,,you deleted would be restored.
Dialogue: 0,0:23:59.85,0:24:00.95,Default,,0,0,0,,A Snapshot [inaudible] feature.
Dialogue: 0,0:24:01.98,0:24:02.80,Default,,0,0,0,,They're fast to take.
Dialogue: 0,0:24:03.58,0:24:05.19,Default,,0,0,0,,You need to be mindful that they
Dialogue: 0,0:24:05.19,0:24:06.12,Default,,0,0,0,,occupy space.
Dialogue: 0,0:24:07.09,0:24:08.47,Default,,0,0,0,,Because of that, creating
Dialogue: 0,0:24:08.47,0:24:10.15,Default,,0,0,0,,Snapshots requires entitlements,
Dialogue: 0,0:24:11.24,0:24:12.29,Default,,0,0,0,,and if you want to take
Dialogue: 0,0:24:12.29,0:24:13.02,Default,,0,0,0,,advantage of a [inaudible],
Dialogue: 0,0:24:13.02,0:24:15.35,Default,,0,0,0,,please talk to us.
Dialogue: 0,0:24:15.64,0:24:17.31,Default,,0,0,0,,With that, I'm going to show you
Dialogue: 0,0:24:17.31,0:24:17.87,Default,,0,0,0,,a demo.
Dialogue: 0,0:24:17.87,0:24:19.34,Default,,0,0,0,,I'm going to invite Pavel Cisler
Dialogue: 0,0:24:19.34,0:24:20.65,Default,,0,0,0,,and going to show you a demo of
Dialogue: 0,0:24:20.65,0:24:20.97,Default,,0,0,0,,the time machine.
Dialogue: 0,0:24:21.52,0:24:25.71,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:24:26.21,0:24:26.73,Default,,0,0,0,,>> Thank you, Pavel.
Dialogue: 0,0:24:26.73,0:24:28.62,Default,,0,0,0,,Hello everybody.
Dialogue: 0,0:24:28.62,0:24:32.56,Default,,0,0,0,,My name is Pavel Cisler, and in
Dialogue: 0,0:24:32.56,0:24:35.02,Default,,0,0,0,,case you wonder what's up with
Dialogue: 0,0:24:35.19,0:24:36.35,Default,,0,0,0,,this guy's first name and the
Dialogue: 0,0:24:36.35,0:24:37.52,Default,,0,0,0,,last guy's first name being the
Dialogue: 0,0:24:37.52,0:24:40.26,Default,,0,0,0,,same, let me just say, we did
Dialogue: 0,0:24:40.30,0:24:42.45,Default,,0,0,0,,some testing on clone file, and
Dialogue: 0,0:24:42.98,0:24:45.56,Default,,0,0,0,,[laughter]-- anyway, so I manage
Dialogue: 0,0:24:45.62,0:24:46.78,Default,,0,0,0,,the Finder and Time Machine
Dialogue: 0,0:24:46.78,0:24:47.09,Default,,0,0,0,,teams.
Dialogue: 0,0:24:47.09,0:24:50.67,Default,,0,0,0,,Who is a Time Machine user here?
Dialogue: 0,0:24:51.73,0:24:52.24,Default,,0,0,0,,Wow, cool.
Dialogue: 0,0:24:52.31,0:24:53.65,Default,,0,0,0,,A lot of you guys.
Dialogue: 0,0:24:54.15,0:24:55.61,Default,,0,0,0,,Anybody here know about the
Dialogue: 0,0:24:55.61,0:24:56.88,Default,,0,0,0,,mobile Time Machine feature?
Dialogue: 0,0:24:58.14,0:24:58.86,Default,,0,0,0,,Some of you.
Dialogue: 0,0:24:58.86,0:24:59.65,Default,,0,0,0,,Not as many.
Dialogue: 0,0:25:00.20,0:25:02.69,Default,,0,0,0,,Okay. So I'm going to show you
Dialogue: 0,0:25:03.01,0:25:04.25,Default,,0,0,0,,mobile Time Machine a little
Dialogue: 0,0:25:04.65,0:25:04.75,Default,,0,0,0,,bit.
Dialogue: 0,0:25:04.90,0:25:06.58,Default,,0,0,0,,Let me switch over to my demo
Dialogue: 0,0:25:06.58,0:25:07.24,Default,,0,0,0,,machine here.
Dialogue: 0,0:25:08.81,0:25:11.63,Default,,0,0,0,,So mobile Time Machine is this
Dialogue: 0,0:25:11.63,0:25:14.52,Default,,0,0,0,,convenient part of Time Machine
Dialogue: 0,0:25:14.52,0:25:16.02,Default,,0,0,0,,that's a feature that lets you
Dialogue: 0,0:25:16.20,0:25:19.80,Default,,0,0,0,,back up your changes when you
Dialogue: 0,0:25:19.80,0:25:20.99,Default,,0,0,0,,are on the go and you're away
Dialogue: 0,0:25:20.99,0:25:22.20,Default,,0,0,0,,from your backup device, your
Dialogue: 0,0:25:22.20,0:25:24.54,Default,,0,0,0,,time capsule, or your hard
Dialogue: 0,0:25:24.54,0:25:25.06,Default,,0,0,0,,drive, right.
Dialogue: 0,0:25:25.31,0:25:26.52,Default,,0,0,0,,Let's say you take your laptop
Dialogue: 0,0:25:26.52,0:25:27.19,Default,,0,0,0,,on the road.
Dialogue: 0,0:25:27.19,0:25:30.83,Default,,0,0,0,,Your time capsule is at home.
Dialogue: 0,0:25:31.73,0:25:33.60,Default,,0,0,0,,Your machine still continues to
Dialogue: 0,0:25:33.60,0:25:34.98,Default,,0,0,0,,make hourly backups through
Dialogue: 0,0:25:34.98,0:25:37.35,Default,,0,0,0,,mobile Time Machine, and that's
Dialogue: 0,0:25:37.35,0:25:38.31,Default,,0,0,0,,a great feature, right?
Dialogue: 0,0:25:38.31,0:25:39.56,Default,,0,0,0,,It doesn't necessarily help you
Dialogue: 0,0:25:39.56,0:25:41.02,Default,,0,0,0,,with things like you lose your
Dialogue: 0,0:25:41.02,0:25:42.80,Default,,0,0,0,,laptop or you lose your entire
Dialogue: 0,0:25:42.80,0:25:44.33,Default,,0,0,0,,hard drive, but if you
Dialogue: 0,0:25:44.33,0:25:45.84,Default,,0,0,0,,accidentally erase that
Dialogue: 0,0:25:45.84,0:25:47.12,Default,,0,0,0,,important spreadsheet or
Dialogue: 0,0:25:47.17,0:25:50.40,Default,,0,0,0,,whatnot, mobile Time Machine can
Dialogue: 0,0:25:50.80,0:25:52.00,Default,,0,0,0,,save the day.
Dialogue: 0,0:25:52.38,0:25:54.58,Default,,0,0,0,,So we have this feature since
Dialogue: 0,0:25:54.58,0:25:57.10,Default,,0,0,0,,MacQuest and Lion, and let me
Dialogue: 0,0:25:57.10,0:25:58.16,Default,,0,0,0,,show you real quick how it
Dialogue: 0,0:25:58.16,0:25:58.49,Default,,0,0,0,,works.
Dialogue: 0,0:25:58.49,0:25:59.81,Default,,0,0,0,,So here I am.
Dialogue: 0,0:26:00.31,0:26:02.41,Default,,0,0,0,,Here's the Time Machine restore
Dialogue: 0,0:26:02.41,0:26:04.91,Default,,0,0,0,,UI, and my laptop here, I
Dialogue: 0,0:26:04.91,0:26:06.46,Default,,0,0,0,,brought it from my office, I'm
Dialogue: 0,0:26:06.46,0:26:07.66,Default,,0,0,0,,not connected to any time
Dialogue: 0,0:26:07.66,0:26:09.73,Default,,0,0,0,,capsule, and yet I still have a
Dialogue: 0,0:26:09.84,0:26:13.04,Default,,0,0,0,,backup history here, and I can
Dialogue: 0,0:26:13.21,0:26:14.67,Default,,0,0,0,,browse and see my files.
Dialogue: 0,0:26:16.46,0:26:18.41,Default,,0,0,0,,And here's that secret budget
Dialogue: 0,0:26:19.48,0:26:20.87,Default,,0,0,0,,document that I was working on
Dialogue: 0,0:26:20.87,0:26:22.10,Default,,0,0,0,,earlier that I accidentally
Dialogue: 0,0:26:22.10,0:26:24.09,Default,,0,0,0,,deleted, and just like that I
Dialogue: 0,0:26:24.09,0:26:28.87,Default,,0,0,0,,restored it, and I can continue
Dialogue: 0,0:26:28.87,0:26:30.26,Default,,0,0,0,,working on it.
Dialogue: 0,0:26:30.52,0:26:32.45,Default,,0,0,0,,So simple feature.
Dialogue: 0,0:26:33.11,0:26:34.52,Default,,0,0,0,,You can really save the day when
Dialogue: 0,0:26:34.52,0:26:35.62,Default,,0,0,0,,you need it.
Dialogue: 0,0:26:36.05,0:26:40.85,Default,,0,0,0,,Now you guys are developers, and
Dialogue: 0,0:26:41.22,0:26:43.14,Default,,0,0,0,,you would like to know how it
Dialogue: 0,0:26:43.14,0:26:45.28,Default,,0,0,0,,works under the hood, right?
Dialogue: 0,0:26:45.67,0:26:48.67,Default,,0,0,0,,So on MacQuest and Lion when we
Dialogue: 0,0:26:48.67,0:26:50.08,Default,,0,0,0,,first developed this feature, it
Dialogue: 0,0:26:50.36,0:26:51.91,Default,,0,0,0,,was quite involved.
Dialogue: 0,0:26:51.99,0:26:55.08,Default,,0,0,0,,It takes no less than two demons
Dialogue: 0,0:26:55.40,0:26:56.08,Default,,0,0,0,,to do.
Dialogue: 0,0:26:56.43,0:26:58.89,Default,,0,0,0,,One of them is a virtual file
Dialogue: 0,0:26:58.93,0:26:59.79,Default,,0,0,0,,system overlay.
Dialogue: 0,0:26:59.79,0:27:02.46,Default,,0,0,0,,If any of you had a chance to
Dialogue: 0,0:27:02.46,0:27:03.68,Default,,0,0,0,,work on something like that, you
Dialogue: 0,0:27:03.68,0:27:05.00,Default,,0,0,0,,know it's pretty tricky.
Dialogue: 0,0:27:05.39,0:27:06.55,Default,,0,0,0,,So it's literally tens of
Dialogue: 0,0:27:06.55,0:27:08.60,Default,,0,0,0,,thousands of lines of code.
Dialogue: 0,0:27:08.99,0:27:11.58,Default,,0,0,0,,So for macOS 10 High Sierra, the
Dialogue: 0,0:27:11.84,0:27:14.32,Default,,0,0,0,,Time Machine team was super busy
Dialogue: 0,0:27:14.88,0:27:16.09,Default,,0,0,0,,deleting all this code.
Dialogue: 0,0:27:16.53,0:27:19.79,Default,,0,0,0,,So what we did, we reimplemented
Dialogue: 0,0:27:19.79,0:27:21.33,Default,,0,0,0,,mobile Time Machine on top of
Dialogue: 0,0:27:21.33,0:27:23.31,Default,,0,0,0,,APFS Snapshots, and that's
Dialogue: 0,0:27:23.31,0:27:25.04,Default,,0,0,0,,actually what I just demoed to
Dialogue: 0,0:27:25.04,0:27:25.42,Default,,0,0,0,,you here.
Dialogue: 0,0:27:26.33,0:27:28.56,Default,,0,0,0,,So never mind this UI.
Dialogue: 0,0:27:28.56,0:27:30.63,Default,,0,0,0,,Let me open up Terminal and show
Dialogue: 0,0:27:30.63,0:27:33.66,Default,,0,0,0,,you some of it under the hood.
Dialogue: 0,0:27:34.05,0:27:35.87,Default,,0,0,0,,When we talk about Snapshots,
Dialogue: 0,0:27:36.63,0:27:37.97,Default,,0,0,0,,what do they look like?
Dialogue: 0,0:27:37.97,0:27:39.76,Default,,0,0,0,,What do they feel like?
Dialogue: 0,0:27:39.76,0:27:41.28,Default,,0,0,0,,Well, they feel very much like
Dialogue: 0,0:27:41.40,0:27:44.90,Default,,0,0,0,,any other volume, and as such,
Dialogue: 0,0:27:44.97,0:27:47.53,Default,,0,0,0,,you can inspect them using a
Dialogue: 0,0:27:47.53,0:27:50.38,Default,,0,0,0,,variety of volume management
Dialogue: 0,0:27:50.38,0:27:50.75,Default,,0,0,0,,tools.
Dialogue: 0,0:27:51.14,0:27:53.06,Default,,0,0,0,,My favorite is Mount, so let me
Dialogue: 0,0:27:53.06,0:27:54.92,Default,,0,0,0,,go ahead and type Mount here.
Dialogue: 0,0:27:55.06,0:27:57.91,Default,,0,0,0,,Without any arguments, if you do
Dialogue: 0,0:27:57.91,0:27:59.44,Default,,0,0,0,,that, it lists all your disks,
Dialogue: 0,0:27:59.95,0:28:01.73,Default,,0,0,0,,and you can see here that at the
Dialogue: 0,0:28:01.73,0:28:06.05,Default,,0,0,0,,top there's my slash, there's a
Dialogue: 0,0:28:06.05,0:28:07.11,Default,,0,0,0,,swap space here.
Dialogue: 0,0:28:07.43,0:28:09.25,Default,,0,0,0,,A bunch of other common volumes,
Dialogue: 0,0:28:09.25,0:28:10.73,Default,,0,0,0,,but then there's these funny
Dialogue: 0,0:28:11.19,0:28:14.01,Default,,0,0,0,,volumes that are mounted at a
Dialogue: 0,0:28:14.01,0:28:15.99,Default,,0,0,0,,mount point that continues to
Dialogue: 0,0:28:15.99,0:28:17.82,Default,,0,0,0,,[inaudible] that Time Machine in
Dialogue: 0,0:28:17.82,0:28:19.96,Default,,0,0,0,,the path, and there's also this
Dialogue: 0,0:28:20.02,0:28:22.63,Default,,0,0,0,,strange time stamp.
Dialogue: 0,0:28:22.87,0:28:25.60,Default,,0,0,0,,Well, these are all APFS
Dialogue: 0,0:28:25.60,0:28:28.80,Default,,0,0,0,,Snapshots that represent the
Dialogue: 0,0:28:28.80,0:28:30.84,Default,,0,0,0,,individual hourly mobile Time
Dialogue: 0,0:28:30.84,0:28:32.50,Default,,0,0,0,,Machine backups, right.
Dialogue: 0,0:28:32.76,0:28:34.05,Default,,0,0,0,,Each of them is a Snapshot.
Dialogue: 0,0:28:34.05,0:28:35.48,Default,,0,0,0,,Each of them mounted as a
Dialogue: 0,0:28:35.48,0:28:35.97,Default,,0,0,0,,volume.
Dialogue: 0,0:28:36.22,0:28:37.79,Default,,0,0,0,,So if I go into the Time Machine
Dialogue: 0,0:28:38.57,0:28:41.33,Default,,0,0,0,,restore UI on the right here,
Dialogue: 0,0:28:41.33,0:28:42.06,Default,,0,0,0,,that's what they are.
Dialogue: 0,0:28:43.15,0:28:44.84,Default,,0,0,0,,So let me go back.
Dialogue: 0,0:28:45.15,0:28:48.25,Default,,0,0,0,,So these Snapshots aren't
Dialogue: 0,0:28:48.25,0:28:51.19,Default,,0,0,0,,actually mounted all the time.
Dialogue: 0,0:28:51.19,0:28:52.63,Default,,0,0,0,,They get mounted [inaudible], so
Dialogue: 0,0:28:52.63,0:28:54.04,Default,,0,0,0,,they don't have to stick around.
Dialogue: 0,0:28:54.04,0:28:55.95,Default,,0,0,0,,Mobile Time Machine only kicks
Dialogue: 0,0:28:56.01,0:28:57.84,Default,,0,0,0,,them in when it needs them and
Dialogue: 0,0:28:58.30,0:28:58.76,Default,,0,0,0,,[inaudible] them after.
Dialogue: 0,0:28:58.76,0:29:02.44,Default,,0,0,0,,So let me show you how that,
Dialogue: 0,0:29:02.44,0:29:03.80,Default,,0,0,0,,what happens when you do that.
Dialogue: 0,0:29:03.80,0:29:06.08,Default,,0,0,0,,So I'm going to simulate what
Dialogue: 0,0:29:06.08,0:29:07.69,Default,,0,0,0,,mobile Time Machine would do
Dialogue: 0,0:29:07.69,0:29:09.73,Default,,0,0,0,,when it's done with Snapshots
Dialogue: 0,0:29:09.73,0:29:10.79,Default,,0,0,0,,and unmount them all.
Dialogue: 0,0:29:10.79,0:29:12.76,Default,,0,0,0,,I'll use this command line too
Dialogue: 0,0:29:12.76,0:29:15.51,Default,,0,0,0,,called tmutil with a verb called
Dialogue: 0,0:29:15.51,0:29:18.11,Default,,0,0,0,,unmount local Snapshots.
Dialogue: 0,0:29:18.18,0:29:20.35,Default,,0,0,0,,And it's going ahead and
Dialogue: 0,0:29:20.35,0:29:21.75,Default,,0,0,0,,unmounting all the Snapshots.
Dialogue: 0,0:29:22.01,0:29:25.24,Default,,0,0,0,,So now if I entered the restore
Dialogue: 0,0:29:25.24,0:29:28.03,Default,,0,0,0,,UI, it actually has to remount
Dialogue: 0,0:29:28.07,0:29:28.72,Default,,0,0,0,,them, right.
Dialogue: 0,0:29:28.72,0:29:31.62,Default,,0,0,0,,So that was super quick, right.
Dialogue: 0,0:29:32.15,0:29:34.83,Default,,0,0,0,,So it just mounted what, like
Dialogue: 0,0:29:34.83,0:29:37.66,Default,,0,0,0,,some 20 volumes just like that.
Dialogue: 0,0:29:37.72,0:29:39.19,Default,,0,0,0,,So that's fantastic.
Dialogue: 0,0:29:39.64,0:29:42.39,Default,,0,0,0,,Now, I'm going to go ahead and
Dialogue: 0,0:29:42.51,0:29:43.76,Default,,0,0,0,,do a backup.
Dialogue: 0,0:29:43.76,0:29:45.07,Default,,0,0,0,,Mobile Time Machine backs up
Dialogue: 0,0:29:45.21,0:29:45.91,Default,,0,0,0,,once an hour.
Dialogue: 0,0:29:45.91,0:29:47.48,Default,,0,0,0,,It wakes up and creates a
Dialogue: 0,0:29:47.48,0:29:48.06,Default,,0,0,0,,Snapshot.
Dialogue: 0,0:29:48.30,0:29:49.86,Default,,0,0,0,,We're not going to sit around
Dialogue: 0,0:29:49.86,0:29:51.40,Default,,0,0,0,,for an hour here and wait for
Dialogue: 0,0:29:51.40,0:29:51.55,Default,,0,0,0,,that.
Dialogue: 0,0:29:51.61,0:29:53.46,Default,,0,0,0,,So I'll use a tool again.
Dialogue: 0,0:29:54.02,0:30:00.34,Default,,0,0,0,,Tmutil Snapshot and it just
Dialogue: 0,0:30:00.59,0:30:02.15,Default,,0,0,0,,backed up, right.
Dialogue: 0,0:30:02.45,0:30:05.03,Default,,0,0,0,,So you saw it took a little less
Dialogue: 0,0:30:05.09,0:30:07.17,Default,,0,0,0,,than a second to back up the
Dialogue: 0,0:30:07.22,0:30:08.66,Default,,0,0,0,,entire machine.
Dialogue: 0,0:30:09.01,0:30:09.88,Default,,0,0,0,,So that's fantastic.
Dialogue: 0,0:30:10.52,0:30:14.04,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:30:14.54,0:30:16.86,Default,,0,0,0,,So I'm going to go ahead and
Dialogue: 0,0:30:17.35,0:30:18.80,Default,,0,0,0,,show you that it actually
Dialogue: 0,0:30:18.87,0:30:19.06,Default,,0,0,0,,worked.
Dialogue: 0,0:30:19.06,0:30:21.57,Default,,0,0,0,,I'm going to accidentally delete
Dialogue: 0,0:30:21.57,0:30:22.48,Default,,0,0,0,,some data here.
Dialogue: 0,0:30:24.00,0:30:27.79,Default,,0,0,0,,Oh no, what did I do, my
Dialogue: 0,0:30:27.79,0:30:28.62,Default,,0,0,0,,important movie.
Dialogue: 0,0:30:28.62,0:30:30.63,Default,,0,0,0,,And I'm going to go back into
Dialogue: 0,0:30:30.63,0:30:33.53,Default,,0,0,0,,the restore UI and, ah, whew,
Dialogue: 0,0:30:33.92,0:30:36.48,Default,,0,0,0,,there it is, and restore it.
Dialogue: 0,0:30:36.87,0:30:39.41,Default,,0,0,0,,So again mobile Time Machine
Dialogue: 0,0:30:39.41,0:30:39.98,Default,,0,0,0,,saves the day.
Dialogue: 0,0:30:40.85,0:30:44.49,Default,,0,0,0,,So how come this was so fast?
Dialogue: 0,0:30:44.65,0:30:46.38,Default,,0,0,0,,Well, as the other Pavel
Dialogue: 0,0:30:46.38,0:30:48.55,Default,,0,0,0,,explained to you, snapshotting
Dialogue: 0,0:30:48.78,0:30:50.86,Default,,0,0,0,,is a copy and write technology,
Dialogue: 0,0:30:50.86,0:30:53.35,Default,,0,0,0,,so you basically just grab
Dialogue: 0,0:30:53.35,0:30:56.04,Default,,0,0,0,,references to your data, and the
Dialogue: 0,0:30:56.04,0:30:57.62,Default,,0,0,0,,actual copying happens later if
Dialogue: 0,0:30:57.62,0:30:59.82,Default,,0,0,0,,there's an actual change.
Dialogue: 0,0:30:59.82,0:31:00.58,Default,,0,0,0,,It's deferred.
Dialogue: 0,0:31:00.58,0:31:01.54,Default,,0,0,0,,It's lazy, right.
Dialogue: 0,0:31:02.06,0:31:03.59,Default,,0,0,0,,So much more faster, much more
Dialogue: 0,0:31:03.59,0:31:04.00,Default,,0,0,0,,efficient.
Dialogue: 0,0:31:05.61,0:31:07.55,Default,,0,0,0,,So the other thing I'm going to
Dialogue: 0,0:31:07.55,0:31:09.22,Default,,0,0,0,,point out here is that this
Dialogue: 0,0:31:09.22,0:31:10.61,Default,,0,0,0,,movie that I just restored is
Dialogue: 0,0:31:10.61,0:31:12.89,Default,,0,0,0,,actually pretty big.
Dialogue: 0,0:31:12.97,0:31:15.20,Default,,0,0,0,,It's a movie of our last year's
Dialogue: 0,0:31:15.89,0:31:16.24,Default,,0,0,0,,talk.
Dialogue: 0,0:31:16.85,0:31:20.93,Default,,0,0,0,,It's 1.1 gigs, and the old
Dialogue: 0,0:31:20.93,0:31:23.29,Default,,0,0,0,,mobile Time Machine had certain
Dialogue: 0,0:31:23.29,0:31:25.45,Default,,0,0,0,,limits, like it couldn't back up
Dialogue: 0,0:31:25.45,0:31:27.88,Default,,0,0,0,,changes to files over 20
Dialogue: 0,0:31:27.88,0:31:28.40,Default,,0,0,0,,megabytes.
Dialogue: 0,0:31:28.40,0:31:30.07,Default,,0,0,0,,Well, all these limits are gone
Dialogue: 0,0:31:30.63,0:31:31.26,Default,,0,0,0,,now.
Dialogue: 0,0:31:31.26,0:31:32.97,Default,,0,0,0,,Mobile Time Machine on top of
Dialogue: 0,0:31:32.97,0:31:36.05,Default,,0,0,0,,APFS Snapshots will back up
Dialogue: 0,0:31:36.16,0:31:37.69,Default,,0,0,0,,anything in a very speedy way
Dialogue: 0,0:31:37.69,0:31:39.42,Default,,0,0,0,,and efficiently.
Dialogue: 0,0:31:39.54,0:31:42.12,Default,,0,0,0,,So that's mobile Time Machine on
Dialogue: 0,0:31:42.12,0:31:43.38,Default,,0,0,0,,top of APFS Snapshots.
Dialogue: 0,0:31:44.53,0:31:45.00,Default,,0,0,0,,All right.
Dialogue: 0,0:31:45.00,0:31:47.90,Default,,0,0,0,,S otherwise that, I'm going to
Dialogue: 0,0:31:49.11,0:31:51.10,Default,,0,0,0,,switch back to the slides and
Dialogue: 0,0:31:51.10,0:31:54.15,Default,,0,0,0,,Pavel will tell you more about
Dialogue: 0,0:31:54.15,0:31:56.06,Default,,0,0,0,,some of the APIs we've used to
Dialogue: 0,0:31:56.11,0:31:56.76,Default,,0,0,0,,make this happen.
Dialogue: 0,0:31:56.76,0:31:57.28,Default,,0,0,0,,Thank you everyone.
Dialogue: 0,0:31:58.52,0:32:04.68,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:32:05.18,0:32:05.93,Default,,0,0,0,,>> Thank you, Pavel.
Dialogue: 0,0:32:06.52,0:32:10.98,Default,,0,0,0,,[ Background Noise ]
Dialogue: 0,0:32:11.48,0:32:13.49,Default,,0,0,0,,So you might wonder what about
Dialogue: 0,0:32:13.49,0:32:15.42,Default,,0,0,0,,APIs, how to take advantage of
Dialogue: 0,0:32:15.42,0:32:15.86,Default,,0,0,0,,all that.
Dialogue: 0,0:32:16.65,0:32:21.01,Default,,0,0,0,,So good news is if you program
Dialogue: 0,0:32:21.01,0:32:22.08,Default,,0,0,0,,[inaudible] like you probably
Dialogue: 0,0:32:22.08,0:32:25.90,Default,,0,0,0,,should, it's all taken care of
Dialogue: 0,0:32:26.95,0:32:27.54,Default,,0,0,0,,for you.
Dialogue: 0,0:32:28.25,0:32:31.17,Default,,0,0,0,,The copyItem API automatically
Dialogue: 0,0:32:31.17,0:32:33.22,Default,,0,0,0,,takes advantage of API files
Dialogue: 0,0:32:34.12,0:32:35.02,Default,,0,0,0,,clone feature.
Dialogue: 0,0:32:36.12,0:32:37.35,Default,,0,0,0,,How that happens behind the
Dialogue: 0,0:32:37.35,0:32:39.25,Default,,0,0,0,,scenes we see if volume is
Dialogue: 0,0:32:39.25,0:32:41.95,Default,,0,0,0,,compatible with cloning, and we
Dialogue: 0,0:32:42.00,0:32:43.82,Default,,0,0,0,,take clones automatically as you
Dialogue: 0,0:32:43.82,0:32:44.76,Default,,0,0,0,,copy the files.
Dialogue: 0,0:32:46.18,0:32:47.74,Default,,0,0,0,,There's also replaceItem API,
Dialogue: 0,0:32:47.99,0:32:48.95,Default,,0,0,0,,which takes care of [inaudible]
Dialogue: 0,0:32:48.95,0:32:51.60,Default,,0,0,0,,save save, again automatically
Dialogue: 0,0:32:52.14,0:32:54.29,Default,,0,0,0,,you don't have to do anything
Dialogue: 0,0:32:54.29,0:32:56.37,Default,,0,0,0,,for that.
Dialogue: 0,0:32:56.63,0:32:57.85,Default,,0,0,0,,There are a couple of guidelines
Dialogue: 0,0:32:57.90,0:32:59.92,Default,,0,0,0,,that I want to remind, good
Dialogue: 0,0:33:00.02,0:33:02.88,Default,,0,0,0,,practices, and important points.
Dialogue: 0,0:33:03.58,0:33:05.66,Default,,0,0,0,,In particular, [inaudible] data
Dialogue: 0,0:33:05.86,0:33:06.77,Default,,0,0,0,,is duplicated.
Dialogue: 0,0:33:06.80,0:33:08.64,Default,,0,0,0,,We announced that a year ago,
Dialogue: 0,0:33:09.46,0:33:11.12,Default,,0,0,0,,and not only is it duplicated,
Dialogue: 0,0:33:11.86,0:33:13.77,Default,,0,0,0,,it's also not going to work with
Dialogue: 0,0:33:13.77,0:33:14.38,Default,,0,0,0,,API files.
Dialogue: 0,0:33:15.46,0:33:17.67,Default,,0,0,0,,Instead of that, if you want to
Dialogue: 0,0:33:17.94,0:33:19.59,Default,,0,0,0,,take advantage of [inaudible]
Dialogue: 0,0:33:19.59,0:33:21.28,Default,,0,0,0,,file swap, [inaudible] save
Dialogue: 0,0:33:21.28,0:33:23.63,Default,,0,0,0,,save, use new API which is
Dialogue: 0,0:33:23.63,0:33:25.38,Default,,0,0,0,,called rename underscore np.
Dialogue: 0,0:33:26.09,0:33:29.88,Default,,0,0,0,,Also, please do not use carbon
Dialogue: 0,0:33:29.88,0:33:30.34,Default,,0,0,0,,APIs.
Dialogue: 0,0:33:30.72,0:33:31.70,Default,,0,0,0,,Again that's [inaudible].
Dialogue: 0,0:33:32.02,0:33:33.53,Default,,0,0,0,,It works in compatibility mode
Dialogue: 0,0:33:33.53,0:33:34.32,Default,,0,0,0,,with API files.
Dialogue: 0,0:33:34.55,0:33:35.87,Default,,0,0,0,,It's going to be much slower.
Dialogue: 0,0:33:36.24,0:33:38.20,Default,,0,0,0,,It's [inaudible] the file
Dialogue: 0,0:33:38.20,0:33:38.63,Default,,0,0,0,,system.
Dialogue: 0,0:33:38.93,0:33:41.71,Default,,0,0,0,,Instead, use foundation APIs.
Dialogue: 0,0:33:42.64,0:33:46.20,Default,,0,0,0,,If you want a little bit lower
Dialogue: 0,0:33:46.20,0:33:48.72,Default,,0,0,0,,layer, you can use [inaudible]
Dialogue: 0,0:33:48.72,0:33:51.37,Default,,0,0,0,,copyfile with copyfile function
Dialogue: 0,0:33:51.69,0:33:53.19,Default,,0,0,0,,that supports copyfile clone
Dialogue: 0,0:33:53.19,0:33:53.56,Default,,0,0,0,,flag.
Dialogue: 0,0:33:53.74,0:33:57.35,Default,,0,0,0,,There are a couple of caveats
Dialogue: 0,0:33:57.66,0:33:59.20,Default,,0,0,0,,for that [inaudible] preview.
Dialogue: 0,0:34:00.28,0:34:02.21,Default,,0,0,0,,In particular, we're not going
Dialogue: 0,0:34:02.21,0:34:03.91,Default,,0,0,0,,to automatically upgrade
Dialogue: 0,0:34:03.96,0:34:06.22,Default,,0,0,0,,HDD-based file systems.
Dialogue: 0,0:34:07.06,0:34:07.78,Default,,0,0,0,,We're still working on
Dialogue: 0,0:34:07.78,0:34:11.56,Default,,0,0,0,,performance, and if you'd like
Dialogue: 0,0:34:11.61,0:34:14.83,Default,,0,0,0,,to get bootable APFS, it's not
Dialogue: 0,0:34:14.83,0:34:15.86,Default,,0,0,0,,enough just to run the
Dialogue: 0,0:34:15.86,0:34:16.37,Default,,0,0,0,,converter.
Dialogue: 0,0:34:16.66,0:34:17.68,Default,,0,0,0,,You have to go through the
Dialogue: 0,0:34:17.68,0:34:18.16,Default,,0,0,0,,installer.
Dialogue: 0,0:34:18.35,0:34:24.08,Default,,0,0,0,,So APFS is coming to macOS.
Dialogue: 0,0:34:24.17,0:34:25.03,Default,,0,0,0,,It's here.
Dialogue: 0,0:34:25.65,0:34:27.41,Default,,0,0,0,,In fact, it's supported file
Dialogue: 0,0:34:27.41,0:34:27.83,Default,,0,0,0,,system.
Dialogue: 0,0:34:28.82,0:34:30.31,Default,,0,0,0,,It supports Fusion drives.
Dialogue: 0,0:34:30.31,0:34:32.14,Default,,0,0,0,,It will support native
Dialogue: 0,0:34:32.14,0:34:32.71,Default,,0,0,0,,encryption.
Dialogue: 0,0:34:33.02,0:34:34.54,Default,,0,0,0,,Space sharing is an awesome
Dialogue: 0,0:34:34.54,0:34:34.90,Default,,0,0,0,,feature.
Dialogue: 0,0:34:35.96,0:34:37.32,Default,,0,0,0,,There are clone files and
Dialogue: 0,0:34:37.45,0:34:39.38,Default,,0,0,0,,snapshots that are going to make
Dialogue: 0,0:34:39.38,0:34:40.97,Default,,0,0,0,,your storage more efficient and
Dialogue: 0,0:34:41.01,0:34:41.40,Default,,0,0,0,,faster.
Dialogue: 0,0:34:42.10,0:34:44.15,Default,,0,0,0,,Please test your apps as you
Dialogue: 0,0:34:44.15,0:34:45.89,Default,,0,0,0,,just noticed there are a couple
Dialogue: 0,0:34:45.89,0:34:47.49,Default,,0,0,0,,of important differences between
Dialogue: 0,0:34:47.49,0:34:48.67,Default,,0,0,0,,HFS and APFS.
Dialogue: 0,0:34:48.83,0:34:49.96,Default,,0,0,0,,We would like your apps to be
Dialogue: 0,0:34:49.96,0:34:51.26,Default,,0,0,0,,successful and awesome.
Dialogue: 0,0:34:52.00,0:34:53.97,Default,,0,0,0,,Please give it a try, and report
Dialogue: 0,0:34:53.97,0:34:55.20,Default,,0,0,0,,your bugs.
Dialogue: 0,0:34:56.60,0:34:57.75,Default,,0,0,0,,There's more information
Dialogue: 0,0:34:57.75,0:34:59.92,Default,,0,0,0,,available for you at that URL.
Dialogue: 0,0:34:59.92,0:35:01.14,Default,,0,0,0,,Thank you.
Dialogue: 0,0:35:02.52,0:35:10.64,Default,,0,0,0,,[ Applause ]
