[Script Info]
; Script generated by FFmpeg/Lavc57.89.100
ScriptType: v4.00+
PlayResX: 384
PlayResY: 288

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,0,100,100,0,0,1,1,0,2,10,10,10,0

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:31.64,0:00:32.36,Default,,0,0,0,,>> All right.
Dialogue: 0,0:00:32.36,0:00:33.96,Default,,0,0,0,,Good evening, everyone.
Dialogue: 0,0:00:34.20,0:00:35.07,Default,,0,0,0,,My name is Eugene.
Dialogue: 0,0:00:35.29,0:00:37.21,Default,,0,0,0,,I'm an engineer on the Messages
Dialogue: 0,0:00:37.21,0:00:39.62,Default,,0,0,0,,team and I am super excited to
Dialogue: 0,0:00:39.62,0:00:40.99,Default,,0,0,0,,be here tonight to speak with
Dialogue: 0,0:00:40.99,0:00:43.50,Default,,0,0,0,,you about what's new in iMessage
Dialogue: 0,0:00:43.50,0:00:43.92,Default,,0,0,0,,apps.
Dialogue: 0,0:00:45.02,0:00:45.77,Default,,0,0,0,,Let's dive in here.
Dialogue: 0,0:00:46.08,0:00:47.78,Default,,0,0,0,,We've got a couple of things on
Dialogue: 0,0:00:47.78,0:00:48.73,Default,,0,0,0,,the agenda this evening.
Dialogue: 0,0:00:49.22,0:00:51.37,Default,,0,0,0,,First one, we want to show off a
Dialogue: 0,0:00:51.37,0:00:52.55,Default,,0,0,0,,little bit of what's new in the
Dialogue: 0,0:00:52.65,0:00:54.69,Default,,0,0,0,,iMessage app area in iOS 11.
Dialogue: 0,0:00:54.73,0:00:55.65,Default,,0,0,0,,Some of the stuff you saw in the
Dialogue: 0,0:00:55.65,0:00:56.83,Default,,0,0,0,,keynote plus a little bit more.
Dialogue: 0,0:00:58.20,0:00:59.56,Default,,0,0,0,,After that, we're going to be
Dialogue: 0,0:00:59.56,0:01:00.96,Default,,0,0,0,,introducing our awesome new
Dialogue: 0,0:01:00.96,0:01:02.29,Default,,0,0,0,,Direct Send API.
Dialogue: 0,0:01:03.18,0:01:06.90,Default,,0,0,0,,After that, my colleagues Jay
Dialogue: 0,0:01:06.90,0:01:07.95,Default,,0,0,0,,and Stephen will be coming on
Dialogue: 0,0:01:07.95,0:01:09.85,Default,,0,0,0,,stage to talk to you about our
Dialogue: 0,0:01:09.85,0:01:11.25,Default,,0,0,0,,new Live Message Layouts.
Dialogue: 0,0:01:12.23,0:01:13.39,Default,,0,0,0,,And finally, we'll be wrapping
Dialogue: 0,0:01:13.39,0:01:15.25,Default,,0,0,0,,up the talk with a couple best
Dialogue: 0,0:01:15.25,0:01:17.28,Default,,0,0,0,,practices tips and tricks for
Dialogue: 0,0:01:17.28,0:01:17.97,Default,,0,0,0,,your iMessage apps.
Dialogue: 0,0:01:21.14,0:01:22.54,Default,,0,0,0,,So a lot of what we're talking
Dialogue: 0,0:01:22.54,0:01:24.34,Default,,0,0,0,,about this year builds off the
Dialogue: 0,0:01:24.34,0:01:26.04,Default,,0,0,0,,fundamentals that we established
Dialogue: 0,0:01:26.04,0:01:27.80,Default,,0,0,0,,last year with iOS 10 and the
Dialogue: 0,0:01:27.80,0:01:29.58,Default,,0,0,0,,introduction of the Messages
Dialogue: 0,0:01:29.58,0:01:30.00,Default,,0,0,0,,framework.
Dialogue: 0,0:01:30.53,0:01:31.81,Default,,0,0,0,,So if you need a refresher about
Dialogue: 0,0:01:31.81,0:01:32.97,Default,,0,0,0,,the Messages framework or
Dialogue: 0,0:01:32.97,0:01:34.25,Default,,0,0,0,,iMessage apps in general, we
Dialogue: 0,0:01:34.25,0:01:36.91,Default,,0,0,0,,highly recommend watching our
Dialogue: 0,0:01:36.91,0:01:39.03,Default,,0,0,0,,previous year session iMessage
Dialogue: 0,0:01:39.11,0:01:41.36,Default,,0,0,0,,Apps and Stickers Part 2, which
Dialogue: 0,0:01:41.39,0:01:43.52,Default,,0,0,0,,is available on the developer
Dialogue: 0,0:01:43.52,0:01:43.90,Default,,0,0,0,,portal.
Dialogue: 0,0:01:44.29,0:01:45.71,Default,,0,0,0,,So give that a look if you'd
Dialogue: 0,0:01:45.71,0:01:46.31,Default,,0,0,0,,like a refresher.
Dialogue: 0,0:01:46.31,0:01:49.82,Default,,0,0,0,,So let's get into the cool
Dialogue: 0,0:01:49.82,0:01:50.21,Default,,0,0,0,,stuff.
Dialogue: 0,0:01:50.56,0:01:52.18,Default,,0,0,0,,What's new in the Messages app
Dialogue: 0,0:01:52.18,0:01:52.56,Default,,0,0,0,,area.
Dialogue: 0,0:01:52.75,0:01:54.65,Default,,0,0,0,,So as you all saw on Monday,
Dialogue: 0,0:01:54.82,0:01:56.76,Default,,0,0,0,,we've updated a little bit of
Dialogue: 0,0:01:57.01,0:01:59.44,Default,,0,0,0,,the Messages app UI for iOS 11.
Dialogue: 0,0:02:00.04,0:02:01.99,Default,,0,0,0,,So I just saw on Monday when a
Dialogue: 0,0:02:01.99,0:02:03.64,Default,,0,0,0,,user enters the conversation now
Dialogue: 0,0:02:04.21,0:02:06.44,Default,,0,0,0,,we put all the app icons right
Dialogue: 0,0:02:06.48,0:02:07.77,Default,,0,0,0,,there at the bottom of the
Dialogue: 0,0:02:07.77,0:02:09.01,Default,,0,0,0,,screen which makes it really
Dialogue: 0,0:02:09.01,0:02:10.36,Default,,0,0,0,,easy for users to launch
Dialogue: 0,0:02:10.36,0:02:12.30,Default,,0,0,0,,applications right when entering
Dialogue: 0,0:02:12.30,0:02:13.06,Default,,0,0,0,,a conversation.
Dialogue: 0,0:02:13.60,0:02:18.17,Default,,0,0,0,,As with iOS 10, your application
Dialogue: 0,0:02:18.17,0:02:19.20,Default,,0,0,0,,still lives in kind of the
Dialogue: 0,0:02:19.20,0:02:21.25,Default,,0,0,0,,keyboard area but we still have
Dialogue: 0,0:02:21.25,0:02:22.60,Default,,0,0,0,,the application icons down at
Dialogue: 0,0:02:22.60,0:02:23.09,Default,,0,0,0,,the bottom.
Dialogue: 0,0:02:24.34,0:02:26.79,Default,,0,0,0,,Now users can scroll this
Dialogue: 0,0:02:26.79,0:02:28.74,Default,,0,0,0,,application list left and right
Dialogue: 0,0:02:29.28,0:02:30.67,Default,,0,0,0,,to quickly find the application
Dialogue: 0,0:02:30.67,0:02:31.27,Default,,0,0,0,,they want to launch.
Dialogue: 0,0:02:32.53,0:02:33.57,Default,,0,0,0,,We've also divided the strip
Dialogue: 0,0:02:33.57,0:02:34.77,Default,,0,0,0,,into two different sections, as
Dialogue: 0,0:02:34.77,0:02:35.43,Default,,0,0,0,,you can see up here.
Dialogue: 0,0:02:36.15,0:02:37.86,Default,,0,0,0,,The left-hand side we have the
Dialogue: 0,0:02:37.86,0:02:39.69,Default,,0,0,0,,users favorite section which is
Dialogue: 0,0:02:39.77,0:02:41.29,Default,,0,0,0,,ordered by the user, and on the
Dialogue: 0,0:02:41.29,0:02:43.47,Default,,0,0,0,,right-hand side we have the most
Dialogue: 0,0:02:43.47,0:02:45.08,Default,,0,0,0,,recently used applications.
Dialogue: 0,0:02:46.28,0:02:48.95,Default,,0,0,0,,So users can also rearrange
Dialogue: 0,0:02:48.95,0:02:50.19,Default,,0,0,0,,their applications out of the
Dialogue: 0,0:02:50.19,0:02:51.44,Default,,0,0,0,,recent section and into their
Dialogue: 0,0:02:51.44,0:02:53.62,Default,,0,0,0,,favorites for easy use and for
Dialogue: 0,0:02:53.62,0:02:55.29,Default,,0,0,0,,accessibility right when they
Dialogue: 0,0:02:55.29,0:02:56.35,Default,,0,0,0,,enter the conversation.
Dialogue: 0,0:02:56.54,0:02:57.75,Default,,0,0,0,,So we think this is a great way
Dialogue: 0,0:02:58.02,0:02:59.16,Default,,0,0,0,,for users to enter a
Dialogue: 0,0:02:59.16,0:03:00.73,Default,,0,0,0,,conversation, tap the app they
Dialogue: 0,0:03:00.73,0:03:02.93,Default,,0,0,0,,want and be able to use your
Dialogue: 0,0:03:02.93,0:03:04.23,Default,,0,0,0,,application immediately.
Dialogue: 0,0:03:04.85,0:03:07.96,Default,,0,0,0,,One really cool change their
Dialogue: 0,0:03:07.96,0:03:10.22,Default,,0,0,0,,making this year revolves around
Dialogue: 0,0:03:10.22,0:03:11.96,Default,,0,0,0,,how we handle app installations.
Dialogue: 0,0:03:12.48,0:03:14.68,Default,,0,0,0,,So now in iOS 11 if you download
Dialogue: 0,0:03:14.68,0:03:16.15,Default,,0,0,0,,an application from the iMessage
Dialogue: 0,0:03:16.15,0:03:18.37,Default,,0,0,0,,app store or you download from
Dialogue: 0,0:03:18.37,0:03:20.10,Default,,0,0,0,,our primary app store we will
Dialogue: 0,0:03:20.10,0:03:22.22,Default,,0,0,0,,enable your application by
Dialogue: 0,0:03:22.22,0:03:24.04,Default,,0,0,0,,default and the Messages app
Dialogue: 0,0:03:24.04,0:03:24.25,Default,,0,0,0,,drawer.
Dialogue: 0,0:03:25.04,0:03:25.70,Default,,0,0,0,,In addition --
Dialogue: 0,0:03:26.52,0:03:28.90,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:03:29.40,0:03:30.63,Default,,0,0,0,,So in addition, we will order
Dialogue: 0,0:03:30.63,0:03:32.40,Default,,0,0,0,,your applications icon to the
Dialogue: 0,0:03:32.40,0:03:34.19,Default,,0,0,0,,very first item in the most
Dialogue: 0,0:03:34.19,0:03:35.92,Default,,0,0,0,,recently used apps so users can
Dialogue: 0,0:03:35.92,0:03:37.88,Default,,0,0,0,,find it easily and launch the
Dialogue: 0,0:03:37.88,0:03:39.36,Default,,0,0,0,,application immediately.
Dialogue: 0,0:03:39.60,0:03:41.24,Default,,0,0,0,,So there's just a couple changes
Dialogue: 0,0:03:41.29,0:03:42.85,Default,,0,0,0,,that we have for the Messages
Dialogue: 0,0:03:42.85,0:03:43.30,Default,,0,0,0,,app UI.
Dialogue: 0,0:03:43.41,0:03:45.37,Default,,0,0,0,,A lot of it you guys have today.
Dialogue: 0,0:03:45.70,0:03:50.23,Default,,0,0,0,,Next up we have our brand new
Dialogue: 0,0:03:50.23,0:03:51.86,Default,,0,0,0,,Direct Send API.
Dialogue: 0,0:03:51.98,0:03:53.26,Default,,0,0,0,,We're super excited to share
Dialogue: 0,0:03:53.26,0:03:53.93,Default,,0,0,0,,this with all of you.
Dialogue: 0,0:03:54.49,0:03:58.66,Default,,0,0,0,,So in iOS 10, the only way to
Dialogue: 0,0:03:58.66,0:03:59.71,Default,,0,0,0,,share content out of your
Dialogue: 0,0:03:59.71,0:04:01.67,Default,,0,0,0,,Messages app would be to call an
Dialogue: 0,0:04:01.67,0:04:03.82,Default,,0,0,0,,insert API which puts your
Dialogue: 0,0:04:03.82,0:04:07.35,Default,,0,0,0,,message into the Messages entry
Dialogue: 0,0:04:07.35,0:04:08.07,Default,,0,0,0,,view.
Dialogue: 0,0:04:08.85,0:04:09.81,Default,,0,0,0,,And so while this works great
Dialogue: 0,0:04:09.81,0:04:11.47,Default,,0,0,0,,for many applications, for some
Dialogue: 0,0:04:11.47,0:04:12.96,Default,,0,0,0,,user experiences like this game
Dialogue: 0,0:04:13.40,0:04:14.66,Default,,0,0,0,,when the users say makes the
Dialogue: 0,0:04:14.66,0:04:16.86,Default,,0,0,0,,game move next logical step
Dialogue: 0,0:04:17.00,0:04:18.61,Default,,0,0,0,,would probably be the message
Dialogue: 0,0:04:18.75,0:04:19.90,Default,,0,0,0,,actually being sent and
Dialogue: 0,0:04:19.97,0:04:21.27,Default,,0,0,0,,inserting that message into the
Dialogue: 0,0:04:21.27,0:04:23.16,Default,,0,0,0,,entry view kind of adds an extra
Dialogue: 0,0:04:23.16,0:04:23.50,Default,,0,0,0,,tap.
Dialogue: 0,0:04:23.62,0:04:25.54,Default,,0,0,0,,So we thought this year how can
Dialogue: 0,0:04:25.54,0:04:26.78,Default,,0,0,0,,we make this easier, how can we
Dialogue: 0,0:04:26.78,0:04:28.39,Default,,0,0,0,,make this a better user
Dialogue: 0,0:04:28.39,0:04:29.10,Default,,0,0,0,,experience?
Dialogue: 0,0:04:29.60,0:04:32.66,Default,,0,0,0,,So in iOS 11 you can send any
Dialogue: 0,0:04:32.66,0:04:34.20,Default,,0,0,0,,content that you would have
Dialogue: 0,0:04:34.33,0:04:35.21,Default,,0,0,0,,normally inserted into the
Dialogue: 0,0:04:35.21,0:04:37.20,Default,,0,0,0,,Messages entry view directly
Dialogue: 0,0:04:37.29,0:04:38.07,Default,,0,0,0,,from your application.
Dialogue: 0,0:04:39.11,0:04:39.91,Default,,0,0,0,,So how does this work?
Dialogue: 0,0:04:40.46,0:04:44.08,Default,,0,0,0,,In iOS 10 we introduced MS
Dialogue: 0,0:04:44.08,0:04:46.01,Default,,0,0,0,,conversation which defined the
Dialogue: 0,0:04:46.01,0:04:47.34,Default,,0,0,0,,following insert APIs.
Dialogue: 0,0:04:47.73,0:04:49.97,Default,,0,0,0,,Insert message ,insert sticker,
Dialogue: 0,0:04:50.51,0:04:53.05,Default,,0,0,0,,insertText, and insertAttachment
Dialogue: 0,0:04:53.09,0:04:54.09,Default,,0,0,0,,which supports any of our
Dialogue: 0,0:04:54.09,0:04:55.32,Default,,0,0,0,,standard Messages attachment
Dialogue: 0,0:04:55.32,0:04:55.56,Default,,0,0,0,,types.
Dialogue: 0,0:04:56.86,0:04:58.88,Default,,0,0,0,,In iOS 11 we have a very simple
Dialogue: 0,0:04:59.46,0:05:01.84,Default,,0,0,0,,analogist API called Send
Dialogue: 0,0:05:01.84,0:05:04.08,Default,,0,0,0,,Message, Send Sticker, Send
Dialogue: 0,0:05:04.08,0:05:05.89,Default,,0,0,0,,Text, and Send Attachment.
Dialogue: 0,0:05:06.42,0:05:07.84,Default,,0,0,0,,So calling into anyone of these
Dialogue: 0,0:05:07.84,0:05:09.36,Default,,0,0,0,,will bypass the Messages entry
Dialogue: 0,0:05:09.36,0:05:11.69,Default,,0,0,0,,view and insert -- send you a
Dialogue: 0,0:05:11.69,0:05:13.14,Default,,0,0,0,,message immediately in the
Dialogue: 0,0:05:13.14,0:05:13.89,Default,,0,0,0,,conversation.
Dialogue: 0,0:05:14.31,0:05:16.81,Default,,0,0,0,,So really quick and easy API.
Dialogue: 0,0:05:17.52,0:05:22.08,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:05:22.58,0:05:24.99,Default,,0,0,0,,So you may ask which API --
Dialogue: 0,0:05:25.18,0:05:27.27,Default,,0,0,0,,which user experience is best
Dialogue: 0,0:05:27.43,0:05:29.60,Default,,0,0,0,,for my application, both Insert
Dialogue: 0,0:05:29.60,0:05:32.36,Default,,0,0,0,,Draft and Send Message APIs are
Dialogue: 0,0:05:32.36,0:05:34.50,Default,,0,0,0,,first party citizens in iOS 11,
Dialogue: 0,0:05:34.82,0:05:35.88,Default,,0,0,0,,and it's up to you to decide
Dialogue: 0,0:05:35.88,0:05:36.65,Default,,0,0,0,,which one is best for your
Dialogue: 0,0:05:36.65,0:05:37.19,Default,,0,0,0,,application.
Dialogue: 0,0:05:37.83,0:05:42.22,Default,,0,0,0,,So the Insert Draft API is still
Dialogue: 0,0:05:42.32,0:05:43.75,Default,,0,0,0,,the recommended API for most
Dialogue: 0,0:05:43.75,0:05:45.60,Default,,0,0,0,,applications as it allows for
Dialogue: 0,0:05:45.60,0:05:47.35,Default,,0,0,0,,richer composition experience.
Dialogue: 0,0:05:47.45,0:05:49.02,Default,,0,0,0,,For example, user can insert a
Dialogue: 0,0:05:49.02,0:05:50.78,Default,,0,0,0,,message and then say append a
Dialogue: 0,0:05:50.78,0:05:51.64,Default,,0,0,0,,comment to the end of the
Dialogue: 0,0:05:51.64,0:05:53.77,Default,,0,0,0,,message, or send with a screen
Dialogue: 0,0:05:53.77,0:05:55.34,Default,,0,0,0,,effect or a full screen moment.
Dialogue: 0,0:05:55.91,0:05:57.55,Default,,0,0,0,,So it's a really great way to
Dialogue: 0,0:05:57.55,0:05:58.95,Default,,0,0,0,,enrich the content that you
Dialogue: 0,0:05:58.95,0:05:59.94,Default,,0,0,0,,would already be sending.
Dialogue: 0,0:06:00.15,0:06:02.42,Default,,0,0,0,,In addition, it gives the user
Dialogue: 0,0:06:02.42,0:06:04.58,Default,,0,0,0,,an opportunity to verify the
Dialogue: 0,0:06:04.58,0:06:05.90,Default,,0,0,0,,content that will be sent which
Dialogue: 0,0:06:05.90,0:06:06.80,Default,,0,0,0,,is extremely important.
Dialogue: 0,0:06:07.34,0:06:10.82,Default,,0,0,0,,On the other hand, Direct Send
Dialogue: 0,0:06:10.82,0:06:13.22,Default,,0,0,0,,API offers a superfast quick and
Dialogue: 0,0:06:13.22,0:06:14.23,Default,,0,0,0,,easy user experience that's
Dialogue: 0,0:06:14.29,0:06:16.50,Default,,0,0,0,,great for, say, games and stuff
Dialogue: 0,0:06:16.50,0:06:17.19,Default,,0,0,0,,like we saw above.
Dialogue: 0,0:06:18.19,0:06:19.77,Default,,0,0,0,,So it's great for any
Dialogue: 0,0:06:19.77,0:06:22.68,Default,,0,0,0,,application where the insert
Dialogue: 0,0:06:22.68,0:06:25.08,Default,,0,0,0,,flow has tapping the entry view
Dialogue: 0,0:06:25.08,0:06:26.85,Default,,0,0,0,,button feel like an extra step
Dialogue: 0,0:06:26.85,0:06:27.77,Default,,0,0,0,,that you really don't need.
Dialogue: 0,0:06:29.16,0:06:31.40,Default,,0,0,0,,However, when using this API it
Dialogue: 0,0:06:31.40,0:06:32.75,Default,,0,0,0,,is extremely important to
Dialogue: 0,0:06:32.75,0:06:34.04,Default,,0,0,0,,maintain user trust in your
Dialogue: 0,0:06:34.04,0:06:34.72,Default,,0,0,0,,application.
Dialogue: 0,0:06:35.02,0:06:36.66,Default,,0,0,0,,So it's important to very
Dialogue: 0,0:06:36.66,0:06:38.13,Default,,0,0,0,,clearly indicate to the user
Dialogue: 0,0:06:38.44,0:06:39.96,Default,,0,0,0,,exactly what content is going to
Dialogue: 0,0:06:39.96,0:06:42.23,Default,,0,0,0,,be sent and also to clearly
Dialogue: 0,0:06:42.23,0:06:44.45,Default,,0,0,0,,denote to the user exactly what
Dialogue: 0,0:06:44.64,0:06:46.37,Default,,0,0,0,,user interaction or interface
Dialogue: 0,0:06:46.37,0:06:47.94,Default,,0,0,0,,element within your application
Dialogue: 0,0:06:48.13,0:06:49.24,Default,,0,0,0,,will trigger send.
Dialogue: 0,0:06:49.24,0:06:52.07,Default,,0,0,0,,So to help promote a great user
Dialogue: 0,0:06:52.07,0:06:53.12,Default,,0,0,0,,experience with a direct send
Dialogue: 0,0:06:53.12,0:06:55.40,Default,,0,0,0,,API Messages enforces a couple
Dialogue: 0,0:06:55.40,0:06:57.29,Default,,0,0,0,,requirements on this APIs use.
Dialogue: 0,0:06:58.55,0:07:00.60,Default,,0,0,0,,Firstly, your application must
Dialogue: 0,0:07:00.60,0:07:02.48,Default,,0,0,0,,be the visible Messages app on
Dialogue: 0,0:07:02.52,0:07:03.02,Default,,0,0,0,,screen.
Dialogue: 0,0:07:03.02,0:07:05.12,Default,,0,0,0,,As you may know, your Messages
Dialogue: 0,0:07:05.12,0:07:06.78,Default,,0,0,0,,app extension may be running in
Dialogue: 0,0:07:06.78,0:07:08.40,Default,,0,0,0,,the background within Messages
Dialogue: 0,0:07:08.40,0:07:10.30,Default,,0,0,0,,and not actually be the current
Dialogue: 0,0:07:10.35,0:07:11.34,Default,,0,0,0,,foreground application.
Dialogue: 0,0:07:11.39,0:07:13.27,Default,,0,0,0,,So first requirement is your
Dialogue: 0,0:07:13.27,0:07:14.48,Default,,0,0,0,,application must be visible.
Dialogue: 0,0:07:15.78,0:07:19.19,Default,,0,0,0,,In addition, our target user
Dialogue: 0,0:07:19.19,0:07:20.78,Default,,0,0,0,,experience for this is to have
Dialogue: 0,0:07:20.78,0:07:22.96,Default,,0,0,0,,the user tap the screen or
Dialogue: 0,0:07:22.96,0:07:24.21,Default,,0,0,0,,interact with your application
Dialogue: 0,0:07:24.57,0:07:25.54,Default,,0,0,0,,and then to have a send be
Dialogue: 0,0:07:25.54,0:07:26.00,Default,,0,0,0,,triggered.
Dialogue: 0,0:07:26.57,0:07:28.70,Default,,0,0,0,,So to facilitate this, Messages
Dialogue: 0,0:07:28.70,0:07:30.71,Default,,0,0,0,,will detect user interaction on
Dialogue: 0,0:07:30.71,0:07:32.44,Default,,0,0,0,,your app and allow for a direct
Dialogue: 0,0:07:32.53,0:07:34.66,Default,,0,0,0,,send API call to be made upon
Dialogue: 0,0:07:34.66,0:07:36.16,Default,,0,0,0,,detection of that user
Dialogue: 0,0:07:36.16,0:07:36.79,Default,,0,0,0,,interaction.
Dialogue: 0,0:07:37.56,0:07:39.12,Default,,0,0,0,,Subsequent direct send calls
Dialogue: 0,0:07:39.12,0:07:40.84,Default,,0,0,0,,will fail until we detect
Dialogue: 0,0:07:40.92,0:07:42.64,Default,,0,0,0,,another user interaction, so
Dialogue: 0,0:07:42.81,0:07:44.96,Default,,0,0,0,,kind of keeping with one-to-one
Dialogue: 0,0:07:45.05,0:07:46.19,Default,,0,0,0,,the user press something on your
Dialogue: 0,0:07:46.19,0:07:47.97,Default,,0,0,0,,screen and a send is allowed.
Dialogue: 0,0:07:48.90,0:07:51.41,Default,,0,0,0,,So to help you as developers
Dialogue: 0,0:07:51.41,0:07:52.78,Default,,0,0,0,,understand what's happening with
Dialogue: 0,0:07:52.78,0:07:54.81,Default,,0,0,0,,the send API, we are introducing
Dialogue: 0,0:07:55.02,0:07:57.98,Default,,0,0,0,,two new air codes, MSMessage air
Dialogue: 0,0:07:57.98,0:07:58.35,Default,,0,0,0,,codes.
Dialogue: 0,0:07:58.35,0:07:58.70,Default,,0,0,0,,We have
Dialogue: 0,0:07:58.79,0:08:00.61,Default,,0,0,0,,sendwithoutRecentInteraction and
Dialogue: 0,0:08:00.67,0:08:02.29,Default,,0,0,0,,sendwhileNotVisible.
Dialogue: 0,0:08:02.57,0:08:04.23,Default,,0,0,0,,So as always, use great air
Dialogue: 0,0:08:04.23,0:08:06.67,Default,,0,0,0,,handling so your application can
Dialogue: 0,0:08:06.67,0:08:07.60,Default,,0,0,0,,catch these dates.
Dialogue: 0,0:08:10.05,0:08:10.92,Default,,0,0,0,,And that's Direct Send.
Dialogue: 0,0:08:11.27,0:08:12.04,Default,,0,0,0,,It's very simple.
Dialogue: 0,0:08:12.04,0:08:13.19,Default,,0,0,0,,I think it's going to be a great
Dialogue: 0,0:08:13.19,0:08:14.63,Default,,0,0,0,,user experience for the apps
Dialogue: 0,0:08:14.72,0:08:15.63,Default,,0,0,0,,where it makes sense for.
Dialogue: 0,0:08:15.63,0:08:17.15,Default,,0,0,0,,Definitely consider whether
Dialogue: 0,0:08:17.15,0:08:20.38,Default,,0,0,0,,Insert Draft or Send makes the
Dialogue: 0,0:08:20.38,0:08:21.44,Default,,0,0,0,,most sense for your application,
Dialogue: 0,0:08:21.44,0:08:22.57,Default,,0,0,0,,and we're very excited to see
Dialogue: 0,0:08:22.57,0:08:26.42,Default,,0,0,0,,what you-guys can build with it.
Dialogue: 0,0:08:26.68,0:08:27.25,Default,,0,0,0,,All right.
Dialogue: 0,0:08:27.39,0:08:28.85,Default,,0,0,0,,So next I'd like to invite
Dialogue: 0,0:08:28.85,0:08:31.66,Default,,0,0,0,,Stephen up stage to introduce
Dialogue: 0,0:08:31.66,0:08:32.93,Default,,0,0,0,,you to Live Message Layouts.
Dialogue: 0,0:08:34.52,0:08:38.92,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:08:39.42,0:08:40.31,Default,,0,0,0,,>> Hi everyone.
Dialogue: 0,0:08:41.09,0:08:44.29,Default,,0,0,0,,So today I'm excited to return
Dialogue: 0,0:08:44.29,0:08:45.44,Default,,0,0,0,,to the stage to you to talk to
Dialogue: 0,0:08:45.44,0:08:46.82,Default,,0,0,0,,you about Live Message Layouts.
Dialogue: 0,0:08:47.57,0:08:50.35,Default,,0,0,0,,Now in iOS 10 we introduced
Dialogue: 0,0:08:50.35,0:08:51.35,Default,,0,0,0,,Messages framework and the
Dialogue: 0,0:08:51.35,0:08:53.05,Default,,0,0,0,,ability for you to bring your
Dialogue: 0,0:08:53.05,0:08:54.17,Default,,0,0,0,,app experience right into
Dialogue: 0,0:08:54.17,0:08:54.62,Default,,0,0,0,,Messages.
Dialogue: 0,0:08:55.31,0:08:58.56,Default,,0,0,0,,When you would build your
Dialogue: 0,0:08:58.56,0:09:01.17,Default,,0,0,0,,iMessage app, your app could be
Dialogue: 0,0:09:01.17,0:09:02.94,Default,,0,0,0,,shown here in the keyboard area
Dialogue: 0,0:09:03.00,0:09:04.62,Default,,0,0,0,,in Messages or in a full screen
Dialogue: 0,0:09:04.62,0:09:05.65,Default,,0,0,0,,presentation, and these would be
Dialogue: 0,0:09:05.65,0:09:06.86,Default,,0,0,0,,the compact and expanded
Dialogue: 0,0:09:06.86,0:09:07.89,Default,,0,0,0,,presentation styles that you
Dialogue: 0,0:09:07.89,0:09:08.24,Default,,0,0,0,,could use.
Dialogue: 0,0:09:09.30,0:09:10.23,Default,,0,0,0,,And then when you would send the
Dialogue: 0,0:09:10.23,0:09:12.02,Default,,0,0,0,,message your app would use a
Dialogue: 0,0:09:12.02,0:09:13.86,Default,,0,0,0,,template driven -- or we would
Dialogue: 0,0:09:13.86,0:09:15.02,Default,,0,0,0,,use a template driven layout
Dialogue: 0,0:09:15.02,0:09:16.38,Default,,0,0,0,,approach for your app message.
Dialogue: 0,0:09:16.93,0:09:18.06,Default,,0,0,0,,Now this template layout had
Dialogue: 0,0:09:18.06,0:09:20.55,Default,,0,0,0,,customization objects or options
Dialogue: 0,0:09:21.12,0:09:23.30,Default,,0,0,0,,such as image and the text
Dialogue: 0,0:09:23.30,0:09:25.74,Default,,0,0,0,,properties here, and it allowed
Dialogue: 0,0:09:25.74,0:09:27.12,Default,,0,0,0,,you to provide some pretty good
Dialogue: 0,0:09:27.12,0:09:29.59,Default,,0,0,0,,rich app messages, however, it's
Dialogue: 0,0:09:29.59,0:09:30.55,Default,,0,0,0,,still limited by what the
Dialogue: 0,0:09:30.55,0:09:31.28,Default,,0,0,0,,template provides.
Dialogue: 0,0:09:32.74,0:09:34.00,Default,,0,0,0,,In iOS 11, I'm excited to
Dialogue: 0,0:09:34.00,0:09:35.32,Default,,0,0,0,,announce that you can now
Dialogue: 0,0:09:35.59,0:09:37.49,Default,,0,0,0,,completely customize what your
Dialogue: 0,0:09:37.49,0:09:39.26,Default,,0,0,0,,app messages look like using
Dialogue: 0,0:09:39.69,0:09:40.57,Default,,0,0,0,,these liveLayouts.
Dialogue: 0,0:09:41.28,0:09:43.90,Default,,0,0,0,,So this is actually a view
Dialogue: 0,0:09:43.90,0:09:45.17,Default,,0,0,0,,provided by the application
Dialogue: 0,0:09:45.17,0:09:46.59,Default,,0,0,0,,itself here in the Messages
Dialogue: 0,0:09:46.59,0:09:47.09,Default,,0,0,0,,transcript.
Dialogue: 0,0:09:47.54,0:09:50.16,Default,,0,0,0,,The app could also drive a view
Dialogue: 0,0:09:50.36,0:09:53.33,Default,,0,0,0,,as a draft message, and in fact
Dialogue: 0,0:09:53.33,0:09:55.11,Default,,0,0,0,,can provide custom views to
Dialogue: 0,0:09:55.19,0:09:56.43,Default,,0,0,0,,represent many messages
Dialogue: 0,0:09:56.55,0:09:57.46,Default,,0,0,0,,simultaneously in the
Dialogue: 0,0:09:57.46,0:09:57.94,Default,,0,0,0,,transcript.
Dialogue: 0,0:09:58.45,0:10:01.16,Default,,0,0,0,,Of course we support the world
Dialogue: 0,0:10:01.16,0:10:02.46,Default,,0,0,0,,where maybe your app isn't the
Dialogue: 0,0:10:02.46,0:10:05.13,Default,,0,0,0,,only one on screen, but really
Dialogue: 0,0:10:05.13,0:10:06.11,Default,,0,0,0,,we only care about your app.
Dialogue: 0,0:10:06.55,0:10:07.34,Default,,0,0,0,,We're here to talk to you about
Dialogue: 0,0:10:07.34,0:10:07.71,Default,,0,0,0,,that today.
Dialogue: 0,0:10:10.52,0:10:12.14,Default,,0,0,0,,So I'd like to give you a quick
Dialogue: 0,0:10:12.14,0:10:14.54,Default,,0,0,0,,demo of what that looks like in
Dialogue: 0,0:10:14.54,0:10:14.92,Default,,0,0,0,,action.
Dialogue: 0,0:10:15.97,0:10:18.13,Default,,0,0,0,,So here I have a simple iMessage
Dialogue: 0,0:10:18.13,0:10:20.20,Default,,0,0,0,,app that I've built called Event
Dialogue: 0,0:10:20.20,0:10:22.20,Default,,0,0,0,,Countdown, and this is just a
Dialogue: 0,0:10:22.20,0:10:23.72,Default,,0,0,0,,simple list of upcoming events
Dialogue: 0,0:10:23.72,0:10:25.59,Default,,0,0,0,,that I'm excited about and want
Dialogue: 0,0:10:25.59,0:10:26.69,Default,,0,0,0,,to share with my friends via
Dialogue: 0,0:10:26.69,0:10:27.15,Default,,0,0,0,,Messages.
Dialogue: 0,0:10:27.85,0:10:30.03,Default,,0,0,0,,So for example, if I tap the
Dialogue: 0,0:10:30.03,0:10:32.84,Default,,0,0,0,,batch here you'll see a
Dialogue: 0,0:10:32.84,0:10:34.18,Default,,0,0,0,,completely custom message is
Dialogue: 0,0:10:34.30,0:10:35.32,Default,,0,0,0,,presented here as a draft
Dialogue: 0,0:10:35.32,0:10:35.80,Default,,0,0,0,,message.
Dialogue: 0,0:10:36.40,0:10:37.67,Default,,0,0,0,,It's live updating, it has this
Dialogue: 0,0:10:37.67,0:10:38.90,Default,,0,0,0,,great countdown that's building
Dialogue: 0,0:10:38.90,0:10:40.23,Default,,0,0,0,,anticipation for the upcoming
Dialogue: 0,0:10:40.23,0:10:40.57,Default,,0,0,0,,event.
Dialogue: 0,0:10:40.67,0:10:42.92,Default,,0,0,0,,And when I send it, that same
Dialogue: 0,0:10:42.92,0:10:44.49,Default,,0,0,0,,view is put in the transcript
Dialogue: 0,0:10:45.18,0:10:46.07,Default,,0,0,0,,that would be seen on the other
Dialogue: 0,0:10:46.07,0:10:46.39,Default,,0,0,0,,side.
Dialogue: 0,0:10:46.85,0:10:49.21,Default,,0,0,0,,In fact, if we go into the
Dialogue: 0,0:10:49.21,0:10:51.62,Default,,0,0,0,,recipient side or to see what a
Dialogue: 0,0:10:51.62,0:10:53.32,Default,,0,0,0,,recipient might have sent or the
Dialogue: 0,0:10:53.36,0:10:56.66,Default,,0,0,0,,other side might have sent, here
Dialogue: 0,0:10:56.66,0:10:58.05,Default,,0,0,0,,I have an invitation from
Dialogue: 0,0:10:58.05,0:10:58.48,Default,,0,0,0,,Eugene.
Dialogue: 0,0:10:59.77,0:11:00.98,Default,,0,0,0,,This is a similar app message,
Dialogue: 0,0:11:00.98,0:11:02.75,Default,,0,0,0,,but my iMessage app has chosen
Dialogue: 0,0:11:03.18,0:11:04.63,Default,,0,0,0,,to render a completely different
Dialogue: 0,0:11:04.63,0:11:05.92,Default,,0,0,0,,view on the receiver side.
Dialogue: 0,0:11:06.75,0:11:08.30,Default,,0,0,0,,I'm representing an unaccepted
Dialogue: 0,0:11:08.30,0:11:09.42,Default,,0,0,0,,invitation at this point.
Dialogue: 0,0:11:10.70,0:11:12.40,Default,,0,0,0,,If I tap this app message bubble
Dialogue: 0,0:11:12.40,0:11:15.29,Default,,0,0,0,,here, I mark the event as
Dialogue: 0,0:11:15.29,0:11:17.54,Default,,0,0,0,,accepted and now it switches to
Dialogue: 0,0:11:17.54,0:11:19.11,Default,,0,0,0,,that live countdown mode.
Dialogue: 0,0:11:19.69,0:11:21.60,Default,,0,0,0,,I was able to do all that
Dialogue: 0,0:11:21.60,0:11:23.41,Default,,0,0,0,,without even having to launch my
Dialogue: 0,0:11:23.41,0:11:24.95,Default,,0,0,0,,iMessage app in this context.
Dialogue: 0,0:11:24.95,0:11:28.56,Default,,0,0,0,,Now here in the top right I have
Dialogue: 0,0:11:28.56,0:11:29.56,Default,,0,0,0,,a little infoButton.
Dialogue: 0,0:11:30.43,0:11:31.80,Default,,0,0,0,,Not all experiences are
Dialogue: 0,0:11:31.80,0:11:33.14,Default,,0,0,0,,appropriate to try to shove into
Dialogue: 0,0:11:33.14,0:11:33.84,Default,,0,0,0,,an app message.
Dialogue: 0,0:11:35.28,0:11:37.16,Default,,0,0,0,,By tapping this infoButton, I
Dialogue: 0,0:11:37.16,0:11:39.14,Default,,0,0,0,,can actually request that my app
Dialogue: 0,0:11:39.14,0:11:40.20,Default,,0,0,0,,be presented in a different
Dialogue: 0,0:11:40.20,0:11:42.33,Default,,0,0,0,,presentation style to see more
Dialogue: 0,0:11:42.33,0:11:44.13,Default,,0,0,0,,information about my event.
Dialogue: 0,0:11:46.68,0:11:48.40,Default,,0,0,0,,So I hope you can see that here
Dialogue: 0,0:11:48.45,0:11:49.67,Default,,0,0,0,,with Live Message Layouts you
Dialogue: 0,0:11:49.67,0:11:51.53,Default,,0,0,0,,can build a really rich user
Dialogue: 0,0:11:51.53,0:11:53.17,Default,,0,0,0,,experience, complete with
Dialogue: 0,0:11:53.17,0:11:54.62,Default,,0,0,0,,interactions and live updating
Dialogue: 0,0:11:54.62,0:11:56.54,Default,,0,0,0,,content, and it's really easy to
Dialogue: 0,0:11:56.88,0:11:56.95,Default,,0,0,0,,do.
Dialogue: 0,0:12:02.18,0:12:03.12,Default,,0,0,0,,So let's talk about how this
Dialogue: 0,0:12:03.12,0:12:03.39,Default,,0,0,0,,works.
Dialogue: 0,0:12:04.12,0:12:07.37,Default,,0,0,0,,So here when the iMessage app is
Dialogue: 0,0:12:07.37,0:12:08.73,Default,,0,0,0,,being shown in the compact
Dialogue: 0,0:12:08.78,0:12:10.53,Default,,0,0,0,,presentation style, we have
Dialogue: 0,0:12:10.53,0:12:12.73,Default,,0,0,0,,instantiated an instance of the
Dialogue: 0,0:12:12.77,0:12:14.09,Default,,0,0,0,,MSMessages app view controller
Dialogue: 0,0:12:14.17,0:12:15.93,Default,,0,0,0,,subclass and configured it in
Dialogue: 0,0:12:15.93,0:12:17.38,Default,,0,0,0,,the compact presentation style.
Dialogue: 0,0:12:17.38,0:12:20.46,Default,,0,0,0,,When an app message with a
Dialogue: 0,0:12:20.46,0:12:22.11,Default,,0,0,0,,liveLayout is shown on screen,
Dialogue: 0,0:12:22.82,0:12:24.72,Default,,0,0,0,,we'll instantiate another
Dialogue: 0,0:12:24.72,0:12:26.75,Default,,0,0,0,,instance of that same base class
Dialogue: 0,0:12:27.54,0:12:28.29,Default,,0,0,0,,and configure it with a
Dialogue: 0,0:12:28.29,0:12:29.74,Default,,0,0,0,,transcript presentation style.
Dialogue: 0,0:12:30.32,0:12:33.74,Default,,0,0,0,,In fact, for each message
Dialogue: 0,0:12:33.74,0:12:35.16,Default,,0,0,0,,displayed in the transcript we
Dialogue: 0,0:12:36.04,0:12:37.70,Default,,0,0,0,,will instantiate a new instance
Dialogue: 0,0:12:37.97,0:12:40.03,Default,,0,0,0,,of this class configured again
Dialogue: 0,0:12:40.03,0:12:41.26,Default,,0,0,0,,in that transcript presentation
Dialogue: 0,0:12:41.26,0:12:41.57,Default,,0,0,0,,style.
Dialogue: 0,0:12:42.54,0:12:44.01,Default,,0,0,0,,There is a strict one-to-one
Dialogue: 0,0:12:44.53,0:12:46.20,Default,,0,0,0,,relationship between these
Dialogue: 0,0:12:46.20,0:12:48.07,Default,,0,0,0,,instances and an app message
Dialogue: 0,0:12:48.07,0:12:51.35,Default,,0,0,0,,that they represent on screen.
Dialogue: 0,0:12:51.59,0:12:53.32,Default,,0,0,0,,So that's a quick overview of
Dialogue: 0,0:12:53.32,0:12:54.25,Default,,0,0,0,,Live Message Layouts.
Dialogue: 0,0:12:55.04,0:12:56.33,Default,,0,0,0,,Now to walk you through more of
Dialogue: 0,0:12:56.33,0:12:57.73,Default,,0,0,0,,the API and how to get started,
Dialogue: 0,0:12:57.73,0:12:59.10,Default,,0,0,0,,I'd like to invite Jay on stage.
Dialogue: 0,0:13:00.52,0:13:04.50,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:13:11.32,0:13:12.32,Default,,0,0,0,,>> Well thanks, Stephen, for the
Dialogue: 0,0:13:12.32,0:13:12.96,Default,,0,0,0,,introduction.
Dialogue: 0,0:13:13.36,0:13:15.22,Default,,0,0,0,,My name is Jay and I'm here to
Dialogue: 0,0:13:15.22,0:13:16.55,Default,,0,0,0,,introduce to you some of the new
Dialogue: 0,0:13:16.55,0:13:18.51,Default,,0,0,0,,APIs we've added for Live
Dialogue: 0,0:13:18.51,0:13:19.16,Default,,0,0,0,,Message Layout.
Dialogue: 0,0:13:19.22,0:13:21.71,Default,,0,0,0,,So let's get started.
Dialogue: 0,0:13:26.05,0:13:27.27,Default,,0,0,0,,As some of you may be familiar,
Dialogue: 0,0:13:27.83,0:13:29.12,Default,,0,0,0,,you were able to customize your
Dialogue: 0,0:13:29.12,0:13:30.20,Default,,0,0,0,,app bubble using
Dialogue: 0,0:13:30.26,0:13:31.25,Default,,0,0,0,,MSMessageLayout.
Dialogue: 0,0:13:32.30,0:13:34.42,Default,,0,0,0,,With existing MSMessage template
Dialogue: 0,0:13:34.42,0:13:35.92,Default,,0,0,0,,layout you're only able to
Dialogue: 0,0:13:35.92,0:13:37.30,Default,,0,0,0,,customize a limited set of
Dialogue: 0,0:13:37.30,0:13:39.90,Default,,0,0,0,,appearances such as captions and
Dialogue: 0,0:13:39.90,0:13:40.37,Default,,0,0,0,,images.
Dialogue: 0,0:13:40.94,0:13:44.72,Default,,0,0,0,,In iOS 11, to support a fully
Dialogue: 0,0:13:44.72,0:13:47.06,Default,,0,0,0,,customizable bubble we're adding
Dialogue: 0,0:13:47.24,0:13:48.17,Default,,0,0,0,,a new subclass
Dialogue: 0,0:13:50.00,0:13:51.88,Default,,0,0,0,,MSMessageLiveLayout.
Dialogue: 0,0:13:51.88,0:13:54.68,Default,,0,0,0,,So let's take look at this real
Dialogue: 0,0:13:54.68,0:13:54.88,Default,,0,0,0,,quick.
Dialogue: 0,0:13:58.76,0:14:00.68,Default,,0,0,0,,As you can see, there aren't
Dialogue: 0,0:14:00.68,0:14:02.49,Default,,0,0,0,,that many things to fill out as
Dialogue: 0,0:14:02.49,0:14:03.68,Default,,0,0,0,,you have to do for the template
Dialogue: 0,0:14:03.68,0:14:04.06,Default,,0,0,0,,layout.
Dialogue: 0,0:14:05.55,0:14:08.55,Default,,0,0,0,,Well that's because now you have
Dialogue: 0,0:14:08.58,0:14:10.54,Default,,0,0,0,,the opportunity to fully express
Dialogue: 0,0:14:10.77,0:14:11.85,Default,,0,0,0,,how these app bubbles should
Dialogue: 0,0:14:11.85,0:14:12.91,Default,,0,0,0,,look like.
Dialogue: 0,0:14:13.72,0:14:15.61,Default,,0,0,0,,Though you may have noticed that
Dialogue: 0,0:14:15.68,0:14:17.08,Default,,0,0,0,,there is one property called
Dialogue: 0,0:14:17.08,0:14:20.87,Default,,0,0,0,,Alternate Layout and so what is
Dialogue: 0,0:14:23.00,0:14:23.10,Default,,0,0,0,,this?
Dialogue: 0,0:14:23.31,0:14:24.27,Default,,0,0,0,,Now there will be a few
Dialogue: 0,0:14:24.27,0:14:26.83,Default,,0,0,0,,instances where your app bubble
Dialogue: 0,0:14:26.83,0:14:28.09,Default,,0,0,0,,won't be supported by the
Dialogue: 0,0:14:28.09,0:14:29.06,Default,,0,0,0,,receiving devices.
Dialogue: 0,0:14:30.03,0:14:32.34,Default,,0,0,0,,In cases such as they don't have
Dialogue: 0,0:14:32.34,0:14:34.67,Default,,0,0,0,,your extension installed or
Dialogue: 0,0:14:34.67,0:14:35.80,Default,,0,0,0,,they're just running on older
Dialogue: 0,0:14:35.87,0:14:39.57,Default,,0,0,0,,Apple iOS versions, iOS, macOS,
Dialogue: 0,0:14:39.57,0:14:40.41,Default,,0,0,0,,or watchOS.
Dialogue: 0,0:14:41.64,0:14:45.16,Default,,0,0,0,,So in these scenarios, they'll
Dialogue: 0,0:14:45.22,0:14:48.37,Default,,0,0,0,,be seeing this template layout
Dialogue: 0,0:14:48.63,0:14:51.17,Default,,0,0,0,,as a fallback representation by
Dialogue: 0,0:14:51.36,0:14:52.46,Default,,0,0,0,,if they can actually support
Dialogue: 0,0:14:52.46,0:14:54.86,Default,,0,0,0,,their extension then they'll be
Dialogue: 0,0:14:54.86,0:14:56.87,Default,,0,0,0,,seeing the bubble on the right.
Dialogue: 0,0:14:57.58,0:15:01.72,Default,,0,0,0,,So how do we use this API?
Dialogue: 0,0:15:01.95,0:15:04.02,Default,,0,0,0,,It's very similar to how you did
Dialogue: 0,0:15:04.02,0:15:04.84,Default,,0,0,0,,in iOS 10.
Dialogue: 0,0:15:05.72,0:15:07.70,Default,,0,0,0,,First, create the template
Dialogue: 0,0:15:07.70,0:15:08.10,Default,,0,0,0,,layout.
Dialogue: 0,0:15:09.32,0:15:10.34,Default,,0,0,0,,And with a template layout
Dialogue: 0,0:15:10.78,0:15:11.49,Default,,0,0,0,,you're going to create
Dialogue: 0,0:15:11.61,0:15:12.22,Default,,0,0,0,,liveLayout.
Dialogue: 0,0:15:12.81,0:15:17.50,Default,,0,0,0,,And with a liveLayout say it's a
Dialogue: 0,0:15:17.76,0:15:19.58,Default,,0,0,0,,message and send.
Dialogue: 0,0:15:19.74,0:15:21.62,Default,,0,0,0,,So really similar to what we did
Dialogue: 0,0:15:21.62,0:15:25.71,Default,,0,0,0,,in iOS 10.
Dialogue: 0,0:15:25.90,0:15:28.22,Default,,0,0,0,,So that was it for the
Dialogue: 0,0:15:28.40,0:15:29.56,Default,,0,0,0,,MSMessageLiveLayout.
Dialogue: 0,0:15:30.47,0:15:31.80,Default,,0,0,0,,We have some new additions in
Dialogue: 0,0:15:31.92,0:15:33.45,Default,,0,0,0,,MSMessagesAppViewController.
Dialogue: 0,0:15:33.45,0:15:36.81,Default,,0,0,0,,Now as some of you may be
Dialogue: 0,0:15:36.81,0:15:42.24,Default,,0,0,0,,familiar, this was the principle
Dialogue: 0,0:15:42.28,0:15:43.41,Default,,0,0,0,,class through extension point.
Dialogue: 0,0:15:44.39,0:15:45.73,Default,,0,0,0,,So by configuring this view
Dialogue: 0,0:15:45.73,0:15:47.49,Default,,0,0,0,,controller you're able to
Dialogue: 0,0:15:47.49,0:15:49.44,Default,,0,0,0,,customize the appearance in your
Dialogue: 0,0:15:49.92,0:15:51.70,Default,,0,0,0,,app in the keyboard area, in the
Dialogue: 0,0:15:51.70,0:15:52.36,Default,,0,0,0,,compact mode.
Dialogue: 0,0:15:52.90,0:15:56.06,Default,,0,0,0,,So the bubbles in the transcript
Dialogue: 0,0:15:56.06,0:15:57.02,Default,,0,0,0,,are also backed by View
Dialogue: 0,0:15:57.02,0:16:00.52,Default,,0,0,0,,Controller, and in fact they
Dialogue: 0,0:16:00.75,0:16:03.03,Default,,0,0,0,,have the same class.
Dialogue: 0,0:16:03.22,0:16:04.75,Default,,0,0,0,,Okay. So what does this mean?
Dialogue: 0,0:16:06.03,0:16:08.72,Default,,0,0,0,,That means that this view right
Dialogue: 0,0:16:08.72,0:16:12.39,Default,,0,0,0,,here in the bottom and that view
Dialogue: 0,0:16:12.39,0:16:14.19,Default,,0,0,0,,on the top are coming from the
Dialogue: 0,0:16:14.19,0:16:14.77,Default,,0,0,0,,same class.
Dialogue: 0,0:16:16.19,0:16:18.31,Default,,0,0,0,,So to distinguish these two
Dialogue: 0,0:16:18.31,0:16:19.90,Default,,0,0,0,,cases we've added a new
Dialogue: 0,0:16:19.90,0:16:23.37,Default,,0,0,0,,presentation style transcript.
Dialogue: 0,0:16:24.76,0:16:26.84,Default,,0,0,0,,So when it comes time to
Dialogue: 0,0:16:26.84,0:16:27.68,Default,,0,0,0,,configuring these view
Dialogue: 0,0:16:27.68,0:16:30.48,Default,,0,0,0,,controllers, you can use a
Dialogue: 0,0:16:30.48,0:16:32.72,Default,,0,0,0,,combination of presentationStyle
Dialogue: 0,0:16:33.63,0:16:35.95,Default,,0,0,0,,and selectedMessage to determine
Dialogue: 0,0:16:36.25,0:16:37.51,Default,,0,0,0,,what you want to show in your
Dialogue: 0,0:16:37.51,0:16:38.12,Default,,0,0,0,,view controller.
Dialogue: 0,0:16:39.66,0:16:41.70,Default,,0,0,0,,And one really simple pattern
Dialogue: 0,0:16:41.70,0:16:43.64,Default,,0,0,0,,you can follow is something
Dialogue: 0,0:16:43.64,0:16:45.02,Default,,0,0,0,,along the line of path factory
Dialogue: 0,0:16:45.02,0:16:49.39,Default,,0,0,0,,pattern where you can return
Dialogue: 0,0:16:49.48,0:16:50.27,Default,,0,0,0,,appropriate child view
Dialogue: 0,0:16:50.27,0:16:52.59,Default,,0,0,0,,controller depending on the
Dialogue: 0,0:16:52.59,0:16:53.55,Default,,0,0,0,,state of these properties.
Dialogue: 0,0:16:53.55,0:16:54.86,Default,,0,0,0,,So you're going to have one for
Dialogue: 0,0:16:54.86,0:16:58.92,Default,,0,0,0,,transcript and one for compact.
Dialogue: 0,0:17:00.07,0:17:01.49,Default,,0,0,0,,So if you're already following a
Dialogue: 0,0:17:01.49,0:17:05.16,Default,,0,0,0,,similar pattern and code it will
Dialogue: 0,0:17:05.16,0:17:05.96,Default,,0,0,0,,look something like this.
Dialogue: 0,0:17:07.17,0:17:10.02,Default,,0,0,0,,So for the compact case we have
Dialogue: 0,0:17:10.02,0:17:10.81,Default,,0,0,0,,a helper method
Dialogue: 0,0:17:11.81,0:17:14.11,Default,,0,0,0,,presentSummaryViewController and
Dialogue: 0,0:17:14.11,0:17:16.11,Default,,0,0,0,,this helper method you will
Dialogue: 0,0:17:16.11,0:17:16.99,Default,,0,0,0,,create the right child view
Dialogue: 0,0:17:16.99,0:17:18.97,Default,,0,0,0,,controller and configure a view
Dialogue: 0,0:17:18.97,0:17:20.14,Default,,0,0,0,,controller appropriately.
Dialogue: 0,0:17:20.73,0:17:24.13,Default,,0,0,0,,For the case of expanded, you'll
Dialogue: 0,0:17:24.13,0:17:25.65,Default,,0,0,0,,have another helper method
Dialogue: 0,0:17:26.60,0:17:28.23,Default,,0,0,0,,presentDetailViewController and
Dialogue: 0,0:17:28.47,0:17:29.80,Default,,0,0,0,,will do something very similar
Dialogue: 0,0:17:29.80,0:17:31.67,Default,,0,0,0,,to what you did for the compact
Dialogue: 0,0:17:31.67,0:17:31.99,Default,,0,0,0,,case.
Dialogue: 0,0:17:33.13,0:17:34.89,Default,,0,0,0,,So to handle another case for
Dialogue: 0,0:17:34.89,0:17:36.26,Default,,0,0,0,,the transcript, we can just have
Dialogue: 0,0:17:37.68,0:17:39.54,Default,,0,0,0,,another helper method something
Dialogue: 0,0:17:39.54,0:17:40.29,Default,,0,0,0,,along the line of
Dialogue: 0,0:17:40.69,0:17:42.02,Default,,0,0,0,,presentTranscriptViewController.
Dialogue: 0,0:17:47.10,0:17:47.96,Default,,0,0,0,,So that was it for the
Dialogue: 0,0:17:47.96,0:17:50.60,Default,,0,0,0,,presentation style, but we
Dialogue: 0,0:17:50.60,0:17:51.72,Default,,0,0,0,,actually have one more thing to
Dialogue: 0,0:17:51.72,0:17:53.41,Default,,0,0,0,,go over before you get this live
Dialogue: 0,0:17:53.41,0:17:53.97,Default,,0,0,0,,bubble started.
Dialogue: 0,0:17:54.51,0:17:56.62,Default,,0,0,0,,And that is sizing.
Dialogue: 0,0:17:58.07,0:17:59.38,Default,,0,0,0,,Now, the view controllers are
Dialogue: 0,0:17:59.38,0:18:01.56,Default,,0,0,0,,intended to use for transcript
Dialogue: 0,0:18:02.05,0:18:04.01,Default,,0,0,0,,will conform to the new protocol
Dialogue: 0,0:18:04.01,0:18:07.08,Default,,0,0,0,,called MSMessagesAppTranscript
Dialogue: 0,0:18:07.08,0:18:07.85,Default,,0,0,0,,Presentation.
Dialogue: 0,0:18:08.81,0:18:10.44,Default,,0,0,0,,It has one method called
Dialogue: 0,0:18:11.15,0:18:12.23,Default,,0,0,0,,ContentSizeThatFits.
Dialogue: 0,0:18:12.77,0:18:16.80,Default,,0,0,0,,In this function, return a size
Dialogue: 0,0:18:17.37,0:18:19.10,Default,,0,0,0,,that best represents your view
Dialogue: 0,0:18:19.10,0:18:19.80,Default,,0,0,0,,in the transcript.
Dialogue: 0,0:18:21.10,0:18:24.28,Default,,0,0,0,,So to illustrate, here's an
Dialogue: 0,0:18:25.22,0:18:25.54,Default,,0,0,0,,example.
Dialogue: 0,0:18:25.54,0:18:30.21,Default,,0,0,0,,Now, we want our size to always
Dialogue: 0,0:18:30.29,0:18:32.07,Default,,0,0,0,,fit all the sub views nicely
Dialogue: 0,0:18:32.29,0:18:34.24,Default,,0,0,0,,without getting clipped or any
Dialogue: 0,0:18:34.24,0:18:35.59,Default,,0,0,0,,extras base or anything like
Dialogue: 0,0:18:36.27,0:18:36.37,Default,,0,0,0,,that.
Dialogue: 0,0:18:37.13,0:18:39.75,Default,,0,0,0,,For this particular example, we
Dialogue: 0,0:18:39.75,0:18:42.94,Default,,0,0,0,,have the map view timer and the
Dialogue: 0,0:18:43.52,0:18:43.68,Default,,0,0,0,,button.
Dialogue: 0,0:18:43.84,0:18:45.25,Default,,0,0,0,,And we decided that we'd only
Dialogue: 0,0:18:45.25,0:18:47.68,Default,,0,0,0,,care about the size of the map
Dialogue: 0,0:18:47.71,0:18:49.99,Default,,0,0,0,,view or the timer changing, but
Dialogue: 0,0:18:50.15,0:18:52.96,Default,,0,0,0,,we want the button to adjust
Dialogue: 0,0:18:52.96,0:18:55.01,Default,,0,0,0,,accordingly based on the system
Dialogue: 0,0:18:55.01,0:18:55.42,Default,,0,0,0,,font.
Dialogue: 0,0:18:56.59,0:18:57.98,Default,,0,0,0,,So let's give it a static
Dialogue: 0,0:18:57.98,0:19:02.56,Default,,0,0,0,,number, 217, for the map view
Dialogue: 0,0:19:02.56,0:19:04.63,Default,,0,0,0,,and the timer, and then the line
Dialogue: 0,0:19:04.63,0:19:08.16,Default,,0,0,0,,hide right here will be the size
Dialogue: 0,0:19:08.22,0:19:09.94,Default,,0,0,0,,of the button that takes the
Dialogue: 0,0:19:09.94,0:19:11.91,Default,,0,0,0,,system font into consideration.
Dialogue: 0,0:19:12.48,0:19:15.25,Default,,0,0,0,,So by adding these two numbers
Dialogue: 0,0:19:15.30,0:19:17.73,Default,,0,0,0,,we'll get the right size or the
Dialogue: 0,0:19:17.73,0:19:19.44,Default,,0,0,0,,right height that encompasses
Dialogue: 0,0:19:19.50,0:19:23.14,Default,,0,0,0,,all the sub views in our view.
Dialogue: 0,0:19:23.36,0:19:26.43,Default,,0,0,0,,So with this configuration, I
Dialogue: 0,0:19:26.43,0:19:29.02,Default,,0,0,0,,think the height is about 235
Dialogue: 0,0:19:29.06,0:19:29.46,Default,,0,0,0,,points.
Dialogue: 0,0:19:30.05,0:19:33.79,Default,,0,0,0,,Now keep in mind that this
Dialogue: 0,0:19:33.79,0:19:34.85,Default,,0,0,0,,function will be called again
Dialogue: 0,0:19:35.39,0:19:37.39,Default,,0,0,0,,when there is a change in
Dialogue: 0,0:19:37.76,0:19:40.00,Default,,0,0,0,,transcript size, change in
Dialogue: 0,0:19:40.00,0:19:42.39,Default,,0,0,0,,locale or change in system font.
Dialogue: 0,0:19:43.42,0:19:45.22,Default,,0,0,0,,In these events, these functions
Dialogue: 0,0:19:45.22,0:19:47.03,Default,,0,0,0,,will be called again for a new
Dialogue: 0,0:19:48.01,0:19:48.15,Default,,0,0,0,,size.
Dialogue: 0,0:19:48.94,0:19:51.18,Default,,0,0,0,,So here's an example of change
Dialogue: 0,0:19:51.18,0:19:52.18,Default,,0,0,0,,in system font.
Dialogue: 0,0:19:52.23,0:19:54.05,Default,,0,0,0,,As you can see, the fonts are
Dialogue: 0,0:19:54.05,0:19:54.88,Default,,0,0,0,,slightly bigger.
Dialogue: 0,0:19:55.55,0:19:59.14,Default,,0,0,0,,In this case, we just said that
Dialogue: 0,0:19:59.14,0:20:00.66,Default,,0,0,0,,we didn't care about the map
Dialogue: 0,0:20:00.66,0:20:02.24,Default,,0,0,0,,view or the timer growing or
Dialogue: 0,0:20:02.24,0:20:03.67,Default,,0,0,0,,shrinking so let's look at the
Dialogue: 0,0:20:03.67,0:20:04.75,Default,,0,0,0,,same 217.
Dialogue: 0,0:20:06.04,0:20:07.23,Default,,0,0,0,,But because we're using a
Dialogue: 0,0:20:07.23,0:20:09.64,Default,,0,0,0,,dynamic font for the button, it
Dialogue: 0,0:20:09.64,0:20:11.20,Default,,0,0,0,,automatically picked up a size.
Dialogue: 0,0:20:12.31,0:20:14.76,Default,,0,0,0,,And with this configuration, you
Dialogue: 0,0:20:14.76,0:20:16.87,Default,,0,0,0,,can appropriately return 244.
Dialogue: 0,0:20:18.48,0:20:20.73,Default,,0,0,0,,We'll take this value and resize
Dialogue: 0,0:20:20.73,0:20:21.59,Default,,0,0,0,,your view accordingly.
Dialogue: 0,0:20:25.62,0:20:27.91,Default,,0,0,0,,So that was a lot of talking.
Dialogue: 0,0:20:28.42,0:20:30.42,Default,,0,0,0,,To summarize everything I just
Dialogue: 0,0:20:30.42,0:20:32.20,Default,,0,0,0,,talked about I'd like to show a
Dialogue: 0,0:20:32.20,0:20:33.06,Default,,0,0,0,,quick code demo.
Dialogue: 0,0:20:33.83,0:20:35.25,Default,,0,0,0,,And I know a lot of you-guys are
Dialogue: 0,0:20:35.25,0:20:37.63,Default,,0,0,0,,very eager to be at the bash so
Dialogue: 0,0:20:37.76,0:20:40.23,Default,,0,0,0,,we'll work on a sample app that
Dialogue: 0,0:20:40.23,0:20:42.74,Default,,0,0,0,,shows you a countdown timer to
Dialogue: 0,0:20:42.74,0:20:43.77,Default,,0,0,0,,the bash.
Dialogue: 0,0:20:53.05,0:20:53.56,Default,,0,0,0,,Okay. Cool.
Dialogue: 0,0:20:54.18,0:20:58.22,Default,,0,0,0,,So we have our nice X Code here
Dialogue: 0,0:20:58.40,0:21:01.23,Default,,0,0,0,,and this is the device I have on
Dialogue: 0,0:21:01.23,0:21:02.42,Default,,0,0,0,,the table right now.
Dialogue: 0,0:21:03.84,0:21:05.79,Default,,0,0,0,,So in this demo I'd like to show
Dialogue: 0,0:21:05.79,0:21:07.80,Default,,0,0,0,,how you can extend an existing
Dialogue: 0,0:21:07.88,0:21:10.14,Default,,0,0,0,,iMessage app and start using our
Dialogue: 0,0:21:10.14,0:21:11.26,Default,,0,0,0,,LiveMessageLayout.
Dialogue: 0,0:21:12.61,0:21:14.23,Default,,0,0,0,,So if you remain on iMessage app
Dialogue: 0,0:21:14.39,0:21:15.39,Default,,0,0,0,,it will look something like
Dialogue: 0,0:21:15.43,0:21:15.90,Default,,0,0,0,,this.
Dialogue: 0,0:21:17.17,0:21:18.16,Default,,0,0,0,,So you have an app in the
Dialogue: 0,0:21:18.16,0:21:20.62,Default,,0,0,0,,compact mode and when you're
Dialogue: 0,0:21:20.62,0:21:22.74,Default,,0,0,0,,trying to send it will show a
Dialogue: 0,0:21:22.74,0:21:24.07,Default,,0,0,0,,template layout.
Dialogue: 0,0:21:24.96,0:21:26.73,Default,,0,0,0,,So how about we start using
Dialogue: 0,0:21:26.90,0:21:27.84,Default,,0,0,0,,LiveLayout instead
Dialogue: 0,0:21:27.84,0:21:29.44,Default,,0,0,0,,templateLayout as showing on the
Dialogue: 0,0:21:29.44,0:21:29.94,Default,,0,0,0,,shelf?
Dialogue: 0,0:21:29.94,0:21:33.23,Default,,0,0,0,,So let's get to the code.
Dialogue: 0,0:21:33.87,0:21:36.92,Default,,0,0,0,,And here I'm in
Dialogue: 0,0:21:36.92,0:21:40.17,Default,,0,0,0,,MSMessagesAppViewController sub
Dialogue: 0,0:21:41.84,0:21:41.97,Default,,0,0,0,,class.
Dialogue: 0,0:21:42.16,0:21:43.82,Default,,0,0,0,,And somewhere in this code were
Dialogue: 0,0:21:43.82,0:21:45.11,Default,,0,0,0,,probably creating a template
Dialogue: 0,0:21:45.11,0:21:45.54,Default,,0,0,0,,layout.
Dialogue: 0,0:21:45.58,0:21:51.79,Default,,0,0,0,,So let's look for that.
Dialogue: 0,0:21:52.01,0:21:55.42,Default,,0,0,0,,Found it. So we have this helper
Dialogue: 0,0:21:55.42,0:21:56.80,Default,,0,0,0,,function called sendMessage and
Dialogue: 0,0:21:57.26,0:21:58.39,Default,,0,0,0,,it seems like we are creating
Dialogue: 0,0:21:58.39,0:22:01.69,Default,,0,0,0,,the message, configuring it,
Dialogue: 0,0:22:01.82,0:22:04.54,Default,,0,0,0,,create a templateLayout and then
Dialogue: 0,0:22:04.54,0:22:06.20,Default,,0,0,0,,set that layout to the message
Dialogue: 0,0:22:06.69,0:22:08.10,Default,,0,0,0,,and we're inserting it into the
Dialogue: 0,0:22:08.10,0:22:08.70,Default,,0,0,0,,conversation.
Dialogue: 0,0:22:10.07,0:22:11.87,Default,,0,0,0,,So I think this is a great place
Dialogue: 0,0:22:11.91,0:22:13.70,Default,,0,0,0,,to start using our liveLayout
Dialogue: 0,0:22:13.91,0:22:14.53,Default,,0,0,0,,objects.
Dialogue: 0,0:22:15.67,0:22:17.78,Default,,0,0,0,,So here I'm going to go ahead
Dialogue: 0,0:22:24.48,0:22:25.50,Default,,0,0,0,,and create a liveLayout.
Dialogue: 0,0:22:25.50,0:22:27.50,Default,,0,0,0,,There's the template layout.
Dialogue: 0,0:22:27.50,0:22:31.02,Default,,0,0,0,,And then we can set that as
Dialogue: 0,0:22:31.02,0:22:33.01,Default,,0,0,0,,Messages layout property.
Dialogue: 0,0:22:34.53,0:22:37.30,Default,,0,0,0,,And let's see -- okay.
Dialogue: 0,0:22:38.02,0:22:41.65,Default,,0,0,0,,So with this change you should
Dialogue: 0,0:22:41.65,0:22:42.50,Default,,0,0,0,,be seeing a liveLayout.
Dialogue: 0,0:22:42.50,0:22:44.75,Default,,0,0,0,,And this is definitely a
Dialogue: 0,0:22:44.75,0:22:47.49,Default,,0,0,0,,liveLayout, but this doesn't
Dialogue: 0,0:22:47.49,0:22:48.60,Default,,0,0,0,,look right.
Dialogue: 0,0:22:48.97,0:22:50.09,Default,,0,0,0,,This actually looks exactly like
Dialogue: 0,0:22:50.09,0:22:52.47,Default,,0,0,0,,what you just saw in the compact
Dialogue: 0,0:22:52.47,0:22:52.74,Default,,0,0,0,,mode.
Dialogue: 0,0:22:53.70,0:22:54.39,Default,,0,0,0,,So what went wrong?
Dialogue: 0,0:22:55.85,0:22:56.91,Default,,0,0,0,,Let's get back to the code and
Dialogue: 0,0:22:58.41,0:22:59.81,Default,,0,0,0,,let's try to find out where
Dialogue: 0,0:22:59.81,0:23:02.18,Default,,0,0,0,,we're actually creating this
Dialogue: 0,0:23:02.18,0:23:03.91,Default,,0,0,0,,table view controller that you
Dialogue: 0,0:23:03.91,0:23:04.92,Default,,0,0,0,,see in the compact mode.
Dialogue: 0,0:23:06.29,0:23:08.82,Default,,0,0,0,,And a good place to check that
Dialogue: 0,0:23:08.82,0:23:10.94,Default,,0,0,0,,right now, I'm going to go into
Dialogue: 0,0:23:10.94,0:23:13.43,Default,,0,0,0,,willBecomeActive, okay, I see
Dialogue: 0,0:23:13.61,0:23:15.52,Default,,0,0,0,,updatePresentation.
Dialogue: 0,0:23:15.87,0:23:16.92,Default,,0,0,0,,See what this does.
Dialogue: 0,0:23:18.48,0:23:19.24,Default,,0,0,0,,Oh and I see
Dialogue: 0,0:23:19.30,0:23:20.24,Default,,0,0,0,,presentViewController.
Dialogue: 0,0:23:20.83,0:23:26.78,Default,,0,0,0,,Now this seems like a problem
Dialogue: 0,0:23:26.78,0:23:27.25,Default,,0,0,0,,right here.
Dialogue: 0,0:23:28.26,0:23:30.23,Default,,0,0,0,,For anything that is not
Dialogue: 0,0:23:30.23,0:23:31.89,Default,,0,0,0,,expanded we're always creating a
Dialogue: 0,0:23:31.89,0:23:33.87,Default,,0,0,0,,table view controller and, as
Dialogue: 0,0:23:33.87,0:23:36.26,Default,,0,0,0,,mentioned before, the same view
Dialogue: 0,0:23:36.26,0:23:37.47,Default,,0,0,0,,controller class is used for
Dialogue: 0,0:23:37.47,0:23:39.26,Default,,0,0,0,,both transcript, compact and
Dialogue: 0,0:23:39.26,0:23:41.40,Default,,0,0,0,,expanded so we need to handle
Dialogue: 0,0:23:41.40,0:23:43.83,Default,,0,0,0,,case for transcript which is not
Dialogue: 0,0:23:43.83,0:23:44.94,Default,,0,0,0,,supporting this code right now.
Dialogue: 0,0:23:45.56,0:23:47.56,Default,,0,0,0,,I'm going to leave this code as
Dialogue: 0,0:23:47.56,0:23:48.08,Default,,0,0,0,,it is now.
Dialogue: 0,0:23:48.08,0:23:49.17,Default,,0,0,0,,I'm going to create a new
Dialogue: 0,0:23:49.27,0:23:51.73,Default,,0,0,0,,function so they can start
Dialogue: 0,0:23:51.73,0:23:53.63,Default,,0,0,0,,handling this case.
Dialogue: 0,0:23:53.67,0:23:55.06,Default,,0,0,0,,So I have this
Dialogue: 0,0:23:57.76,0:24:03.43,Default,,0,0,0,,presentTranscriptView and I have
Dialogue: 0,0:24:03.43,0:24:04.96,Default,,0,0,0,,this [inaudible], I have to know
Dialogue: 0,0:24:05.10,0:24:07.05,Default,,0,0,0,,if it's for me or if it's
Dialogue: 0,0:24:07.13,0:24:09.08,Default,,0,0,0,,pending because I want to decide
Dialogue: 0,0:24:09.14,0:24:10.58,Default,,0,0,0,,if I need to show the invitation
Dialogue: 0,0:24:10.58,0:24:11.09,Default,,0,0,0,,button or not.
Dialogue: 0,0:24:12.50,0:24:13.46,Default,,0,0,0,,So now that I have this
Dialogue: 0,0:24:13.46,0:24:18.01,Default,,0,0,0,,transcriptView I can go ahead
Dialogue: 0,0:24:18.01,0:24:20.36,Default,,0,0,0,,and add it to a sub view with
Dialogue: 0,0:24:20.75,0:24:21.62,Default,,0,0,0,,the Auto Layout Magic.
Dialogue: 0,0:24:22.20,0:24:25.77,Default,,0,0,0,,Then I have to call this method
Dialogue: 0,0:24:25.77,0:24:26.75,Default,,0,0,0,,somewhere so I'm going to go
Dialogue: 0,0:24:26.75,0:24:27.93,Default,,0,0,0,,back to updatePresentation.
Dialogue: 0,0:24:28.77,0:24:29.27,Default,,0,0,0,,It's right here.
Dialogue: 0,0:24:29.92,0:24:37.21,Default,,0,0,0,,And here I can start configuring
Dialogue: 0,0:24:37.21,0:24:38.93,Default,,0,0,0,,this viewController for
Dialogue: 0,0:24:38.93,0:24:39.50,Default,,0,0,0,,transcript.
Dialogue: 0,0:24:41.58,0:24:43.94,Default,,0,0,0,,TranscriptView, event,
Dialogue: 0,0:24:45.42,0:24:48.02,Default,,0,0,0,,conversation, and for everything
Dialogue: 0,0:24:48.02,0:24:50.46,Default,,0,0,0,,else I'm just going to do what
Dialogue: 0,0:24:50.46,0:24:52.60,Default,,0,0,0,,we've always been doing for
Dialogue: 0,0:24:52.60,0:24:54.43,Default,,0,0,0,,compact and expanded.
Dialogue: 0,0:24:55.18,0:24:57.67,Default,,0,0,0,,Cool. So let's see how this
Dialogue: 0,0:24:57.67,0:24:59.39,Default,,0,0,0,,change will look like.
Dialogue: 0,0:25:00.09,0:25:01.56,Default,,0,0,0,,So with this change you should
Dialogue: 0,0:25:01.56,0:25:03.08,Default,,0,0,0,,always see the event detail in
Dialogue: 0,0:25:03.08,0:25:03.64,Default,,0,0,0,,app bubble.
Dialogue: 0,0:25:04.23,0:25:07.68,Default,,0,0,0,,So it's succeeded.
Dialogue: 0,0:25:07.98,0:25:13.22,Default,,0,0,0,,So I'm going back to our device.
Dialogue: 0,0:25:13.38,0:25:14.85,Default,,0,0,0,,Right. Shut up.
Dialogue: 0,0:25:21.23,0:25:22.87,Default,,0,0,0,,Cool. So I see something now,
Dialogue: 0,0:25:23.61,0:25:27.31,Default,,0,0,0,,but it is kind of big and I
Dialogue: 0,0:25:27.31,0:25:28.20,Default,,0,0,0,,don't know where the map view
Dialogue: 0,0:25:28.79,0:25:31.38,Default,,0,0,0,,went but we're getting there.
Dialogue: 0,0:25:38.49,0:25:39.94,Default,,0,0,0,,As you can see there's like an
Dialogue: 0,0:25:39.94,0:25:41.94,Default,,0,0,0,,awkward wide blue space.
Dialogue: 0,0:25:42.35,0:25:43.98,Default,,0,0,0,,It is definitely bigger than I
Dialogue: 0,0:25:43.98,0:25:44.57,Default,,0,0,0,,expected.
Dialogue: 0,0:25:44.78,0:25:47.70,Default,,0,0,0,,So what went wrong is seems like
Dialogue: 0,0:25:47.70,0:25:49.71,Default,,0,0,0,,we didn't implement content size
Dialogue: 0,0:25:49.71,0:25:52.52,Default,,0,0,0,,that fits the last part of this
Dialogue: 0,0:25:52.52,0:25:53.77,Default,,0,0,0,,liveLayout adoption.
Dialogue: 0,0:25:54.87,0:25:56.21,Default,,0,0,0,,So I'm going to go ahead and
Dialogue: 0,0:25:57.29,0:25:58.29,Default,,0,0,0,,implement that real quick.
Dialogue: 0,0:26:02.60,0:26:04.84,Default,,0,0,0,,And then from the demo, from the
Dialogue: 0,0:26:04.84,0:26:07.61,Default,,0,0,0,,slides, you wanted to height to
Dialogue: 0,0:26:07.61,0:26:14.67,Default,,0,0,0,,be about 217, and then for the
Dialogue: 0,0:26:14.67,0:26:16.33,Default,,0,0,0,,title button you want it to by
Dialogue: 0,0:26:16.33,0:26:18.35,Default,,0,0,0,,dynamic and it was fetched from
Dialogue: 0,0:26:21.46,0:26:26.22,Default,,0,0,0,,transcriptView.titleFont and
Dialogue: 0,0:26:26.22,0:26:27.00,Default,,0,0,0,,then lineHeight.
Dialogue: 0,0:26:31.96,0:26:33.46,Default,,0,0,0,,We want our width to be the
Dialogue: 0,0:26:33.46,0:26:35.43,Default,,0,0,0,,maximum width possible which is
Dialogue: 0,0:26:35.43,0:26:37.80,Default,,0,0,0,,the path and size parameter so
Dialogue: 0,0:26:37.80,0:26:39.47,Default,,0,0,0,,we can just return the exact
Dialogue: 0,0:26:39.47,0:26:39.89,Default,,0,0,0,,value.
Dialogue: 0,0:26:40.37,0:26:45.87,Default,,0,0,0,,And then for the height, we can
Dialogue: 0,0:26:46.57,0:26:47.64,Default,,0,0,0,,add these two values.
Dialogue: 0,0:26:48.31,0:26:53.29,Default,,0,0,0,,And this would be a good size to
Dialogue: 0,0:26:53.29,0:26:54.35,Default,,0,0,0,,return two messages.
Dialogue: 0,0:26:55.50,0:26:56.38,Default,,0,0,0,,So let's see how that looks
Dialogue: 0,0:26:56.38,0:26:56.57,Default,,0,0,0,,like.
Dialogue: 0,0:27:03.16,0:27:03.40,Default,,0,0,0,,Okay.
Dialogue: 0,0:27:13.56,0:27:14.50,Default,,0,0,0,,So it's loaded.
Dialogue: 0,0:27:14.50,0:27:15.48,Default,,0,0,0,,Much better.
Dialogue: 0,0:27:17.30,0:27:20.29,Default,,0,0,0,,This is what we saw in the demo.
Dialogue: 0,0:27:20.78,0:27:22.82,Default,,0,0,0,,Nice little size with the events
Dialogue: 0,0:27:23.40,0:27:24.76,Default,,0,0,0,,and the timer ticking.
Dialogue: 0,0:27:24.85,0:27:26.43,Default,,0,0,0,,We only have like an hour and
Dialogue: 0,0:27:26.43,0:27:27.62,Default,,0,0,0,,twenty minutes until bash, so
Dialogue: 0,0:27:28.11,0:27:28.65,Default,,0,0,0,,hang in there.
Dialogue: 0,0:27:29.27,0:27:33.28,Default,,0,0,0,,So I'm going to send this.
Dialogue: 0,0:27:33.50,0:27:34.07,Default,,0,0,0,,There we go.
Dialogue: 0,0:27:34.31,0:27:36.67,Default,,0,0,0,,It's in a transcript live and
Dialogue: 0,0:27:36.67,0:27:37.39,Default,,0,0,0,,the timer's ticking.
Dialogue: 0,0:27:38.44,0:27:40.36,Default,,0,0,0,,So this was a quick demo to how
Dialogue: 0,0:27:40.36,0:27:42.70,Default,,0,0,0,,to adopt Live Message Layout.
Dialogue: 0,0:27:43.26,0:27:44.66,Default,,0,0,0,,So let's talk more about some of
Dialogue: 0,0:27:44.66,0:27:45.81,Default,,0,0,0,,the interactions in
Dialogue: 0,0:27:45.81,0:27:46.88,Default,,0,0,0,,viewControlLifecycle.
Dialogue: 0,0:27:47.61,0:27:48.69,Default,,0,0,0,,I would actually like to bring
Dialogue: 0,0:27:48.69,0:27:50.60,Default,,0,0,0,,Stephen back on stage to talk
Dialogue: 0,0:27:50.60,0:27:51.05,Default,,0,0,0,,more about it.
Dialogue: 0,0:27:52.52,0:27:56.50,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:28:03.22,0:28:04.74,Default,,0,0,0,,Thank you Jay.
Dialogue: 0,0:28:08.48,0:28:09.34,Default,,0,0,0,,All right.
Dialogue: 0,0:28:10.54,0:28:14.79,Default,,0,0,0,,So, now we've seen a little bit
Dialogue: 0,0:28:14.79,0:28:15.98,Default,,0,0,0,,of an introduction of what it
Dialogue: 0,0:28:15.98,0:28:17.69,Default,,0,0,0,,looks like to use the new API,
Dialogue: 0,0:28:17.85,0:28:19.17,Default,,0,0,0,,to use Live Message Layouts in
Dialogue: 0,0:28:19.17,0:28:19.91,Default,,0,0,0,,your iMessage app.
Dialogue: 0,0:28:20.85,0:28:22.27,Default,,0,0,0,,If you'll think back to the demo
Dialogue: 0,0:28:22.27,0:28:23.19,Default,,0,0,0,,I did at the beginning of the
Dialogue: 0,0:28:23.19,0:28:25.11,Default,,0,0,0,,session, we had some interactive
Dialogue: 0,0:28:25.55,0:28:26.93,Default,,0,0,0,,elements to our iMessage app
Dialogue: 0,0:28:27.04,0:28:27.47,Default,,0,0,0,,bubbles.
Dialogue: 0,0:28:28.96,0:28:30.20,Default,,0,0,0,,And so I'd actually like to
Dialogue: 0,0:28:30.20,0:28:32.23,Default,,0,0,0,,return to Xcode now to do just
Dialogue: 0,0:28:32.95,0:28:33.05,Default,,0,0,0,,that.
Dialogue: 0,0:28:34.20,0:28:35.66,Default,,0,0,0,,So return to my device here.
Dialogue: 0,0:28:37.26,0:28:38.44,Default,,0,0,0,,We're going to go back to Xcode
Dialogue: 0,0:28:38.44,0:28:39.29,Default,,0,0,0,,just where we left off.
Dialogue: 0,0:28:39.96,0:28:42.19,Default,,0,0,0,,And I'm going to get my device
Dialogue: 0,0:28:42.19,0:28:45.28,Default,,0,0,0,,ready for this demo.
Dialogue: 0,0:28:45.28,0:28:45.80,Default,,0,0,0,,Excellent.
Dialogue: 0,0:28:46.42,0:28:49.06,Default,,0,0,0,,Okay. So the first thing we want
Dialogue: 0,0:28:49.06,0:28:50.66,Default,,0,0,0,,to do is here we have this
Dialogue: 0,0:28:50.70,0:28:52.58,Default,,0,0,0,,EventCountdownTranscriptView and
Dialogue: 0,0:28:52.58,0:28:53.42,Default,,0,0,0,,that's the view that gets
Dialogue: 0,0:28:53.42,0:28:55.69,Default,,0,0,0,,imbedded in that app message in
Dialogue: 0,0:28:55.69,0:28:57.93,Default,,0,0,0,,the transcript and so we want to
Dialogue: 0,0:28:57.93,0:28:59.13,Default,,0,0,0,,configure that with some inner
Dialogue: 0,0:28:59.13,0:28:59.64,Default,,0,0,0,,activity.
Dialogue: 0,0:28:59.73,0:29:01.99,Default,,0,0,0,,So I'm going to go ahead and
Dialogue: 0,0:29:01.99,0:29:03.09,Default,,0,0,0,,jump into that class and you'll
Dialogue: 0,0:29:03.17,0:29:04.18,Default,,0,0,0,,see that I have a number of
Dialogue: 0,0:29:04.18,0:29:05.59,Default,,0,0,0,,properties here that are
Dialogue: 0,0:29:05.59,0:29:08.05,Default,,0,0,0,,configured, and here in
Dialogue: 0,0:29:08.05,0:29:09.81,Default,,0,0,0,,setupSubviews I have a tap
Dialogue: 0,0:29:09.81,0:29:11.60,Default,,0,0,0,,adjuster recognizer that's set
Dialogue: 0,0:29:11.60,0:29:13.31,Default,,0,0,0,,up so that when the user taps my
Dialogue: 0,0:29:13.31,0:29:15.35,Default,,0,0,0,,view this method user to tap
Dialogue: 0,0:29:15.35,0:29:15.79,Default,,0,0,0,,gets called.
Dialogue: 0,0:29:15.79,0:29:19.29,Default,,0,0,0,,If I jump to the implementation,
Dialogue: 0,0:29:19.79,0:29:21.48,Default,,0,0,0,,of course the implementation
Dialogue: 0,0:29:21.48,0:29:22.53,Default,,0,0,0,,right now is empty and it's
Dialogue: 0,0:29:22.53,0:29:23.73,Default,,0,0,0,,ready for us to add something.
Dialogue: 0,0:29:24.28,0:29:27.50,Default,,0,0,0,,So the inner activity we'll want
Dialogue: 0,0:29:27.50,0:29:29.24,Default,,0,0,0,,to add first is specifically
Dialogue: 0,0:29:29.24,0:29:31.13,Default,,0,0,0,,when the app message represents
Dialogue: 0,0:29:31.16,0:29:32.73,Default,,0,0,0,,an unaccepted invitation.
Dialogue: 0,0:29:33.84,0:29:37.00,Default,,0,0,0,,So if the event is not for me or
Dialogue: 0,0:29:37.00,0:29:38.32,Default,,0,0,0,,if the app message is not for me
Dialogue: 0,0:29:38.32,0:29:40.32,Default,,0,0,0,,and it's not been accepted then
Dialogue: 0,0:29:40.32,0:29:41.44,Default,,0,0,0,,we want to have that interactive
Dialogue: 0,0:29:41.69,0:29:42.31,Default,,0,0,0,,element to it.
Dialogue: 0,0:29:42.31,0:29:44.45,Default,,0,0,0,,So the first thing we'll do is
Dialogue: 0,0:29:44.45,0:29:48.88,Default,,0,0,0,,say if is not accepted and it's
Dialogue: 0,0:29:48.88,0:29:51.20,Default,,0,0,0,,not from me then we'll change
Dialogue: 0,0:29:51.20,0:29:52.66,Default,,0,0,0,,our view flag to have is
Dialogue: 0,0:29:52.66,0:29:54.72,Default,,0,0,0,,accepted equals true.
Dialogue: 0,0:29:55.02,0:29:57.71,Default,,0,0,0,,And the other thing I want to do
Dialogue: 0,0:29:57.71,0:29:58.99,Default,,0,0,0,,is update the model that I have
Dialogue: 0,0:29:58.99,0:29:59.65,Default,,0,0,0,,here.
Dialogue: 0,0:29:59.93,0:30:02.54,Default,,0,0,0,,Normally I would use correct MVC
Dialogue: 0,0:30:02.54,0:30:04.51,Default,,0,0,0,,and also update maybe my service
Dialogue: 0,0:30:04.51,0:30:05.70,Default,,0,0,0,,to indicate that the event has
Dialogue: 0,0:30:05.70,0:30:06.61,Default,,0,0,0,,been updated, but for the
Dialogue: 0,0:30:06.61,0:30:07.75,Default,,0,0,0,,purposes of this demo I'm just
Dialogue: 0,0:30:07.75,0:30:08.45,Default,,0,0,0,,going to mark this in the
Dialogue: 0,0:30:08.45,0:30:08.88,Default,,0,0,0,,defaults.
Dialogue: 0,0:30:12.96,0:30:14.48,Default,,0,0,0,,Great. So I've updated some
Dialogue: 0,0:30:14.48,0:30:16.73,Default,,0,0,0,,state now I need to update my
Dialogue: 0,0:30:16.73,0:30:19.28,Default,,0,0,0,,view state, so I'll just use a
Dialogue: 0,0:30:19.28,0:30:22.34,Default,,0,0,0,,quick animation block here to
Dialogue: 0,0:30:22.57,0:30:25.19,Default,,0,0,0,,call into my updated view state
Dialogue: 0,0:30:25.19,0:30:27.31,Default,,0,0,0,,and then I'll trigger a layout
Dialogue: 0,0:30:27.31,0:30:27.63,Default,,0,0,0,,pass.
Dialogue: 0,0:30:28.52,0:30:30.19,Default,,0,0,0,,Now this updateViewState, it
Dialogue: 0,0:30:30.19,0:30:31.09,Default,,0,0,0,,just looks at the different
Dialogue: 0,0:30:31.09,0:30:32.57,Default,,0,0,0,,flags and properties on my view
Dialogue: 0,0:30:32.57,0:30:33.32,Default,,0,0,0,,and configures the view
Dialogue: 0,0:30:33.32,0:30:33.81,Default,,0,0,0,,correctly.
Dialogue: 0,0:30:34.38,0:30:37.72,Default,,0,0,0,,So wait for our demo device to
Dialogue: 0,0:30:37.72,0:30:39.17,Default,,0,0,0,,come back up and I'll show you
Dialogue: 0,0:30:39.17,0:30:39.79,Default,,0,0,0,,what that looks like in
Dialogue: 0,0:30:39.79,0:30:40.16,Default,,0,0,0,,practice.
Dialogue: 0,0:30:40.81,0:30:44.04,Default,,0,0,0,,Great. So here we have our
Dialogue: 0,0:30:44.04,0:30:45.23,Default,,0,0,0,,unaccepted invitation being
Dialogue: 0,0:30:45.23,0:30:47.56,Default,,0,0,0,,shown in our demo and it's ready
Dialogue: 0,0:30:47.56,0:30:48.98,Default,,0,0,0,,for us to test out that
Dialogue: 0,0:30:48.98,0:30:50.05,Default,,0,0,0,,interaction that we just added.
Dialogue: 0,0:30:50.05,0:30:51.76,Default,,0,0,0,,So if you see that when I tap
Dialogue: 0,0:30:51.76,0:30:53.99,Default,,0,0,0,,that message that state gets
Dialogue: 0,0:30:53.99,0:30:55.22,Default,,0,0,0,,updated and we see that live
Dialogue: 0,0:30:55.22,0:30:56.72,Default,,0,0,0,,countdown, and you can tell that
Dialogue: 0,0:30:56.72,0:30:58.63,Default,,0,0,0,,I have very little time left so
Dialogue: 0,0:30:58.63,0:31:00.47,Default,,0,0,0,,I better keep going.
Dialogue: 0,0:31:00.64,0:31:01.49,Default,,0,0,0,,Now the one thing that we're
Dialogue: 0,0:31:01.49,0:31:03.53,Default,,0,0,0,,missing here is that nice
Dialogue: 0,0:31:03.53,0:31:04.69,Default,,0,0,0,,infoButton on the top right that
Dialogue: 0,0:31:04.69,0:31:06.17,Default,,0,0,0,,really gave me that rich detail
Dialogue: 0,0:31:06.17,0:31:07.26,Default,,0,0,0,,about the event that I don't
Dialogue: 0,0:31:07.26,0:31:08.65,Default,,0,0,0,,want to necessarily put here in
Dialogue: 0,0:31:08.65,0:31:09.42,Default,,0,0,0,,my app message.
Dialogue: 0,0:31:10.81,0:31:12.10,Default,,0,0,0,,So if I go back to the code here
Dialogue: 0,0:31:13.10,0:31:14.40,Default,,0,0,0,,you'll see that this infoButton
Dialogue: 0,0:31:14.67,0:31:15.94,Default,,0,0,0,,is just waiting to be
Dialogue: 0,0:31:15.94,0:31:16.53,Default,,0,0,0,,implemented.
Dialogue: 0,0:31:17.28,0:31:18.36,Default,,0,0,0,,But before we do that, we need
Dialogue: 0,0:31:18.36,0:31:19.38,Default,,0,0,0,,to add the infoButton to the
Dialogue: 0,0:31:19.38,0:31:20.00,Default,,0,0,0,,view hierarchy.
Dialogue: 0,0:31:20.58,0:31:25.96,Default,,0,0,0,,So here in setupSubViews you can
Dialogue: 0,0:31:26.00,0:31:27.47,Default,,0,0,0,,see that I have this infoButton
Dialogue: 0,0:31:27.52,0:31:28.79,Default,,0,0,0,,that's already been configured,
Dialogue: 0,0:31:29.49,0:31:30.40,Default,,0,0,0,,including with that target
Dialogue: 0,0:31:30.40,0:31:32.35,Default,,0,0,0,,action I just need to add it as
Dialogue: 0,0:31:32.35,0:31:37.40,Default,,0,0,0,,a sub view.
Dialogue: 0,0:31:37.58,0:31:38.44,Default,,0,0,0,,I also want to add some
Dialogue: 0,0:31:38.44,0:31:39.94,Default,,0,0,0,,constraints like it's laid out
Dialogue: 0,0:31:40.66,0:31:41.03,Default,,0,0,0,,properly.
Dialogue: 0,0:31:45.32,0:31:47.96,Default,,0,0,0,,And then we'll go and jump into
Dialogue: 0,0:31:47.96,0:31:49.08,Default,,0,0,0,,the implementation for
Dialogue: 0,0:31:49.08,0:31:52.03,Default,,0,0,0,,infoButtonTapped and call into
Dialogue: 0,0:31:52.03,0:31:52.65,Default,,0,0,0,,our delegate.
Dialogue: 0,0:31:53.26,0:31:58.45,Default,,0,0,0,,Now the delegate of this view is
Dialogue: 0,0:31:58.45,0:32:00.04,Default,,0,0,0,,our app view controller, and the
Dialogue: 0,0:32:00.04,0:32:00.95,Default,,0,0,0,,app view controller is the
Dialogue: 0,0:32:00.95,0:32:02.37,Default,,0,0,0,,object that knows how to change
Dialogue: 0,0:32:02.37,0:32:03.76,Default,,0,0,0,,presentation styles, so I need
Dialogue: 0,0:32:03.76,0:32:04.47,Default,,0,0,0,,to call out to it.
Dialogue: 0,0:32:05.18,0:32:06.20,Default,,0,0,0,,You'll see that this method
Dialogue: 0,0:32:06.20,0:32:07.49,Default,,0,0,0,,hasn't been implemented yet in
Dialogue: 0,0:32:07.49,0:32:07.97,Default,,0,0,0,,my delegate.
Dialogue: 0,0:32:07.97,0:32:10.07,Default,,0,0,0,,So we're going to jump over to
Dialogue: 0,0:32:10.07,0:32:11.04,Default,,0,0,0,,that delegate really quick.
Dialogue: 0,0:32:11.04,0:32:15.00,Default,,0,0,0,,Here is a delegate protocol
Dialogue: 0,0:32:15.00,0:32:17.12,Default,,0,0,0,,declaration where we see that
Dialogue: 0,0:32:17.12,0:32:18.14,Default,,0,0,0,,method hasn't been defined.
Dialogue: 0,0:32:18.77,0:32:19.54,Default,,0,0,0,,So go ahead and add it.
Dialogue: 0,0:32:20.03,0:32:22.48,Default,,0,0,0,,And then we'll jump over to
Dialogue: 0,0:32:22.48,0:32:23.35,Default,,0,0,0,,where this protocol is
Dialogue: 0,0:32:23.35,0:32:26.97,Default,,0,0,0,,implemented and add our new
Dialogue: 0,0:32:26.97,0:32:30.74,Default,,0,0,0,,method that we just added.
Dialogue: 0,0:32:30.95,0:32:33.41,Default,,0,0,0,,Now all we need to do is request
Dialogue: 0,0:32:33.41,0:32:35.77,Default,,0,0,0,,that new presentation style and
Dialogue: 0,0:32:35.77,0:32:36.24,Default,,0,0,0,,that's it.
Dialogue: 0,0:32:37.26,0:32:38.47,Default,,0,0,0,,When I do that, the app view
Dialogue: 0,0:32:38.47,0:32:39.75,Default,,0,0,0,,controller requests that new
Dialogue: 0,0:32:39.75,0:32:41.94,Default,,0,0,0,,presentation style and Messages
Dialogue: 0,0:32:41.94,0:32:43.51,Default,,0,0,0,,will instantiate the new view
Dialogue: 0,0:32:43.51,0:32:45.31,Default,,0,0,0,,controller in that expanded
Dialogue: 0,0:32:45.35,0:32:45.99,Default,,0,0,0,,presentation.
Dialogue: 0,0:32:47.38,0:32:49.64,Default,,0,0,0,,So this is the same thing that
Dialogue: 0,0:32:49.64,0:32:50.92,Default,,0,0,0,,was just implemented here in the
Dialogue: 0,0:32:51.28,0:32:51.39,Default,,0,0,0,,code.
Dialogue: 0,0:32:51.57,0:32:52.62,Default,,0,0,0,,We have the infoButton in the
Dialogue: 0,0:32:52.62,0:32:54.65,Default,,0,0,0,,top right, and when you tap it
Dialogue: 0,0:32:54.72,0:32:56.72,Default,,0,0,0,,we get that nice expanded
Dialogue: 0,0:32:56.72,0:32:58.57,Default,,0,0,0,,presentation with the additional
Dialogue: 0,0:32:59.11,0:32:59.33,Default,,0,0,0,,content.
Dialogue: 0,0:33:03.21,0:33:03.63,Default,,0,0,0,,So that's it.
Dialogue: 0,0:33:03.63,0:33:04.81,Default,,0,0,0,,We have a completed demo that's
Dialogue: 0,0:33:04.81,0:33:05.62,Default,,0,0,0,,showing you -- thank you.
Dialogue: 0,0:33:06.52,0:33:10.20,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:33:10.70,0:33:11.70,Default,,0,0,0,,So with the completed demo you
Dialogue: 0,0:33:11.79,0:33:13.24,Default,,0,0,0,,see that we can add completely
Dialogue: 0,0:33:13.24,0:33:14.96,Default,,0,0,0,,custom layouts that really add
Dialogue: 0,0:33:15.00,0:33:16.42,Default,,0,0,0,,some richness to that experience
Dialogue: 0,0:33:16.42,0:33:17.87,Default,,0,0,0,,in the transcript, including
Dialogue: 0,0:33:17.87,0:33:19.65,Default,,0,0,0,,inner activity and live updating
Dialogue: 0,0:33:19.65,0:33:20.13,Default,,0,0,0,,content.
Dialogue: 0,0:33:24.06,0:33:25.37,Default,,0,0,0,,So when we think about
Dialogue: 0,0:33:25.37,0:33:28.07,Default,,0,0,0,,interaction with these live
Dialogue: 0,0:33:28.07,0:33:29.66,Default,,0,0,0,,message layouts, we really want
Dialogue: 0,0:33:29.66,0:33:30.37,Default,,0,0,0,,to keep it simple.
Dialogue: 0,0:33:30.66,0:33:33.00,Default,,0,0,0,,Stick to simple button taps and
Dialogue: 0,0:33:33.00,0:33:34.97,Default,,0,0,0,,tap gestures, and let me use the
Dialogue: 0,0:33:35.01,0:33:35.55,Default,,0,0,0,,scroll views.
Dialogue: 0,0:33:36.43,0:33:37.62,Default,,0,0,0,,This app message is being
Dialogue: 0,0:33:37.62,0:33:39.14,Default,,0,0,0,,imbedded in a fairly complicated
Dialogue: 0,0:33:39.14,0:33:41.55,Default,,0,0,0,,UI, the Messages transcript, and
Dialogue: 0,0:33:41.55,0:33:42.84,Default,,0,0,0,,the user's used to interactions
Dialogue: 0,0:33:42.84,0:33:44.63,Default,,0,0,0,,like vertically scrolling the
Dialogue: 0,0:33:44.63,0:33:45.71,Default,,0,0,0,,transcript, horizontally
Dialogue: 0,0:33:45.71,0:33:46.79,Default,,0,0,0,,scrolling the transcript, and
Dialogue: 0,0:33:47.18,0:33:48.74,Default,,0,0,0,,other gestures that take place.
Dialogue: 0,0:33:49.39,0:33:50.37,Default,,0,0,0,,And so if you add too many
Dialogue: 0,0:33:50.37,0:33:51.96,Default,,0,0,0,,complicated things here it can
Dialogue: 0,0:33:51.96,0:33:53.24,Default,,0,0,0,,be disorienting to the user.
Dialogue: 0,0:33:54.61,0:33:55.35,Default,,0,0,0,,The other thing to remember is
Dialogue: 0,0:33:55.35,0:33:56.33,Default,,0,0,0,,that there's no keyboard input
Dialogue: 0,0:33:56.33,0:33:57.86,Default,,0,0,0,,allowed for these app message
Dialogue: 0,0:33:57.86,0:33:59.58,Default,,0,0,0,,views, and so if you want
Dialogue: 0,0:33:59.58,0:34:01.07,Default,,0,0,0,,keyboard input you should
Dialogue: 0,0:34:01.07,0:34:02.35,Default,,0,0,0,,request an expanded presentation
Dialogue: 0,0:34:02.35,0:34:04.04,Default,,0,0,0,,style where your app can use the
Dialogue: 0,0:34:04.04,0:34:04.41,Default,,0,0,0,,keyboard.
Dialogue: 0,0:34:04.92,0:34:07.58,Default,,0,0,0,,Now these views are really light
Dialogue: 0,0:34:07.58,0:34:08.40,Default,,0,0,0,,weight for a reason.
Dialogue: 0,0:34:08.40,0:34:09.61,Default,,0,0,0,,When you think about their
Dialogue: 0,0:34:09.61,0:34:11.54,Default,,0,0,0,,lifecycle, they're only
Dialogue: 0,0:34:11.54,0:34:13.10,Default,,0,0,0,,instantiated when the user comes
Dialogue: 0,0:34:13.10,0:34:14.51,Default,,0,0,0,,into the conversation to look at
Dialogue: 0,0:34:15.19,0:34:15.30,Default,,0,0,0,,it.
Dialogue: 0,0:34:15.30,0:34:16.24,Default,,0,0,0,,As soon as the user leaves the
Dialogue: 0,0:34:16.24,0:34:17.69,Default,,0,0,0,,conversation or leaves the app,
Dialogue: 0,0:34:18.40,0:34:20.05,Default,,0,0,0,,your iMessage app will be torn
Dialogue: 0,0:34:20.05,0:34:20.38,Default,,0,0,0,,down.
Dialogue: 0,0:34:20.66,0:34:21.66,Default,,0,0,0,,So it's not an appropriate place
Dialogue: 0,0:34:21.66,0:34:22.95,Default,,0,0,0,,to put something like a 3D game
Dialogue: 0,0:34:22.95,0:34:23.24,Default,,0,0,0,,engine.
Dialogue: 0,0:34:23.82,0:34:27.86,Default,,0,0,0,,If you do want to do that, you
Dialogue: 0,0:34:27.86,0:34:29.23,Default,,0,0,0,,should request that expanded
Dialogue: 0,0:34:29.23,0:34:30.96,Default,,0,0,0,,presentation style for the user
Dialogue: 0,0:34:30.96,0:34:32.62,Default,,0,0,0,,to take part in your extended
Dialogue: 0,0:34:32.62,0:34:33.15,Default,,0,0,0,,interaction.
Dialogue: 0,0:34:33.70,0:34:36.59,Default,,0,0,0,,Now I want to cover this again
Dialogue: 0,0:34:36.59,0:34:37.18,Default,,0,0,0,,because I think this is
Dialogue: 0,0:34:37.18,0:34:38.31,Default,,0,0,0,,important.
Dialogue: 0,0:34:38.96,0:34:40.62,Default,,0,0,0,,When requesting the expanded
Dialogue: 0,0:34:40.62,0:34:41.79,Default,,0,0,0,,presentation style, your
Dialogue: 0,0:34:41.79,0:34:43.20,Default,,0,0,0,,transcript app view controller
Dialogue: 0,0:34:43.20,0:34:44.63,Default,,0,0,0,,is not reconfigured with new
Dialogue: 0,0:34:44.63,0:34:46.29,Default,,0,0,0,,presentation style -- it's left
Dialogue: 0,0:34:46.29,0:34:47.43,Default,,0,0,0,,in place in the transcript.
Dialogue: 0,0:34:48.64,0:34:50.91,Default,,0,0,0,,If no view controller exist in
Dialogue: 0,0:34:50.91,0:34:52.13,Default,,0,0,0,,the compact or expanded
Dialogue: 0,0:34:52.13,0:34:54.02,Default,,0,0,0,,presentation style, Messages
Dialogue: 0,0:34:54.02,0:34:55.34,Default,,0,0,0,,will instantiate a new object,
Dialogue: 0,0:34:55.66,0:34:56.84,Default,,0,0,0,,configure it accordingly, and
Dialogue: 0,0:34:57.14,0:34:58.43,Default,,0,0,0,,then add it and show it here.
Dialogue: 0,0:34:59.29,0:35:01.18,Default,,0,0,0,,If one does exist then it will
Dialogue: 0,0:35:01.18,0:35:02.28,Default,,0,0,0,,reconfigure it to the new
Dialogue: 0,0:35:02.28,0:35:03.24,Default,,0,0,0,,presentation style.
Dialogue: 0,0:35:04.00,0:35:05.19,Default,,0,0,0,,And this is specifically if it
Dialogue: 0,0:35:05.19,0:35:06.58,Default,,0,0,0,,already has one that is compact
Dialogue: 0,0:35:06.58,0:35:07.17,Default,,0,0,0,,or expanded.
Dialogue: 0,0:35:07.17,0:35:09.53,Default,,0,0,0,,It will then change the selected
Dialogue: 0,0:35:09.53,0:35:11.01,Default,,0,0,0,,message on that view controller
Dialogue: 0,0:35:11.26,0:35:12.23,Default,,0,0,0,,and you will get the didn't
Dialogue: 0,0:35:12.23,0:35:13.89,Default,,0,0,0,,select message callback on that
Dialogue: 0,0:35:13.89,0:35:14.46,Default,,0,0,0,,view controller.
Dialogue: 0,0:35:15.00,0:35:17.02,Default,,0,0,0,,Now the transcript app view
Dialogue: 0,0:35:17.02,0:35:18.02,Default,,0,0,0,,controller that's left in place
Dialogue: 0,0:35:18.02,0:35:20.16,Default,,0,0,0,,as is or the static selected
Dialogue: 0,0:35:20.16,0:35:21.47,Default,,0,0,0,,message because it always
Dialogue: 0,0:35:21.47,0:35:23.01,Default,,0,0,0,,represents that message in the
Dialogue: 0,0:35:23.01,0:35:23.52,Default,,0,0,0,,transcript.
Dialogue: 0,0:35:23.94,0:35:29.02,Default,,0,0,0,,Now when we talk about lifecycle
Dialogue: 0,0:35:29.02,0:35:31.98,Default,,0,0,0,,a little more of your iMessage
Dialogue: 0,0:35:31.98,0:35:34.17,Default,,0,0,0,,app, in iOS 10 these methods on
Dialogue: 0,0:35:34.23,0:35:35.55,Default,,0,0,0,,MSMessagesAppViewController
Dialogue: 0,0:35:35.55,0:35:38.60,Default,,0,0,0,,applied specifically to your
Dialogue: 0,0:35:38.60,0:35:40.43,Default,,0,0,0,,extension lifecycle because
Dialogue: 0,0:35:40.43,0:35:41.94,Default,,0,0,0,,there was only one instance of
Dialogue: 0,0:35:41.94,0:35:43.14,Default,,0,0,0,,the view controller created and
Dialogue: 0,0:35:43.28,0:35:45.02,Default,,0,0,0,,it was closely coupled with the
Dialogue: 0,0:35:45.02,0:35:46.31,Default,,0,0,0,,lifecycle of your iMessage app,
Dialogue: 0,0:35:46.31,0:35:47.40,Default,,0,0,0,,so you could rely on it for
Dialogue: 0,0:35:47.40,0:35:48.53,Default,,0,0,0,,extension lifecycle
Dialogue: 0,0:35:48.93,0:35:49.82,Default,,0,0,0,,notification.
Dialogue: 0,0:35:51.05,0:35:52.85,Default,,0,0,0,,However, in iOS 11, we can
Dialogue: 0,0:35:52.85,0:35:55.01,Default,,0,0,0,,instantiate many instances of
Dialogue: 0,0:35:55.01,0:35:55.91,Default,,0,0,0,,your principle class.
Dialogue: 0,0:35:56.68,0:35:58.34,Default,,0,0,0,,So these methods really pertain
Dialogue: 0,0:35:58.34,0:35:59.89,Default,,0,0,0,,more to the view controller
Dialogue: 0,0:35:59.89,0:36:01.12,Default,,0,0,0,,lifecycle and you need to think
Dialogue: 0,0:36:01.12,0:36:02.14,Default,,0,0,0,,of it from that perspective.
Dialogue: 0,0:36:03.54,0:36:04.82,Default,,0,0,0,,If you do need to pay attention
Dialogue: 0,0:36:04.82,0:36:07.05,Default,,0,0,0,,to extension lifecycle events of
Dialogue: 0,0:36:07.05,0:36:08.42,Default,,0,0,0,,your iMessage app, you should
Dialogue: 0,0:36:08.42,0:36:10.79,Default,,0,0,0,,observe the NS extension related
Dialogue: 0,0:36:10.79,0:36:11.48,Default,,0,0,0,,notifications.
Dialogue: 0,0:36:14.87,0:36:16.59,Default,,0,0,0,,Now in a particular instance of
Dialogue: 0,0:36:16.59,0:36:17.62,Default,,0,0,0,,your transcript app view
Dialogue: 0,0:36:17.62,0:36:19.64,Default,,0,0,0,,controller is created, the
Dialogue: 0,0:36:19.64,0:36:21.03,Default,,0,0,0,,lifecycle methods proceed like
Dialogue: 0,0:36:21.03,0:36:21.23,Default,,0,0,0,,this.
Dialogue: 0,0:36:22.11,0:36:23.27,Default,,0,0,0,,First, we'll initialize the view
Dialogue: 0,0:36:23.27,0:36:25.35,Default,,0,0,0,,controller and call viewDidLoad.
Dialogue: 0,0:36:25.35,0:36:29.17,Default,,0,0,0,,Then we'll call willBecomeActive
Dialogue: 0,0:36:29.17,0:36:30.05,Default,,0,0,0,,and didBecomeActive with
Dialogue: 0,0:36:30.05,0:36:31.45,Default,,0,0,0,,conversation as part of the
Dialogue: 0,0:36:31.45,0:36:32.87,Default,,0,0,0,,Messages API contract.
Dialogue: 0,0:36:33.37,0:36:35.89,Default,,0,0,0,,Then the view appearance methods
Dialogue: 0,0:36:35.89,0:36:37.89,Default,,0,0,0,,will be called as your view
Dialogue: 0,0:36:37.89,0:36:38.94,Default,,0,0,0,,controller is inserted into the
Dialogue: 0,0:36:38.94,0:36:42.04,Default,,0,0,0,,view hierarchy for display.
Dialogue: 0,0:36:42.17,0:36:43.82,Default,,0,0,0,,Lastly, contentSizeThatFits will
Dialogue: 0,0:36:43.82,0:36:44.29,Default,,0,0,0,,be called.
Dialogue: 0,0:36:44.91,0:36:47.72,Default,,0,0,0,,Now when willBecomeActive and
Dialogue: 0,0:36:47.72,0:36:48.52,Default,,0,0,0,,didBecomeActive with
Dialogue: 0,0:36:48.52,0:36:49.99,Default,,0,0,0,,conversation are called, you
Dialogue: 0,0:36:49.99,0:36:51.25,Default,,0,0,0,,have all the information you
Dialogue: 0,0:36:51.25,0:36:52.52,Default,,0,0,0,,need to correctly configure your
Dialogue: 0,0:36:52.52,0:36:53.94,Default,,0,0,0,,view controller by looking at
Dialogue: 0,0:36:53.94,0:36:55.28,Default,,0,0,0,,that presentation style and
Dialogue: 0,0:36:55.33,0:36:56.30,Default,,0,0,0,,selected message on the view
Dialogue: 0,0:36:56.30,0:36:56.62,Default,,0,0,0,,controller.
Dialogue: 0,0:36:59.16,0:37:00.10,Default,,0,0,0,,Now when thinking about
Dialogue: 0,0:37:00.10,0:37:01.33,Default,,0,0,0,,contentSizeThatFits getting
Dialogue: 0,0:37:01.33,0:37:03.66,Default,,0,0,0,,called last, this is because it
Dialogue: 0,0:37:03.66,0:37:05.07,Default,,0,0,0,,may be called multiple times.
Dialogue: 0,0:37:05.82,0:37:06.69,Default,,0,0,0,,Think about the Messages
Dialogue: 0,0:37:06.69,0:37:08.42,Default,,0,0,0,,application on an iPad in split
Dialogue: 0,0:37:08.42,0:37:08.83,Default,,0,0,0,,view mode.
Dialogue: 0,0:37:08.83,0:37:11.62,Default,,0,0,0,,As the user changes the size of
Dialogue: 0,0:37:11.62,0:37:13.63,Default,,0,0,0,,the Messages app, the metrics of
Dialogue: 0,0:37:13.63,0:37:15.08,Default,,0,0,0,,the Messages application, and
Dialogue: 0,0:37:15.08,0:37:16.01,Default,,0,0,0,,therefore the transcript,
Dialogue: 0,0:37:16.01,0:37:16.51,Default,,0,0,0,,change.
Dialogue: 0,0:37:17.41,0:37:18.49,Default,,0,0,0,,We'll then call into your
Dialogue: 0,0:37:18.49,0:37:20.31,Default,,0,0,0,,contentSizeThatFits method with
Dialogue: 0,0:37:20.31,0:37:22.57,Default,,0,0,0,,an updated size or maximum size,
Dialogue: 0,0:37:23.49,0:37:25.29,Default,,0,0,0,,and you should update your app
Dialogue: 0,0:37:25.34,0:37:26.09,Default,,0,0,0,,size accordingly.
Dialogue: 0,0:37:29.14,0:37:29.99,Default,,0,0,0,,It can also be, of course,
Dialogue: 0,0:37:29.99,0:37:31.57,Default,,0,0,0,,updated for dynamic text size
Dialogue: 0,0:37:31.57,0:37:32.65,Default,,0,0,0,,changes and locale changes.
Dialogue: 0,0:37:32.73,0:37:36.98,Default,,0,0,0,,The last thing I want to cover
Dialogue: 0,0:37:36.98,0:37:37.90,Default,,0,0,0,,is pending messages.
Dialogue: 0,0:37:38.60,0:37:41.41,Default,,0,0,0,,Now remember, your view
Dialogue: 0,0:37:41.41,0:37:42.77,Default,,0,0,0,,controller can be configured to
Dialogue: 0,0:37:42.77,0:37:44.55,Default,,0,0,0,,represent app messages in a
Dialogue: 0,0:37:44.55,0:37:46.14,Default,,0,0,0,,transcript presentation style
Dialogue: 0,0:37:46.66,0:37:48.31,Default,,0,0,0,,both for an unsent message and
Dialogue: 0,0:37:48.31,0:37:50.11,Default,,0,0,0,,the message that has been sent
Dialogue: 0,0:37:50.11,0:37:50.72,Default,,0,0,0,,in the transcript.
Dialogue: 0,0:37:50.72,0:37:54.49,Default,,0,0,0,,Now most of the time you should
Dialogue: 0,0:37:54.49,0:37:56.19,Default,,0,0,0,,keep the same application view
Dialogue: 0,0:37:56.19,0:37:57.91,Default,,0,0,0,,in both states because the user
Dialogue: 0,0:37:57.91,0:37:59.21,Default,,0,0,0,,is really previewing the content
Dialogue: 0,0:37:59.21,0:38:00.10,Default,,0,0,0,,that's going to be sent here.
Dialogue: 0,0:38:00.50,0:38:01.21,Default,,0,0,0,,But if you do need to
Dialogue: 0,0:38:01.21,0:38:02.60,Default,,0,0,0,,differentiate between the two,
Dialogue: 0,0:38:03.94,0:38:05.64,Default,,0,0,0,,you can check the isPending flag
Dialogue: 0,0:38:05.85,0:38:06.83,Default,,0,0,0,,which is a new property on
Dialogue: 0,0:38:06.97,0:38:09.16,Default,,0,0,0,,MSMessage that will let you know
Dialogue: 0,0:38:09.16,0:38:10.34,Default,,0,0,0,,the difference between these two
Dialogue: 0,0:38:11.08,0:38:11.23,Default,,0,0,0,,states.
Dialogue: 0,0:38:13.34,0:38:14.80,Default,,0,0,0,,So that's all we have for you
Dialogue: 0,0:38:14.80,0:38:16.34,Default,,0,0,0,,today to introduce Live Message
Dialogue: 0,0:38:16.34,0:38:16.71,Default,,0,0,0,,Layouts.
Dialogue: 0,0:38:18.16,0:38:19.28,Default,,0,0,0,,Remember, this is interactive
Dialogue: 0,0:38:19.36,0:38:20.96,Default,,0,0,0,,iMessage apps in the transcript,
Dialogue: 0,0:38:20.96,0:38:22.31,Default,,0,0,0,,which I think is incredibly cool
Dialogue: 0,0:38:22.31,0:38:23.09,Default,,0,0,0,,and I can't wait to see what you
Dialogue: 0,0:38:23.09,0:38:23.55,Default,,0,0,0,,build with it.
Dialogue: 0,0:38:24.23,0:38:25.90,Default,,0,0,0,,We're using the same MSMessage
Dialogue: 0,0:38:25.90,0:38:27.07,Default,,0,0,0,,app view controller sub class,
Dialogue: 0,0:38:28.35,0:38:29.66,Default,,0,0,0,,and the new layout, the
Dialogue: 0,0:38:29.66,0:38:31.47,Default,,0,0,0,,MSMessagesLiveLayout with a new
Dialogue: 0,0:38:31.47,0:38:35.08,Default,,0,0,0,,presentation style for you to
Dialogue: 0,0:38:35.08,0:38:36.47,Default,,0,0,0,,use as a tool to build these
Dialogue: 0,0:38:36.47,0:38:37.48,Default,,0,0,0,,rich new experiences.
Dialogue: 0,0:38:38.83,0:38:39.92,Default,,0,0,0,,I'm really looking forward to
Dialogue: 0,0:38:39.92,0:38:41.30,Default,,0,0,0,,what you build with this and I
Dialogue: 0,0:38:41.30,0:38:42.03,Default,,0,0,0,,think you're going to come up
Dialogue: 0,0:38:42.03,0:38:42.84,Default,,0,0,0,,with things that we haven't even
Dialogue: 0,0:38:42.84,0:38:43.29,Default,,0,0,0,,thought of yet.
Dialogue: 0,0:38:43.84,0:38:44.99,Default,,0,0,0,,And with that, I'd like to bring
Dialogue: 0,0:38:44.99,0:38:46.73,Default,,0,0,0,,up Eugene to introduce some best
Dialogue: 0,0:38:46.73,0:38:47.78,Default,,0,0,0,,practices when using the
Dialogue: 0,0:38:47.78,0:38:48.85,Default,,0,0,0,,Messages framework.
Dialogue: 0,0:38:49.52,0:38:53.50,Default,,0,0,0,,[ Applause ]
Dialogue: 0,0:39:02.13,0:39:02.93,Default,,0,0,0,,>> All right.
Dialogue: 0,0:39:03.02,0:39:04.17,Default,,0,0,0,,Thank you, Stephen.
Dialogue: 0,0:39:04.47,0:39:06.23,Default,,0,0,0,,Live Message Layouts, super
Dialogue: 0,0:39:06.23,0:39:06.66,Default,,0,0,0,,exciting.
Dialogue: 0,0:39:07.68,0:39:08.86,Default,,0,0,0,,So we want to wrap up our talk
Dialogue: 0,0:39:08.86,0:39:11.16,Default,,0,0,0,,today with just a couple best
Dialogue: 0,0:39:11.16,0:39:12.97,Default,,0,0,0,,practices tips and tricks for
Dialogue: 0,0:39:12.97,0:39:14.62,Default,,0,0,0,,your iMessage apps just to give
Dialogue: 0,0:39:14.62,0:39:15.69,Default,,0,0,0,,your apps that little extra
Dialogue: 0,0:39:15.69,0:39:17.17,Default,,0,0,0,,shine and polish that we think
Dialogue: 0,0:39:17.17,0:39:18.03,Default,,0,0,0,,will make them look really
Dialogue: 0,0:39:18.03,0:39:18.35,Default,,0,0,0,,great.
Dialogue: 0,0:39:18.45,0:39:19.83,Default,,0,0,0,,So, we have a couple of tips for
Dialogue: 0,0:39:19.83,0:39:20.62,Default,,0,0,0,,you guys today.
Dialogue: 0,0:39:21.37,0:39:23.05,Default,,0,0,0,,Let's get into it.
Dialogue: 0,0:39:23.46,0:39:24.28,Default,,0,0,0,,So the first thing we'd like to
Dialogue: 0,0:39:24.28,0:39:26.38,Default,,0,0,0,,talk about is the iMessage app
Dialogue: 0,0:39:26.38,0:39:27.42,Default,,0,0,0,,area insets.
Dialogue: 0,0:39:27.42,0:39:29.09,Default,,0,0,0,,So this is the area at the
Dialogue: 0,0:39:29.09,0:39:32.13,Default,,0,0,0,,bottom of the screen underneath
Dialogue: 0,0:39:32.22,0:39:35.86,Default,,0,0,0,,the app strip as well as at the
Dialogue: 0,0:39:35.86,0:39:37.79,Default,,0,0,0,,bottom of the screen in expanded
Dialogue: 0,0:39:37.79,0:39:38.12,Default,,0,0,0,,mode.
Dialogue: 0,0:39:38.50,0:39:40.94,Default,,0,0,0,,So similar to like navigation
Dialogue: 0,0:39:40.94,0:39:43.48,Default,,0,0,0,,controllers, Messages UI can
Dialogue: 0,0:39:43.55,0:39:45.78,Default,,0,0,0,,include the area displayed by
Dialogue: 0,0:39:45.78,0:39:47.11,Default,,0,0,0,,your application so you can have
Dialogue: 0,0:39:47.11,0:39:48.88,Default,,0,0,0,,that nice blurred effect when
Dialogue: 0,0:39:48.88,0:39:50.41,Default,,0,0,0,,scrolling scroll views.
Dialogue: 0,0:39:50.44,0:39:52.99,Default,,0,0,0,,So to determine your app area
Dialogue: 0,0:39:52.99,0:39:54.91,Default,,0,0,0,,insets, you can look at the
Dialogue: 0,0:39:54.91,0:39:56.44,Default,,0,0,0,,UIViewController top and bottom
Dialogue: 0,0:39:56.44,0:39:58.87,Default,,0,0,0,,layout guides, or new in iOS 11
Dialogue: 0,0:39:59.27,0:40:02.04,Default,,0,0,0,,check out UIViewsafeAreaInsets.
Dialogue: 0,0:40:02.16,0:40:04.10,Default,,0,0,0,,These will define all the areas
Dialogue: 0,0:40:04.10,0:40:05.68,Default,,0,0,0,,of your application's view that
Dialogue: 0,0:40:05.68,0:40:07.08,Default,,0,0,0,,are un occluded by Messages UI.
Dialogue: 0,0:40:07.89,0:40:09.12,Default,,0,0,0,,Of course, you can always use
Dialogue: 0,0:40:09.12,0:40:11.70,Default,,0,0,0,,Autolayout to add constraints to
Dialogue: 0,0:40:11.70,0:40:12.88,Default,,0,0,0,,the UIViewController's top and
Dialogue: 0,0:40:12.88,0:40:13.75,Default,,0,0,0,,bottom layout guides.
Dialogue: 0,0:40:14.60,0:40:16.91,Default,,0,0,0,,So for applications linked on
Dialogue: 0,0:40:17.13,0:40:19.27,Default,,0,0,0,,iOS 10, we will continue to use
Dialogue: 0,0:40:19.27,0:40:20.25,Default,,0,0,0,,old legacy insets.
Dialogue: 0,0:40:20.41,0:40:22.11,Default,,0,0,0,,But a great way to keep up with
Dialogue: 0,0:40:22.11,0:40:23.77,Default,,0,0,0,,the change in UI Messages and
Dialogue: 0,0:40:23.77,0:40:25.36,Default,,0,0,0,,have your application adapt
Dialogue: 0,0:40:25.36,0:40:27.15,Default,,0,0,0,,appropriately is to properly
Dialogue: 0,0:40:27.15,0:40:28.37,Default,,0,0,0,,adopt either the
Dialogue: 0,0:40:28.37,0:40:30.50,Default,,0,0,0,,UIViewsafeAreaInsets or
Dialogue: 0,0:40:30.50,0:40:32.71,Default,,0,0,0,,UIViewController top and bottom
Dialogue: 0,0:40:32.71,0:40:33.49,Default,,0,0,0,,layout guides.
Dialogue: 0,0:40:34.09,0:40:37.76,Default,,0,0,0,,Next up we have message summary
Dialogue: 0,0:40:37.76,0:40:38.32,Default,,0,0,0,,text.
Dialogue: 0,0:40:38.52,0:40:41.09,Default,,0,0,0,,So iOS 10 introduced MSMessage
Dialogue: 0,0:40:41.26,0:40:42.47,Default,,0,0,0,,and a property on it called
Dialogue: 0,0:40:42.47,0:40:43.16,Default,,0,0,0,,summaryText.
Dialogue: 0,0:40:43.86,0:40:45.96,Default,,0,0,0,,In iOS 10, summaryText was used
Dialogue: 0,0:40:45.96,0:40:49.17,Default,,0,0,0,,for Messages with an MS Session
Dialogue: 0,0:40:49.17,0:40:50.08,Default,,0,0,0,,attached to it, so kind of
Dialogue: 0,0:40:50.08,0:40:51.87,Default,,0,0,0,,session based messaging and we'd
Dialogue: 0,0:40:51.87,0:40:54.29,Default,,0,0,0,,insert a very small succinct
Dialogue: 0,0:40:54.29,0:40:56.23,Default,,0,0,0,,summary inline the transcript of
Dialogue: 0,0:40:56.23,0:40:56.69,Default,,0,0,0,,that message.
Dialogue: 0,0:40:56.69,0:40:59.64,Default,,0,0,0,,In iOS 11, we are expanding the
Dialogue: 0,0:40:59.64,0:41:01.37,Default,,0,0,0,,use of the summaryText property
Dialogue: 0,0:41:01.63,0:41:03.47,Default,,0,0,0,,to all MSMessages sent.
Dialogue: 0,0:41:03.85,0:41:04.88,Default,,0,0,0,,So where do you see the
Dialogue: 0,0:41:04.88,0:41:05.64,Default,,0,0,0,,summaryText?
Dialogue: 0,0:41:07.17,0:41:08.93,Default,,0,0,0,,MSMessage summaryText will now
Dialogue: 0,0:41:08.93,0:41:10.61,Default,,0,0,0,,be used in the conversation list
Dialogue: 0,0:41:10.61,0:41:12.45,Default,,0,0,0,,preview as well as places like
Dialogue: 0,0:41:12.63,0:41:14.16,Default,,0,0,0,,notification center so you can
Dialogue: 0,0:41:14.16,0:41:15.73,Default,,0,0,0,,give context to your
Dialogue: 0,0:41:15.73,0:41:17.00,Default,,0,0,0,,application's message
Dialogue: 0,0:41:17.00,0:41:17.75,Default,,0,0,0,,notifications.
Dialogue: 0,0:41:17.96,0:41:19.19,Default,,0,0,0,,So this is a really great way
Dialogue: 0,0:41:19.34,0:41:20.93,Default,,0,0,0,,for users at a quick glance to
Dialogue: 0,0:41:20.93,0:41:22.56,Default,,0,0,0,,see the content that you send in
Dialogue: 0,0:41:22.56,0:41:23.31,Default,,0,0,0,,your app message.
Dialogue: 0,0:41:23.79,0:41:26.42,Default,,0,0,0,,So iOS 11 summaryText and every
Dialogue: 0,0:41:26.45,0:41:27.85,Default,,0,0,0,,single one here, MSMessages.
Dialogue: 0,0:41:28.39,0:41:32.88,Default,,0,0,0,,Next up we have stickers.
Dialogue: 0,0:41:32.88,0:41:34.02,Default,,0,0,0,,So the introduction of sticker
Dialogue: 0,0:41:34.02,0:41:36.35,Default,,0,0,0,,packs in iOS 10 we're seeing
Dialogue: 0,0:41:36.47,0:41:37.43,Default,,0,0,0,,tons of them released.
Dialogue: 0,0:41:37.43,0:41:38.66,Default,,0,0,0,,I absolutely love them, download
Dialogue: 0,0:41:38.66,0:41:39.47,Default,,0,0,0,,new ones every week.
Dialogue: 0,0:41:39.88,0:41:41.50,Default,,0,0,0,,Keep up the awesome work on the
Dialogue: 0,0:41:41.50,0:41:42.11,Default,,0,0,0,,sticker packs.
Dialogue: 0,0:41:42.11,0:41:42.49,Default,,0,0,0,,We love it.
Dialogue: 0,0:41:43.56,0:41:44.88,Default,,0,0,0,,We do want to give a couple tips
Dialogue: 0,0:41:44.96,0:41:46.52,Default,,0,0,0,,about making your sticker packs
Dialogue: 0,0:41:46.63,0:41:48.45,Default,,0,0,0,,faster and send quicker.
Dialogue: 0,0:41:49.06,0:41:51.00,Default,,0,0,0,,Overall, sticker pack
Dialogue: 0,0:41:51.00,0:41:52.18,Default,,0,0,0,,performance is a function of
Dialogue: 0,0:41:52.18,0:41:53.34,Default,,0,0,0,,your sticker's file size.
Dialogue: 0,0:41:53.85,0:41:55.33,Default,,0,0,0,,This function of the sticker's
Dialogue: 0,0:41:55.33,0:41:57.49,Default,,0,0,0,,file size is a function of your
Dialogue: 0,0:41:57.49,0:41:59.37,Default,,0,0,0,,sticker's pixel size as well as
Dialogue: 0,0:41:59.37,0:42:00.11,Default,,0,0,0,,its frame rate.
Dialogue: 0,0:42:00.62,0:42:01.72,Default,,0,0,0,,A really great resource for you
Dialogue: 0,0:42:01.72,0:42:03.44,Default,,0,0,0,,to look at is the Messages Human
Dialogue: 0,0:42:03.44,0:42:04.70,Default,,0,0,0,,Interface Guidelines which is
Dialogue: 0,0:42:04.70,0:42:05.61,Default,,0,0,0,,available in the developer
Dialogue: 0,0:42:05.61,0:42:07.35,Default,,0,0,0,,portal which will tell you the
Dialogue: 0,0:42:07.35,0:42:08.93,Default,,0,0,0,,target sticker sizes for either
Dialogue: 0,0:42:08.93,0:42:11.25,Default,,0,0,0,,the small, medium or large
Dialogue: 0,0:42:11.25,0:42:12.51,Default,,0,0,0,,stickers that we support.
Dialogue: 0,0:42:13.23,0:42:15.16,Default,,0,0,0,,In addition, consider the frame
Dialogue: 0,0:42:15.16,0:42:15.96,Default,,0,0,0,,rate of your sticker.
Dialogue: 0,0:42:16.57,0:42:18.62,Default,,0,0,0,,Stickers with higher frame rates
Dialogue: 0,0:42:18.77,0:42:20.73,Default,,0,0,0,,or longer loop times have a
Dialogue: 0,0:42:20.73,0:42:22.56,Default,,0,0,0,,higher memory overhead and will
Dialogue: 0,0:42:22.56,0:42:23.57,Default,,0,0,0,,negatively impact the
Dialogue: 0,0:42:23.57,0:42:24.64,Default,,0,0,0,,performance of your sticker
Dialogue: 0,0:42:24.64,0:42:26.02,Default,,0,0,0,,application as well as
Dialogue: 0,0:42:26.02,0:42:27.92,Default,,0,0,0,,negatively impact send times.
Dialogue: 0,0:42:28.43,0:42:30.11,Default,,0,0,0,,So for quick fast sending
Dialogue: 0,0:42:30.11,0:42:31.51,Default,,0,0,0,,stickers and quick launching
Dialogue: 0,0:42:31.51,0:42:33.06,Default,,0,0,0,,sticker apps, make sure your
Dialogue: 0,0:42:33.06,0:42:35.48,Default,,0,0,0,,stickers are sized correctly and
Dialogue: 0,0:42:35.61,0:42:37.35,Default,,0,0,0,,either use short loops or lower
Dialogue: 0,0:42:37.42,0:42:37.87,Default,,0,0,0,,frame rates.
Dialogue: 0,0:42:38.43,0:42:40.07,Default,,0,0,0,,So looking forward to seeing all
Dialogue: 0,0:42:40.07,0:42:40.97,Default,,0,0,0,,the new sticker packs you guys
Dialogue: 0,0:42:40.97,0:42:45.63,Default,,0,0,0,,make in iOS 11 as well.
Dialogue: 0,0:42:45.74,0:42:47.96,Default,,0,0,0,,And last up on our list is
Dialogue: 0,0:42:48.00,0:42:49.93,Default,,0,0,0,,MFMessageComposeViewController.
Dialogue: 0,0:42:50.29,0:42:52.12,Default,,0,0,0,,MSMessageComposeViewController
Dialogue: 0,0:42:52.44,0:42:54.22,Default,,0,0,0,,is the Messages share sheet that
Dialogue: 0,0:42:54.22,0:42:55.65,Default,,0,0,0,,can be invoked from your parent
Dialogue: 0,0:42:55.65,0:42:56.38,Default,,0,0,0,,application.
Dialogue: 0,0:42:57.43,0:42:58.91,Default,,0,0,0,,So in iOS 10 we introduced a new
Dialogue: 0,0:42:58.91,0:43:00.26,Default,,0,0,0,,property on the share sheet
Dialogue: 0,0:43:00.55,0:43:01.96,Default,,0,0,0,,called Message, which
Dialogue: 0,0:43:02.15,0:43:04.04,Default,,0,0,0,,predictably takes an MSMessage
Dialogue: 0,0:43:04.09,0:43:04.64,Default,,0,0,0,,instance.
Dialogue: 0,0:43:05.37,0:43:06.81,Default,,0,0,0,,So if you already have an
Dialogue: 0,0:43:06.99,0:43:09.04,Default,,0,0,0,,iMessage app, your parent
Dialogue: 0,0:43:09.04,0:43:10.75,Default,,0,0,0,,companion app can actually send
Dialogue: 0,0:43:10.75,0:43:12.49,Default,,0,0,0,,the same application balloons
Dialogue: 0,0:43:12.82,0:43:14.21,Default,,0,0,0,,either a template layout or a
Dialogue: 0,0:43:14.21,0:43:16.13,Default,,0,0,0,,live Layout that you can send in
Dialogue: 0,0:43:16.13,0:43:17.25,Default,,0,0,0,,the Messages app itself.
Dialogue: 0,0:43:17.25,0:43:18.38,Default,,0,0,0,,So you get a very nice
Dialogue: 0,0:43:18.38,0:43:19.92,Default,,0,0,0,,consistent sharing experience
Dialogue: 0,0:43:20.33,0:43:21.76,Default,,0,0,0,,between your parent application
Dialogue: 0,0:43:21.95,0:43:23.00,Default,,0,0,0,,and your iMessage app.
Dialogue: 0,0:43:24.86,0:43:26.68,Default,,0,0,0,,App balloons that are received,
Dialogue: 0,0:43:27.00,0:43:28.65,Default,,0,0,0,,can either then be opened within
Dialogue: 0,0:43:28.65,0:43:30.77,Default,,0,0,0,,your iMessage app or can bounce
Dialogue: 0,0:43:30.81,0:43:32.15,Default,,0,0,0,,the user out to their parent
Dialogue: 0,0:43:32.15,0:43:34.67,Default,,0,0,0,,application via the open URL
Dialogue: 0,0:43:34.67,0:43:35.13,Default,,0,0,0,,command.
Dialogue: 0,0:43:35.41,0:43:37.50,Default,,0,0,0,,So definitely take a look at
Dialogue: 0,0:43:37.50,0:43:39.10,Default,,0,0,0,,Message property on
Dialogue: 0,0:43:39.35,0:43:41.11,Default,,0,0,0,,MFMessageComposeViewController.
Dialogue: 0,0:43:41.70,0:43:44.29,Default,,0,0,0,,And with that we've wrapped up
Dialogue: 0,0:43:44.29,0:43:44.74,Default,,0,0,0,,our tips!
Dialogue: 0,0:43:44.74,0:43:46.04,Default,,0,0,0,,Just a couple things for
Dialogue: 0,0:43:46.04,0:43:46.94,Default,,0,0,0,,everyone to keep in mind.
Dialogue: 0,0:43:47.85,0:43:48.92,Default,,0,0,0,,Look at your layout margins.
Dialogue: 0,0:43:49.47,0:43:50.91,Default,,0,0,0,,Set summaryText on all
Dialogue: 0,0:43:50.91,0:43:52.36,Default,,0,0,0,,MSMessages in iOS 11.
Dialogue: 0,0:43:53.02,0:43:55.12,Default,,0,0,0,,Consider sticker sizes and frame
Dialogue: 0,0:43:55.12,0:43:56.67,Default,,0,0,0,,rate for faster sticker packs.
Dialogue: 0,0:43:56.67,0:43:57.72,Default,,0,0,0,,And also keep on making awesome
Dialogue: 0,0:43:57.72,0:43:58.23,Default,,0,0,0,,stickers.
Dialogue: 0,0:43:59.00,0:44:01.56,Default,,0,0,0,,And finally, you can now send
Dialogue: 0,0:44:01.81,0:44:03.25,Default,,0,0,0,,app balloons from
Dialogue: 0,0:44:03.25,0:44:04.76,Default,,0,0,0,,MFMessageComposeViewController.
Dialogue: 0,0:44:04.76,0:44:06.19,Default,,0,0,0,,So certainly check that out for
Dialogue: 0,0:44:06.19,0:44:07.65,Default,,0,0,0,,consistent user experience.
Dialogue: 0,0:44:07.74,0:44:11.29,Default,,0,0,0,,So what did we learn today?
Dialogue: 0,0:44:11.65,0:44:13.08,Default,,0,0,0,,We went over a couple new things
Dialogue: 0,0:44:13.08,0:44:14.21,Default,,0,0,0,,with MSMessages app UI.
Dialogue: 0,0:44:15.02,0:44:16.97,Default,,0,0,0,,We saw the direct send API for
Dialogue: 0,0:44:16.97,0:44:17.87,Default,,0,0,0,,an awesome new setting
Dialogue: 0,0:44:17.87,0:44:18.94,Default,,0,0,0,,experience in your iMessage
Dialogue: 0,0:44:20.18,0:44:20.55,Default,,0,0,0,,apps.
Dialogue: 0,0:44:20.55,0:44:22.22,Default,,0,0,0,,Stephen and Jay led you through
Dialogue: 0,0:44:22.46,0:44:23.52,Default,,0,0,0,,Live Message Layouts.
Dialogue: 0,0:44:23.52,0:44:25.13,Default,,0,0,0,,I cannot wait to see what all of
Dialogue: 0,0:44:25.13,0:44:25.79,Default,,0,0,0,,you build with that.
Dialogue: 0,0:44:26.57,0:44:28.45,Default,,0,0,0,,And finally, a couple best
Dialogue: 0,0:44:28.49,0:44:32.13,Default,,0,0,0,,practices tips and tricks.
Dialogue: 0,0:44:32.26,0:44:33.33,Default,,0,0,0,,If you'd like more information
Dialogue: 0,0:44:33.71,0:44:36.11,Default,,0,0,0,,check out our session webpage
Dialogue: 0,0:44:36.11,0:44:36.90,Default,,0,0,0,,right here.
Dialogue: 0,0:44:38.24,0:44:39.53,Default,,0,0,0,,In addition, we also have a
Dialogue: 0,0:44:39.53,0:44:40.56,Default,,0,0,0,,couple related sessions
Dialogue: 0,0:44:40.56,0:44:41.32,Default,,0,0,0,,happening tomorrow.
Dialogue: 0,0:44:41.60,0:44:44.43,Default,,0,0,0,,We have, at 10:00 a.m. in this
Dialogue: 0,0:44:44.43,0:44:46.14,Default,,0,0,0,,hall, Introducing Business Chat,
Dialogue: 0,0:44:46.14,0:44:47.12,Default,,0,0,0,,which I know all of you are
Dialogue: 0,0:44:47.29,0:44:48.67,Default,,0,0,0,,probably really excited to hear
Dialogue: 0,0:44:49.24,0:44:49.63,Default,,0,0,0,,about.
Dialogue: 0,0:44:49.63,0:44:50.94,Default,,0,0,0,,In addition, we are very lucky
Dialogue: 0,0:44:50.94,0:44:52.08,Default,,0,0,0,,this year to have one of our
Dialogue: 0,0:44:52.08,0:44:53.76,Default,,0,0,0,,Messages HI designers who will
Dialogue: 0,0:44:53.76,0:44:56.02,Default,,0,0,0,,be doing a design short tomorrow
Dialogue: 0,0:44:56.02,0:44:57.88,Default,,0,0,0,,at 11:00 a.m. in the Executive
Dialogue: 0,0:44:57.88,0:44:58.26,Default,,0,0,0,,Ballroom.
Dialogue: 0,0:44:59.00,0:45:00.08,Default,,0,0,0,,Thank you for being here tonight
Dialogue: 0,0:45:00.35,0:45:01.63,Default,,0,0,0,,and enjoy the bash!
Dialogue: 0,0:45:02.16,0:45:02.44,Default,,0,0,0,,Thank you!
Dialogue: 0,0:45:03.02,0:45:05.00,Default,,0,0,0,,[ Applause ]
